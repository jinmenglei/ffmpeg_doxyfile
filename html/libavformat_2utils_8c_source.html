<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/utils.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">utils.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="libavformat_2utils_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * various utility functions for use within FFmpeg</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2000, 2001, 2002 Fabrice Bellard</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;config.h&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict_8h.html">libavutil/dict.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">libavutil/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mathematics_8h.html">libavutil/mathematics.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parseutils_8h.html">libavutil/parseutils.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixfmt_8h.html">libavutil/pixfmt.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2thread_8h.html">libavutil/thread.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">libavutil/time.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timestamp_8h.html">libavutil/timestamp.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">libavcodec/bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavcodec_2internal_8h.html">libavcodec/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="packet__internal_8h.html">libavcodec/packet_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw_8h.html">libavcodec/raw.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avio__internal_8h.html">avio_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="id3v2_8h.html">id3v2.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#if CONFIG_NETWORK</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="network_8h.html">network.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="url_8h.html">url.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;libavutil/ffversion.h&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ac70af932156398bb4e85403f63c54da1">   53</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="libavformat_2utils_8c.html#ac70af932156398bb4e85403f63c54da1">av_format_ffversion</a>[] = <span class="stringliteral">&quot;FFmpeg version &quot;</span> FFMPEG_VERSION;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a482f29e5a2438fc1abe9d99b3b47dd80">   55</a></span>&#160;<span class="keyword">static</span> <a class="code" href="libavutil_2thread_8h.html#ae2892928d1f5e95fb3688a9939cb2901">AVMutex</a> <a class="code" href="libavformat_2utils_8c.html#a482f29e5a2438fc1abe9d99b3b47dd80">avformat_mutex</a> = <a class="code" href="libavutil_2thread_8h.html#a0055fc9b89e4daef6860646b5dd8d629">AV_MUTEX_INITIALIZER</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group__lavf__core.html#gaf2d4e0fee66cef99dea2153933e6b907">   62</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="group__lavf__core.html#gaf2d4e0fee66cef99dea2153933e6b907">avformat_version</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="libavformat_2version_8h.html#a3224be1c325e29c7ed5c1f69f5a4d343">LIBAVFORMAT_VERSION_MICRO</a> &gt;= 100);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavformat_2version_8h.html#ae3aaee0c8eeba298abf02cfcb9f71a69">LIBAVFORMAT_VERSION_INT</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="group__lavf__core.html#ga5f48b0398d77d8eeb45d6c649e4e3404">   68</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__lavf__core.html#ga5f48b0398d77d8eeb45d6c649e4e3404">avformat_configuration</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> FFMPEG_CONFIGURATION;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="group__lavf__core.html#ga160fef784175409f945c70e8931accc8">   73</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group__lavf__core.html#ga160fef784175409f945c70e8931accc8">avformat_license</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#define LICENSE_PREFIX &quot;libavformat license: &quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="libavformat_2utils_8c.html#af167b5844a49ffcc0591a22a7e661bb8">LICENSE_PREFIX</a> FFMPEG_LICENSE[<span class="keyword">sizeof</span>(<a class="code" href="libavformat_2utils_8c.html#af167b5844a49ffcc0591a22a7e661bb8">LICENSE_PREFIX</a>) - 1];</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae536a85efb2dd6a695675dccb1b1a1c0">   79</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ae536a85efb2dd6a695675dccb1b1a1c0">ff_lock_avformat</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavutil_2thread_8h.html#a35640b6ca5513a7d740be2b399658f5e">ff_mutex_lock</a>(&amp;<a class="code" href="libavformat_2utils_8c.html#a482f29e5a2438fc1abe9d99b3b47dd80">avformat_mutex</a>) ? -1 : 0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ab3e303a48ab9b28dae7ea492a48b5127">   84</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ab3e303a48ab9b28dae7ea492a48b5127">ff_unlock_avformat</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavutil_2thread_8h.html#a211b07e99df8f376a1f9e15f7e477538">ff_mutex_unlock</a>(&amp;<a class="code" href="libavformat_2utils_8c.html#a482f29e5a2438fc1abe9d99b3b47dd80">avformat_mutex</a>) ? -1 : 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">   89</a></span>&#160;<span class="preprocessor">#define RELATIVE_TS_BASE (INT64_MAX - (1LL&lt;&lt;48))</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">   91</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(int64_t ts) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> ts &gt; (<a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a> - (1LL&lt;&lt;48));</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">  102</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, int64_t timestamp)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ad81ea3f5efb82d535c8601feca2cf3d5">pts_wrap_behavior</a> != <a class="code" href="avformat_8h.html#a1c159fe90edbc7a6f0c5e9f3537bff1b">AV_PTS_WRAP_IGNORE</a> &amp;&amp;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a113a96a5f9d55a88cd5d7122bc638d84">pts_wrap_reference</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; timestamp != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ad81ea3f5efb82d535c8601feca2cf3d5">pts_wrap_behavior</a> == <a class="code" href="avformat_8h.html#adafc4c061749f2f3a6ffac6796b844f0">AV_PTS_WRAP_ADD_OFFSET</a> &amp;&amp;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            timestamp &lt; st-&gt;internal-&gt;pts_wrap_reference)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">return</span> timestamp + (1ULL &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ad81ea3f5efb82d535c8601feca2cf3d5">pts_wrap_behavior</a> == <a class="code" href="avformat_8h.html#a19520b122a38843e0ce95335ad92bb61">AV_PTS_WRAP_SUB_OFFSET</a> &amp;&amp;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            timestamp &gt;= st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a113a96a5f9d55a88cd5d7122bc638d84">pts_wrap_reference</a>)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">return</span> timestamp - (1ULL &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> timestamp;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#if FF_API_FORMAT_GET_SET</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a>, stream, <a class="code" href="struct_a_v_rational.html">AVRational</a>, r_frame_rate)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#if FF_API_LAVF_FFSERVER</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a>, stream, <span class="keywordtype">char</span> *, recommended_encoder_configuration)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <a class="code" href="struct_a_v_codec.html">AVCodec</a> *, video_codec)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <a class="code" href="struct_a_v_codec.html">AVCodec</a> *, audio_codec)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <a class="code" href="struct_a_v_codec.html">AVCodec</a> *, subtitle_codec)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <a class="code" href="struct_a_v_codec.html">AVCodec</a> *, data_codec)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <span class="keywordtype">int</span>, metadata_header_padding)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <span class="keywordtype">void</span> *, opaque)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <a class="code" href="avformat_8h.html#a80856b99bcf4373936fb4fba028b11ca">av_format_control_message</a>, control_message_cb)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">#if FF_API_OLD_OPEN_CALLBACKS</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<a class="code" href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a>, <a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <a class="code" href="avformat_8h.html#a6f7cab62acdf2bce2883a3c82cf1a27c">AVOpenCallback</a>, open_cb)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#aea2211b21ee4a9a443886c2e0a63be1c">  137</a></span>&#160;int64_t <a class="code" href="libavformat_2utils_8c.html#aea2211b21ee4a9a443886c2e0a63be1c">av_stream_get_end_pts</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac244957f399be61298e7286bb89ae3fa">priv_pts</a>) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac244957f399be61298e7286bb89ae3fa">priv_pts</a>-&gt;<a class="code" href="struct_f_f_frac.html#a4a517bcbb9977d1010798cc97d1be675">val</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a5f5b5fcb25a1ec6b72d4693c9759dc04">  145</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_a_v_codec_parser_context.html">AVCodecParserContext</a> *<a class="code" href="libavformat_2utils_8c.html#a5f5b5fcb25a1ec6b72d4693c9759dc04">av_stream_get_parser</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#aa3a096ee52bc6b1e0f31278d26996777">  150</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#aa3a096ee52bc6b1e0f31278d26996777">av_format_inject_global_side_data</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;inject_global_side_data = 1;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4ca58b6fbeedd8ae22c4cc1d73bea49a">inject_global_side_data</a> = 1;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a403782362fe183fead43924732f81cb4">  160</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a403782362fe183fead43924732f81cb4">ff_copy_whiteblacklists</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *dst, <span class="keyword">const</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>)</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!dst-&gt;<a class="code" href="struct_a_v_format_context.html#aa3b43e2a040a3ce658620711a8345234">codec_whitelist</a> &amp;&amp;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;               !dst-&gt;<a class="code" href="struct_a_v_format_context.html#abcaa5a7c53d4b0224a5fc2d23e88ea03">format_whitelist</a> &amp;&amp;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;               !dst-&gt;<a class="code" href="struct_a_v_format_context.html#adfa686249f83379ee2e3d5b295d9f442">protocol_whitelist</a> &amp;&amp;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;               !dst-&gt;<a class="code" href="struct_a_v_format_context.html#ae06bb84162881843504ecd870c328690">protocol_blacklist</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    dst-&gt; codec_whitelist = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;codec_whitelist);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_format_context.html#abcaa5a7c53d4b0224a5fc2d23e88ea03">format_whitelist</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;format_whitelist);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_format_context.html#adfa686249f83379ee2e3d5b295d9f442">protocol_whitelist</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;protocol_whitelist);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_format_context.html#ae06bb84162881843504ecd870c328690">protocol_blacklist</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;protocol_blacklist);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (   (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt; codec_whitelist &amp;&amp; !dst-&gt; codec_whitelist)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        || (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;  format_whitelist &amp;&amp; !dst-&gt;  format_whitelist)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        || (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;protocol_whitelist &amp;&amp; !dst-&gt;<a class="code" href="struct_a_v_format_context.html#adfa686249f83379ee2e3d5b295d9f442">protocol_whitelist</a>)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        || (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;protocol_blacklist &amp;&amp; !dst-&gt;<a class="code" href="struct_a_v_format_context.html#ae06bb84162881843504ecd870c328690">protocol_blacklist</a>)) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(dst, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to duplicate black/whitelist\n&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#aa95a56af9af8e37cb10e21d7b6b1083f">  180</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *<a class="code" href="libavformat_2utils_8c.html#aa95a56af9af8e37cb10e21d7b6b1083f">find_decoder</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (st-&gt;codec-&gt;codec)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span> st-&gt;codec-&gt;codec;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">switch</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;video_codec)    <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;video_codec;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;audio_codec)    <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;audio_codec;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;subtitle_codec) <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;subtitle_codec;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ga19a0ca553277f019dd5b0fec6e1f9dca">avcodec_find_decoder</a>(<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a8022d39ef3f935904c17e0b7959cce7c">  204</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *<a class="code" href="libavformat_2utils_8c.html#a8022d39ef3f935904c17e0b7959cce7c">find_probe_decoder</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *codec;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#if CONFIG_H264_DECODER</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">/* Other parts of the code assume this decoder to be used for h264,</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">     * so force it if possible. */</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a>)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ga776f2359007e8457799503068419e791">avcodec_find_decoder_by_name</a>(<span class="stringliteral">&quot;h264&quot;</span>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    codec = <a class="code" href="libavformat_2utils_8c.html#aa95a56af9af8e37cb10e21d7b6b1083f">find_decoder</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (!codec)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (codec-&gt;<a class="code" href="struct_a_v_codec.html#af51f7ff3dac8b730f46b9713e49a2518">capabilities</a> &amp; <a class="code" href="group__lavc__core.html#ga2fbf0ffd269bdc9cc3a22ebacc9bcc59">AV_CODEC_CAP_AVOID_PROBING</a>) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *<a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordtype">void</span> *iter = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a> = <a class="code" href="group__lavc__core.html#ga7cd040fcc147340186deb0c54dc996b0">av_codec_iterate</a>(&amp;iter))) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a>-&gt;id == codec-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a> &amp;&amp;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <a class="code" href="group__lavc__core.html#ga6dc18eef1afca3610644a52565cf8a31">av_codec_is_decoder</a>(<a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a>) &amp;&amp;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    !(<a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a>-&gt;capabilities &amp; (<a class="code" href="group__lavc__core.html#ga2fbf0ffd269bdc9cc3a22ebacc9bcc59">AV_CODEC_CAP_AVOID_PROBING</a> | <a class="code" href="group__lavc__core.html#gafbc01f68af47e3c5ce96211a93927996">AV_CODEC_CAP_EXPERIMENTAL</a>))) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> codec;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#if FF_API_FORMAT_GET_SET</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keywordtype">int</span> av_format_get_probe_score(<span class="keyword">const</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;probe_score;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">/* an arbitrarily chosen &quot;sane&quot; max packet size -- 50M */</span></div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ad31df8d3324f44c690627eb146a0ba17">  242</a></span>&#160;<span class="preprocessor">#define SANE_CHUNK_SIZE (50000000)</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae9dc9b20e45c9df8884ba59f3c28da04">  244</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ae9dc9b20e45c9df8884ba59f3c28da04">ffio_limit</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;maxsize&gt;= 0) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        int64_t remaining= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;maxsize - <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">if</span> (remaining &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            int64_t newsize = <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;maxsize || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;maxsize&lt;newsize)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;maxsize = newsize - !newsize;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            remaining= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;maxsize - <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            remaining= <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(remaining, 0);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;maxsize&gt;= 0 &amp;&amp; remaining+1 &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, remaining ? <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a> : <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Truncating packet of size %d to %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, remaining+1);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = remaining+1;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">/* Read the data in sane-sized chunks and append to pkt.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> * Return the number of bytes read or an error. */</span></div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a6e036a61a7032b0cd76c368360c786e1">  266</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a6e036a61a7032b0cd76c368360c786e1">append_packet_chunked</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">int</span> orig_size      = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordtype">int</span> prev_size = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordtype">int</span> read_size;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="comment">/* When the caller requests a lot of data, limit it to the amount</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">         * left in file or SANE_CHUNK_SIZE when it is not known. */</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        read_size = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">if</span> (read_size &gt; <a class="code" href="libavformat_2utils_8c.html#ad31df8d3324f44c690627eb146a0ba17">SANE_CHUNK_SIZE</a>/10) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            read_size = <a class="code" href="libavformat_2utils_8c.html#ae9dc9b20e45c9df8884ba59f3c28da04">ffio_limit</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, read_size);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="comment">// If filesize/maxsize is unknown, limit to SANE_CHUNK_SIZE</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;maxsize &lt; 0)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                read_size = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(read_size, <a class="code" href="libavformat_2utils_8c.html#ad31df8d3324f44c690627eb146a0ba17">SANE_CHUNK_SIZE</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__packet.html#ga74f66e072998b8ce81ef3aba8d617a58">av_grow_packet</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, read_size);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + prev_size, read_size);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != read_size) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <a class="code" href="group__lavc__packet.html#gaceba1c21e5718f87abdf61cf21500485">av_shrink_packet</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, prev_size + <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, 0));</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= read_size;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; 0);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; 0)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga46187df0d7711108ece88804dcc38025">AV_PKT_FLAG_CORRUPT</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &gt; orig_size ? <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> - orig_size : <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a9d2e6f22150d98c36dcc2c6c49318019">  305</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a9d2e6f22150d98c36dcc2c6c49318019">av_get_packet</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a>  = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a6e036a61a7032b0cd76c368360c786e1">append_packet_chunked</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a0e991213ccc3d642972b57a1decb797b">  315</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a0e991213ccc3d642972b57a1decb797b">av_append_packet</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a9d2e6f22150d98c36dcc2c6c49318019">av_get_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a6e036a61a7032b0cd76c368360c786e1">append_packet_chunked</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#gac20eb319c6c46f581b5d08f5c25e763e">  322</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#gac20eb319c6c46f581b5d08f5c25e763e">av_filename_number_test</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;{</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">char</span> buf[1024];</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> filename &amp;&amp;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;           (<a class="code" href="group__lavf__misc.html#ga90e027a5d9006148413a1387c506cd40">av_get_frame_filename</a>(buf, <span class="keyword">sizeof</span>(buf), filename, 1) &gt;= 0);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a56e16bc85cd3ea332340ae3bdc26a028">  329</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a56e16bc85cd3ea332340ae3bdc26a028">set_codec_from_probe_data</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                     <a class="code" href="struct_a_v_probe_data.html">AVProbeData</a> *pd)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;{</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    } fmt_id_type[] = {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        { <span class="stringliteral">&quot;aac&quot;</span>,       <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a>,        <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> },</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        { <span class="stringliteral">&quot;ac3&quot;</span>,       <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0">AV_CODEC_ID_AC3</a>,        <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> },</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        { <span class="stringliteral">&quot;aptx&quot;</span>,      <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea445f3ac5ada2e7c7edcb08df94df3b60">AV_CODEC_ID_APTX</a>,       <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> },</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        { <span class="stringliteral">&quot;dts&quot;</span>,       <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3379ed720d45daac872b2f483f545de">AV_CODEC_ID_DTS</a>,        <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> },</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        { <span class="stringliteral">&quot;dvbsub&quot;</span>,    <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1a3f67e556cc61335c6f001ae3c7069f">AV_CODEC_ID_DVB_SUBTITLE</a>,<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a> },</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        { <span class="stringliteral">&quot;dvbtxt&quot;</span>,    <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceacefff4578427aea42f7bae17f6a5a0a4">AV_CODEC_ID_DVB_TELETEXT</a>,<a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a> },</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        { <span class="stringliteral">&quot;eac3&quot;</span>,      <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea14c0f2031427f1065ae8c18095e4384f">AV_CODEC_ID_EAC3</a>,       <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> },</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        { <span class="stringliteral">&quot;h264&quot;</span>,      <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a>,       <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> },</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        { <span class="stringliteral">&quot;hevc&quot;</span>,      <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a>,       <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> },</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        { <span class="stringliteral">&quot;loas&quot;</span>,      <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf1c53c6ecbd416cccbb3a258a2d7290d">AV_CODEC_ID_AAC_LATM</a>,   <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> },</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        { <span class="stringliteral">&quot;m4v&quot;</span>,       <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a>,      <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> },</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        { <span class="stringliteral">&quot;mjpeg_2000&quot;</span>,<a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0">AV_CODEC_ID_JPEG2000</a>,   <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> },</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        { <span class="stringliteral">&quot;mp3&quot;</span>,       <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a>,        <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> },</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        { <span class="stringliteral">&quot;mpegvideo&quot;</span>, <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf614abb36f7c5d0c42ed522c1d6c99f0">AV_CODEC_ID_MPEG2VIDEO</a>, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> },</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        { <span class="stringliteral">&quot;truehd&quot;</span>,    <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab89325573cab37c7fe7f6003d0134f7e">AV_CODEC_ID_TRUEHD</a>,     <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> },</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        { 0 }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    };</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordtype">int</span> score;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_input_format.html">AVInputFormat</a> *fmt = <a class="code" href="group__lavf__decoding.html#gab76418ad1108455c760965b55934e7ee">av_probe_input_format3</a>(pd, 1, &amp;score);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (fmt) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;               <span class="stringliteral">&quot;Probe with size=%d, packets=%d detected %s with score=%d\n&quot;</span>,</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;               pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_probe_packets - st-&gt;<a class="code" href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">probe_packets</a>,</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;               fmt-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, score);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; fmt_id_type[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].name; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">if</span> (!strcmp(fmt-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, fmt_id_type[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].name)) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="keywordflow">if</span> (fmt_id_type[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> &amp;&amp;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> &gt; score &amp;&amp;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != fmt_id_type[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].id)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>   = fmt_id_type[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].id;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> = fmt_id_type[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].type;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa5f1d3d09d263b79985bbcc45c6ab48e">need_context_update</a> = 1;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                st-&gt;codec-&gt;codec_type = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                st-&gt;codec-&gt;codec_id   = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">return</span> score;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">/************************************************************/</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">/* input media file */</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#ga71091e146791c4d181635485447c2830">  390</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#ga71091e146791c4d181635485447c2830">av_demuxer_open</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#abcaa5a7c53d4b0224a5fc2d23e88ea03">format_whitelist</a> &amp;&amp; <a class="code" href="group__lavu__string.html#ga9a6eb11f2b4053d6bba95d8da156da2d">av_match_list</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#abcaa5a7c53d4b0224a5fc2d23e88ea03">format_whitelist</a>, <span class="charliteral">&#39;,&#39;</span>) &lt;= 0) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Format not on whitelist \&#39;%s\&#39;\n&quot;</span>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#abcaa5a7c53d4b0224a5fc2d23e88ea03">format_whitelist</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a286d65d159570516e5ed38fcbb842d5a">read_header</a>) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        err = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a286d65d159570516e5ed38fcbb842d5a">read_header</a>(ic);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> &amp;&amp; !ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#ae76e7632ebfd242e5e4a5c9011928c2c">data_offset</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#ae76e7632ebfd242e5e4a5c9011928c2c">data_offset</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">/* Open input file and probe the format if necessary. */</span></div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a18b3e6a0f95cd0b00f35765781f19d36">  411</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a18b3e6a0f95cd0b00f35765781f19d36">init_input</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                      <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="struct_a_v_probe_data.html">AVProbeData</a> pd = { filename, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0 };</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordtype">int</span> score = <a class="code" href="avformat_8h.html#adeacd8263046043734062588db39bce9">AVPROBE_SCORE_RETRY</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags |= <a class="code" href="avformat_8h.html#ac5fdea71141dcc30346a57df75cf408e">AVFMT_FLAG_CUSTOM_IO</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavf__decoding.html#ga7d48d4b4441eec04635a7e4644b5505f">av_probe_input_buffer2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat, filename,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                         <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format_probesize);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a>)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Custom AVIOContext makes no sense and &quot;</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                      <span class="stringliteral">&quot;will be ignored with AVFMT_NOFILE format.\n&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a>) ||</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat = <a class="code" href="group__lavf__decoding.html#gac06e7fbf645af01eac6ad4d82a78a438">av_probe_input_format2</a>(&amp;pd, 0, &amp;score))))</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">return</span> score;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, filename, <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a> | <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avio_flags, <a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)) &lt; 0)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavf__decoding.html#ga7d48d4b4441eec04635a7e4644b5505f">av_probe_input_buffer2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat, filename,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                 <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format_probesize);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga501ff1b3aa357c09da90c0effb356e45">  442</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#ga501ff1b3aa357c09da90c0effb356e45">avformat_queue_attached_pictures</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;{</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;disposition &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a> &amp;&amp;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;discard &lt; <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;attached_pic.size &lt;= 0) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    <span class="stringliteral">&quot;Attached picture on stream %d has invalid size, &quot;</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                    <span class="stringliteral">&quot;ignoring\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avpacket_8c.html#afa665397a1c0f0e1f8d0593414e5a7d5">avpriv_packet_list_put</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                     &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_end,</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                     &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;attached_pic,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                     <a class="code" href="group__lavc__packet.html#gadb05d71fa2ea7b7fd3e8cfc6d9065a47">av_packet_ref</a>, 0);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ad35bc68f1f037043dfc8c0bc2b11c08f">  465</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ad35bc68f1f037043dfc8c0bc2b11c08f">update_stream_avctx</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;{</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa5f1d3d09d263b79985bbcc45c6ab48e">need_context_update</a>)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">/* close parser, because it depends on the codec */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> != st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <a class="code" href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="comment">/* update internal codec context, for the parser */</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="comment">/* update deprecated public codec context */</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(st-&gt;codec, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa5f1d3d09d263b79985bbcc45c6ab48e">need_context_update</a> = 0;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#gaff468dcc45289542f4c30d311bc2a201">  500</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#gaff468dcc45289542f4c30d311bc2a201">avformat_open_input</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> **ps, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                        <a class="code" href="avformat_8h.html#aa5496b84535113646e96c8cf3b624aaf">ff_const59</a> <a class="code" href="struct_a_v_input_format.html">AVInputFormat</a> *fmt, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;{</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = *ps;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *tmp = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="struct_i_d3v2_extra_meta.html">ID3v2ExtraMeta</a> *id3v2_extra_meta = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="group__lavf__core.html#gac7a91abf2f59648d995894711f070f62">avformat_alloc_context</a>()))</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;av_class) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Input context has not been properly allocated by avformat_alloc_context() and is not NULL either\n&quot;</span>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">if</span> (fmt)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat = fmt;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;tmp, *<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>, 0);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb) <span class="comment">// must be before any goto fail</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags |= <a class="code" href="avformat_8h.html#ac5fdea71141dcc30346a57df75cf408e">AVFMT_FLAG_CUSTOM_IO</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__avoptions.html#gaf1a88e8f152d7835f111b1ef8813fb2e">av_opt_set_dict</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;tmp)) &lt; 0)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(filename ? filename : <span class="stringliteral">&quot;&quot;</span>))) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">#if FF_API_FORMAT_FILENAME</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filename, filename ? filename : <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filename));</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#a18b3e6a0f95cd0b00f35765781f19d36">init_input</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, filename, &amp;tmp)) &lt; 0)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;probe_score = <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;protocol_whitelist &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;protocol_whitelist) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;protocol_whitelist = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;protocol_whitelist);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;protocol_whitelist) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;protocol_blacklist &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;protocol_blacklist) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;protocol_blacklist = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;protocol_blacklist);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;protocol_blacklist) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format_whitelist &amp;&amp; <a class="code" href="group__lavu__string.html#ga9a6eb11f2b4053d6bba95d8da156da2d">av_match_list</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;name, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format_whitelist, <span class="charliteral">&#39;,&#39;</span>) &lt;= 0) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Format not on whitelist \&#39;%s\&#39;\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format_whitelist);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;skip_initial_bytes);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">/* Check filename in case an image number is expected. */</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#af7899d15bd762258202bdec2035d8fc8">AVFMT_NEEDNUMBER</a>) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="group__lavf__misc.html#gac20eb319c6c46f581b5d08f5c25e763e">av_filename_number_test</a>(filename)) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;start_time = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">/* Allocate private data. */</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;priv_data_size &gt; 0) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;priv_data_size))) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;priv_class) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            *(<span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> **) <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;priv_class;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <a class="code" href="group__avoptions.html#gad4ca968e9058b39b2da630ad0a091bdb">av_opt_set_defaults</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__avoptions.html#gaf1a88e8f152d7835f111b1ef8813fb2e">av_opt_set_dict</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data, &amp;tmp)) &lt; 0)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">/* e.g. AVFMT_NOFILE formats will not have a AVIOContext */</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="id3v2_8c.html#afc1bb74c7935c49a8156638445299e70">ff_id3v2_read_dict</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;id3v2_meta, <a class="code" href="id3v2_8h.html#a85f61f1d75619e3f050ba23280c9c1f0">ID3v2_DEFAULT_MAGIC</a>, &amp;id3v2_extra_meta);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags&amp;<a class="code" href="avformat_8h.html#a50b1ae2089b32bf048b79ff3bd7175f4">AVFMT_FLAG_PRIV_OPT</a>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_header)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_header(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;id3v2_meta;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;id3v2_meta = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;id3v2_meta) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Discarding ID3 tags because more suitable tags were found.\n&quot;</span>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;id3v2_meta);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (id3v2_extra_meta) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">if</span> (!strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;name, <span class="stringliteral">&quot;mp3&quot;</span>) || !strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;name, <span class="stringliteral">&quot;aac&quot;</span>) ||</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            !strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;name, <span class="stringliteral">&quot;tta&quot;</span>) || !strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;name, <span class="stringliteral">&quot;wav&quot;</span>)) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="id3v2_8c.html#ac17bed405b0a0fec1db1f87825491db1">ff_id3v2_parse_apic</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, id3v2_extra_meta)) &lt; 0)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <span class="keywordflow">goto</span> close;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="id3v2_8c.html#ad5631b7ce6f9a753b77bdb99a73267e7">ff_id3v2_parse_chapters</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, id3v2_extra_meta)) &lt; 0)</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                <span class="keywordflow">goto</span> close;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="id3v2_8c.html#ace1a3c5058a0b7d35bc90b43221cedf9">ff_id3v2_parse_priv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, id3v2_extra_meta)) &lt; 0)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <span class="keywordflow">goto</span> close;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;demuxer does not support additional id3 data, skipping\n&quot;</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="id3v2_8c.html#aa8ba50c3dfb5850b520cf6f0ad16211e">ff_id3v2_free_extra_meta</a>(&amp;id3v2_extra_meta);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__misc.html#ga501ff1b3aa357c09da90c0effb356e45">avformat_queue_attached_pictures</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">goto</span> close;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags&amp;<a class="code" href="avformat_8h.html#a50b1ae2089b32bf048b79ff3bd7175f4">AVFMT_FLAG_PRIV_OPT</a>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;data_offset)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;data_offset = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_remaining_size = <a class="code" href="libavformat_2internal_8h.html#a781dd9eb5ad7f95c4ad61f9ac24fce5a">RAW_PACKET_BUFFER_SIZE</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#ad35bc68f1f037043dfc8c0bc2b11c08f">update_stream_avctx</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;internal-&gt;orig_codec_id = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        *<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> = tmp;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    *ps = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;close:</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_close)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_close(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="id3v2_8c.html#aa8ba50c3dfb5850b520cf6f0ad16211e">ff_id3v2_free_extra_meta</a>(&amp;id3v2_extra_meta);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;tmp);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#ac5fdea71141dcc30346a57df75cf408e">AVFMT_FLAG_CUSTOM_IO</a>))</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <a class="code" href="avio_8h.html#ae118a1f37f1e48617609ead9910aac15">avio_closep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    *ps = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">/*******************************************************/</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a1e5433eb2a1bff983ddcdc778297eed7">  654</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a1e5433eb2a1bff983ddcdc778297eed7">force_codec_ids</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;{</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">switch</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;video_codec_id)</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;video_codec_id;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;audio_codec_id)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;audio_codec_id;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;subtitle_codec_id)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;subtitle_codec_id;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>:</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;data_codec_id)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;data_codec_id;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">  676</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a>&gt;0) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="struct_a_v_probe_data.html">AVProbeData</a> *pd = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a9e6cfeca22a89aedbb33711749206cf1">probe_data</a>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;probing stream %d pp:%d\n&quot;</span>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">probe_packets</a>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        --st-&gt;<a class="code" href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">probe_packets</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *new_buf = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>, pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a>+<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>+<a class="code" href="avformat_8h.html#a2cba242c83a06fff914d1c8ef4cd42ac">AVPROBE_PADDING_SIZE</a>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <span class="keywordflow">if</span> (!new_buf) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                       <span class="stringliteral">&quot;Failed to reallocate probe buffer for stream %d\n&quot;</span>,</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <span class="keywordflow">goto</span> no_packet;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a> = new_buf;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            memcpy(pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a> + pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a> += <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            memset(pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a> + pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a>, 0, <a class="code" href="avformat_8h.html#a2cba242c83a06fff914d1c8ef4cd42ac">AVPROBE_PADDING_SIZE</a>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;no_packet:</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">probe_packets</a> = 0;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">if</span> (!pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a>) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                       <span class="stringliteral">&quot;nothing to probe for stream %d\n&quot;</span>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>=    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_remaining_size &lt;= 0</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                || st-&gt;<a class="code" href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">probe_packets</a>&lt;= 0;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> || <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a>) != <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a> - <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>)) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordtype">int</span> score = <a class="code" href="libavformat_2utils_8c.html#a56e16bc85cd3ea332340ae3bdc26a028">set_codec_from_probe_data</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, pd);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">if</span> (    (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a> &amp;&amp; score &gt; <a class="code" href="avformat_8h.html#a1b33e0f3734db4299d5aff4b78f98c43">AVPROBE_SCORE_STREAM_RETRY</a>)</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                || <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">buf_size</a> = 0;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;pd-&gt;<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> = -1;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;probed stream %d\n&quot;</span>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;probed stream %d failed\n&quot;</span>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a1e5433eb2a1bff983ddcdc778297eed7">force_codec_ids</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a1183440a2c609cc101b0f43ec4e3b502">  726</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a1183440a2c609cc101b0f43ec4e3b502">update_wrap_reference</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keywordtype">int</span> stream_index, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;{</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    int64_t <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, pts_wrap_behavior;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    int64_t pts_wrap_reference;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="struct_a_v_program.html">AVProgram</a> *first_program;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a113a96a5f9d55a88cd5d7122bc638d84">pts_wrap_reference</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> || st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a> &gt;= 63 || <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> || !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;correct_ts_overflow)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> &amp;= (1LL &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>)-1;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">// reference time stamp should be 60 s before first time stamp</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    pts_wrap_reference = <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> - <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(60, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">// if first time stamp is not more than 1/8 and 60s before the wrap point, subtract rather than add wrap offset</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    pts_wrap_behavior = (<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> &lt; (1LL &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>) - (1LL &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>-3)) ||</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        (<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> &lt; (1LL &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>) - <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(60, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>)) ?</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <a class="code" href="avformat_8h.html#adafc4c061749f2f3a6ffac6796b844f0">AV_PTS_WRAP_ADD_OFFSET</a> : <a class="code" href="avformat_8h.html#a19520b122a38843e0ce95335ad92bb61">AV_PTS_WRAP_SUB_OFFSET</a>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    first_program = <a class="code" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, stream_index);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (!first_program) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordtype">int</span> default_stream_index = <a class="code" href="group__lavf__misc.html#gaad9737492bb66aeeec37b7c7d8d90f2a">av_find_default_stream_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[default_stream_index]-&gt;internal-&gt;pts_wrap_reference == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>))</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;internal-&gt;pts_wrap_reference = pts_wrap_reference;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;internal-&gt;pts_wrap_behavior = pts_wrap_behavior;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a113a96a5f9d55a88cd5d7122bc638d84">pts_wrap_reference</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[default_stream_index]-&gt;internal-&gt;pts_wrap_reference;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ad81ea3f5efb82d535c8601feca2cf3d5">pts_wrap_behavior</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[default_stream_index]-&gt;internal-&gt;pts_wrap_behavior;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <a class="code" href="struct_a_v_program.html">AVProgram</a> *<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = first_program;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pts_wrap_reference != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                pts_wrap_reference = <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pts_wrap_reference;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                pts_wrap_behavior = <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pts_wrap_behavior;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = <a class="code" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>, stream_index);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="comment">// update every program with differing pts_wrap_reference</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = first_program;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pts_wrap_reference != pts_wrap_reference) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;nb_stream_indexes; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;stream_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]]-&gt;internal-&gt;pts_wrap_reference = pts_wrap_reference;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;stream_index[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]]-&gt;internal-&gt;pts_wrap_behavior = pts_wrap_behavior;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pts_wrap_reference = pts_wrap_reference;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pts_wrap_behavior = pts_wrap_behavior;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = <a class="code" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>, stream_index);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;}</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#aefa5d0b4dafb09cd777ad5773a18a19a">  792</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#aefa5d0b4dafb09cd777ad5773a18a19a">ff_read_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;{</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, err;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = 0;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <a class="code" href="struct_a_v_packet_list.html">AVPacketList</a> *pktl = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *pkt1;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">if</span> (pktl) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_remaining_size &lt;= 0)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                <span class="keywordflow">if</span> ((err = <a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> &lt;= 0) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                <a class="code" href="avpacket_8c.html#a27ca16b08ac3411dd9e7e83c0c075759">avpriv_packet_list_get</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer,</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                                   &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_end, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_remaining_size += <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_packet(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="comment">/* Some demuxers return FFERROR_REDO when they consume</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">               data and discard it (ignored streams, junk, extradata).</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">               We must re-call the demuxer to get the real packet. */</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="libavformat_2internal_8h.html#ae7bcc679e68f4bd77a63d25dac47f0c5">FFERROR_REDO</a>)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">if</span> (!pktl || <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN))</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">probe_packets</a> || st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> &gt; 0)</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    <span class="keywordflow">if</span> ((err = <a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> &lt;= 0);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            }</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        err = <a class="code" href="group__lavc__packet.html#ga8a6deff6c1809029037ffd760db3e0d4">av_packet_make_refcounted</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga46187df0d7711108ece88804dcc38025">AV_PKT_FLAG_CORRUPT</a>) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                   <span class="stringliteral">&quot;Packet corrupt (stream = %d, dts = %s)&quot;</span>,</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>));</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a936da4a8820e0d9206856620ee451a10">AVFMT_FLAG_DISCARD_CORRUPT</a>) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;, dropping it.\n&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;.\n&quot;</span>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> &lt; (<span class="keywordtype">unsigned</span>)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &amp;&amp;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                   <span class="stringliteral">&quot;Invalid stream index.\n&quot;</span>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a1183440a2c609cc101b0f43ec4e3b502">update_wrap_reference</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>) &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ad81ea3f5efb82d535c8601feca2cf3d5">pts_wrap_behavior</a> == <a class="code" href="avformat_8h.html#a19520b122a38843e0ce95335ad92bb61">AV_PTS_WRAP_SUB_OFFSET</a>) {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="comment">// correct first time stamps to negative values</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>))</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> = <a class="code" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a>(st, st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>))</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = <a class="code" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a>(st, st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>))</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = <a class="code" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a>(st, st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a>(st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = <a class="code" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a>(st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a1e5433eb2a1bff983ddcdc778297eed7">force_codec_ids</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160; </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="comment">/* TODO: audio: time filter; video: frame reordering (pts != dts) */</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;use_wallclock_as_timestamps)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>(), <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> (!pktl &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> &lt;= 0)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        err = <a class="code" href="avpacket_8c.html#afa665397a1c0f0e1f8d0593414e5a7d5">avpriv_packet_list_put</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                 &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_end,</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                 <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        pkt1 = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_end-&gt;pkt;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_remaining_size -= pkt1-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, pkt1)) &lt; 0)</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;}</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">/**********************************************************/</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; </div>
<div class="line"><a name="l00902"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#af6b4081deb5ee890bd4c3adb14da2787">  902</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#af6b4081deb5ee890bd4c3adb14da2787">determinable_frame_size</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;{</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">switch</span>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a>) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea585f305d3aab40bdfc9688f9367b04c0">AV_CODEC_ID_MP1</a>:</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487">AV_CODEC_ID_MP2</a>:</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a>:</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8ea61c837be9e734549f53754cef2cb2">AV_CODEC_ID_CODEC2</a>:</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;}</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a6351818196357654cde11506036add89">  918</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a6351818196357654cde11506036add89">ff_compute_frame_duration</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> *pnum, <span class="keywordtype">int</span> *pden, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                               <a class="code" href="struct_a_v_codec_parser_context.html">AVCodecParserContext</a> *pc, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;{</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> codec_framerate = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat ? st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a> :</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                                              <a class="code" href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a>(<a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>), (<a class="code" href="struct_a_v_rational.html">AVRational</a>){1, st-&gt;internal-&gt;avctx-&gt;ticks_per_frame});</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>, <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">if</span> ((!codec_framerate.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> || !codec_framerate.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>) &amp;&amp; st-&gt;codec-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &amp;&amp; st-&gt;codec-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        codec_framerate = <a class="code" href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a>(<a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(st-&gt;codec-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>), (<a class="code" href="struct_a_v_rational.html">AVRational</a>){1, st-&gt;codec-&gt;ticks_per_frame});</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    *pnum = 0;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    *pden = 0;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">switch</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; !pc &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            *pnum = st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            *pden = st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * 1000LL &gt; st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            *pnum = st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            *pden = st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (codec_framerate.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> * 1000LL &gt; codec_framerate.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(pnum, pden,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                      codec_framerate.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                      codec_framerate.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * (int64_t)st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                      INT_MAX);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">if</span> (pc &amp;&amp; pc-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a813780022f0a6abd1b7ab075264ffc3f">repeat_pict</a>) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat); <span class="comment">// this may be wrong for interlaced encoding but its not used for that case</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(pnum, pden,</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                          (*pnum) * (1LL + pc-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a813780022f0a6abd1b7ab075264ffc3f">repeat_pict</a>),</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                          (*pden),</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                          INT_MAX);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <span class="comment">/* If this codec can be interlaced or progressive then we need</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">             * a parser to compute duration of a packet. Thus if we have</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">             * no parser in such case leave duration undefined. */</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> &gt; 1 &amp;&amp; !pc)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                *pnum = *pden = 0;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2a7f0fb7197b54b9f85b63fa544c9118">avctx_inited</a>) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> = <a class="code" href="group__lavc__misc.html#ga3266a8c3df0790c62259f91afcde45a9">av_get_audio_frame_duration</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> = <a class="code" href="group__lavc__misc.html#ga1f4495d5092c1f58283ff9a16352b4e1">av_get_audio_frame_duration2</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a> &lt;= 0 || <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a> &lt;= 0)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        *pnum = <a class="code" href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        *pden = <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;}</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a513c91d8ee98a29b942c2cb4c955177f">  981</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a513c91d8ee98a29b942c2cb4c955177f">ff_is_intra_only</a>(<span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;{</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_descriptor.html">AVCodecDescriptor</a> *d = <a class="code" href="group__lavc__core.html#gac09f8ddc2d4b36c5a85c6befba0d0888">avcodec_descriptor_get</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">if</span> (!d)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> ((d-&gt;<a class="code" href="struct_a_v_codec_descriptor.html#ad628ddb3416cafa38c9d4f3c1f61ad50">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> || d-&gt;<a class="code" href="struct_a_v_codec_descriptor.html#ad628ddb3416cafa38c9d4f3c1f61ad50">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) &amp;&amp;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        !(d-&gt;<a class="code" href="struct_a_v_codec_descriptor.html#a9949288403a12812cd6e3892ac45f40f">props</a> &amp; <a class="code" href="group__lavc__core.html#ga70552a7d4d1803bc11be8e6c74529d24">AV_CODEC_PROP_INTRA_ONLY</a>))</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;}</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a138a0069ebea59cf63563675ce52f6f6">  992</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a138a0069ebea59cf63563675ce52f6f6">has_decode_delay_been_guessed</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;{</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a>) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>) <span class="comment">// if we have left find_stream_info then nb_decoded_frames won&#39;t increase anymore for stream copy</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="preprocessor">#if CONFIG_H264_DECODER</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a> &amp;&amp;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;       <a class="code" href="libavcodec_2h264dec_8c.html#aff0ec06615f6fb632962948b5ba64bf1">avpriv_h264_has_num_reorder_frames</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>) == st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a>)</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a>&lt;3)</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">return</span> st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a02c9998f757ff024da865ef77ec2f790">nb_decoded_frames</a> &gt;= 7;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a>&lt;4)</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">return</span> st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a02c9998f757ff024da865ef77ec2f790">nb_decoded_frames</a> &gt;= 18;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordflow">return</span> st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a02c9998f757ff024da865ef77ec2f790">nb_decoded_frames</a> &gt;= 20;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;}</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a89e8658fb615f8e70a73fb67099c7385"> 1010</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_a_v_packet_list.html">AVPacketList</a> *<a class="code" href="libavformat_2utils_8c.html#a89e8658fb615f8e70a73fb67099c7385">get_next_pkt</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <a class="code" href="struct_a_v_packet_list.html">AVPacketList</a> *pktl)</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;{</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a6a1d0f1a75cfafa4643b93752edef643">next</a>)</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">return</span> pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a6a1d0f1a75cfafa4643b93752edef643">next</a>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">if</span> (pktl == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer_end)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;}</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a22020056f253692045fee0745dcc4d22"> 1019</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="libavformat_2utils_8c.html#a22020056f253692045fee0745dcc4d22">select_from_pts_buffer</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, int64_t *pts_buffer, int64_t dts) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordtype">int</span> onein_oneout = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a> &amp;&amp;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span>(!onein_oneout) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordtype">int</span> delay = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordflow">if</span> (dts == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            int64_t best_score = INT64_MAX;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;delay; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a7ffa612f85c144e2f4157829c26048a4">pts_reorder_error_count</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                    int64_t score = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a707b60df261a779e25d5c4376aecfddb">pts_reorder_error</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] / st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a7ffa612f85c144e2f4157829c26048a4">pts_reorder_error_count</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                    <span class="keywordflow">if</span> (score &lt; best_score) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                        best_score = score;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                        dts = pts_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                    }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;delay; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                <span class="keywordflow">if</span> (pts_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    int64_t <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> =  <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(pts_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - dts)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                    + (uint64_t)st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a707b60df261a779e25d5c4376aecfddb">pts_reorder_error</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                    <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a707b60df261a779e25d5c4376aecfddb">pts_reorder_error</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a707b60df261a779e25d5c4376aecfddb">pts_reorder_error</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a7ffa612f85c144e2f4157829c26048a4">pts_reorder_error_count</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]++;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a7ffa612f85c144e2f4157829c26048a4">pts_reorder_error_count</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 250) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a707b60df261a779e25d5c4376aecfddb">pts_reorder_error</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;&gt;= 1;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a7ffa612f85c144e2f4157829c26048a4">pts_reorder_error_count</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;&gt;= 1;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                    }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (dts == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        dts = pts_buffer[0];</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160; </div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">return</span> dts;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#aa8b1c33ebf8969100610f7fa1379f58d"> 1065</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#aa8b1c33ebf8969100610f7fa1379f58d">update_dts_from_pts</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index,</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                <a class="code" href="struct_a_v_packet_list.html">AVPacketList</a> *pkt_buffer)</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;{</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st       = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordtype">int</span> delay          = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    int64_t pts_buffer[<a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a">MAX_REORDER_DELAY</a>+1];</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a">MAX_REORDER_DELAY</a>+1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        pts_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">for</span> (; pkt_buffer; pkt_buffer = <a class="code" href="libavformat_2utils_8c.html#a89e8658fb615f8e70a73fb67099c7385">get_next_pkt</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, pkt_buffer)) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="keywordflow">if</span> (pkt_buffer-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> != stream_index)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">if</span> (pkt_buffer-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; delay &lt;= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a">MAX_REORDER_DELAY</a>) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            pts_buffer[0] = pkt_buffer-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; i&lt;delay &amp;&amp; pts_buffer[i] &gt; pts_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(int64_t, pts_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], pts_buffer[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            pkt_buffer-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="libavformat_2utils_8c.html#a22020056f253692045fee0745dcc4d22">select_from_pts_buffer</a>(st, pts_buffer, pkt_buffer-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;}</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a1068ca9b837c62d6ef668a4aa3d25b7a"> 1091</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a1068ca9b837c62d6ef668a4aa3d25b7a">update_initial_timestamps</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index,</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                                      int64_t dts, int64_t <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;{</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st       = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <a class="code" href="struct_a_v_packet_list.html">AVPacketList</a> *pktl = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="struct_a_v_packet_list.html">AVPacketList</a> *pktl_it;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    uint64_t <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        dts           == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>   == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> &lt; INT_MIN + <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a> ||</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(dts))</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> = dts - (st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> - <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>   = dts;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>         = (uint64_t)st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> - <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(<a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>))</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a> += <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">for</span> (pktl_it = pktl; pktl_it; pktl_it = <a class="code" href="libavformat_2utils_8c.html#a89e8658fb615f8e70a73fb67099c7385">get_next_pkt</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, pktl_it)) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordflow">if</span> (pktl_it-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> != stream_index)</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(pktl_it-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>))</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            pktl_it-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> += <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(pktl_it-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>))</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            pktl_it-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> += <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; pktl_it-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = pktl_it-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = av_sat_add64(st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>, <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">skip_samples</a>, (<a class="code" href="struct_a_v_rational.html">AVRational</a>){1, st-&gt;codecpar-&gt;sample_rate}, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>));</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a138a0069ebea59cf63563675ce52f6f6">has_decode_delay_been_guessed</a>(st)) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#aa8b1c33ebf8969100610f7fa1379f58d">update_dts_from_pts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, pktl);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> || !(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga3d36105d7143b319acef3c86d2beb382">AV_PKT_FLAG_DISCARD</a>)) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = av_sat_add64(st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>, <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">skip_samples</a>, (<a class="code" href="struct_a_v_rational.html">AVRational</a>){1, st-&gt;codecpar-&gt;sample_rate}, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>));</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;}</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160; </div>
<div class="line"><a name="l01143"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a384c39a6b99b67a3ce3388ed512a1193"> 1143</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a384c39a6b99b67a3ce3388ed512a1193">update_initial_durations</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                                     <span class="keywordtype">int</span> stream_index, int64_t <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>)</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;{</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <a class="code" href="struct_a_v_packet_list.html">AVPacketList</a> *pktl = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    int64_t cur_dts    = <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aed993a0ad10a995ad5d2191d91151885">update_initial_durations_done</a>)</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aed993a0ad10a995ad5d2191d91151885">update_initial_durations_done</a> = 1;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        cur_dts = st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <span class="keywordflow">for</span> (; pktl; pktl = <a class="code" href="libavformat_2utils_8c.html#a89e8658fb615f8e70a73fb67099c7385">get_next_pkt</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, pktl)) {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            <span class="keywordflow">if</span> (pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == stream_index) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                <span class="keywordflow">if</span> (pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>  ||</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                    pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                    pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>)</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                cur_dts -= <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keywordflow">if</span> (pktl &amp;&amp; pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;first_dts %s not matching first dts %s (pts %s, duration %&quot;</span>PRId64<span class="stringliteral">&quot;) in the queue\n&quot;</span>,</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                   <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>), pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <span class="keywordflow">if</span> (!pktl) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;first_dts %s but no packet with dts in the queue\n&quot;</span>, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>));</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        pktl          = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> = cur_dts;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> != <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>)</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">for</span> (; pktl; pktl = <a class="code" href="libavformat_2utils_8c.html#a89e8658fb615f8e70a73fb67099c7385">get_next_pkt</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, pktl)) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">if</span> (pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> != stream_index)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="keywordflow">if</span> ((pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> ||</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;             pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) &amp;&amp;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            (pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;             pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> == st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> ||</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;             pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> == <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>) &amp;&amp;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            !pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = cur_dts;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a>)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = cur_dts;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> = <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        cur_dts = pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> + pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">if</span> (!pktl)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = cur_dts;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;}</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a2ae4d13037646d8671a6a01305552e24"> 1198</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a2ae4d13037646d8671a6a01305552e24">compute_pkt_fields</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                               <a class="code" href="struct_a_v_codec_parser_context.html">AVCodecParserContext</a> *pc, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                               int64_t next_dts, int64_t next_pts)</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;{</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="keywordtype">int</span> num, den, presentation_delayed, delay, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    int64_t <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordtype">int</span> onein_oneout = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a> &amp;&amp;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#acafe6c256110801c5bfb79da1d4ec0fa">AVFMT_FLAG_NOFILLIN</a>)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> == <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a88f941a9e944fa70eead827ccb5bbb44">last_dts_for_order_check</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a88f941a9e944fa70eead827ccb5bbb44">last_dts_for_order_check</a> &lt;= <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0f57a8c4e3da2823120b0aa7bc44c7af">dts_ordered</a>++;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0e218e4306ec661c0e0c742e58d06f1f">dts_misordered</a> ? <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a> : <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                       <span class="stringliteral">&quot;DTS %&quot;</span>PRIi64<span class="stringliteral">&quot; &lt; %&quot;</span>PRIi64<span class="stringliteral">&quot; out of order\n&quot;</span>,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                       <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>,</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a88f941a9e944fa70eead827ccb5bbb44">last_dts_for_order_check</a>);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0e218e4306ec661c0e0c742e58d06f1f">dts_misordered</a>++;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0f57a8c4e3da2823120b0aa7bc44c7af">dts_ordered</a> + st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0e218e4306ec661c0e0c742e58d06f1f">dts_misordered</a> &gt; 250) {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0f57a8c4e3da2823120b0aa7bc44c7af">dts_ordered</a>    &gt;&gt;= 1;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0e218e4306ec661c0e0c742e58d06f1f">dts_misordered</a> &gt;&gt;= 1;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;            }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a88f941a9e944fa70eead827ccb5bbb44">last_dts_for_order_check</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0f57a8c4e3da2823120b0aa7bc44c7af">dts_ordered</a> &lt; 8*st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a0e218e4306ec661c0e0c742e58d06f1f">dts_misordered</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> == <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>)</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a48978eb2565907e8794910a1178897e0">AVFMT_FLAG_IGNDTS</a>) &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">if</span> (pc &amp;&amp; pc-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a41702bcd99e8aeab875634fb44bfd741">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        &amp;&amp; !st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a>)</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="comment">//FIXME Set low_delay = 0 when has_b_frames = 1</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a> = 1;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="comment">/* do we have a video B-frame ? */</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    delay = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">has_b_frames</a>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    presentation_delayed = 0;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="comment">/* XXX: need has_b_frame, but cannot get it if the codec is</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">     *  not initialized */</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">if</span> (delay &amp;&amp;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        pc &amp;&amp; pc-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a41702bcd99e8aeab875634fb44bfd741">pict_type</a> != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a>)</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        presentation_delayed = 1;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a> &lt; 63 &amp;&amp;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> - (1LL &lt;&lt; (st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a> - 1)) &gt; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>) || <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> - (1LL&lt;&lt;(st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a> - 1)) &gt; st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> -= 1LL &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> += 1LL &lt;&lt; st-&gt;<a class="code" href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">pts_wrap_bits</a>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">/* Some MPEG-2 in MPEG-PS lack dts (issue #171 / input_file.mpg).</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment">     * We take the conservative approach and discard both.</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">     * Note: If this is misbehaving for an H.264 file, then possibly</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">     * presentation_delayed is not set correctly. */</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span> (delay == 1 &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> == <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> &amp;&amp;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; presentation_delayed) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;invalid dts/pts combination %&quot;</span>PRIi64<span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="keywordflow">if</span> (    strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;name, <span class="stringliteral">&quot;mov,mp4,m4a,3gp,3g2,mj2&quot;</span>)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;             &amp;&amp; strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;name, <span class="stringliteral">&quot;flv&quot;</span>)) <span class="comment">// otherwise we discard correct timestamps for vc1-wmapro.ism</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a>((<a class="code" href="struct_a_v_rational.html">AVRational</a>) {<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, 1}, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> &lt;= 0) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a6351818196357654cde11506036add89">ff_compute_frame_duration</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;num, &amp;den, st, pc, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="keywordflow">if</span> (den &amp;&amp; num) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = (<a class="code" href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a>) {num, den};</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> = <a class="code" href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a>(1,</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                                           num * (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                                           den * (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                                           <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98">AV_ROUND_DOWN</a>);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        }</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> &gt; 0 &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue))</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a384c39a6b99b67a3ce3388ed512a1193">update_initial_durations</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">/* Correct timestamps with byte offset if demuxers only have timestamps</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">     * on packet boundaries */</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keywordflow">if</span> (pc &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> == <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a10f8e7a9d88b7b5e2010ffb496b6cf1a">AVSTREAM_PARSE_TIMESTAMPS</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <span class="comment">/* this will estimate bitrate based on this frame&#39;s duration and size */</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(pc-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#af22fba8f2937d73db0ab5c9f9e985916">offset</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> += <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> += <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    }</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160; </div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">/* This may be redundant, but it should not hurt. */</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> &gt; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>)</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        presentation_delayed = 1;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;debug &amp; <a class="code" href="avformat_8h.html#a3d60713d578ad1ef6505e05779c112cf">FF_FDEBUG_TS</a>)</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            <span class="stringliteral">&quot;IN delayed:%d pts:%s, dts:%s cur_dts:%s st:%d pc:%p duration:%&quot;</span>PRId64<span class="stringliteral">&quot; delay:%d onein_oneout:%d\n&quot;</span>,</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;            presentation_delayed, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>),</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, pc, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, delay, onein_oneout);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="comment">/* Interpolate PTS and DTS if they are not present. We skip H264</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">     * currently because delay and has_b_frames are not reliably set. */</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">if</span> ((delay == 0 || (delay == 1 &amp;&amp; pc)) &amp;&amp;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        onein_oneout) {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <span class="keywordflow">if</span> (presentation_delayed) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <span class="comment">/* DTS = decompression timestamp */</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <span class="comment">/* PTS = presentation timestamp */</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#af8e7b1373292e393ed210dc15aa8d2ca">last_IP_pts</a>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a1068ca9b837c62d6ef668a4aa3d25b7a">update_initial_timestamps</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            <span class="comment">/* This is tricky: the dts must be incremented by the duration</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">             * of the frame we are displaying, i.e. the last I- or P-frame. */</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5764343a4d348f453933bf73c26f84c3">last_IP_duration</a> == 0 &amp;&amp; (uint64_t)<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> &lt;= INT32_MAX)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a5764343a4d348f453933bf73c26f84c3">last_IP_duration</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = av_sat_add64(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a5764343a4d348f453933bf73c26f84c3">last_IP_duration</a>);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a5764343a4d348f453933bf73c26f84c3">last_IP_duration</a> &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                ((uint64_t)st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> - (uint64_t)next_dts + 1) &lt;= 2 &amp;&amp;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                next_dts != next_pts &amp;&amp;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                next_pts != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = next_dts;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <span class="keywordflow">if</span> ((uint64_t)<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> &lt;= INT32_MAX)</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a5764343a4d348f453933bf73c26f84c3">last_IP_duration</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#af8e7b1373292e393ed210dc15aa8d2ca">last_IP_pts</a>      = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="comment">/* Cannot compute PTS if not present (we can compute it only</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment">             * by knowing the future. */</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> &gt; 0             ) {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="comment">/* presentation is not delayed : PTS and DTS are the same */</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a1068ca9b837c62d6ef668a4aa3d25b7a">update_initial_timestamps</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>,</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                                      <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>.num &gt;= 0)</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = <a class="code" href="group__lavu__math.html#ga0c4f9ed3f4102125be7451ad4d848a2f">av_add_stable</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, 1);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    }</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; delay &lt;= <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a">MAX_REORDER_DELAY</a>) {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>[0] = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;delay &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(int64_t, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1]);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="libavformat_2utils_8c.html#a138a0069ebea59cf63563675ce52f6f6">has_decode_delay_been_guessed</a>(st))</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="libavformat_2utils_8c.html#a22020056f253692045fee0745dcc4d22">select_from_pts_buffer</a>(st, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="comment">// We skipped it above so we try here.</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (!onein_oneout)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="comment">// This should happen on the first packet</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a1068ca9b837c62d6ef668a4aa3d25b7a">update_initial_timestamps</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> &gt; st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;debug &amp; <a class="code" href="avformat_8h.html#a3d60713d578ad1ef6505e05779c112cf">FF_FDEBUG_TS</a>)</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;OUTdelayed:%d/%d pts:%s, dts:%s cur_dts:%s st:%d (%d)\n&quot;</span>,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            presentation_delayed, delay, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>), st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6873ed62f196c24e8bf282609231786f">id</a>);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="comment">/* update flags */</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a> || <a class="code" href="libavformat_2utils_8c.html#a513c91d8ee98a29b942c2cb4c955177f">ff_is_intra_only</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>))</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="preprocessor">#if FF_API_CONVERGENCE_DURATION</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">if</span> (pc)</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;convergence_duration = pc-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a972e32e4cce4e931870dff55857a376b">convergence_duration</a>;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;}</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae6ee9e509cc26da6cd7f4eb9f158f47e"> 1395</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ae6ee9e509cc26da6cd7f4eb9f158f47e">parse_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                        <span class="keywordtype">int</span> stream_index, <span class="keywordtype">int</span> <a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;{</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <a class="code" href="struct_a_v_packet.html">AVPacket</a> out_pkt;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>      = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0, got_output = <a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> || <a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(&amp;out_pkt);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">flags</a> &amp; <a class="code" href="avcodec_8h.html#a700fb89fb8a00d075c8b7f3375784b90">PARSER_FLAG_COMPLETE_FRAMES</a>) {</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <span class="comment">// preserve 0-size sync packets</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a2ae4d13037646d8671a6a01305552e24">compute_pkt_fields</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>, <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &gt; 0 || (<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a> &amp;&amp; got_output)) {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        int64_t next_pts = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        int64_t next_dts = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="group__lavc__parsing.html#ga691ca0258e91f99297e7726f56d8c247">av_parser_parse2</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                               &amp;out_pkt.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, &amp;out_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>,</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                               <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a>);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a> = -1;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="comment">/* increment read pointer */</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        got_output = !!out_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">if</span> (!out_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>)</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a> &amp;&amp; out_pkt.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> == <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <span class="comment">/* reference pkt-&gt;buf only when out_pkt.data is guaranteed to point</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="comment">             * to data in it and not in the parser&#39;s internal buffer. */</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            <span class="comment">/* XXX: Ensure this is the case with all parsers when st-&gt;parser-&gt;flags</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">             * is PARSER_FLAG_COMPLETE_FRAMES and check for that instead? */</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            out_pkt.<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a> = <a class="code" href="group__lavu__buffer.html#gaa40ce7d3ede946a89d03323bbd7268c1">av_buffer_ref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            <span class="keywordflow">if</span> (!out_pkt.<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a>) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;            }</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__packet.html#ga8a6deff6c1809029037ffd760db3e0d4">av_packet_make_refcounted</a>(&amp;out_pkt);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ac55bfef91c33f02704ba76518d0f294c">side_data</a>) {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;            out_pkt.<a class="code" href="struct_a_v_packet.html#ac55bfef91c33f02704ba76518d0f294c">side_data</a>       = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ac55bfef91c33f02704ba76518d0f294c">side_data</a>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            out_pkt.<a class="code" href="struct_a_v_packet.html#af415e25244b26921e8fc249d45499b84">side_data_elems</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#af415e25244b26921e8fc249d45499b84">side_data_elems</a>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ac55bfef91c33f02704ba76518d0f294c">side_data</a>          = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#af415e25244b26921e8fc249d45499b84">side_data_elems</a>    = 0;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="comment">/* set the duration */</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        out_pkt.<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> = (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">flags</a> &amp; <a class="code" href="avcodec_8h.html#a700fb89fb8a00d075c8b7f3375784b90">PARSER_FLAG_COMPLETE_FRAMES</a>) ? <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> : 0;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> &gt; 0) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                out_pkt.<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> =</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                    <a class="code" href="group__lavu__math.html#gab706bfec9bf56534e02ca9564cb968f6">av_rescale_q_rnd</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a051e3628c43876e42cfcff99ea0fc44c">duration</a>,</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                                     (<a class="code" href="struct_a_v_rational.html">AVRational</a>) { 1, st-&gt;internal-&gt;avctx-&gt;sample_rate },</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                                     st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                                     <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98">AV_ROUND_DOWN</a>);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;            }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        }</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        out_pkt.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        out_pkt.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>          = st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a7e0b385e4ec6765ab0ae0db11565dd1d">pts</a>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        out_pkt.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>          = st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ae3146f05127d9d4ba5a140a869bdab35">dts</a>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        out_pkt.<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a>          = st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a6cb1cf94ba19b6df4aa2c3c0a43beac7">pos</a>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        out_pkt.<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a>       |= <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga3d36105d7143b319acef3c86d2beb382">AV_PKT_FLAG_DISCARD</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160; </div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> == <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e">AVSTREAM_PARSE_FULL_RAW</a>)</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            out_pkt.<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ac3fc3d38b1f4e864535a9011ac2526e3">frame_offset</a>;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ac115e048335e4a7f1d85541cebcf2013">key_frame</a> == 1 ||</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ac115e048335e4a7f1d85541cebcf2013">key_frame</a> == -1 &amp;&amp;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;             st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a41702bcd99e8aeab875634fb44bfd741">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>))</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;            out_pkt.<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160; </div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ac115e048335e4a7f1d85541cebcf2013">key_frame</a> == -1 &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a41702bcd99e8aeab875634fb44bfd741">pict_type</a> ==<a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea33183189d771e3325ccdd36fa980b6f6">AV_PICTURE_TYPE_NONE</a> &amp;&amp; (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a>&amp;<a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>))</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            out_pkt.<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a2ae4d13037646d8671a6a01305552e24">compute_pkt_fields</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>, &amp;out_pkt, next_dts, next_pts);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avpacket_8c.html#afa665397a1c0f0e1f8d0593414e5a7d5">avpriv_packet_list_put</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue,</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                                 &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue_end,</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                                 &amp;out_pkt, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;out_pkt);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="comment">/* end of the stream =&gt; close and free the parser */</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>) {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <a class="code" href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;}</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a73c3fdc6aed4baefd04dde76ba221744"> 1505</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="libavformat_2utils_8c.html#a73c3fdc6aed4baefd04dde76ba221744">ts_to_samples</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, int64_t ts)</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;{</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(ts, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;}</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae9e12c557cfa7c280e835760300a601e"> 1510</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ae9e12c557cfa7c280e835760300a601e">read_frame_internal</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;{</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, got_packet = 0;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *metadata = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">while</span> (!got_packet &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="comment">/* read next packet */</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#aefa5d0b4dafb09cd777ad5773a18a19a">ff_read_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN))</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            <span class="comment">/* flush the parsers */</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a>)</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                    <a class="code" href="libavformat_2utils_8c.html#ae6ee9e509cc26da6cd7f4eb9f158f47e">parse_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>, 1);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;            <span class="comment">/* all remaining packets are now in parse_queue =&gt;</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="comment">             * really terminate parsing */</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        st  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ab76e176c2a1d1ff09ec9c0bb88dc25e9">event_flags</a> |= <a class="code" href="avformat_8h.html#a7e75bf188f5457c60be077445b3392a0">AVSTREAM_EVENT_FLAG_NEW_PACKETS</a>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <span class="comment">/* update context if required */</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa5f1d3d09d263b79985bbcc45c6ab48e">need_context_update</a>) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavc__misc.html#ga906dda732e79eac12067c6d7ea19b630">avcodec_is_open</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>)) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Demuxer context update while decoder is open, closing and trying to re-open\n&quot;</span>);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                <a class="code" href="group__lavc__core.html#gaf4daa92361efb3523ef5afeb0b54077f">avcodec_close</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> = 0;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <span class="comment">/* close parser, because it depends on the codec */</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> != st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                <a class="code" href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160; </div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <span class="comment">/* update deprecated public codec context */</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(st-&gt;codec, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            }</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa5f1d3d09d263b79985bbcc45c6ab48e">need_context_update</a> = 0;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> &lt; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                   <span class="stringliteral">&quot;Invalid timestamps stream=%d, pts=%s, dts=%s, size=%d\n&quot;</span>,</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>,</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                   <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>),</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                   <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>),</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;debug &amp; <a class="code" href="avformat_8h.html#a3d60713d578ad1ef6505e05779c112cf">FF_FDEBUG_TS</a>)</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                   <span class="stringliteral">&quot;ff_read_packet stream=%d, pts=%s, dts=%s, size=%d, duration=%&quot;</span>PRId64<span class="stringliteral">&quot;, flags=%d\n&quot;</span>,</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>,</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                   <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>),</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                   <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>),</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                   <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a>);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> &amp;&amp; !st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#af94b1dbe5f4e7c0ab04dc05ea18c1d81">AVFMT_FLAG_NOPARSE</a>)) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> = <a class="code" href="group__lavc__parsing.html#ga0dd9af605377fcbb49fffd982672d377">av_parser_init</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>) {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;parser not found for codec &quot;</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                       <span class="stringliteral">&quot;%s, packets or times may be invalid.\n&quot;</span>,</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                       <a class="code" href="group__lavc__core.html#ga2016a52e94f867ebe5113bdf448e182d">avcodec_get_name</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>));</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                <span class="comment">/* no parser available: just output the raw packets */</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac715de62daa60e31ce01b9671bd35f9e">AVSTREAM_PARSE_NONE</a>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> == <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a67bc09fcdeb0e05754f344fbc80856ca">AVSTREAM_PARSE_HEADERS</a>)</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">flags</a> |= <a class="code" href="avcodec_8h.html#a700fb89fb8a00d075c8b7f3375784b90">PARSER_FLAG_COMPLETE_FRAMES</a>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> == <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a41eb176dd7cfc095b5ea66816a75c56a">AVSTREAM_PARSE_FULL_ONCE</a>)</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">flags</a> |= <a class="code" href="avcodec_8h.html#a2e1aef8ac038e6cdecbb89bc922d3096">PARSER_FLAG_ONCE</a>;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> == <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e">AVSTREAM_PARSE_FULL_RAW</a>)</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">flags</a> |= <a class="code" href="avcodec_8h.html#a0caacc93560ac7a69347a5e9c629a6d9">PARSER_FLAG_USE_CODEC_TS</a>;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> || !st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>) {</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <span class="comment">/* no parsing needed: we just output the packet as is */</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a2ae4d13037646d8671a6a01305552e24">compute_pkt_fields</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>, <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>);</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#ad2bd0ecdd51061b300e2ab490907bb09">AVFMT_GENERIC_INDEX</a>) &amp;&amp;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>) &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                <a class="code" href="libavformat_2utils_8c.html#af77e16bf961fb6f16873079b9f8ccf4b">ff_reduce_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                <a class="code" href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a>(st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>,</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                                   0, 0, <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a>);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            got_packet = 1;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> &lt; <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#ae6ee9e509cc26da6cd7f4eb9f158f47e">parse_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">channels</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a18e0af4b263443a6c4d2d5304dbd537e">channel_layout</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a>;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            <span class="comment">/* free packet */</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>)</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2213309b55917289377134dc2e4e7070">skip_to_keyframe</a> = 0;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2213309b55917289377134dc2e4e7070">skip_to_keyframe</a>) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            got_packet = 0;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    }</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">if</span> (!got_packet &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue)</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avpacket_8c.html#a27ca16b08ac3411dd9e7e83c0c075759">avpriv_packet_list_get</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue_end, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0) {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="keywordtype">int</span> discard_padding = 0;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a1101c429222069c8735ffc72d048fdfb">first_discard_sample</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            int64_t <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> - (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>) ? <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a> : 0);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            int64_t <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> = <a class="code" href="libavformat_2utils_8c.html#a73c3fdc6aed4baefd04dde76ba221744">ts_to_samples</a>(st, <a class="code" href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="libavformat_2utils_8c.html#a73c3fdc6aed4baefd04dde76ba221744">ts_to_samples</a>(st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            int64_t end_sample = <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> + <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &gt; 0 &amp;&amp; end_sample &gt;= st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a1101c429222069c8735ffc72d048fdfb">first_discard_sample</a> &amp;&amp;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                sample &lt; st-&gt;internal-&gt;last_discard_sample)</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                discard_padding = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(end_sample - st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a1101c429222069c8735ffc72d048fdfb">first_discard_sample</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aadeb123fe38ebddd9468e55a8d63318a">start_skip_samples</a> &amp;&amp; (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == 0 || <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>))</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">skip_samples</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aadeb123fe38ebddd9468e55a8d63318a">start_skip_samples</a>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">skip_samples</a> || discard_padding) {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p = <a class="code" href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a2093332d8086d25a04942ede61007f6a">AV_PKT_DATA_SKIP_SAMPLES</a>, 10);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            <span class="keywordflow">if</span> (p) {</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(p, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">skip_samples</a>);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(p + 4, discard_padding);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;demuxer injecting skip %d / discard %d\n&quot;</span>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">skip_samples</a>, discard_padding);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            }</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">skip_samples</a> = 0;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4ca58b6fbeedd8ae22c4cc1d73bea49a">inject_global_side_data</a>) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; st-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                <a class="code" href="struct_a_v_packet_side_data.html">AVPacketSideData</a> *src_sd = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst_data;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160; </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, src_sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">type</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                dst_data = <a class="code" href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, src_sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">type</a>, src_sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a>);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                <span class="keywordflow">if</span> (!dst_data) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Could not inject global side data\n&quot;</span>);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                }</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                memcpy(dst_data, src_sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a>, src_sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a>);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;            }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4ca58b6fbeedd8ae22c4cc1d73bea49a">inject_global_side_data</a> = 0;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        }</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    }</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <a class="code" href="group__opt__get__funcs.html#ga6ed0b77def62321ff995843211405338">av_opt_get_dict_val</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;metadata&quot;</span>, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>, &amp;metadata);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">if</span> (metadata) {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;event_flags |= <a class="code" href="avformat_8h.html#a19485b8b52e579db560875e9a1e44e7a">AVFMT_EVENT_FLAG_METADATA_UPDATED</a>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, metadata, 0);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;metadata);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <a class="code" href="group__opt__set__funcs.html#gad19358af12f0766fedec516e387b8196">av_opt_set_dict_val</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="stringliteral">&quot;metadata&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#ad35bc68f1f037043dfc8c0bc2b11c08f">update_stream_avctx</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;debug &amp; <a class="code" href="avformat_8h.html#a3d60713d578ad1ef6505e05779c112cf">FF_FDEBUG_TS</a>)</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;               <span class="stringliteral">&quot;read_frame_internal stream=%d, pts=%s, dts=%s, &quot;</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;               <span class="stringliteral">&quot;size=%d, duration=%&quot;</span>PRId64<span class="stringliteral">&quot;, flags=%d\n&quot;</span>,</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;               <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>,</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;               <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>),</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;               <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>),</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;               <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a>);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="comment">/* A demuxer might have returned EOF because of an IO error, let&#39;s</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="comment">     * propagate this back to the user. */</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a> &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;error &lt; 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;error != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN))</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;error;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;}</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#ga4fdb3084415a82e3810de6ee60e46a61"> 1712</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#ga4fdb3084415a82e3810de6ee60e46a61">av_read_frame</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;{</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="ffplay_8c.html#a407291b5d404f52ceebc2dbdc2b35051">genpts</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#a69e2c8bc119c0245ff6092f9db4d12ae">AVFMT_FLAG_GENPTS</a>;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordtype">int</span> eof = 0;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ffplay_8c.html#a407291b5d404f52ceebc2dbdc2b35051">genpts</a>) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;              ? <a class="code" href="avpacket_8c.html#a27ca16b08ac3411dd9e7e83c0c075759">avpriv_packet_list_get</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer,</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                                        &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer_end, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;              : <a class="code" href="libavformat_2utils_8c.html#ae9e12c557cfa7c280e835760300a601e">read_frame_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordflow">goto</span> return_packet;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <a class="code" href="struct_a_v_packet_list.html">AVPacketList</a> *pktl = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="keywordflow">if</span> (pktl) {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <a class="code" href="struct_a_v_packet.html">AVPacket</a> *next_pkt = &amp;pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            <span class="keywordflow">if</span> (next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                <span class="keywordtype">int</span> wrap_bits = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>]-&gt;pts_wrap_bits;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                <span class="comment">// last dts seen for this stream. if any of packets following</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                <span class="comment">// current one had no dts, we will set this to AV_NOPTS_VALUE.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                int64_t last_dts = next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(wrap_bits &lt;= 64);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                <span class="keywordflow">while</span> (pktl &amp;&amp; next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                    <span class="keywordflow">if</span> (pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> &amp;&amp;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                        <a class="code" href="group__lavu__math.html#gaf268a1dde957d04da846e026e2ebe6e8">av_compare_mod</a>(next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, 2ULL &lt;&lt; (wrap_bits - 1)) &lt; 0) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math.html#gaf268a1dde957d04da846e026e2ebe6e8">av_compare_mod</a>(pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, 2ULL &lt;&lt; (wrap_bits - 1))) {</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                            <span class="comment">// not B-frame</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                            next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                        }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                        <span class="keywordflow">if</span> (last_dts != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                            <span class="comment">// Once last dts was set to AV_NOPTS_VALUE, we don&#39;t change it.</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                            last_dts = pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                        }</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                    }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                    pktl = pktl-&gt;<a class="code" href="struct_a_v_packet_list.html#a6a1d0f1a75cfafa4643b93752edef643">next</a>;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                <span class="keywordflow">if</span> (eof &amp;&amp; next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; last_dts != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                    <span class="comment">// Fixing the last reference frame had none pts issue (For MXF etc).</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                    <span class="comment">// We only do this when</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                    <span class="comment">// 1. eof.</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                    <span class="comment">// 2. we are not able to resolve a pts value for current packet.</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                    <span class="comment">// 3. the packets for this stream at the end of the files had valid dts.</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                    next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = last_dts + next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                }</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                pktl = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            <span class="comment">/* read packet from packet buffer, if there is data */</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            <span class="keywordflow">if</span> (!(next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> &lt; <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a> &amp;&amp;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                  next_pkt-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; !eof)) {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avpacket_8c.html#a27ca16b08ac3411dd9e7e83c0c075759">avpriv_packet_list_get</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer,</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                                               &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer_end, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                <span class="keywordflow">goto</span> return_packet;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            }</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        }</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#ae9e12c557cfa7c280e835760300a601e">read_frame_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            <span class="keywordflow">if</span> (pktl &amp;&amp; <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN)) {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                eof = 1;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avpacket_8c.html#afa665397a1c0f0e1f8d0593414e5a7d5">avpriv_packet_list_put</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer,</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                                 &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer_end,</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                                 <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;return_packet:</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#ad2bd0ecdd51061b300e2ab490907bb09">AVFMT_GENERIC_INDEX</a>) &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#af77e16bf961fb6f16873079b9f8ccf4b">ff_reduce_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <a class="code" href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a>(st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, 0, 0, <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a>);</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>))</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> -= <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>))</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> -= <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">/* XXX: suppress the packet queue */</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a453e27b1ee9563a1ede240200265706b"> 1811</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a453e27b1ee9563a1ede240200265706b">flush_packet_queue</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;{</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal)</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <a class="code" href="avpacket_8c.html#aa748e80c1311a2a23640a291fb84b291">avpriv_packet_list_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue,       &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;parse_queue_end);</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <a class="code" href="avpacket_8c.html#aa748e80c1311a2a23640a291fb84b291">avpriv_packet_list_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer,     &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;packet_buffer_end);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <a class="code" href="avpacket_8c.html#aa748e80c1311a2a23640a291fb84b291">avpriv_packet_list_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_end);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;raw_packet_buffer_remaining_size = <a class="code" href="libavformat_2internal_8h.html#a781dd9eb5ad7f95c4ad61f9ac24fce5a">RAW_PACKET_BUFFER_SIZE</a>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">/*******************************************************/</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">/* seek support */</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#gaad9737492bb66aeeec37b7c7d8d90f2a"> 1825</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#gaad9737492bb66aeeec37b7c7d8d90f2a">av_find_default_stream_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;{</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="keywordtype">int</span> best_stream = 0;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="keywordtype">int</span> best_score = INT_MIN;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160; </div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &lt;= 0)</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <span class="keywordtype">int</span> score = 0;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                score -= 400;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>)</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                score += 50;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            score+= 25;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>)</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                score += 50;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        }</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>)</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            score += 12;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a492fcecc45dbbd8da51edd0124e9dd30">discard</a> != <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>)</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            score += 200;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        <span class="keywordflow">if</span> (score &gt; best_score) {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            best_score = score;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            best_stream = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        }</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    }</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="keywordflow">return</span> best_stream;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;}</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4"> 1863</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;{</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a453e27b1ee9563a1ede240200265706b">flush_packet_queue</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="comment">/* Reset read state for each stream. */</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <a class="code" href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#af8e7b1373292e393ed210dc15aa8d2ca">last_IP_pts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a88f941a9e944fa70eead827ccb5bbb44">last_dts_for_order_check</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="comment">/* We set the current DTS to an unspecified origin. */</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160; </div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">probe_packets</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_probe_packets;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a">MAX_REORDER_DELAY</a> + 1; j++)</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>[j] = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160; </div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;inject_global_side_data)</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4ca58b6fbeedd8ae22c4cc1d73bea49a">inject_global_side_data</a> = 1;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160; </div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">skip_samples</a> = 0;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    }</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160; </div>
<div class="line"><a name="l01898"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a2f33c06557539cc29ac5f779245b84ef"> 1898</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a2f33c06557539cc29ac5f779245b84ef">ff_update_cur_dts</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *ref_st, int64_t timestamp)</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;{</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160; </div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> =</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(timestamp,</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> * (int64_t) ref_st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * (int64_t) ref_st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    }</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;}</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160; </div>
<div class="line"><a name="l01912"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#af77e16bf961fb6f16873079b9f8ccf4b"> 1912</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#af77e16bf961fb6f16873079b9f8ccf4b">ff_reduce_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index)</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;{</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st             = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_entries = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_index_size / <span class="keyword">sizeof</span>(<a class="code" href="avformat_8h.html#a26c94891b37de95d520e67c2d3dbe0aa">AVIndexEntry</a>);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>) st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> &gt;= max_entries) {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; 2 * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[2 * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    }</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;}</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160; </div>
<div class="line"><a name="l01925"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a70048ab85f6378e936c9a8633e18887b"> 1925</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a70048ab85f6378e936c9a8633e18887b">ff_add_index_entry</a>(<a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a> **index_entries,</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                       <span class="keywordtype">int</span> *nb_index_entries,</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *index_entries_allocated_size,</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                       int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, int64_t timestamp,</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                       <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;{</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a> *entries, *ie;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>) *nb_index_entries + 1 &gt;= UINT_MAX / <span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a>))</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <span class="keywordflow">if</span> (timestamp == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">if</span> (size &lt; 0 || size &gt; 0x3FFFFFFF)</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(timestamp)) <span class="comment">//FIXME this maintains previous behavior but we should shift by the correct offset once known</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        timestamp -= <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160; </div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    entries = <a class="code" href="group__lavu__mem__funcs.html#ga869fd8884d8d29a7a4910d879926d94a">av_fast_realloc</a>(*index_entries,</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                              index_entries_allocated_size,</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                              (*nb_index_entries + 1) *</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                              <span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a>));</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="keywordflow">if</span> (!entries)</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    *index_entries = entries;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160; </div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="libavformat_2utils_8c.html#a873502af8835f452dc141924ecafb9ca">ff_index_search_timestamp</a>(*index_entries, *nb_index_entries,</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                                      timestamp, <a class="code" href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a>);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160; </div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &lt; 0) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = (*nb_index_entries)++;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        ie    = &amp;entries[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> == 0 || ie[-1].timestamp &lt; timestamp);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        ie = &amp;entries[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> != timestamp) {</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;            <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> &lt;= timestamp)</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            memmove(entries + <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> + 1, entries + <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>,</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                    <span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a>) * (*nb_index_entries - <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>));</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            (*nb_index_entries)++;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a> == <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &amp;&amp; distance &lt; ie-&gt;min_distance)</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            <span class="comment">// do not reduce the distance</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a> = ie-&gt;<a class="code" href="struct_a_v_index_entry.html#add3fa33e8b3363a96fa4c62fca1bcf42">min_distance</a>;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    ie-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>          = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    ie-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>    = timestamp;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    ie-&gt;<a class="code" href="struct_a_v_index_entry.html#add3fa33e8b3363a96fa4c62fca1bcf42">min_distance</a> = <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a>;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    ie-&gt;<a class="code" href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">size</a>         = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    ie-&gt;<a class="code" href="struct_a_v_index_entry.html#a72366fb5dae7421e41cce6ad8dd2126b">flags</a>        = <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160; </div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e"> 1984</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, int64_t timestamp,</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                       <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;{</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    timestamp = <a class="code" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a>(st, timestamp);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a70048ab85f6378e936c9a8633e18887b">ff_add_index_entry</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>,</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                              &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a57bb9e0e79c26a780716fe4a40675af7">index_entries_allocated_size</a>, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>,</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                              timestamp, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a>, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;}</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a873502af8835f452dc141924ecafb9ca"> 1993</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a873502af8835f452dc141924ecafb9ca">ff_index_search_timestamp</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a> *entries, <span class="keywordtype">int</span> nb_entries,</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                              int64_t wanted_timestamp, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;{</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, m;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    int64_t timestamp;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = -1;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;    <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = nb_entries;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="comment">// Optimize appending index entries at the end.</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &amp;&amp; entries[<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> - 1].timestamp &lt; wanted_timestamp)</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> - 1;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160; </div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> - <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt; 1) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        m         = (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> + <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>) &gt;&gt; 1;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160; </div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        <span class="comment">// Search for the next non-discarded packet.</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="keywordflow">while</span> ((entries[m].<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#ac4fe20a35d4a1b9014e5f4062fb67b52">AVINDEX_DISCARD_FRAME</a>) &amp;&amp; m &lt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &amp;&amp; m &lt; nb_entries - 1) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;            m++;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            <span class="keywordflow">if</span> (m == <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &amp;&amp; entries[m].timestamp &gt;= wanted_timestamp) {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                m = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> - 1;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;            }</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        }</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160; </div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        timestamp = entries[m].<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        <span class="keywordflow">if</span> (timestamp &gt;= wanted_timestamp)</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = m;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <span class="keywordflow">if</span> (timestamp &lt;= wanted_timestamp)</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = m;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    m = (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>) ? <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> : <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a>))</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        <span class="keywordflow">while</span> (m &gt;= 0 &amp;&amp; m &lt; nb_entries &amp;&amp;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;               !(entries[m].<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a>))</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;            m += (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>) ? -1 : 1;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160; </div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keywordflow">if</span> (m == nb_entries)</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">return</span> m;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;}</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160; </div>
<div class="line"><a name="l02036"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a9c9bcb658dd00983235fb06232c17f15"> 2036</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a9c9bcb658dd00983235fb06232c17f15">ff_configure_buffers_for_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, int64_t time_tolerance)</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;{</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="keywordtype">int</span> ist1, ist2;</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    int64_t pos_delta = 0;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    int64_t skip = 0;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="comment">//We could use URLProtocol flags here but as many user applications do not use URLProtocols this would be unreliable</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *proto = <a class="code" href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160; </div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(time_tolerance &gt;= 0);</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160; </div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">if</span> (!proto) {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>,</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;               <span class="stringliteral">&quot;Protocol name not provided, cannot determine if input is local or &quot;</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;               <span class="stringliteral">&quot;a network protocol, buffers and access patterns cannot be configured &quot;</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;               <span class="stringliteral">&quot;optimally without knowing the protocol\n&quot;</span>);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    }</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordflow">if</span> (proto &amp;&amp; !(strcmp(proto, <span class="stringliteral">&quot;file&quot;</span>) &amp;&amp; strcmp(proto, <span class="stringliteral">&quot;pipe&quot;</span>) &amp;&amp; strcmp(proto, <span class="stringliteral">&quot;cache&quot;</span>)))</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160; </div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">for</span> (ist1 = 0; ist1 &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; ist1++) {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st1 = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[ist1];</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        <span class="keywordflow">for</span> (ist2 = 0; ist2 &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; ist2++) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st2 = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[ist2];</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            <span class="keywordtype">int</span> i1, i2;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            <span class="keywordflow">if</span> (ist1 == ist2)</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            <span class="keywordflow">for</span> (i1 = i2 = 0; i1 &lt; st1-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>; i1++) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;                <a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a> *e1 = &amp;st1-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[i1];</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                int64_t e1_pts = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(e1-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>, st1-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160; </div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;                skip = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(skip, e1-&gt;<a class="code" href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">size</a>);</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                <span class="keywordflow">for</span> (; i2 &lt; st2-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>; i2++) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                    <a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a> *e2 = &amp;st2-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[i2];</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                    int64_t e2_pts = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(e2-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>, st2-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                    <span class="keywordflow">if</span> (e2_pts &lt; e1_pts || e2_pts - (uint64_t)e1_pts &lt; time_tolerance)</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                    pos_delta = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(pos_delta, e1-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a> - e2-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            }</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        }</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    }</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160; </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    pos_delta *= 2;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="comment">/* XXX This could be adjusted depending on protocol*/</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;buffer_size &lt; pos_delta &amp;&amp; pos_delta &lt; (1&lt;&lt;24)) {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Reconfiguring buffers to size %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>, pos_delta);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160; </div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <span class="comment">/* realloc the buffer and the original data will be retained */</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avio__internal_8h.html#aae2835f9ec4291aa5525edbdfd742c96">ffio_realloc_buf</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, pos_delta)) {</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Realloc buffer fail.\n&quot;</span>);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        }</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;short_seek_threshold = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;short_seek_threshold, pos_delta/2);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    }</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160; </div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keywordflow">if</span> (skip &lt; (1&lt;&lt;23)) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;short_seek_threshold = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb-&gt;short_seek_threshold, skip);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    }</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;}</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160; </div>
<div class="line"><a name="l02101"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d"> 2101</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, int64_t wanted_timestamp, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;{</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a873502af8835f452dc141924ecafb9ca">ff_index_search_timestamp</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>,</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                                     wanted_timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;}</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160; </div>
<div class="line"><a name="l02107"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5"> 2107</a></span>&#160;<span class="keyword">static</span> int64_t <a class="code" href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5">ff_read_timestamp</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index, int64_t *ppos, int64_t pos_limit,</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                                 int64_t (*read_timestamp)(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *, <span class="keywordtype">int</span> , int64_t *, int64_t ))</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;{</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    int64_t ts = read_timestamp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, ppos, pos_limit);</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">if</span> (stream_index &gt;= 0)</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        ts = <a class="code" href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index], ts);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="keywordflow">return</span> ts;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;}</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160; </div>
<div class="line"><a name="l02116"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a22ebd7865f492af7782e8f6bbe049314"> 2116</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a22ebd7865f492af7782e8f6bbe049314">ff_seek_frame_binary</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index,</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                         int64_t target_ts, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;{</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_input_format.html">AVInputFormat</a> *avif = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    int64_t <a class="code" href="attributes_8h.html#a934ff195492486f0f9d22770103e757b">av_uninit</a>(pos_min), <a class="code" href="attributes_8h.html#a934ff195492486f0f9d22770103e757b">av_uninit</a>(pos_max), <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, pos_limit;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    int64_t ts_min, ts_max, ts;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    int64_t <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keywordflow">if</span> (stream_index &lt; 0)</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;read_seek: %d %s\n&quot;</span>, stream_index, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(target_ts));</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160; </div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    ts_max =</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    ts_min = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    pos_limit = -1; <span class="comment">// GCC falsely says it may be uninitialized.</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>) {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a> *e;</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160; </div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <span class="comment">/* FIXME: Whole function must be checked for non-keyframe entries in</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<span class="comment">         * index case, especially read_timestamp(). */</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(st, target_ts,</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                                          <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> | <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>);</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, 0);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        e     = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160; </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        <span class="keywordflow">if</span> (e-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> &lt;= target_ts || e-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a> == e-&gt;<a class="code" href="struct_a_v_index_entry.html#add3fa33e8b3363a96fa4c62fca1bcf42">min_distance</a>) {</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;            pos_min = e-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;            ts_min  = e-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;using cached pos_min=0x%&quot;</span>PRIx64<span class="stringliteral">&quot; dts_min=%s\n&quot;</span>,</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                    pos_min, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts_min));</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> == 0);</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        }</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160; </div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(st, target_ts,</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                                          <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; ~<a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(index &lt; st-&gt;internal-&gt;nb_index_entries);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &gt;= 0) {</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            e = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;            <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(e-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a> &gt;= target_ts);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;            pos_max   = e-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;            ts_max    = e-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;            pos_limit = pos_max - e-&gt;<a class="code" href="struct_a_v_index_entry.html#add3fa33e8b3363a96fa4c62fca1bcf42">min_distance</a>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;using cached pos_max=0x%&quot;</span>PRIx64<span class="stringliteral">&quot; pos_limit=0x%&quot;</span>PRIx64</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                    <span class="stringliteral">&quot; dts_max=%s\n&quot;</span>, pos_max, pos_limit, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts_max));</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        }</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160; </div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="libavformat_2utils_8c.html#ae0670ac7f41ce6f625e3a1fb94d8f403">ff_gen_search</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, target_ts, pos_min, pos_max, pos_limit,</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;                        ts_min, ts_max, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, &amp;ts, avif-&gt;<a class="code" href="struct_a_v_input_format.html#ab071640466e60eddc4eee43385fb22fd">read_timestamp</a>);</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &lt; 0)</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160; </div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <span class="comment">/* do the seek */</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET)) &lt; 0)</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a2f33c06557539cc29ac5f779245b84ef">ff_update_cur_dts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, ts);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160; </div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;}</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160; </div>
<div class="line"><a name="l02184"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a970e011f0a3137e95fad9c2acd70c892"> 2184</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a970e011f0a3137e95fad9c2acd70c892">ff_find_last_ts</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index, int64_t *ts, int64_t *<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>,</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;                    int64_t (*read_timestamp)(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *, <span class="keywordtype">int</span> , int64_t *, int64_t ))</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;{</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    int64_t <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> = 1024;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    int64_t limit, ts_max;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    int64_t filesize = <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    int64_t pos_max  = filesize - 1;</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        limit = pos_max;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        pos_max = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, (pos_max) - <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        ts_max  = <a class="code" href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5">ff_read_timestamp</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index,</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                                    &amp;pos_max, limit, read_timestamp);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>   += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    } <span class="keywordflow">while</span> (ts_max == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; 2*limit &gt; <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="keywordflow">if</span> (ts_max == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160; </div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        int64_t tmp_pos = pos_max + 1;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;        int64_t tmp_ts  = <a class="code" href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5">ff_read_timestamp</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index,</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                                            &amp;tmp_pos, INT64_MAX, read_timestamp);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;        <span class="keywordflow">if</span> (tmp_ts == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(tmp_pos &gt; pos_max);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;        ts_max  = tmp_ts;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        pos_max = tmp_pos;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        <span class="keywordflow">if</span> (tmp_pos &gt;= filesize)</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160; </div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">if</span> (ts)</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        *ts = ts_max;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>)</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        *<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = pos_max;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160; </div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;}</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160; </div>
<div class="line"><a name="l02222"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae0670ac7f41ce6f625e3a1fb94d8f403"> 2222</a></span>&#160;int64_t <a class="code" href="libavformat_2utils_8c.html#ae0670ac7f41ce6f625e3a1fb94d8f403">ff_gen_search</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index, int64_t target_ts,</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                      int64_t pos_min, int64_t pos_max, int64_t pos_limit,</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                      int64_t ts_min, int64_t ts_max,</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                      <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>, int64_t *ts_ret,</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                      int64_t (*read_timestamp)(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *, <span class="keywordtype">int</span>,</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                                                int64_t *, int64_t))</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;{</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, ts;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    int64_t start_pos;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordtype">int</span> no_change;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;gen_seek: %d %s\n&quot;</span>, stream_index, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(target_ts));</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160; </div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">if</span> (ts_min == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        pos_min = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;data_offset;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        ts_min  = <a class="code" href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5">ff_read_timestamp</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, &amp;pos_min, INT64_MAX, read_timestamp);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="keywordflow">if</span> (ts_min == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160; </div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="keywordflow">if</span> (ts_min &gt;= target_ts) {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        *ts_ret = ts_min;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <span class="keywordflow">return</span> pos_min;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    }</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160; </div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="keywordflow">if</span> (ts_max == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#a970e011f0a3137e95fad9c2acd70c892">ff_find_last_ts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, &amp;ts_max, &amp;pos_max, read_timestamp)) &lt; 0)</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        pos_limit = pos_max;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    }</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160; </div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    <span class="keywordflow">if</span> (ts_max &lt;= target_ts) {</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        *ts_ret = ts_max;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        <span class="keywordflow">return</span> pos_max;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    }</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160; </div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(ts_min &lt; ts_max);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160; </div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    no_change = 0;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="keywordflow">while</span> (pos_min &lt; pos_limit) {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>,</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;                <span class="stringliteral">&quot;pos_min=0x%&quot;</span>PRIx64<span class="stringliteral">&quot; pos_max=0x%&quot;</span>PRIx64<span class="stringliteral">&quot; dts_min=%s dts_max=%s\n&quot;</span>,</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                pos_min, pos_max, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts_min), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts_max));</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(pos_limit &lt;= pos_max);</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <span class="keywordflow">if</span> (no_change == 0) {</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;            int64_t approximate_keyframe_distance = pos_max - pos_limit;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;            <span class="comment">// interpolate position (better than dichotomy)</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(target_ts - ts_min, pos_max - pos_min,</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;                             ts_max - ts_min) +</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                  pos_min - approximate_keyframe_distance;</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (no_change == 1) {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;            <span class="comment">// bisection if interpolation did not change min / max pos last time</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = (pos_min + pos_limit) &gt;&gt; 1;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;            <span class="comment">/* linear search if bisection failed, can only happen if there</span></div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="comment">             * are very few or no keyframes between min/max */</span></div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = pos_min;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        }</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &lt;= pos_min)</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = pos_min + 1;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &gt; pos_limit)</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = pos_limit;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        start_pos = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <span class="comment">// May pass pos_limit instead of -1.</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;        ts = <a class="code" href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5">ff_read_timestamp</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, &amp;<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, INT64_MAX, read_timestamp);</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> == pos_max)</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            no_change++;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;            no_change = 0;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;%&quot;</span>PRId64<span class="stringliteral">&quot; %&quot;</span>PRId64<span class="stringliteral">&quot; %&quot;</span>PRId64<span class="stringliteral">&quot; / %s %s %s&quot;</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;                <span class="stringliteral">&quot; target:%s limit:%&quot;</span>PRId64<span class="stringliteral">&quot; start:%&quot;</span>PRId64<span class="stringliteral">&quot; noc:%d\n&quot;</span>,</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;                pos_min, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, pos_max,</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;                <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts_min), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts_max), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(target_ts),</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                pos_limit, start_pos, no_change);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        <span class="keywordflow">if</span> (ts == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;read_timestamp() failed in the middle\n&quot;</span>);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        }</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        <span class="keywordflow">if</span> (target_ts &lt;= ts) {</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;            pos_limit = start_pos - 1;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;            pos_max   = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;            ts_max    = ts;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        <span class="keywordflow">if</span> (target_ts &gt;= ts) {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;            pos_min = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;            ts_min  = ts;</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        }</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    }</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160; </div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>     = (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>) ? pos_min : pos_max;</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    ts      = (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>) ? ts_min  : ts_max;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    pos_min = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    ts_min  = <a class="code" href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5">ff_read_timestamp</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, &amp;pos_min, INT64_MAX, read_timestamp);</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    pos_min++;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    ts_max = <a class="code" href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5">ff_read_timestamp</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, &amp;pos_min, INT64_MAX, read_timestamp);</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;pos=0x%&quot;</span>PRIx64<span class="stringliteral">&quot; %s&lt;=%s&lt;=%s\n&quot;</span>,</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts_min), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(target_ts), <a class="code" href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a>(ts_max));</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    *ts_ret = ts;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;}</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160; </div>
<div class="line"><a name="l02328"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#af97bf2bcf8da1ae32b60bdd953b8a487"> 2328</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#af97bf2bcf8da1ae32b60bdd953b8a487">seek_frame_byte</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index,</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;                           int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;{</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    int64_t pos_min, pos_max;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160; </div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    pos_min = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;data_offset;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    pos_max = <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb) - 1;</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160; </div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &lt; pos_min)</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = pos_min;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &gt; pos_max)</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = pos_max;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160; </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160; </div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_repositioned = 1;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160; </div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;}</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160; </div>
<div class="line"><a name="l02348"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a71fbc087b6a33f197cc5e04a071a0059"> 2348</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a71fbc087b6a33f197cc5e04a071a0059">seek_frame_generic</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index,</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;                              int64_t timestamp, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;{</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    int64_t <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <a class="code" href="struct_a_v_index_entry.html">AVIndexEntry</a> *ie;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160; </div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160; </div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(st, timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160; </div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="keywordflow">if</span> (index &lt; 0 &amp;&amp; st-&gt;internal-&gt;nb_index_entries &amp;&amp;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;        timestamp &lt; st-&gt;internal-&gt;index_entries[0].timestamp)</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160; </div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="keywordflow">if</span> (index &lt; 0 || index == st-&gt;internal-&gt;nb_index_entries - 1) {</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        <a class="code" href="struct_a_v_packet.html">AVPacket</a> <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;        <span class="keywordtype">int</span> nonkey = 0;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160; </div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a>) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            ie = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">nb_index_entries</a> - 1];</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, ie-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>, SEEK_SET)) &lt; 0)</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a2f33c06557539cc29ac5f779245b84ef">ff_update_cur_dts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, ie-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;data_offset, SEEK_SET)) &lt; 0)</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;        }</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;            <span class="keywordtype">int</span> read_status;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;                read_status = <a class="code" href="group__lavf__decoding.html#ga4fdb3084415a82e3810de6ee60e46a61">av_read_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;            } <span class="keywordflow">while</span> (read_status == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN));</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;            <span class="keywordflow">if</span> (read_status &lt; 0)</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;            <span class="keywordflow">if</span> (stream_index == <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> &gt; timestamp) {</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>) {</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;                    <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                }</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                <span class="keywordflow">if</span> (nonkey++ &gt; 1000 &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea76fbc3c96f42a427d3ae1eeb6e1a8aaf">AV_CODEC_ID_CDGRAPHICS</a>) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,<span class="stringliteral">&quot;seek_frame_generic failed as this stream seems to contain no keyframes after the target timestamp, %d non keyframes found\n&quot;</span>, nonkey);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;                    <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;                }</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;            }</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;        }</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a>(st, timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    }</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &lt; 0)</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160; </div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek)</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>) &gt;= 0)</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    ie = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, ie-&gt;<a class="code" href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">pos</a>, SEEK_SET)) &lt; 0)</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a2f33c06557539cc29ac5f779245b84ef">ff_update_cur_dts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, ie-&gt;<a class="code" href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">timestamp</a>);</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160; </div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;}</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160; </div>
<div class="line"><a name="l02415"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#aaa59fb7b0619606ae79a1e6ac4d1ec18"> 2415</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#aaa59fb7b0619606ae79a1e6ac4d1ec18">seek_frame_internal</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index,</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                               int64_t timestamp, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;{</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160; </div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#a754de906e0da116c009846547741f869">AVSEEK_FLAG_BYTE</a>) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#a6286e2977286a22b622cb51cf4106541">AVFMT_NO_BYTE_SEEK</a>)</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#af97bf2bcf8da1ae32b60bdd953b8a487">seek_frame_byte</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    }</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160; </div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">if</span> (stream_index &lt; 0) {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;        stream_index = <a class="code" href="group__lavf__misc.html#gaad9737492bb66aeeec37b7c7d8d90f2a">av_find_default_stream_index</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        <span class="keywordflow">if</span> (stream_index &lt; 0)</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160; </div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;        st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream_index];</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        <span class="comment">/* timestamp for default must be expressed in AV_TIME_BASE units */</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;        timestamp = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(timestamp, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                               <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a> * (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    }</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160; </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="comment">/* first, we try the format specific seek */</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek) {</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = -1;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0)</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160; </div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_timestamp &amp;&amp;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#a8f47c7c3b5763fc7199f41741d759a70">AVFMT_NOBINSEARCH</a>)) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a22ebd7865f492af7782e8f6bbe049314">ff_seek_frame_binary</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#a860dc077e9c782de0d49a2d4d968b64a">AVFMT_NOGENSEARCH</a>)) {</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a71fbc087b6a33f197cc5e04a071a0059">seek_frame_generic</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;}</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160; </div>
<div class="line"><a name="l02459"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#gaa23f7619d8d4ea0857065d9979c75ac8"> 2459</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#gaa23f7619d8d4ea0857065d9979c75ac8">av_seek_frame</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index,</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                  int64_t timestamp, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;{</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160; </div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek2 &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek) {</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        int64_t min_ts = INT64_MIN, max_ts = INT64_MAX;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>))</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;            max_ts = timestamp;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;            min_ts = timestamp;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, min_ts, timestamp, max_ts,</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                                  <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; ~<a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>);</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    }</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160; </div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#aaa59fb7b0619606ae79a1e6ac4d1ec18">seek_frame_internal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, timestamp, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160; </div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0)</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__misc.html#ga501ff1b3aa357c09da90c0effb356e45">avformat_queue_attached_pictures</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160; </div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;}</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160; </div>
<div class="line"><a name="l02482"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30"> 2482</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> stream_index, int64_t min_ts,</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;                       int64_t ts, int64_t max_ts, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;{</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <span class="keywordflow">if</span> (min_ts &gt; ts || max_ts &lt; ts)</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;    <span class="keywordflow">if</span> (stream_index &lt; -1 || stream_index &gt;= (<span class="keywordtype">int</span>)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams)</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160; </div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;seek2any&gt;0)</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= <a class="code" href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a>;</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp;= ~<a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160; </div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek2) {</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160; </div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        <span class="keywordflow">if</span> (stream_index == -1 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams == 1) {</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;            <a class="code" href="struct_a_v_rational.html">AVRational</a> time_base = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0]-&gt;time_base;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;            ts = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(ts, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>, time_base);</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;            min_ts = <a class="code" href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a>(min_ts, time_base.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                                    time_base.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * (int64_t)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>,</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                                    <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a">AV_ROUND_UP</a>   | <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a7fcb56631d6898b282d6c78ce6c14a43">AV_ROUND_PASS_MINMAX</a>);</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;            max_ts = <a class="code" href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a>(max_ts, time_base.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;                                    time_base.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * (int64_t)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>,</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;                                    <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98">AV_ROUND_DOWN</a> | <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a7fcb56631d6898b282d6c78ce6c14a43">AV_ROUND_PASS_MINMAX</a>);</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;            stream_index = 0;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        }</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160; </div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek2(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, min_ts,</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                                     ts, max_ts, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160; </div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0)</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__misc.html#ga501ff1b3aa357c09da90c0effb356e45">avformat_queue_attached_pictures</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    }</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160; </div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_timestamp) {</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;        <span class="comment">// try to seek via read_timestamp()</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    }</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160; </div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="comment">// Fall back on old API if new is not implemented but old is.</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    <span class="comment">// Note the old API has somewhat different semantics.</span></div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_seek || 1) {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;        <span class="keywordtype">int</span> dir = (ts - (uint64_t)min_ts &gt; (uint64_t)max_ts - ts ? <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a> : 0);</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__decoding.html#gaa23f7619d8d4ea0857065d9979c75ac8">av_seek_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, ts, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> | dir);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>&lt;0 &amp;&amp; ts != min_ts &amp;&amp; max_ts != ts) {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__decoding.html#gaa23f7619d8d4ea0857065d9979c75ac8">av_seek_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, dir ? max_ts : min_ts, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> | dir);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0)</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__decoding.html#gaa23f7619d8d4ea0857065d9979c75ac8">av_seek_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, stream_index, ts, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> | (dir^<a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>));</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        }</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    }</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160; </div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="comment">// try some generic seek like seek_frame_generic() but with new ts semantics</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <span class="keywordflow">return</span> -1; <span class="comment">//unreachable</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;}</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160; </div>
<div class="line"><a name="l02539"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#gaa03a82c5fd4fe3af312d229ca94cd6f3"> 2539</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#gaa03a82c5fd4fe3af312d229ca94cd6f3">avformat_flush</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;{</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;}</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160; </div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;<span class="comment">/*******************************************************/</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160; </div>
<div class="line"><a name="l02552"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ad165f2d378face6a804e6dfe5906ac0d"> 2552</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ad165f2d378face6a804e6dfe5906ac0d">has_duration</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic)</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;{</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160; </div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    }</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;}</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160; </div>
<div class="line"><a name="l02572"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae54a8406916abd2864d8c10a4b3b65ba"> 2572</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#ae54a8406916abd2864d8c10a4b3b65ba">update_stream_timings</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic)</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;{</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    int64_t <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a>, start_time1, start_time_text, end_time, end_time1, end_time_text;</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    int64_t <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, duration1, duration_text, filesize;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    <a class="code" href="struct_a_v_program.html">AVProgram</a> *p;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> = INT64_MAX;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    start_time_text = INT64_MAX;</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    end_time   = INT64_MIN;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    end_time_text   = INT64_MIN;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>   = INT64_MIN;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    duration_text = INT64_MIN;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160; </div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        <span class="keywordtype">int</span> is_text = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a> ||</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                      st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>;</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>) {</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;            start_time1 = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                                       <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;            <span class="keywordflow">if</span> (is_text)</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;                start_time_text = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(start_time_text, start_time1);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;                <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a>, start_time1);</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;            end_time1 = <a class="code" href="group__lavu__math.html#gab706bfec9bf56534e02ca9564cb968f6">av_rescale_q_rnd</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;                                         <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>,</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;                                         <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aea95b00154ff83c740b46376dfa06e11">AV_ROUND_NEAR_INF</a>|<a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a7fcb56631d6898b282d6c78ce6c14a43">AV_ROUND_PASS_MINMAX</a>);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;            <span class="keywordflow">if</span> (end_time1 != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; (end_time1 &gt; 0 ? start_time1 &lt;= INT64_MAX - end_time1 : start_time1 &gt;= INT64_MIN - end_time1)) {</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                end_time1 += start_time1;</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;                <span class="keywordflow">if</span> (is_text)</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;                    end_time_text = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(end_time_text, end_time1);</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;                    end_time = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(end_time, end_time1);</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;            }</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;            <span class="keywordflow">for</span> (p = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; (p = <a class="code" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a>(ic, p, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)); ) {</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;                <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_a_v_program.html#a2276db4d51695120664d527f20b7c532">start_time</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> || p-&gt;<a class="code" href="struct_a_v_program.html#a2276db4d51695120664d527f20b7c532">start_time</a> &gt; start_time1)</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;                    p-&gt;<a class="code" href="struct_a_v_program.html#a2276db4d51695120664d527f20b7c532">start_time</a> = start_time1;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_a_v_program.html#a5a7795c918153d0f64d68a838e172db4">end_time</a> &lt; end_time1)</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;                    p-&gt;<a class="code" href="struct_a_v_program.html#a5a7795c918153d0f64d68a838e172db4">end_time</a> = end_time1;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;            }</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        }</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;            duration1 = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;                                     <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;            <span class="keywordflow">if</span> (is_text)</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;                duration_text = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(duration_text, duration1);</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, duration1);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        }</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    }</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> == INT64_MAX || (<a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> &gt; start_time_text &amp;&amp; <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> - (uint64_t)start_time_text &lt; <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>))</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;        <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> = start_time_text;</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> &gt; start_time_text)</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Ignoring outlier non primary stream starttime %f\n&quot;</span>, start_time_text / (<span class="keywordtype">float</span>)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160; </div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="keywordflow">if</span> (end_time == INT64_MIN || (end_time &lt; end_time_text &amp;&amp; end_time_text - (uint64_t)end_time &lt; <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>))</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        end_time = end_time_text;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_time &lt; end_time_text)</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Ignoring outlier non primary stream endtime %f\n&quot;</span>, end_time_text / (<span class="keywordtype">float</span>)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160; </div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;     <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> == INT64_MIN || (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &lt; duration_text &amp;&amp; duration_text - <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &lt; <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>))</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;         <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = duration_text;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &lt; duration_text)</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;         <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Ignoring outlier non primary stream duration %f\n&quot;</span>, duration_text / (<span class="keywordtype">float</span>)<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>);</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160; </div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> != INT64_MAX) {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#a2590129e00adfa726ab2033a10e905e9">start_time</a> = <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a>;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;        <span class="keywordflow">if</span> (end_time != INT64_MIN) {</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;            <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a58c8c4d0ea974e0fcb0ce06fb1174f9f">nb_programs</a> &gt; 1) {</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a58c8c4d0ea974e0fcb0ce06fb1174f9f">nb_programs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;                    p = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_a_v_program.html#a2276db4d51695120664d527f20b7c532">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;                        p-&gt;<a class="code" href="struct_a_v_program.html#a5a7795c918153d0f64d68a838e172db4">end_time</a> &gt; p-&gt;<a class="code" href="struct_a_v_program.html#a2276db4d51695120664d527f20b7c532">start_time</a> &amp;&amp;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                        p-&gt;<a class="code" href="struct_a_v_program.html#a5a7795c918153d0f64d68a838e172db4">end_time</a> - (uint64_t)p-&gt;<a class="code" href="struct_a_v_program.html#a2276db4d51695120664d527f20b7c532">start_time</a> &lt;= INT64_MAX)</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;                        <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, p-&gt;<a class="code" href="struct_a_v_program.html#a5a7795c918153d0f64d68a838e172db4">end_time</a> - p-&gt;<a class="code" href="struct_a_v_program.html#a2276db4d51695120664d527f20b7c532">start_time</a>);</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;                }</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_time &gt;= <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> &amp;&amp; end_time - (uint64_t)<a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> &lt;= INT64_MAX) {</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>, end_time - <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a>);</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;            }</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        }</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    }</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> != INT64_MIN &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &gt; 0 &amp;&amp; ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a> = <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    }</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> &amp;&amp; (filesize = <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)) &gt; 0 &amp;&amp; ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a> &gt; 0) {</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        <span class="comment">/* compute the bitrate */</span></div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> = (double) filesize * 8.0 * <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a> /</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                         (<span class="keywordtype">double</span>) ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a>;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> &gt;= 0 &amp;&amp; <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> &lt;= INT64_MAX)</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;            ic-&gt;<a class="code" href="struct_a_v_format_context.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a> = <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a>;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;}</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160; </div>
<div class="line"><a name="l02666"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a15079f0fee3ad5d71d9a6938831238e1"> 2666</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a15079f0fee3ad5d71d9a6938831238e1">fill_all_stream_timings</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic)</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;{</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160; </div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#ae54a8406916abd2864d8c10a4b3b65ba">update_stream_timings</a>(ic);</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;            <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a2590129e00adfa726ab2033a10e905e9">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a2590129e00adfa726ab2033a10e905e9">start_time</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>,</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                                              st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;            <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>,</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;                                            st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        }</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    }</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;}</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160; </div>
<div class="line"><a name="l02685"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a82474423ef5c8b019be3fcbe9281953f"> 2685</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a82474423ef5c8b019be3fcbe9281953f">estimate_timings_from_bit_rate</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic)</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;{</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    int64_t filesize, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, show_warning = 0;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160; </div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="comment">/* if bit_rate is already set, we believe it */</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a> &lt;= 0) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        int64_t bit_rate = 0;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;            st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> &lt;= 0 &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> &gt; 0)</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> &gt; 0) {</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                <span class="keywordflow">if</span> (INT64_MAX - st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> &lt; bit_rate) {</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                    bit_rate = 0;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;                }</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;                bit_rate += st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a>;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a> &gt; 1) {</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;                <span class="comment">// If we have a videostream with packets but without a bitrate</span></div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;                <span class="comment">// then consider the sum not known</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;                bit_rate = 0;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;            }</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        }</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a> = bit_rate;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    }</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160; </div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="comment">/* if duration is already set, we believe it */</span></div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a> != 0) {</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        filesize = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> ? <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>) : 0;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;        <span class="keywordflow">if</span> (filesize &gt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#ae76e7632ebfd242e5e4a5c9011928c2c">data_offset</a>) {</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;            filesize -= ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#ae76e7632ebfd242e5e4a5c9011928c2c">data_offset</a>;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;                st      = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;                <span class="keywordflow">if</span> (   st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &lt;= INT64_MAX / ic-&gt;<a class="code" href="struct_a_v_format_context.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;                    &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a>(filesize, 8LL * st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;                                          ic-&gt;<a class="code" href="struct_a_v_format_context.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a> *</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;                                          (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> = <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;                    show_warning = 1;</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;                }</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;            }</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;        }</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    }</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    <span class="keywordflow">if</span> (show_warning)</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;               <span class="stringliteral">&quot;Estimating duration from bitrate, this may be inaccurate\n&quot;</span>);</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;}</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160; </div>
<div class="line"><a name="l02738"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a21b3eea6eb59d75d69842d8bfea44826"> 2738</a></span>&#160;<span class="preprocessor">#define DURATION_MAX_READ_SIZE 250000LL</span></div>
<div class="line"><a name="l02739"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae1b8b7cb397aa290640d1a3bea7cce9e"> 2739</a></span>&#160;<span class="preprocessor">#define DURATION_MAX_RETRY 6</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160; </div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;<span class="comment">/* only usable for MPEG-PS streams */</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a8b72f46969826d157b5e4951b1637ea9"> 2742</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a8b72f46969826d157b5e4951b1637ea9">estimate_timings_from_pts</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic, int64_t old_offset)</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;{</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <a class="code" href="struct_a_v_packet.html">AVPacket</a> pkt1, *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a> = &amp;pkt1;</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="keywordtype">int</span> num, den, read_size, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordtype">int</span> found_duration = 0;</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordtype">int</span> is_end;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    int64_t filesize, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordtype">int</span> retry = 0;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160; </div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <span class="comment">/* flush packet queue */</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a453e27b1ee9563a1ede240200265706b">flush_packet_queue</a>(ic);</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160; </div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a>)</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                   <span class="stringliteral">&quot;start time for stream %d is not set in estimate_timings_from_pts\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160; </div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>) {</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;            <a class="code" href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>);</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;        }</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    }</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160; </div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#ae9896cb7089991b18c5e7acb4f17f6b2">skip_estimate_duration_from_pts</a>) {</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>, <span class="stringliteral">&quot;Skipping duration calculation in estimate_timings_from_pts\n&quot;</span>);</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;        <span class="keywordflow">goto</span> skip_duration_calc;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    }</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160; </div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <a class="code" href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a>(ic, <span class="stringliteral">&quot;skip_changes&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>);</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    <span class="comment">/* estimate the end time (duration) */</span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="comment">/* XXX: may need to support wrapping */</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    filesize = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> ? <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>) : 0;</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;        is_end = found_duration;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = filesize - (<a class="code" href="libavformat_2utils_8c.html#a21b3eea6eb59d75d69842d8bfea44826">DURATION_MAX_READ_SIZE</a> &lt;&lt; retry);</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &lt; 0)</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;            <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 0;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160; </div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;        <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, SEEK_SET);</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        read_size = 0;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;            <span class="keywordflow">if</span> (read_size &gt;= <a class="code" href="libavformat_2utils_8c.html#a21b3eea6eb59d75d69842d8bfea44826">DURATION_MAX_READ_SIZE</a> &lt;&lt; (<a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(retry - 1, 0)))</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160; </div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#aefa5d0b4dafb09cd777ad5773a18a19a">ff_read_packet</a>(ic, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;            } <span class="keywordflow">while</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN));</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 0)</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;            read_size += <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;            st         = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;                (st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> ||</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;                 st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>  != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)) {</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> == 0) {</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;                    <a class="code" href="libavformat_2utils_8c.html#a6351818196357654cde11506036add89">ff_compute_frame_duration</a>(ic, &amp;num, &amp;den, st, st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;                    <span class="keywordflow">if</span> (den &amp;&amp; num) {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;                        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> = <a class="code" href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a>(1,</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;                                           num * (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;                                           den * (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;                                           <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98">AV_ROUND_DOWN</a>);</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                    }</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;                }</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;                found_duration = 1;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> -= st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                    <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> -= st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>;</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &gt; 0) {</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> || st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a589bd5704e0e2a71d6c0fa9ed04d6739">last_duration</a>&lt;= 0 ||</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;                        (st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> &lt; <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> &amp;&amp; <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> - st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a589bd5704e0e2a71d6c0fa9ed04d6739">last_duration</a>) &lt; 60LL*st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> / st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>))</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> = <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a589bd5704e0e2a71d6c0fa9ed04d6739">last_duration</a> = <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;                }</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;            }</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;        }</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160; </div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;        <span class="comment">/* check if all audio/video streams have valid duration */</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        <span class="keywordflow">if</span> (!is_end) {</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;            is_end = 1;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;                <span class="keywordflow">switch</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                            is_end = 0;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;                }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;            }</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;        }</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    } <span class="keywordflow">while</span> (!is_end &amp;&amp;</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;             <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &amp;&amp;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;             ++retry &lt;= <a class="code" href="libavformat_2utils_8c.html#ae1b8b7cb397aa290640d1a3bea7cce9e">DURATION_MAX_RETRY</a>);</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160; </div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <a class="code" href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a>(ic, <span class="stringliteral">&quot;skip_changes&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>);</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160; </div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="comment">/* warn about audio/video streams which duration could not be estimated */</span></div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;            <span class="keywordflow">switch</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> || st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>  != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;stream %d : no PTS found at end of file, duration not set\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;                } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;stream %d : no TS found at start of file, duration not set\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;            }</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;        }</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    }</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;skip_duration_calc:</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a15079f0fee3ad5d71d9a6938831238e1">fill_all_stream_timings</a>(ic);</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160; </div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, old_offset, SEEK_SET);</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;        <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160; </div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;        st              = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a>     = st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#af8e7b1373292e393ed210dc15aa8d2ca">last_IP_pts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a88f941a9e944fa70eead827ccb5bbb44">last_dts_for_order_check</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a">MAX_REORDER_DELAY</a> + 1; j++)</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>[j] = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    }</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;}</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160; </div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<span class="comment">/* 1:1 map to AVDurationEstimationMethod */</span></div>
<div class="line"><a name="l02875"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a965ab62618e3757a36f541e4b5794cf2"> 2875</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavformat_2utils_8c.html#a965ab62618e3757a36f541e4b5794cf2">duration_name</a>[] = {</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    [<a class="code" href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73bac94465d3290399477775fe094ab8f75a">AVFMT_DURATION_FROM_PTS</a>]     = <span class="stringliteral">&quot;pts&quot;</span>,</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    [<a class="code" href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73bae92edb9576c3d6dd68f49a849a2ec6c0">AVFMT_DURATION_FROM_STREAM</a>]  = <span class="stringliteral">&quot;stream&quot;</span>,</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    [<a class="code" href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73ba6185e1e7f8dfae85596779408ef496b2">AVFMT_DURATION_FROM_BITRATE</a>] = <span class="stringliteral">&quot;bit rate&quot;</span>,</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;};</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160; </div>
<div class="line"><a name="l02881"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a946013c6a2bb2731618eb9d1ab9d2822"> 2881</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavformat_2utils_8c.html#a946013c6a2bb2731618eb9d1ab9d2822">duration_estimate_name</a>(<span class="keyword">enum</span> <a class="code" href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73b">AVDurationEstimationMethod</a> method)</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;{</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libavformat_2utils_8c.html#a965ab62618e3757a36f541e4b5794cf2">duration_name</a>[method];</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;}</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160; </div>
<div class="line"><a name="l02886"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a4d03bdd876c374df1989981e0aaaac45"> 2886</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a4d03bdd876c374df1989981e0aaaac45">estimate_timings</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic, int64_t old_offset)</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;{</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    int64_t file_size;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160; </div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;    <span class="comment">/* get the file size, if possible */</span></div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a1b30f6647d0c2faf38ba8786d7c3a838">flags</a> &amp; <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a>) {</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;        file_size = 0;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;        file_size = <a class="code" href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        file_size = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(0, file_size);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    }</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160; </div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <span class="keywordflow">if</span> ((!strcmp(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;mpeg&quot;</span>) ||</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;         !strcmp(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;mpegts&quot;</span>)) &amp;&amp;</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;        file_size &amp;&amp; (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">seekable</a> &amp; <a class="code" href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a>)) {</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;        <span class="comment">/* get accurate estimate from the PTSes */</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a8b72f46969826d157b5e4951b1637ea9">estimate_timings_from_pts</a>(ic, old_offset);</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#a95035552afae17c1b7cd701ad72e67b5">duration_estimation_method</a> = <a class="code" href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73bac94465d3290399477775fe094ab8f75a">AVFMT_DURATION_FROM_PTS</a>;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#ad165f2d378face6a804e6dfe5906ac0d">has_duration</a>(ic)) {</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;        <span class="comment">/* at least one component has timings - we use them for all</span></div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;<span class="comment">         * the components */</span></div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a15079f0fee3ad5d71d9a6938831238e1">fill_all_stream_timings</a>(ic);</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;        <span class="comment">/* nut demuxer estimate the duration from PTS */</span></div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        <span class="keywordflow">if</span>(!strcmp(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;nut&quot;</span>))</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;            ic-&gt;<a class="code" href="struct_a_v_format_context.html#a95035552afae17c1b7cd701ad72e67b5">duration_estimation_method</a> = <a class="code" href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73bac94465d3290399477775fe094ab8f75a">AVFMT_DURATION_FROM_PTS</a>;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;            ic-&gt;<a class="code" href="struct_a_v_format_context.html#a95035552afae17c1b7cd701ad72e67b5">duration_estimation_method</a> = <a class="code" href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73bae92edb9576c3d6dd68f49a849a2ec6c0">AVFMT_DURATION_FROM_STREAM</a>;</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;        <span class="comment">/* less precise: use bitrate info */</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a82474423ef5c8b019be3fcbe9281953f">estimate_timings_from_bit_rate</a>(ic);</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#a95035552afae17c1b7cd701ad72e67b5">duration_estimation_method</a> = <a class="code" href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73ba6185e1e7f8dfae85596779408ef496b2">AVFMT_DURATION_FROM_BITRATE</a>;</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    }</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#ae54a8406916abd2864d8c10a4b3b65ba">update_stream_timings</a>(ic);</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160; </div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    {</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> <a class="code" href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a> *st;</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;            st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;            <span class="keywordflow">if</span> (st-&gt;time_base.den)</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;stream %d: start_time: %s duration: %s\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;                       <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(st-&gt;start_time, &amp;st-&gt;time_base),</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;                       <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(st-&gt;duration, &amp;st-&gt;time_base));</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;        }</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>,</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;               <span class="stringliteral">&quot;format: start_time: %s duration: %s (estimate from %s) bitrate=%&quot;</span>PRId64<span class="stringliteral">&quot; kb/s\n&quot;</span>,</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;               <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a2590129e00adfa726ab2033a10e905e9">start_time</a>, &amp;<a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>),</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;               <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">duration</a>, &amp;<a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>),</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;               <a class="code" href="libavformat_2utils_8c.html#a946013c6a2bb2731618eb9d1ab9d2822">duration_estimate_name</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a95035552afae17c1b7cd701ad72e67b5">duration_estimation_method</a>),</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;               (int64_t)ic-&gt;<a class="code" href="struct_a_v_format_context.html#a972a02b9e3b542a426e323a8f8e3ea41">bit_rate</a> / 1000);</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    }</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;}</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160; </div>
<div class="line"><a name="l02939"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3"> 2939</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3">has_codec_parameters</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keyword">const</span> <span class="keywordtype">char</span> **errmsg_ptr)</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;{</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>;</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160; </div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;<span class="preprocessor">#define FAIL(errmsg) do {                                         \</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;<span class="preprocessor">        if (errmsg_ptr)                                           \</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;<span class="preprocessor">            *errmsg_ptr = errmsg;                                 \</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;<span class="preprocessor">        return 0;                                                 \</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<span class="preprocessor">    } while (0)</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160; </div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="keywordflow">if</span> (   avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>)</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;unknown codec&quot;</span>);</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a>) {</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">frame_size</a> &amp;&amp; <a class="code" href="libavformat_2utils_8c.html#af6b4081deb5ee890bd4c3adb14da2787">determinable_frame_size</a>(avctx))</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;unspecified frame size&quot;</span>);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a> == <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a>)</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;unspecified sample format&quot;</span>);</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;        <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a>)</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;unspecified sample rate&quot;</span>);</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;        <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>)</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;unspecified number of channels&quot;</span>);</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> &gt;= 0 &amp;&amp; !st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a02c9998f757ff024da865ef77ec2f790">nb_decoded_frames</a> &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3379ed720d45daac872b2f483f545de">AV_CODEC_ID_DTS</a>)</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;no decodable DTS frames&quot;</span>);</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;        <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>)</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;unspecified size&quot;</span>);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> &gt;= 0 &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>)</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;unspecified pixel format&quot;</span>);</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa4566a412c746c9267e2461262d396fd">AV_CODEC_ID_RV30</a> || st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea9ff341616ebac6400d57194606de5593">AV_CODEC_ID_RV40</a>)</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;            <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; !st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a7d6ef91120ffe80040c699e747a1ad68">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; !st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>)</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;no frame in rv30/40 and no sar&quot;</span>);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>:</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea146a68962f8721fc709e19f5671844d7">AV_CODEC_ID_HDMV_PGS_SUBTITLE</a> &amp;&amp; !avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>)</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a>(<span class="stringliteral">&quot;unspecified size&quot;</span>);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>:</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    }</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160; </div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;}</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160; </div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;<span class="comment">/* returns 1 or 0 if or if not decoded data was returned, or a negative error */</span></div>
<div class="line"><a name="l02987"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ab66cfd3e24247b6e3e4ea0d93d6f8d09"> 2987</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ab66cfd3e24247b6e3e4ea0d93d6f8d09">try_decode_frame</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                            <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;{</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *codec;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    <span class="keywordtype">int</span> got_picture = 1, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;    <a class="code" href="struct_a_v_subtitle.html">AVSubtitle</a> subtitle;</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    <a class="code" href="struct_a_v_packet.html">AVPacket</a> <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a> = *avpkt;</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="keywordtype">int</span> do_skip_frame = 0;</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <span class="keyword">enum</span> <a class="code" href="group__lavc__decoding.html#ga352363bce7d3ed82c101b3bc001d1c16">AVDiscard</a> skip_frame;</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160; </div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>)</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160; </div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__lavc__misc.html#ga906dda732e79eac12067c6d7ea19b630">avcodec_is_open</a>(avctx) &amp;&amp;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> &lt;= 0 &amp;&amp;</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != -st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> || !st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>)) {</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;        <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *thread_opt = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160; </div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        codec = <a class="code" href="libavformat_2utils_8c.html#a8022d39ef3f935904c17e0b7959cce7c">find_probe_decoder</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160; </div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;        <span class="keywordflow">if</span> (!codec) {</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> = -st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>                     = -1;</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;        }</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160; </div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;        <span class="comment">/* Force thread count to 1 since the H.264 decoder will not extract</span></div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<span class="comment">         * SPS and PPS to extradata during multi-threaded decoding. */</span></div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> ? <a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> : &amp;thread_opt, <span class="stringliteral">&quot;threads&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, 0);</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_whitelist)</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;            <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> ? <a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> : &amp;thread_opt, <span class="stringliteral">&quot;codec_whitelist&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec_whitelist, 0);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a>(avctx, codec, <a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> ? <a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> : &amp;thread_opt);</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;            <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;thread_opt);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> = -avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a>;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;        }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> = 1;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a>)</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> = 1;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160; </div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> &lt; 0) {</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = -1;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    }</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160; </div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libavcodec_2utils_8c.html#a0a49fded52e0fa446da5d80b1d43ea9e">avpriv_codec_get_cap_skip_frame_fill_param</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>)) {</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;        do_skip_frame = 1;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;        skip_frame = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af869b808363998c80adf7df6a944a5a6">skip_frame</a>;</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af869b808363998c80adf7df6a944a5a6">skip_frame</a> = <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    }</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160; </div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> &gt; 0 || (!<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> &amp;&amp; got_picture)) &amp;&amp;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;           <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;           (!<a class="code" href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3">has_codec_parameters</a>(st, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) || !<a class="code" href="libavformat_2utils_8c.html#a138a0069ebea59cf63563675ce52f6f6">has_decode_delay_been_guessed</a>(st) ||</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;            (!st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a> &amp;&amp;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;             (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#af51f7ff3dac8b730f46b9713e49a2518">capabilities</a> &amp; <a class="code" href="group__lavc__core.html#gad05360700b6c9a9523710d627bfb818e">AV_CODEC_CAP_CHANNEL_CONF</a>)))) {</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;        got_picture = 0;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> ||</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__decoding.html#ga58bc4bf1e0ac59e27362597e467efff3">avcodec_send_packet</a>(avctx, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0 &amp;&amp; <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN) &amp;&amp; <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>)</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0)</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = 0;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__decoding.html#ga11e6542c4e66d3028668788a1a74217c">avcodec_receive_frame</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0)</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                got_picture = 1;</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN) || <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>)</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>) {</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__decoding.html#ga47db1b7f294b9f92684401b9c66a7c4b">avcodec_decode_subtitle2</a>(avctx, &amp;subtitle,</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;                                           &amp;got_picture, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;            <span class="keywordflow">if</span> (got_picture)</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;                <a class="code" href="group__lavc__core.html#gaa2c3e02a761d9fc0c5c9b2340408c332">avsubtitle_free</a>(&amp;subtitle);</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0)</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = 0;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;        }</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0) {</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;            <span class="keywordflow">if</span> (got_picture)</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a02c9998f757ff024da865ef77ec2f790">nb_decoded_frames</a>++;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>       = got_picture;</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;        }</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;    }</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160; </div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> &amp;&amp; !got_picture)</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = -1;</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160; </div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    <span class="keywordflow">if</span> (do_skip_frame) {</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af869b808363998c80adf7df6a944a5a6">skip_frame</a> = skip_frame;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    }</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160; </div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>);</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;}</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160; </div>
<div class="line"><a name="l03087"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a42db85b017d4205ec7129e9c7c187c9c"> 3087</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> *tags, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;{</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="keywordflow">while</span> (tags-&gt;<a class="code" href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>) {</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;        <span class="keywordflow">if</span> (tags-&gt;<a class="code" href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">id</a> == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;            <span class="keywordflow">return</span> tags-&gt;<a class="code" href="struct_a_v_codec_tag.html#ac3c7db3b0a20647687b74af8b9fb3afd">tag</a>;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        tags++;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    }</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;}</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160; </div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;<span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="libavformat_2utils_8c.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> *tags, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>)</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;{</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> == tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>)</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;            <span class="keywordflow">return</span> tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">id</a>;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libavcodec_2utils_8c.html#ad4714ae1c93972fd9c8ff2a303fcd051">avpriv_toupper4</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) == <a class="code" href="libavcodec_2utils_8c.html#ad4714ae1c93972fd9c8ff2a303fcd051">avpriv_toupper4</a>(tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>))</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;            <span class="keywordflow">return</span> tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">id</a>;</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;}</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160; </div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;<span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="libavformat_2utils_8c.html#a42db85b017d4205ec7129e9c7c187c9c">ff_get_pcm_codec_id</a>(<span class="keywordtype">int</span> <a class="code" href="movenc_8c.html#a274f7fddf13f456309bc20d3fa2b9a80">bps</a>, <span class="keywordtype">int</span> flt, <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a>, <span class="keywordtype">int</span> sflags)</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;{</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="keywordflow">if</span> (bps &lt;= 0 || bps &gt; 64)</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>;</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160; </div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">if</span> (flt) {</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="movenc_8c.html#a274f7fddf13f456309bc20d3fa2b9a80">bps</a>) {</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;        <span class="keywordflow">case</span> 32:</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea2e3b263e55bf4774f5a3a1d7b0261df4">AV_CODEC_ID_PCM_F32BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0178ff664c08bd74594545ba0c5efacb">AV_CODEC_ID_PCM_F32LE</a>;</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;        <span class="keywordflow">case</span> 64:</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabbe3519b849a2acd3e8366bc1173f221">AV_CODEC_ID_PCM_F64BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a06659945e1b8973c6f4712d4910ba1">AV_CODEC_ID_PCM_F64LE</a>;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>;</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;        }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        <a class="code" href="movenc_8c.html#a274f7fddf13f456309bc20d3fa2b9a80">bps</a>  += 7;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        <a class="code" href="movenc_8c.html#a274f7fddf13f456309bc20d3fa2b9a80">bps</a> &gt;&gt;= 3;</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        <span class="keywordflow">if</span> (sflags &amp; (1 &lt;&lt; (<a class="code" href="movenc_8c.html#a274f7fddf13f456309bc20d3fa2b9a80">bps</a> - 1))) {</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="movenc_8c.html#a274f7fddf13f456309bc20d3fa2b9a80">bps</a>) {</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea689ee50aa42c2ae666da10615ff78e10">AV_CODEC_ID_PCM_S8</a>;</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c">AV_CODEC_ID_PCM_S16BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea29c8a6ec93ad1a77e50f2b48efa80204">AV_CODEC_ID_PCM_S16LE</a>;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8">AV_CODEC_ID_PCM_S24BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea55f60c53c2cc765877092c125ee172be">AV_CODEC_ID_PCM_S24LE</a>;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1">AV_CODEC_ID_PCM_S32BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6384417ba463d7aeb03015797cff3349">AV_CODEC_ID_PCM_S32LE</a>;</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;            <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea11fe7c8c18c05d994c3d85cb14c7507f">AV_CODEC_ID_PCM_S64BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa6b7ebb6caae7f0b539e3b299a7a2937">AV_CODEC_ID_PCM_S64LE</a>;</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            }</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="movenc_8c.html#a274f7fddf13f456309bc20d3fa2b9a80">bps</a>) {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1e9ff6fe2442af342b2b42a1a0b2abc8">AV_CODEC_ID_PCM_U8</a>;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8d7e94ed46d290528877c6a8949a756c">AV_CODEC_ID_PCM_U16BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf74e44549c9bac344123cede6a0871ca">AV_CODEC_ID_PCM_U16LE</a>;</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea56e4ec447eb34b4af671fd5c8e36ddb4">AV_CODEC_ID_PCM_U24BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae4523044929927b24cbb846463584a7c">AV_CODEC_ID_PCM_U24LE</a>;</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> ? <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf9d8f80b2f0c516669ea9d6f18c69ebd">AV_CODEC_ID_PCM_U32BE</a> : <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea71143037f27cc95fd5b5b8245cc6d8b9">AV_CODEC_ID_PCM_U32LE</a>;</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>;</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;            }</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;        }</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;    }</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;}</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160; </div>
<div class="line"><a name="l03158"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a4d1ae8b022d5805e359efa536028db80"> 3158</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a4d1ae8b022d5805e359efa536028db80">av_codec_get_tag</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> *<span class="keyword">const</span> *tags, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;{</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a3833f5d5a31361d858f864f9ff7aaea6">av_codec_get_tag2</a>(tags, <span class="keywordtype">id</span>, &amp;<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>))</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;}</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160; </div>
<div class="line"><a name="l03166"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a3833f5d5a31361d858f864f9ff7aaea6"> 3166</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a3833f5d5a31361d858f864f9ff7aaea6">av_codec_get_tag2</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> * <span class="keyword">const</span> *tags, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <span class="keywordtype">id</span>,</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;                      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>)</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;{</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; tags &amp;&amp; tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> *codec_tags = tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;        <span class="keywordflow">while</span> (codec_tags-&gt;<a class="code" href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>) {</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;            <span class="keywordflow">if</span> (codec_tags-&gt;<a class="code" href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">id</a> == <span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = codec_tags-&gt;<a class="code" href="struct_a_v_codec_tag.html#ac3c7db3b0a20647687b74af8b9fb3afd">tag</a>;</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;            }</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;            codec_tags++;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        }</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    }</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;}</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160; </div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;<span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="libavformat_2utils_8c.html#a842d0dce5cd4762c117a18f18879588b">av_codec_get_id</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> *<span class="keyword">const</span> *tags, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>)</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;{</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; tags &amp;&amp; tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <span class="keywordtype">id</span> = <a class="code" href="libavformat_2utils_8c.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a>(tags[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>)</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    }</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;}</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160; </div>
<div class="line"><a name="l03194"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a4445f04952706af79ecf31a4791e6492"> 3194</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a4445f04952706af79ecf31a4791e6492">compute_chapters_end</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;{</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    int64_t max_time = 0;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160; </div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration &gt; 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;start_time &lt; INT64_MAX - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration)</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;        max_time = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;duration +</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                       ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;start_time == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) ? 0 : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;start_time);</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160; </div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;end == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;            <a class="code" href="struct_a_v_chapter.html">AVChapter</a> *ch = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;            int64_t <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> = max_time ? <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(max_time, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>,</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;                                                  ch-&gt;<a class="code" href="struct_a_v_chapter.html#acb5cb6ce9bb6b9f4b970a919f4899818">time_base</a>)</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;                                   : INT64_MAX;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160; </div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters; j++) {</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;                <a class="code" href="struct_a_v_chapter.html">AVChapter</a> *ch1     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[j];</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;                int64_t next_start = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(ch1-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a>, ch1-&gt;<a class="code" href="struct_a_v_chapter.html#acb5cb6ce9bb6b9f4b970a919f4899818">time_base</a>,</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;                                                  ch-&gt;<a class="code" href="struct_a_v_chapter.html#acb5cb6ce9bb6b9f4b970a919f4899818">time_base</a>);</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;                <span class="keywordflow">if</span> (j != <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &amp;&amp; next_start &gt; ch-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a> &amp;&amp; next_start &lt; <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>)</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                    <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> = next_start;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;            }</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;            ch-&gt;<a class="code" href="struct_a_v_chapter.html#ab68f32dc07fac89b4364e86483b00f3e">end</a> = (<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> == INT64_MAX || <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> &lt; ch-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a>) ? ch-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a> : <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;        }</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;}</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160; </div>
<div class="line"><a name="l03221"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2"> 3221</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a>(<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;{</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 30*12)</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) * 1001;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> -= 30*12;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160; </div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 30)</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 31) * 1001 * 12;</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> -= 30;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160; </div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3)</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;        <span class="keywordflow">return</span> ((<span class="keyword">const</span> <span class="keywordtype">int</span>[]) { 80, 120, 240})[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 1001 * 12;</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160; </div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> -= 3;</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160; </div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <span class="keywordflow">return</span> ((<span class="keyword">const</span> <span class="keywordtype">int</span>[]) { 24, 30, 60, 12, 15, 48 })[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * 1000 * 12;</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;}</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160; </div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="comment">/* Is the time base unreliable?</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="comment"> * This is a heuristic to balance between quick acceptance of the values in</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="comment"> * the headers vs. some extra checks.</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;<span class="comment"> * Old DivX and Xvid often have nonsense timebases like 1fps or 2fps.</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;<span class="comment"> * MPEG-2 commonly misuses field repeat flags to store different framerates.</span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="comment"> * And there are &quot;variable&quot; fps files this needs to detect as well. */</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a4020490cf7575aae5c579834062b4281"> 3245</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a4020490cf7575aae5c579834062b4281">tb_unreliable</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;{</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;time_base.den &gt;= 101LL * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;time_base.num ||</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;time_base.den &lt;    5LL * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;time_base.num ||</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;        <span class="comment">// c-&gt;codec_tag == AV_RL32(&quot;DIVX&quot;) ||</span></div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;        <span class="comment">// c-&gt;codec_tag == AV_RL32(&quot;XVID&quot;) ||</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_tag == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;mp4v&quot;</span>) ||</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf614abb36f7c5d0c42ed522c1d6c99f0">AV_CODEC_ID_MPEG2VIDEO</a> ||</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea35d8b1cf0066b5a9da9e86e49b0c3e45">AV_CODEC_ID_GIF</a> ||</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a> ||</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a>)</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;}</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160; </div>
<div class="line"><a name="l03260"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#abd46f5a4eb066239eb76f4bac1281e1d"> 3260</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a>(<a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;{</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>);</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> = 0;</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160; </div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <span class="keywordflow">if</span> (size &lt; 0 || size &gt;= INT32_MAX - <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>)</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160; </div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    <span class="keywordflow">if</span> (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>)</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160; </div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    memset(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, 0, <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;    par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160; </div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;}</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160; </div>
<div class="line"><a name="l03278"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae829eaf74d06f3a6cb1b9ad07560fb92"> 3278</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ae829eaf74d06f3a6cb1b9ad07560fb92">ff_get_extradata</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;{</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a>(par, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(pb, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>);</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;        par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> = 0;</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to read extradata of size %d\n&quot;</span>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0 ? <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> : <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    }</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160; </div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;}</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160; </div>
<div class="line"><a name="l03294"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a550435dc6ea4d6cbf5f257e828b4526b"> 3294</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a550435dc6ea4d6cbf5f257e828b4526b">ff_rfps_add_frame</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, int64_t ts)</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;{</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    int64_t last = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4e6c8012f59638d536ec9c3ca306ea66">last_dts</a>;</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160; </div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    <span class="keywordflow">if</span> (   ts != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; last != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; ts &gt; last</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;       &amp;&amp; ts - (uint64_t)last &lt; INT64_MAX) {</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;        <span class="keywordtype">double</span> dts = (<a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(ts) ?  ts - <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a> : ts) * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;        int64_t <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = ts - last;</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160; </div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>)</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[0])*2);</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>)</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160; </div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;<span class="comment">//         if (st-&gt;codec-&gt;codec_type == AVMEDIA_TYPE_VIDEO)</span></div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;<span class="comment">//             av_log(NULL, AV_LOG_ERROR, &quot;%f\n&quot;, dts);</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="libavformat_2internal_8h.html#a79d6ee9e699fd534e85543752f3cb775">MAX_STD_TIMEBASES</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[0][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; 1e10) {</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="tests_2h264__levels_8c.html#a0e35b8d74e1ac59b82f506293654d26d">framerate</a> = <a class="code" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a>(<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;                <span class="keywordtype">double</span> sdts = dts*<a class="code" href="tests_2h264__levels_8c.html#a0e35b8d74e1ac59b82f506293654d26d">framerate</a>/(1001*12);</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                <span class="keywordflow">for</span> (j= 0; j&lt;2; j++) {</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                    int64_t ticks = <a class="code" href="libm_8h.html#a220c7fd7006446ff6f373833bdc847ba">llrint</a>(sdts+j*0.5);</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                    <span class="keywordtype">double</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>= sdts - ticks + j*0.5;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[j][0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] += <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[j][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] += <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>*<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                }</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;            }</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;        }</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac175efafc3597c6621a0ddd32eb73b74">rfps_duration_sum</a> &lt;= INT64_MAX - <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>) {</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a>++;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac175efafc3597c6621a0ddd32eb73b74">rfps_duration_sum</a> += <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        }</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160; </div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a> % 10 == 0) {</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;            <span class="keywordtype">int</span> n = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a>;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="libavformat_2internal_8h.html#a79d6ee9e699fd534e85543752f3cb775">MAX_STD_TIMEBASES</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[0][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt; 1e10) {</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;                    <span class="keywordtype">double</span> <a class="code" href="regdef_8h.html#aa42b800f0f58b50bc7604c67cc2853ab">a0</a>     = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[0][0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] / n;</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;                    <span class="keywordtype">double</span> error0 = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[0][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] / n - <a class="code" href="regdef_8h.html#aa42b800f0f58b50bc7604c67cc2853ab">a0</a>*<a class="code" href="regdef_8h.html#aa42b800f0f58b50bc7604c67cc2853ab">a0</a>;</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                    <span class="keywordtype">double</span> <a class="code" href="regdef_8h.html#ab89a77e63a7226fffaecb2e2c2ab5219">a1</a>     = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[1][0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] / n;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                    <span class="keywordtype">double</span> error1 = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[1][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] / n - <a class="code" href="regdef_8h.html#ab89a77e63a7226fffaecb2e2c2ab5219">a1</a>*<a class="code" href="regdef_8h.html#ab89a77e63a7226fffaecb2e2c2ab5219">a1</a>;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                    <span class="keywordflow">if</span> (error0 &gt; 0.04 &amp;&amp; error1 &gt; 0.04) {</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[0][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 2e10;</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;                        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[1][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 2e10;</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                    }</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;                }</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;            }</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;        }</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160; </div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;        <span class="comment">// ignore the first 4 values, they might have some random jitter</span></div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a> &gt; 3 &amp;&amp; <a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(ts) == <a class="code" href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a>(last))</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a399f22865073e2bb9d531fae48c10061">duration_gcd</a> = <a class="code" href="group__lavu__math.html#ga952147c7a40c48a05c39e918b153ba99">av_gcd</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a399f22865073e2bb9d531fae48c10061">duration_gcd</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;    }</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <span class="keywordflow">if</span> (ts != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4e6c8012f59638d536ec9c3ca306ea66">last_dts</a> = ts;</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160; </div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;}</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160; </div>
<div class="line"><a name="l03354"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a3d013588a419f1b93756a70c3a01011b"> 3354</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a3d013588a419f1b93756a70c3a01011b">ff_rfps_calculate</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic)</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;{</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160; </div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160; </div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;        <span class="comment">// the check for tb_unreliable() is not completely correct, since this is not about handling</span></div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;        <span class="comment">// an unreliable/inexact time base, but a time base that is finer than necessary, as e.g.</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;        <span class="comment">// ipmovie.c produces.</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libavformat_2utils_8c.html#a4020490cf7575aae5c579834062b4281">tb_unreliable</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>) &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a> &gt; 15 &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a399f22865073e2bb9d531fae48c10061">duration_gcd</a> &gt; <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(1, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>/(500LL*st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>)) &amp;&amp; !st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>)</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;            <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a399f22865073e2bb9d531fae48c10061">duration_gcd</a>, INT_MAX);</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a>&gt;1 &amp;&amp; !st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;            &amp;&amp; <a class="code" href="libavformat_2utils_8c.html#a4020490cf7575aae5c579834062b4281">tb_unreliable</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>)) {</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;            <span class="keywordtype">int</span> num = 0;</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;            <span class="keywordtype">double</span> best_error= 0.01;</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;            <a class="code" href="struct_a_v_rational.html">AVRational</a> ref_rate = st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> ? st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a> : <a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>);</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160; </div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;            <span class="keywordflow">for</span> (j= 0; j&lt;<a class="code" href="libavformat_2internal_8h.html#a79d6ee9e699fd534e85543752f3cb775">MAX_STD_TIMEBASES</a>; j++) {</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;                <span class="keywordtype">int</span> k;</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160; </div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a> &amp;&amp;</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a>*<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) &lt; (1001*11.5)/<a class="code" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a>(j))</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;                <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a> &amp;&amp; <a class="code" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a>(j) &lt; 1001*12)</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160; </div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) * st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac175efafc3597c6621a0ddd32eb73b74">rfps_duration_sum</a> / st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a> &lt; (1001*12.0 * 0.8)/<a class="code" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a>(j))</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160; </div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                <span class="keywordflow">for</span> (k= 0; k&lt;2; k++) {</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                    <span class="keywordtype">int</span> n = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a>;</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;                    <span class="keywordtype">double</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>= st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[k][0][j] / n;</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;                    <span class="keywordtype">double</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>= st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>[k][1][j]/n - <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>*<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160; </div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;                    <span class="keywordflow">if</span> (error &lt; best_error &amp;&amp; best_error&gt; 0.000000001) {</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;                        best_error= <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;                        num = <a class="code" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a>(j);</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;                    }</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a> &lt; 0.02)</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;rfps: %f %f\n&quot;</span>, <a class="code" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a>(j) / 12.0/1001, <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>);</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;                }</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;            }</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;            <span class="comment">// do not increase frame rate by more than 1 % in order to match a standard rate.</span></div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;            <span class="keywordflow">if</span> (num &amp;&amp; (!ref_rate.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> || (<span class="keywordtype">double</span>)num/(12*1001) &lt; 1.01 * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ref_rate)))</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, num, 12*1001, INT_MAX);</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;        }</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;        <span class="keywordflow">if</span> (   !st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;            &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac175efafc3597c6621a0ddd32eb73b74">rfps_duration_sum</a></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;            &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a> &lt;= 0</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;            &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a> &gt; 2</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;            &amp;&amp; <a class="code" href="cuda__runtime_8h.html#a7a87cd25426a228ce8ecbef48ab00de8">fabs</a>(1.0 / (<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>) * <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>)) - st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac175efafc3597c6621a0ddd32eb73b74">rfps_duration_sum</a> / (<span class="keywordtype">double</span>)st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a>) &lt;= 1.0</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;            ) {</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Setting avg frame rate based on r frame rate\n&quot;</span>);</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>;</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;        }</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160; </div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>);</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4e6c8012f59638d536ec9c3ca306ea66">last_dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a> = 0;</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac175efafc3597c6621a0ddd32eb73b74">rfps_duration_sum</a> = 0;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    }</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;}</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160; </div>
<div class="line"><a name="l03420"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae9720955b6c65f55648e4ecb21c85819"> 3420</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ae9720955b6c65f55648e4ecb21c85819">extract_extradata_check</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;{</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_bit_stream_filter.html">AVBitStreamFilter</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160; </div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = <a class="code" href="group__lavc__core.html#gae491493190b45698ebd43db28c4e8fe9">av_bsf_get_by_name</a>(<span class="stringliteral">&quot;extract_extradata&quot;</span>);</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160; </div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;codec_ids) {</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;        <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> *ids;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;        <span class="keywordflow">for</span> (ids = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;codec_ids; *ids != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>; ids++)</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;            <span class="keywordflow">if</span> (*ids == st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>)</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    }</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160; </div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;}</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160; </div>
<div class="line"><a name="l03438"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a9ea4142dde02201f3f59bfa823b17a61"> 3438</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a9ea4142dde02201f3f59bfa823b17a61">extract_extradata_init</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;{</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    <a class="code" href="struct_a_v_stream_internal.html">AVStreamInternal</a> *sti = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_bit_stream_filter.html">AVBitStreamFilter</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160; </div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = <a class="code" href="group__lavc__core.html#gae491493190b45698ebd43db28c4e8fe9">av_bsf_get_by_name</a>(<span class="stringliteral">&quot;extract_extradata&quot;</span>);</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a>;</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160; </div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <span class="comment">/* check that the codec id is supported */</span></div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#ae9720955b6c65f55648e4ecb21c85819">extract_extradata_check</a>(st);</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>)</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a>;</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160; </div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#a016b1f9d95b7479b14c55d87a4acebfa">pkt</a> = <a class="code" href="group__lavc__packet.html#gaaf85aa950695631e0217a16062289b66">av_packet_alloc</a>();</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    <span class="keywordflow">if</span> (!sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#a016b1f9d95b7479b14c55d87a4acebfa">pkt</a>)</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160; </div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#ga7da65af303e20c9546e15ec266b182c1">av_bsf_alloc</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, &amp;sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>);</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160; </div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2utils_8c.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a>(sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>-&gt;<a class="code" href="struct_a_v_b_s_f_context.html#a702ace639b8193475cf0a12ebdebd738">par_in</a>,</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;                                  st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160; </div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;    sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>-&gt;<a class="code" href="struct_a_v_b_s_f_context.html#ad75adf988c00f89202099c87ea39f0db">time_base_in</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160; </div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#ga242529d54013acf87e94273d298a5ff2">av_bsf_init</a>(sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160; </div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<a class="code" href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a>:</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aadf7537f16a03e4957c558fc34f0a942">inited</a> = 1;</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160; </div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <a class="code" href="group__lavc__core.html#ga08d53431e76355f88e27763b1940df4f">av_bsf_free</a>(&amp;sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>);</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <a class="code" href="group__lavc__packet.html#ga1066464e7cdd1f215df6940db94e5d8e">av_packet_free</a>(&amp;sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#a016b1f9d95b7479b14c55d87a4acebfa">pkt</a>);</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;}</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160; </div>
<div class="line"><a name="l03482"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#aa6fc9aab160bcf49d8249f980b5cf5b2"> 3482</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#aa6fc9aab160bcf49d8249f980b5cf5b2">extract_extradata</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;{</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    <a class="code" href="struct_a_v_stream_internal.html">AVStreamInternal</a> *sti = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>;</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <a class="code" href="struct_a_v_packet.html">AVPacket</a> *pkt_ref;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160; </div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="keywordflow">if</span> (!sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aadf7537f16a03e4957c558fc34f0a942">inited</a>) {</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#a9ea4142dde02201f3f59bfa823b17a61">extract_extradata_init</a>(st);</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    }</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160; </div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    <span class="keywordflow">if</span> (sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aadf7537f16a03e4957c558fc34f0a942">inited</a> &amp;&amp; !sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>)</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160; </div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    pkt_ref = sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#a016b1f9d95b7479b14c55d87a4acebfa">pkt</a>;</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__packet.html#gadb05d71fa2ea7b7fd3e8cfc6d9065a47">av_packet_ref</a>(pkt_ref, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160; </div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gaada9ea8f08d3dcf23c14564dbc88992c">av_bsf_send_packet</a>(sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>, pkt_ref);</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(pkt_ref);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    }</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160; </div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0 &amp;&amp; !sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>) {</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#ga7fffb6c87b91250956e7a2367af56b38">av_bsf_receive_packet</a>(sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>, pkt_ref);</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN) &amp;&amp; <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>)</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        }</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160; </div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; pkt_ref-&gt;<a class="code" href="struct_a_v_packet.html#af415e25244b26921e8fc249d45499b84">side_data_elems</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;            <a class="code" href="struct_a_v_packet_side_data.html">AVPacketSideData</a> *side_data = &amp;pkt_ref-&gt;<a class="code" href="struct_a_v_packet.html#ac55bfef91c33f02704ba76518d0f294c">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;            <span class="keywordflow">if</span> (side_data-&gt;<a class="code" href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">type</a> == <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a>) {</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;                sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>      = side_data-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a>;</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;                sti-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> = side_data-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a>;</div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;                side_data-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;                side_data-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a> = 0;</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;            }</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;        }</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(pkt_ref);</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    }</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160; </div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;}</div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160; </div>
<div class="line"><a name="l03532"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#af0cae0ce1eb66fa7b6f9c45ad0dc7ad6"> 3532</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#af0cae0ce1eb66fa7b6f9c45ad0dc7ad6">add_coded_side_data</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;{</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160; </div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a325eeedbf92770f2423d63b1db7d1ee3">nb_coded_side_data</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_packet_side_data.html">AVPacketSideData</a> *sd_src = &amp;avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d9375d5c81895b9048644e547b33d32">coded_side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst_data;</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        dst_data = <a class="code" href="group__lavf__core.html#gae324697cedd36e7b47a1e142dc24b805">av_stream_new_side_data</a>(st, sd_src-&gt;<a class="code" href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">type</a>, sd_src-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a>);</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;        <span class="keywordflow">if</span> (!dst_data)</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;        memcpy(dst_data, sd_src-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a>, sd_src-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a>);</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    }</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;}</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160; </div>
<div class="line"><a name="l03547"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#gad42172e27cddafb81096939783b157bb"> 3547</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#gad42172e27cddafb81096939783b157bb">avformat_find_stream_info</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;{</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, count = 0, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0, j;</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    int64_t read_size;</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx;</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <a class="code" href="struct_a_v_packet.html">AVPacket</a> pkt1;</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    int64_t old_offset  = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    <span class="comment">// new streams might appear, no options for those</span></div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;    <span class="keywordtype">int</span> orig_nb_streams = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>;</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    <span class="keywordtype">int</span> flush_codecs;</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    int64_t max_analyze_duration = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a4d860662c014f88277c8f20e238fa694">max_analyze_duration</a>;</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    int64_t max_stream_analyze_duration;</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    int64_t max_subtitle_analyze_duration;</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    int64_t probesize = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acb47a2a7362ac575b4986e0028786a41">probesize</a>;</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    <span class="keywordtype">int</span> eof_reached = 0;</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordtype">int</span> *missing_streams = <a class="code" href="group__avoptions.html#gab1d208d09e487741a28016919225bef6">av_opt_ptr</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#afaac829559ad9e07618c01a51d8a4c5f">priv_class</a>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#ac4c0777e54085af2f3f1b27130e2b21b">priv_data</a>, <span class="stringliteral">&quot;missing_streams&quot;</span>);</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160; </div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    flush_codecs = probesize &gt; 0;</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160; </div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    <a class="code" href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a>(ic, <span class="stringliteral">&quot;skip_clear&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>);</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160; </div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    max_stream_analyze_duration = max_analyze_duration;</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    max_subtitle_analyze_duration = max_analyze_duration;</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    <span class="keywordflow">if</span> (!max_analyze_duration) {</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;        max_stream_analyze_duration =</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;        max_analyze_duration        = 5*<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;        max_subtitle_analyze_duration = 30*<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;        <span class="keywordflow">if</span> (!strcmp(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;flv&quot;</span>))</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;            max_stream_analyze_duration = 90*<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;        <span class="keywordflow">if</span> (!strcmp(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;mpeg&quot;</span>) || !strcmp(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;mpegts&quot;</span>))</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;            max_stream_analyze_duration = 7*<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    }</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160; </div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Before avformat_find_stream_info() pos: %&quot;</span>PRId64<span class="stringliteral">&quot; bytes read:%&quot;</span>PRId64<span class="stringliteral">&quot; seeks:%d nb_streams:%d\n&quot;</span>,</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;               <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>), ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#a2685da68190c842c028ec161ff2b563e">bytes_read</a>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#a38b3c122a21fc2271e3174342e87a79f">seek_count</a>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>);</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160; </div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *codec;</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;        <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *thread_opt = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;        avctx = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>;</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160; </div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> ||</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>) {</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;<span class="comment">/*            if (!st-&gt;time_base.num)</span></div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;<span class="comment">                st-&gt;time_base = */</span></div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;            <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>)</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;                avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;        }</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160; </div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;        <span class="comment">/* check if the caller has overridden the codec id */</span></div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;        <span class="keywordflow">if</span> (st-&gt;codec-&gt;codec_id != st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#adcdc151cc5089588caebc16138703bbe">orig_codec_id</a>) {</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>   = st-&gt;codec-&gt;codec_id;</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> = st-&gt;codec-&gt;codec_type;</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#adcdc151cc5089588caebc16138703bbe">orig_codec_id</a> = st-&gt;codec-&gt;codec_id;</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;        }</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        <span class="comment">// only for the split stuff</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> &amp;&amp; !(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">flags</a> &amp; <a class="code" href="avformat_8h.html#af94b1dbe5f4e7c0ab04dc05ea18c1d81">AVFMT_FLAG_NOPARSE</a>) &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> &lt;= 0) {</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> = <a class="code" href="group__lavc__parsing.html#ga0dd9af605377fcbb49fffd982672d377">av_parser_init</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>) {</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> == <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a67bc09fcdeb0e05754f344fbc80856ca">AVSTREAM_PARSE_HEADERS</a>) {</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">flags</a> |= <a class="code" href="avcodec_8h.html#a700fb89fb8a00d075c8b7f3375784b90">PARSER_FLAG_COMPLETE_FRAMES</a>;</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> == <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e">AVSTREAM_PARSE_FULL_RAW</a>) {</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">flags</a> |= <a class="code" href="avcodec_8h.html#a0caacc93560ac7a69347a5e9c629a6d9">PARSER_FLAG_USE_CODEC_TS</a>;</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;                }</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a>) {</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;parser not found for codec &quot;</span></div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;                       <span class="stringliteral">&quot;%s, packets or times may be invalid.\n&quot;</span>,</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;                       <a class="code" href="group__lavc__core.html#ga2016a52e94f867ebe5113bdf448e182d">avcodec_get_name</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>));</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;            }</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;        }</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160; </div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#adcdc151cc5089588caebc16138703bbe">orig_codec_id</a>)</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#adcdc151cc5089588caebc16138703bbe">orig_codec_id</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>;</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160; </div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(avctx, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;            <span class="keywordflow">goto</span> find_stream_info_err;</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> &lt;= 0)</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2a7f0fb7197b54b9f85b63fa544c9118">avctx_inited</a> = 1;</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160; </div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;        codec = <a class="code" href="libavformat_2utils_8c.html#a8022d39ef3f935904c17e0b7959cce7c">find_probe_decoder</a>(ic, st, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160; </div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;        <span class="comment">/* Force thread count to 1 since the H.264 decoder will not extract</span></div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;<span class="comment">         * SPS and PPS to extradata during multi-threaded decoding. */</span></div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> ? &amp;<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] : &amp;thread_opt, <span class="stringliteral">&quot;threads&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>, 0);</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160; </div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;        <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#aa3b43e2a040a3ce658620711a8345234">codec_whitelist</a>)</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;            <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> ? &amp;<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] : &amp;thread_opt, <span class="stringliteral">&quot;codec_whitelist&quot;</span>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#aa3b43e2a040a3ce658620711a8345234">codec_whitelist</a>, 0);</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160; </div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;        <span class="comment">/* Ensure that subtitle_header is properly set. */</span></div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a></div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;            &amp;&amp; codec &amp;&amp; !avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>) {</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a>(avctx, codec, <a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> ? &amp;<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] : &amp;thread_opt) &lt; 0)</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;                       <span class="stringliteral">&quot;Failed to open codec in %s\n&quot;</span>,__FUNCTION__);</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;        }</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160; </div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;        <span class="comment">// Try to just open decoders, in case this is enough to get parameters.</span></div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3">has_codec_parameters</a>(st, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">request_probe</a> &lt;= 0) {</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;            <span class="keywordflow">if</span> (codec &amp;&amp; !avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>)</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a>(avctx, codec, <a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> ? &amp;<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] : &amp;thread_opt) &lt; 0)</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;                           <span class="stringliteral">&quot;Failed to open codec in %s\n&quot;</span>,__FUNCTION__);</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;        }</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;            <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;thread_opt);</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;    }</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160; </div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;<span class="preprocessor">#if FF_API_R_FRAME_RATE</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4e6c8012f59638d536ec9c3ca306ea66">last_dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;        ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>  = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    }</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160; </div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;    read_size = 0;</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>;</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;        <span class="keywordtype">int</span> analyzed_all_streams;</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avio_8c.html#a5ab500590561cbcd78b4667fa6f1e5df">ff_check_interrupt</a>(&amp;ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5b37acfe4024d92ee510064e80920b40">interrupt_callback</a>)) {</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#ga334ea23fd9e492cd0e718330f2353b6b">AVERROR_EXIT</a>;</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;interrupted\n&quot;</span>);</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;        }</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160; </div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;        <span class="comment">/* check if one codec still needs to be handled */</span></div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;            <span class="keywordtype">int</span> fps_analyze_framecount = 20;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;            <span class="keywordtype">int</span> count;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160; </div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;            st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3">has_codec_parameters</a>(st, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;            <span class="comment">/* If the timebase is coarse (like the usual millisecond precision</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;<span class="comment">             * of mkv), we need to analyze more frames to reliably arrive at</span></div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;<span class="comment">             * the correct fps. */</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) &gt; 0.0005)</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;                fps_analyze_framecount *= 2;</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a4020490cf7575aae5c579834062b4281">tb_unreliable</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>))</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;                fps_analyze_framecount = 0;</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;            <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a517e6b5dcada506a49ef413d4d8d477a">fps_probe_size</a> &gt;= 0)</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;                fps_analyze_framecount = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a517e6b5dcada506a49ef413d4d8d477a">fps_probe_size</a>;</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>)</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;                fps_analyze_framecount = 0;</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;            <span class="comment">/* variable fps and no guess at the real fps */</span></div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;            count = (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a1b30f6647d0c2faf38ba8786d7c3a838">flags</a> &amp; <a class="code" href="avformat_8h.html#ae4418d32b17890be22da9c5f95087168">AVFMT_NOTIMESTAMPS</a>) ?</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a12404863757b23e1f5c4fdd9f13fe7f7">codec_info_duration_fields</a>/2 :</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a>;</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;            <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (!(st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>) &amp;&amp;</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;                <span class="keywordflow">if</span> (count &lt; fps_analyze_framecount)</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;            }</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;            <span class="comment">// Look at the first 3 frames if there is evidence of frame delay</span></div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;            <span class="comment">// but the decoder delay is not set.</span></div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bff75aaac18aa2beab28d83eb1cb1a">frame_delay_evidence</a> &amp;&amp; count &lt; 2 &amp;&amp; st-&gt;internal-&gt;avctx-&gt;has_b_frames == 0)</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;            <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a> &amp;&amp;</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;                (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aadf7537f16a03e4957c558fc34f0a942">inited</a> ||</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;                 st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>) &amp;&amp;</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;                <a class="code" href="libavformat_2utils_8c.html#ae9720955b6c65f55648e4ecb21c85819">extract_extradata_check</a>(st))</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;                !(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a1b30f6647d0c2faf38ba8786d7c3a838">flags</a> &amp; <a class="code" href="avformat_8h.html#ae4418d32b17890be22da9c5f95087168">AVFMT_NOTIMESTAMPS</a>) &amp;&amp;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a> &lt; ((st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>) ? 1 : ic-&gt;<a class="code" href="struct_a_v_format_context.html#ad7854e5186dd14ce91dea1dfd0bb826f">max_ts_probe</a>) &amp;&amp;</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;                (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> ||</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;                 st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>))</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        }</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;        analyzed_all_streams = 0;</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;        <span class="keywordflow">if</span> (!missing_streams || !*missing_streams)</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>) {</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;                analyzed_all_streams = 1;</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;                <span class="comment">/* NOTE: If the format has no header, then we need to read some</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;<span class="comment">                 * packets to get most of the streams, so we cannot stop here. */</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;                <span class="keywordflow">if</span> (!(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a4e6076343df1ffc2e16cedbba3f3f397">ctx_flags</a> &amp; <a class="code" href="avformat_8h.html#a42e3c3d72e561fdc501613962fccc4aa">AVFMTCTX_NOHEADER</a>)) {</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;                    <span class="comment">/* If we found the info for all the codecs, we can stop. */</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;                    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = count;</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;All info found\n&quot;</span>);</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;                    flush_codecs = 0;</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;                }</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;            }</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;        <span class="comment">/* We did not get all the codec info, but we read too much data. */</span></div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;        <span class="keywordflow">if</span> (read_size &gt;= probesize) {</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = count;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;                   <span class="stringliteral">&quot;Probe buffer size limit of %&quot;</span>PRId64<span class="stringliteral">&quot; bytes reached\n&quot;</span>, probesize);</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;                <span class="keywordflow">if</span> (!ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp;</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;                    ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">duration_count</a> &lt;= 1 &amp;&amp;</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;                    ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;                    strcmp(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">iformat</a>-&gt;<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>, <span class="stringliteral">&quot;image2&quot;</span>))</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;                           <span class="stringliteral">&quot;Stream #%d: not enough frames to estimate rate; &quot;</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;                           <span class="stringliteral">&quot;consider increasing probesize\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;        }</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160; </div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;        <span class="comment">/* NOTE: A new stream can be added there if no header in file</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;<span class="comment">         * (AVFMTCTX_NOHEADER). */</span></div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#ae9e12c557cfa7c280e835760300a601e">read_frame_internal</a>(ic, &amp;pkt1);</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN))</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160; </div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;            <span class="comment">/* EOF or error*/</span></div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;            eof_reached = 1;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;        }</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160; </div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;        <span class="keywordflow">if</span> (!(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">flags</a> &amp; <a class="code" href="avformat_8h.html#aee579ebc55f7067a964fbfd09c14e8c2">AVFMT_FLAG_NOBUFFER</a>)) {</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avpacket_8c.html#afa665397a1c0f0e1f8d0593414e5a7d5">avpriv_packet_list_put</a>(&amp;ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#a615cc3e5cda48d841152b1a45a91f5c9">packet_buffer</a>,</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;                                     &amp;ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#a88b42d669c6a948267ac585cba3f9fc3">packet_buffer_end</a>,</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;                                     &amp;pkt1, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;                <span class="keywordflow">goto</span> unref_then_goto_end;</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160; </div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a> = &amp;ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#a88b42d669c6a948267ac585cba3f9fc3">packet_buffer_end</a>-&gt;<a class="code" href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">pkt</a>;</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a> = &amp;pkt1;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;        }</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160; </div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;        <span class="keywordflow">if</span> (!(st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>))</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;            read_size += <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160; </div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;        avctx = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2a7f0fb7197b54b9f85b63fa544c9118">avctx_inited</a>) {</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(avctx, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;                <span class="keywordflow">goto</span> unref_then_goto_end;</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2a7f0fb7197b54b9f85b63fa544c9118">avctx_inited</a> = 1;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        }</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160; </div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a> &gt; 1) {</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;            <span class="comment">/* check for non-increasing dts */</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a> &gt;= <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>) {</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;                       <span class="stringliteral">&quot;Non-increasing DTS in stream %d: packet %d with DTS &quot;</span></div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;                       <span class="stringliteral">&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;, packet %d with DTS %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac685720aeaa4a6b325e4f757b8720207">fps_last_dts_idx</a>,</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>,</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;                       <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>);</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a> =</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>  = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;            }</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;            <span class="comment">/* Check for a discontinuity in dts. If the difference in dts</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;<span class="comment">             * is more than 1000 times the average packet duration in the</span></div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;<span class="comment">             * sequence, we treat it as a discontinuity. */</span></div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac685720aeaa4a6b325e4f757b8720207">fps_last_dts_idx</a> &gt; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a67b9a4ba09cdceb0286cb309a089b777">fps_first_dts_idx</a> &amp;&amp;</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;                (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> - (uint64_t)st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>) / 1000 &gt;</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;                (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>     - (uint64_t)st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a>) /</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;                (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac685720aeaa4a6b325e4f757b8720207">fps_last_dts_idx</a> - st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a67b9a4ba09cdceb0286cb309a089b777">fps_first_dts_idx</a>)) {</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;                       <span class="stringliteral">&quot;DTS discontinuity in stream %d: packet %d with DTS &quot;</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;                       <span class="stringliteral">&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;, packet %d with DTS %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac685720aeaa4a6b325e4f757b8720207">fps_last_dts_idx</a>,</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;                       st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>,</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;                       <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>);</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a> =</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>  = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;            }</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160; </div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;            <span class="comment">/* update stored dts values */</span></div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a>     = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a67b9a4ba09cdceb0286cb309a089b777">fps_first_dts_idx</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>;</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;            }</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>     = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac685720aeaa4a6b325e4f757b8720207">fps_last_dts_idx</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>;</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;        }</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>&gt;1) {</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;            int64_t t = 0;</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;            int64_t limit;</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160; </div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0)</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;                t = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0)</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;                t = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(t, <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>, <a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>), <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>));</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160; </div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;            <span class="keywordflow">if</span> (   t == 0</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;                &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>&gt;30</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;                &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a></div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;                &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>  != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;                t = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(t, <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a> - st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>));</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160; </div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;            <span class="keywordflow">if</span> (analyzed_all_streams)                                limit = max_analyze_duration;</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>) limit = max_subtitle_analyze_duration;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;            <span class="keywordflow">else</span>                                                     limit = max_stream_analyze_duration;</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160; </div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;            <span class="keywordflow">if</span> (t &gt;= limit) {</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;max_analyze_duration %&quot;</span>PRId64<span class="stringliteral">&quot; reached at %&quot;</span>PRId64<span class="stringliteral">&quot; microseconds st:%d\n&quot;</span>,</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;                       limit,</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;                       t, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>);</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;                <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">flags</a> &amp; <a class="code" href="avformat_8h.html#aee579ebc55f7067a964fbfd09c14e8c2">AVFMT_FLAG_NOBUFFER</a>)</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;                    <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;pkt1);</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;            }</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>) {</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;                <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> &gt;= st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>) {</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a> = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> - st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>);</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;                } <span class="keywordflow">else</span></div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a> += <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a12404863757b23e1f5c4fdd9f13fe7f7">codec_info_duration_fields</a> += st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> ==2 ? st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a813780022f0a6abd1b7ab075264ffc3f">repeat_pict</a> + 1 : 2;</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;            }</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;        }</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;<span class="preprocessor">#if FF_API_R_FRAME_RATE</span></div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;            <a class="code" href="libavformat_2utils_8c.html#a550435dc6ea4d6cbf5f257e828b4526b">ff_rfps_add_frame</a>(ic, st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>);</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac7bff75aaac18aa2beab28d83eb1cb1a">frame_delay_evidence</a> = 1;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;        }</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>) {</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#aa6fc9aab160bcf49d8249f980b5cf5b2">extract_extradata</a>(st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;                <span class="keywordflow">goto</span> unref_then_goto_end;</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;        }</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160; </div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;        <span class="comment">/* If still no information, we try to open the codec and to</span></div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;<span class="comment">         * decompress the frame. We try to avoid that in most cases as</span></div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;<span class="comment">         * it takes longer and uses more memory. For MPEG-4, we need to</span></div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;<span class="comment">         * decompress for QuickTime.</span></div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;<span class="comment">         * If AV_CODEC_CAP_CHANNEL_CONF is set this will force decoding of at</span></div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;<span class="comment">         * least one frame of codec data, this makes sure the codec initializes</span></div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;<span class="comment">         * the channel configuration and does not only trust the values from</span></div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;<span class="comment">         * the container. */</span></div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#ab66cfd3e24247b6e3e4ea0d93d6f8d09">try_decode_frame</a>(ic, st, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;                         (<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> &amp;&amp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; orig_nb_streams) ? &amp;<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] : <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160; </div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;        <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">flags</a> &amp; <a class="code" href="avformat_8h.html#aee579ebc55f7067a964fbfd09c14e8c2">AVFMT_FLAG_NOBUFFER</a>)</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;pkt1);</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160; </div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>++;</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        count++;</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;    }</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160; </div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    <span class="keywordflow">if</span> (eof_reached) {</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;        <span class="keywordtype">int</span> stream_index;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        <span class="keywordflow">for</span> (stream_index = 0; stream_index &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; stream_index++) {</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;            st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index];</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;            avctx = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>;</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3">has_codec_parameters</a>(st, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;                <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *codec = <a class="code" href="libavformat_2utils_8c.html#a8022d39ef3f935904c17e0b7959cce7c">find_probe_decoder</a>(ic, st, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;                <span class="keywordflow">if</span> (codec &amp;&amp; !avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>) {</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;                    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;                    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#aa3b43e2a040a3ce658620711a8345234">codec_whitelist</a>)</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;                        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;codec_whitelist&quot;</span>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#aa3b43e2a040a3ce658620711a8345234">codec_whitelist</a>, 0);</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a>(avctx, codec, (<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> &amp;&amp; stream_index &lt; orig_nb_streams) ? &amp;<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>[stream_index] : &amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>) &lt; 0)</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;                               <span class="stringliteral">&quot;Failed to open codec in %s\n&quot;</span>,__FUNCTION__);</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;                    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;                }</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;            }</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160; </div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;            <span class="comment">// EOF already reached while reading the stream above.</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;            <span class="comment">// So continue with reoordering DTS with whatever delay we have.</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;            <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#a615cc3e5cda48d841152b1a45a91f5c9">packet_buffer</a> &amp;&amp; !<a class="code" href="libavformat_2utils_8c.html#a138a0069ebea59cf63563675ce52f6f6">has_decode_delay_been_guessed</a>(st)) {</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;                <a class="code" href="libavformat_2utils_8c.html#aa8b1c33ebf8969100610f7fa1379f58d">update_dts_from_pts</a>(ic, stream_index, ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#a615cc3e5cda48d841152b1a45a91f5c9">packet_buffer</a>);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;            }</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;        }</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;    }</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160; </div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <span class="keywordflow">if</span> (flush_codecs) {</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;        <a class="code" href="struct_a_v_packet.html">AVPacket</a> empty_pkt = { 0 };</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;        <span class="keywordtype">int</span> err = 0;</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;        <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(&amp;empty_pkt);</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160; </div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160; </div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;            st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160; </div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;            <span class="comment">/* flush the decoders */</span></div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">found_decoder</a> == 1) {</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;                    err = <a class="code" href="libavformat_2utils_8c.html#ab66cfd3e24247b6e3e4ea0d93d6f8d09">try_decode_frame</a>(ic, st, &amp;empty_pkt,</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;                                            (<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a> &amp;&amp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; orig_nb_streams)</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;                                            ? &amp;<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] : <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;                } <span class="keywordflow">while</span> (err &gt; 0 &amp;&amp; !<a class="code" href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3">has_codec_parameters</a>(st, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160; </div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;                <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a>,</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;                        <span class="stringliteral">&quot;decoding for stream %d failed\n&quot;</span>, st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>);</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;                }</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;            }</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;        }</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;    }</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160; </div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a3d013588a419f1b93756a70c3a01011b">ff_rfps_calculate</a>(ic);</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160; </div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;        avctx = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>;</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;            <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a> &amp;&amp; !avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a2c974557671dd459674b170c5e64d79a">codec_tag</a> &amp;&amp; !avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a>) {</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;                uint32_t <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>= <a class="code" href="group__lavc__misc__pixfmt.html#ga9bb07f91a7c87cba19a44ebdcf5bde63">avcodec_pix_fmt_to_codec_tag</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>);</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="libavcodec_2utils_8c.html#a7cc4b1b3945d089b12583e61a648909e">avpriv_find_pix_fmt</a>(<a class="code" href="raw_8c.html#a97dfa9c7604d0331da5c073b485490c9">avpriv_get_raw_pix_fmt_tags</a>(), <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) == avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>)</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;                    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a2c974557671dd459674b170c5e64d79a">codec_tag</a>= <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;            }</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160; </div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;            <span class="comment">/* estimate average framerate if not set by demuxer */</span></div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a12404863757b23e1f5c4fdd9f13fe7f7">codec_info_duration_fields</a> &amp;&amp;</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;                !st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp;</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a>) {</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;                <span class="keywordtype">int</span> best_fps      = 0;</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;                <span class="keywordtype">double</span> best_error = 0.01;</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;                <a class="code" href="struct_a_v_rational.html">AVRational</a> codec_frame_rate = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>;</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160; </div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;                <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a>        &gt;= INT64_MAX / st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> / 2||</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a12404863757b23e1f5c4fdd9f13fe7f7">codec_info_duration_fields</a> &gt;= INT64_MAX / st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> ||</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a>        &lt; 0)</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;                <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;                          st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a12404863757b23e1f5c4fdd9f13fe7f7">codec_info_duration_fields</a> * (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;                          st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">codec_info_duration</a> * 2 * (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, 60000);</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160; </div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;                <span class="comment">/* Round guessed framerate to a &quot;standard&quot; framerate if it&#39;s</span></div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;<span class="comment">                 * within 1% of the original estimate. */</span></div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="libavformat_2internal_8h.html#a79d6ee9e699fd534e85543752f3cb775">MAX_STD_TIMEBASES</a>; j++) {</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;                    <a class="code" href="struct_a_v_rational.html">AVRational</a> std_fps = { <a class="code" href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a>(j), 12 * 1001 };</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;                    <span class="keywordtype">double</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>       = <a class="code" href="cuda__runtime_8h.html#a7a87cd25426a228ce8ecbef48ab00de8">fabs</a>(<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>) /</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;                                              <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(std_fps) - 1);</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160; </div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a> &lt; best_error) {</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;                        best_error = <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;                        best_fps   = std_fps.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;                    }</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160; </div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;                    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">internal</a>-&gt;<a class="code" href="struct_a_v_format_internal.html#a05d9e8d1ee1ef347e44444969f31b4ae">prefer_codec_framerate</a> &amp;&amp; codec_frame_rate.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp; codec_frame_rate.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0) {</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;                        <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>       = <a class="code" href="cuda__runtime_8h.html#a7a87cd25426a228ce8ecbef48ab00de8">fabs</a>(<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(codec_frame_rate) /</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;                                           <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(std_fps) - 1);</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a> &lt; best_error) {</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;                            best_error = <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;                            best_fps   = std_fps.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;                        }</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;                    }</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;                }</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;                <span class="keywordflow">if</span> (best_fps)</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;                    <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;                              best_fps, 12 * 1001, INT_MAX);</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;            }</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160; </div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;            <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>) {</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;                <span class="keywordflow">if</span> (    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> * (int64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a></div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;                    &lt;= avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> * (uint64_t) st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>) {</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;                    <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;                              avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, (int64_t)avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> * avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>, INT_MAX);</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>;</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;                }</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;            }</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#afdca0c2f3e2c3c912a3d4e0213014b58">display_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#afdca0c2f3e2c3c912a3d4e0213014b58">display_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>) {</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;                <a class="code" href="struct_a_v_rational.html">AVRational</a> hw_ratio = { avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a> };</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a> = <a class="code" href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#afdca0c2f3e2c3c912a3d4e0213014b58">display_aspect_ratio</a>,</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;                                                   hw_ratio);</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;            }</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;            <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a>)</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;                avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> =</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;                    <a class="code" href="group__lavc__misc.html#ga0717e7440fdb123f708082f66cd9b41d">av_get_bits_per_sample</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a>);</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;            <span class="comment">// set stream disposition based on audio service type</span></div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;            <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a37e07891360937493c8ece702a09e0d6">audio_service_type</a>) {</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafa89cc3ca931cc01de8b8b498492133f58">AV_AUDIO_SERVICE_TYPE_EFFECTS</a>:</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> = <a class="code" href="avformat_8h.html#a9b09132b5af7f7f6fe54d61782373bc7">AV_DISPOSITION_CLEAN_EFFECTS</a>;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafae1d0587828c1f7efdb0ac449946448fc">AV_AUDIO_SERVICE_TYPE_VISUALLY_IMPAIRED</a>:</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> = <a class="code" href="avformat_8h.html#aa8e9704bcc842236ad048062dcf45d45">AV_DISPOSITION_VISUAL_IMPAIRED</a>;</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafabd1590db13ebdc6f1c53fd5cd97ff3ca">AV_AUDIO_SERVICE_TYPE_HEARING_IMPAIRED</a>:</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> = <a class="code" href="avformat_8h.html#a39ba22fdf89ec823243ba92bfd35c189">AV_DISPOSITION_HEARING_IMPAIRED</a>;</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafac279dfd2816ee38406920c0c4718bd90">AV_AUDIO_SERVICE_TYPE_COMMENTARY</a>:</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> = <a class="code" href="avformat_8h.html#a3fd17d972522f10a6d73937482225482">AV_DISPOSITION_COMMENT</a>;</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafab4290d124e49f795ef1ba709fc60233c">AV_AUDIO_SERVICE_TYPE_KARAOKE</a>:</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> = <a class="code" href="avformat_8h.html#a4e6b75c4d996642d88b98241f0ad2979">AV_DISPOSITION_KARAOKE</a>;</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;            }</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;        }</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    }</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160; </div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;    <span class="keywordflow">if</span> (probesize)</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#a4d03bdd876c374df1989981e0aaaac45">estimate_timings</a>(ic, old_offset);</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160; </div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    <a class="code" href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a>(ic, <span class="stringliteral">&quot;skip_clear&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>, <a class="code" href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a>);</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160; </div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0 &amp;&amp; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>)</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;        <span class="comment">/* We could not have all the codec parameters before EOF. */</span></div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = -1;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *errmsg;</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160; </div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;        <span class="comment">/* if no packet was ever seen, update context now for has_codec_parameters */</span></div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;        <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2a7f0fb7197b54b9f85b63fa544c9118">avctx_inited</a>) {</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> &amp;&amp;</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> == <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a>)</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a>;</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;                <span class="keywordflow">goto</span> find_stream_info_err;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;        }</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3">has_codec_parameters</a>(st, &amp;errmsg)) {</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;            <span class="keywordtype">char</span> buf[256];</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;            <a class="code" href="group__lavc__misc.html#ga6d4056568b5ab73d2e55800d9a5caa66">avcodec_string</a>(buf, <span class="keyword">sizeof</span>(buf), st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>, 0);</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;                   <span class="stringliteral">&quot;Could not find codec parameters for stream %d (%s): %s\n&quot;</span></div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;                   <span class="stringliteral">&quot;Consider increasing the value for the &#39;analyzeduration&#39; (%&quot;</span>PRId64<span class="stringliteral">&quot;) and &#39;probesize&#39; (%&quot;</span>PRId64<span class="stringliteral">&quot;) options\n&quot;</span>,</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;                   <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, buf, errmsg, ic-&gt;<a class="code" href="struct_a_v_format_context.html#a4d860662c014f88277c8f20e238fa694">max_analyze_duration</a>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#acb47a2a7362ac575b4986e0028786a41">probesize</a>);</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;        }</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;    }</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160; </div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a4445f04952706af79ecf31a4791e6492">compute_chapters_end</a>(ic);</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160; </div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;    <span class="comment">/* update the stream parameters from the internal codec contexts */</span></div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160; </div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2a7f0fb7197b54b9f85b63fa544c9118">avctx_inited</a>) {</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;            <span class="keywordtype">int</span> orig_w = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>;</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;            <span class="keywordtype">int</span> orig_h = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>;</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#ga0c7058f764778615e7978a1821ab3cfe">avcodec_parameters_from_context</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>);</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;                <span class="keywordflow">goto</span> find_stream_info_err;</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#af0cae0ce1eb66fa7b6f9c45ad0dc7ad6">add_coded_side_data</a>(st, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>);</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;                <span class="keywordflow">goto</span> find_stream_info_err;</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;<span class="preprocessor">#if FF_API_LOWRES</span></div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;            <span class="comment">// The decoder might reduce the video size by the lowres factor.</span></div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af260210a39ad4781d8d47ddac1541d04">lowres</a> &amp;&amp; orig_w) {</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> = orig_w;</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;                st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> = orig_h;</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;            }</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;        }</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160; </div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(st-&gt;codec, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;            <span class="keywordflow">goto</span> find_stream_info_err;</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160; </div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;<span class="preprocessor">#if FF_API_LOWRES</span></div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;        <span class="comment">// The old API (AVStream.codec) &quot;requires&quot; the resolution to be adjusted</span></div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;        <span class="comment">// by the lowres factor.</span></div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af260210a39ad4781d8d47ddac1541d04">lowres</a> &amp;&amp; st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>) {</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;            st-&gt;codec-&gt;lowres = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af260210a39ad4781d8d47ddac1541d04">lowres</a>;</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;            st-&gt;codec-&gt;width = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>;</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;            st-&gt;codec-&gt;height = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>;</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;        }</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160; </div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;        <span class="keywordflow">if</span> (st-&gt;codec-&gt;codec_tag != <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;t&#39;</span>,<span class="charliteral">&#39;m&#39;</span>,<span class="charliteral">&#39;c&#39;</span>,<span class="charliteral">&#39;d&#39;</span>)) {</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;            st-&gt;codec-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>;</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;            st-&gt;codec-&gt;ticks_per_frame = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>;</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;        }</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;        st-&gt;codec-&gt;framerate = st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>;</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160; </div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab781cbaef6311226481e65a7f1a6d049">subtitle_header</a>) {</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;            st-&gt;codec-&gt;subtitle_header = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d7c381913c9918caf6969fef8806694">subtitle_header_size</a>);</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;            <span class="keywordflow">if</span> (!st-&gt;codec-&gt;subtitle_header)</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;                <span class="keywordflow">goto</span> find_stream_info_err;</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;            st-&gt;codec-&gt;subtitle_header_size = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d7c381913c9918caf6969fef8806694">subtitle_header_size</a>;</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;            memcpy(st-&gt;codec-&gt;subtitle_header, st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab781cbaef6311226481e65a7f1a6d049">subtitle_header</a>,</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;                   st-&gt;codec-&gt;subtitle_header_size);</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;        }</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160; </div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;        <span class="comment">// Fields unavailable in AVCodecParameters</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;        st-&gt;codec-&gt;coded_width = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ae3c157e97ff15d46e898a538c6bc7f09">coded_width</a>;</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;        st-&gt;codec-&gt;coded_height = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab2ebb76836ef4cd9822b5077c17b33d0">coded_height</a>;</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;        st-&gt;codec-&gt;properties = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a7b1cd65e6136d656808269f1b22f49b4">properties</a>;</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160; </div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2a7f0fb7197b54b9f85b63fa544c9118">avctx_inited</a> = 0;</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;    }</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160; </div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;find_stream_info_err:</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;        st = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>)</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>);</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;        <a class="code" href="group__lavc__core.html#gaf4daa92361efb3523ef5afeb0b54077f">avcodec_close</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>);</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>);</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;        <a class="code" href="group__lavc__core.html#ga08d53431e76355f88e27763b1940df4f">av_bsf_free</a>(&amp;ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>);</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;        <a class="code" href="group__lavc__packet.html#ga1066464e7cdd1f215df6940db94e5d8e">av_packet_free</a>(&amp;ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#a016b1f9d95b7479b14c55d87a4acebfa">pkt</a>);</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    }</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ic, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;After avformat_find_stream_info() pos: %&quot;</span>PRId64<span class="stringliteral">&quot; bytes read:%&quot;</span>PRId64<span class="stringliteral">&quot; seeks:%d frames:%d\n&quot;</span>,</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;               <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>), ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#a2685da68190c842c028ec161ff2b563e">bytes_read</a>, ic-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>-&gt;<a class="code" href="struct_a_v_i_o_context.html#a38b3c122a21fc2271e3174342e87a79f">seek_count</a>, count);</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160; </div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;unref_then_goto_end:</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;pkt1);</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;    <span class="keywordflow">goto</span> find_stream_info_err;</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;}</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160; </div>
<div class="line"><a name="l04159"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48"> 4159</a></span>&#160;<a class="code" href="struct_a_v_program.html">AVProgram</a> *<a class="code" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic, <a class="code" href="struct_a_v_program.html">AVProgram</a> *last, <span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;{</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160; </div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a58c8c4d0ea974e0fcb0ce06fb1174f9f">nb_programs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;        <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == last) {</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;            last = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;            <span class="keywordflow">if</span> (!last)</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; ic-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_program.html#a136cf29d2aa5b0e4c6d743406c5e39d1">nb_stream_indexes</a>; j++)</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;                    <span class="keywordflow">if</span> (ic-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_program.html#a7967d41af4812ed61a28762e988c7a02">stream_index</a>[j] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;                        <span class="keywordflow">return</span> ic-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;        }</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;    }</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;}</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160; </div>
<div class="line"><a name="l04176"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9"> 4176</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9">av_find_best_stream</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ic, <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>,</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;                        <span class="keywordtype">int</span> wanted_stream_nb, <span class="keywordtype">int</span> related_stream,</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;                        <a class="code" href="struct_a_v_codec.html">AVCodec</a> **decoder_ret, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;{</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a> = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>;</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gab15683efe944a563b5c90dc6c5d5c17b">AVERROR_STREAM_NOT_FOUND</a>;</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    <span class="keywordtype">int</span> best_count = -1, best_multiframe = -1, best_disposition = -1;</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    <span class="keywordtype">int</span> count, multiframe, disposition;</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    int64_t best_bitrate = -1;</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    int64_t <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a>;</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    <span class="keywordtype">unsigned</span> *<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *<a class="code" href="libavcodec_2dfa_8c.html#a837d39f8b74c379be96e07fe99664ca3">decoder</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *best_decoder = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160; </div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <span class="keywordflow">if</span> (related_stream &gt;= 0 &amp;&amp; wanted_stream_nb &lt; 0) {</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;        <a class="code" href="struct_a_v_program.html">AVProgram</a> *p = <a class="code" href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a>(ic, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, related_stream);</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;        <span class="keywordflow">if</span> (p) {</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;            <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>    = p-&gt;<a class="code" href="struct_a_v_program.html#a7967d41af4812ed61a28762e988c7a02">stream_index</a>;</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;            <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a> = p-&gt;<a class="code" href="struct_a_v_program.html#a136cf29d2aa5b0e4c6d743406c5e39d1">nb_stream_indexes</a>;</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;        }</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    }</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;        <span class="keywordtype">int</span> real_stream_index = <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> ? <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] : <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st          = ic-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[real_stream_index];</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;        <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;        <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;        <span class="keywordflow">if</span> (wanted_stream_nb &gt;= 0 &amp;&amp; real_stream_index != wanted_stream_nb)</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a> &amp;&amp; !(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">channels</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a>))</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;        <span class="keywordflow">if</span> (decoder_ret) {</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;            <a class="code" href="libavcodec_2dfa_8c.html#a837d39f8b74c379be96e07fe99664ca3">decoder</a> = <a class="code" href="libavformat_2utils_8c.html#aa95a56af9af8e37cb10e21d7b6b1083f">find_decoder</a>(ic, st, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libavcodec_2dfa_8c.html#a837d39f8b74c379be96e07fe99664ca3">decoder</a>) {</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;                    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#ga28f845c3efcf791fdf3b2b3907330bf5">AVERROR_DECODER_NOT_FOUND</a>;</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;            }</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;        }</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;        disposition = !(st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; (<a class="code" href="avformat_8h.html#a39ba22fdf89ec823243ba92bfd35c189">AV_DISPOSITION_HEARING_IMPAIRED</a> | <a class="code" href="avformat_8h.html#aa8e9704bcc842236ad048062dcf45d45">AV_DISPOSITION_VISUAL_IMPAIRED</a>))</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;                      + !! (st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#af09f200b4cd9bf0baa05671436eef2fb">AV_DISPOSITION_DEFAULT</a>);</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;        count = st-&gt;<a class="code" href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">codec_info_nb_frames</a>;</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;        <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a>;</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;        multiframe = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(5, count);</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;        <span class="keywordflow">if</span> ((best_disposition &gt;  disposition) ||</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;            (best_disposition == disposition &amp;&amp; best_multiframe &gt;  multiframe) ||</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;            (best_disposition == disposition &amp;&amp; best_multiframe == multiframe &amp;&amp; best_bitrate &gt;  <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a>) ||</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;            (best_disposition == disposition &amp;&amp; best_multiframe == multiframe &amp;&amp; best_bitrate == <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a> &amp;&amp; best_count &gt;= count))</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;        best_disposition = disposition;</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;        best_count   = count;</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;        best_bitrate = <a class="code" href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a>;</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;        best_multiframe = multiframe;</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>          = real_stream_index;</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;        best_decoder = <a class="code" href="libavcodec_2dfa_8c.html#a837d39f8b74c379be96e07fe99664ca3">decoder</a>;</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> &amp;&amp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a> - 1 &amp;&amp; <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;            <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>    = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;            <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a> = ic-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>;</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;            <span class="comment">/* no related stream found, try again with everything */</span></div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;        }</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;    }</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;    <span class="keywordflow">if</span> (decoder_ret)</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;        *decoder_ret = (<a class="code" href="struct_a_v_codec.html">AVCodec</a>*)best_decoder;</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;}</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160; </div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;<span class="comment">/*******************************************************/</span></div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160; </div>
<div class="line"><a name="l04244"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#ga7494bb63a59e79e9fe88eb1682d4d7b3"> 4244</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#ga7494bb63a59e79e9fe88eb1682d4d7b3">av_read_play</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;{</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_play)</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_play(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb)</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="avio_8h.html#a1ac23b54d5f5bbfee4353978d313e472">avio_pause</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, 0);</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;}</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160; </div>
<div class="line"><a name="l04253"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#ga27db687592d99f25ccf81a3b3ee8da9c"> 4253</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__decoding.html#ga27db687592d99f25ccf81a3b3ee8da9c">av_read_pause</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;{</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_pause)</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_pause(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb)</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="avio_8h.html#a1ac23b54d5f5bbfee4353978d313e472">avio_pause</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, 1);</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOSYS);</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;}</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160; </div>
<div class="line"><a name="l04262"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a2e9e18170765d2b5b906c35ef6339dba"> 4262</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a2e9e18170765d2b5b906c35ef6339dba">ff_stream_encode_params_copy</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *dst, <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>)</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;{</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160; </div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_stream.html#a6873ed62f196c24e8bf282609231786f">id</a>                  = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;id;</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>           = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;time_base;</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_stream.html#a4382c3064df1c9eb232ac198dec067f9">nb_frames</a>           = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;nb_frames;</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a>         = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;disposition;</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;sample_aspect_ratio;</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>      = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;avg_frame_rate;</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>        = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;r_frame_rate;</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160; </div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;dst-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>);</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;dst-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;metadata, 0);</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160; </div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2utils_8c.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a>(dst-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;codecpar);</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160; </div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    <span class="comment">/* Free existing side data*/</span></div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; dst-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(dst-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a>);</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;dst-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>);</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;    dst-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a> = 0;</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160; </div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;    <span class="comment">/* Copy side data if present */</span></div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;nb_side_data) {</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;        dst-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a> = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;nb_side_data,</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;                                          <span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_packet_side_data.html">AVPacketSideData</a>));</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;        <span class="keywordflow">if</span> (!dst-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>)</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;        dst-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;nb_side_data;</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160; </div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;nb_side_data; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = <a class="code" href="group__lavu__mem__funcs.html#ga4ad5e6363f4a6b6eddfdb427e21166f2">av_memdup</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;side_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].data,</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;                                      <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;side_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].size);</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;            dst-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">type</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;side_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].type;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;            dst-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;side_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].size;</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;            dst-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a> = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;        }</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;    }</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160; </div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;<span class="preprocessor">#if FF_API_LAVF_FFSERVER</span></div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;dst-&gt;recommended_encoder_configuration);</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;recommended_encoder_configuration) {</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *conf_str = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;recommended_encoder_configuration;</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;        dst-&gt;recommended_encoder_configuration = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(conf_str);</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;        <span class="keywordflow">if</span> (!dst-&gt;recommended_encoder_configuration)</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;    }</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160; </div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;}</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160; </div>
<div class="line"><a name="l04323"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#af8a54ade3869125802dab7fdcd8688b3"> 4323</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#af8a54ade3869125802dab7fdcd8688b3">free_stream</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> **pst)</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;{</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = *pst;</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160; </div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;    <span class="keywordflow">if</span> (!st)</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160; </div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; st-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a>);</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>);</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160; </div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>)</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;        <a class="code" href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">parser</a>);</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160; </div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a8c689ee00c0dfe4313891f8a2ea21f4d">attached_pic</a>.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>)</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a8c689ee00c0dfe4313891f8a2ea21f4d">attached_pic</a>);</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160; </div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>) {</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;        <a class="code" href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>);</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;        <a class="code" href="group__lavc__core.html#ga08d53431e76355f88e27763b1940df4f">av_bsf_free</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a>);</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ac244957f399be61298e7286bb89ae3fa">priv_pts</a>);</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">index_entries</a>);</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a9e6cfeca22a89aedbb33711749206cf1">probe_data</a>.<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>);</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160; </div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;        <a class="code" href="group__lavc__core.html#ga08d53431e76355f88e27763b1940df4f">av_bsf_free</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">bsf</a>);</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;        <a class="code" href="group__lavc__packet.html#ga1066464e7cdd1f215df6940db94e5d8e">av_packet_free</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">extract_extradata</a>.<a class="code" href="struct_a_v_stream_internal.html#a016b1f9d95b7479b14c55d87a4acebfa">pkt</a>);</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160; </div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>)</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">duration_error</a>);</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>);</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;    }</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>);</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160; </div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>);</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;    <a class="code" href="libavcodec_2utils_8c.html#a75183f545bd7f089a4c4e508a842b6a5">avcodec_parameters_free</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    <a class="code" href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a>(&amp;st-&gt;codec);</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">priv_data</a>);</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;<span class="preprocessor">#if FF_API_LAVF_FFSERVER</span></div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;st-&gt;recommended_encoder_configuration);</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160; </div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(pst);</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;}</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160; </div>
<div class="line"><a name="l04374"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a38450579d822807a26996ebc2f32d82c"> 4374</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a38450579d822807a26996ebc2f32d82c">ff_free_stream</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;{</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams&gt;0);</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[ <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams - 1 ] == st);</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160; </div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#af8a54ade3869125802dab7fdcd8688b3">free_stream</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[ --<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams ]);</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;}</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160; </div>
<div class="line"><a name="l04382"></a><span class="lineno"><a class="line" href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445"> 4382</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;{</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160; </div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160; </div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat-&gt;deinit &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;initialized)</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat-&gt;deinit(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160; </div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;    <a class="code" href="group__avoptions.html#gac14db824af52baf8181406e98d116097">av_opt_free</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;priv_class &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data)</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;        <a class="code" href="group__avoptions.html#gac14db824af52baf8181406e98d116097">av_opt_free</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data);</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat-&gt;priv_class &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data)</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;        <a class="code" href="group__avoptions.html#gac14db824af52baf8181406e98d116097">av_opt_free</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data);</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160; </div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#af8a54ade3869125802dab7fdcd8688b3">free_stream</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams = 0;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160; </div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_programs; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;programs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata);</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;programs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;stream_index);</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;programs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;    }</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_programs = 0;</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160; </div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;programs);</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data);</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters--) {</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters]-&gt;metadata);</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters]);</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;    }</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters);</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata);</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;id3v2_meta);</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams);</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a453e27b1ee9563a1ede240200265706b">flush_packet_queue</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal);</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;}</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160; </div>
<div class="line"><a name="l04425"></a><span class="lineno"><a class="line" href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4"> 4425</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> **ps)</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;{</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb;</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160; </div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;    <span class="keywordflow">if</span> (!ps || !*ps)</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160; </div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>  = *ps;</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;    pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160; </div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat &amp;&amp; strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;name, <span class="stringliteral">&quot;image2&quot;</span>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a>) ||</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;        (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="avformat_8h.html#ac5fdea71141dcc30346a57df75cf408e">AVFMT_FLAG_CUSTOM_IO</a>))</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;        pb = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160; </div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#a453e27b1ee9563a1ede240200265706b">flush_packet_queue</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160; </div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat)</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_close)</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat-&gt;read_close(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160; </div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    <a class="code" href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160; </div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    *ps = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160; </div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;    <a class="code" href="avio_8h.html#ad71cada104a5e4365d35d45669ea03ca">avio_close</a>(pb);</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;}</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160; </div>
<div class="line"><a name="l04453"></a><span class="lineno"><a class="line" href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827"> 4453</a></span>&#160;<a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_codec.html">AVCodec</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;{</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> **streams;</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160; </div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &gt;= <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_streams, INT_MAX/<span class="keyword">sizeof</span>(*streams))) {</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_streams &lt; INT_MAX/<span class="keyword">sizeof</span>(*streams))</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Number of streams exceeds max_streams parameter (%d), see the documentation if you wish to increase it\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_streams);</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    }</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    streams = <a class="code" href="mem_8c.html#aadc230ece36ef112710b262a6601a16b">av_realloc_array</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams + 1, <span class="keyword">sizeof</span>(*streams));</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    <span class="keywordflow">if</span> (!streams)</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams = streams;</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160; </div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;    st = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_stream.html">AVStream</a>));</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;    <span class="keywordflow">if</span> (!st)</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160; </div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;    st-&gt;codec = <a class="code" href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;    <span class="keywordflow">if</span> (!st-&gt;codec) {</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(st);</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;    }</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160; </div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>));</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>)</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160; </div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>));</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>)</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4e6c8012f59638d536ec9c3ca306ea66">last_dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160; </div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a> = <a class="code" href="libavcodec_2utils_8c.html#a647755ab2252e93221bb345f3d5e414f">avcodec_parameters_alloc</a>();</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>)</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160; </div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a> = <a class="code" href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;    <span class="keywordflow">if</span> (!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>)</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160; </div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;iformat) {</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;        <span class="comment">/* no default bitrate if decoding */</span></div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;        st-&gt;codec-&gt;bit_rate = 0;</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160; </div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;        <span class="comment">/* default pts setting is MPEG-like */</span></div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;        <a class="code" href="libavformat_2utils_8c.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(st, 33, 1, 90000);</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;        <span class="comment">/* we set the current DTS to 0 so that formats without any timestamps</span></div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;<span class="comment">         * but durations get some timestamps, formats with some unknown</span></div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;<span class="comment">         * timestamps have their first few packets buffered and the</span></div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;<span class="comment">         * timestamps corrected before they are returned to the user */</span></div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = <a class="code" href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a>;</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">cur_dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    }</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160; </div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>      = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams;</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a>   = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">first_dts</a>     = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">probe_packets</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_probe_packets;</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a113a96a5f9d55a88cd5d7122bc638d84">pts_wrap_reference</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ad81ea3f5efb82d535c8601feca2cf3d5">pts_wrap_behavior</a> = <a class="code" href="avformat_8h.html#a1c159fe90edbc7a6f0c5e9f3537bff1b">AV_PTS_WRAP_IGNORE</a>;</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160; </div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#af8e7b1373292e393ed210dc15aa8d2ca">last_IP_pts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a88f941a9e944fa70eead827ccb5bbb44">last_dts_for_order_check</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a">MAX_REORDER_DELAY</a> + 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">pts_buffer</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160; </div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a> = (<a class="code" href="struct_a_v_rational.html">AVRational</a>) { 0, 1 };</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160; </div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;<span class="preprocessor">#if FF_API_R_FRAME_RATE</span></div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4e6c8012f59638d536ec9c3ca306ea66">last_dts</a>      = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">fps_first_dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">info</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">fps_last_dts</a>  = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160; </div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a4ca58b6fbeedd8ae22c4cc1d73bea49a">inject_global_side_data</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;inject_global_side_data;</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160; </div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#aa5f1d3d09d263b79985bbcc45c6ab48e">need_context_update</a> = 1;</div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160; </div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams++] = st;</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;    <span class="keywordflow">return</span> st;</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;    <a class="code" href="libavformat_2utils_8c.html#af8a54ade3869125802dab7fdcd8688b3">free_stream</a>(&amp;st);</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;}</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160; </div>
<div class="line"><a name="l04551"></a><span class="lineno"><a class="line" href="group__lavf__core.html#gab31f7c7c99dcadead38e8e83e0fdb828"> 4551</a></span>&#160;<a class="code" href="struct_a_v_program.html">AVProgram</a> *<a class="code" href="group__lavf__core.html#gab31f7c7c99dcadead38e8e83e0fdb828">av_new_program</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ac, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;{</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;    <a class="code" href="struct_a_v_program.html">AVProgram</a> *<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160; </div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ac, <a class="code" href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a>, <span class="stringliteral">&quot;new_program: id=0x%04x\n&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160; </div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ac-&gt;<a class="code" href="struct_a_v_format_context.html#a58c8c4d0ea974e0fcb0ce06fb1174f9f">nb_programs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;        <span class="keywordflow">if</span> (ac-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_program.html#a10cc799a98b37335e820b0bdb386eb95">id</a> == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;            <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = ac-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160; </div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>) {</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;        <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_program.html">AVProgram</a>));</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>)</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#a7e0f71d1e357c772658715b43aeeed4d">dynarray_add</a>(&amp;ac-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>, &amp;ac-&gt;<a class="code" href="struct_a_v_format_context.html#a58c8c4d0ea974e0fcb0ce06fb1174f9f">nb_programs</a>, <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>);</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;        <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;discard = <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a93d0436f7651b58debe3f995e2582dcd">AVDISCARD_NONE</a>;</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;        <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pmt_version = -1;</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;    }</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;    <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;id = <a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>;</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;    <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pts_wrap_reference = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;pts_wrap_behavior = <a class="code" href="avformat_8h.html#a1c159fe90edbc7a6f0c5e9f3537bff1b">AV_PTS_WRAP_IGNORE</a>;</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160; </div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;    <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;start_time =</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;    <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;end_time   = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160; </div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>;</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;}</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160; </div>
<div class="line"><a name="l04580"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#add2b61dc8834f793e0f2fe7f099f06d1"> 4580</a></span>&#160;<a class="code" href="struct_a_v_chapter.html">AVChapter</a> *<a class="code" href="libavformat_2utils_8c.html#add2b61dc8834f793e0f2fe7f099f06d1">avpriv_new_chapter</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, <a class="code" href="struct_a_v_rational.html">AVRational</a> time_base,</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;                              int64_t start, int64_t <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *title)</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;{</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;    <a class="code" href="struct_a_v_chapter.html">AVChapter</a> *chapter = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160; </div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp; start &gt; <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>) {</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Chapter end time %&quot;</span>PRId64<span class="stringliteral">&quot; before start %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>, start);</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;    }</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160; </div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;id == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;            chapter = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160; </div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;    <span class="keywordflow">if</span> (!chapter) {</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;        chapter = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_chapter.html">AVChapter</a>));</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;        <span class="keywordflow">if</span> (!chapter)</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#a7e0f71d1e357c772658715b43aeeed4d">dynarray_add</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters, chapter);</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;    }</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;    <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;chapter-&gt;<a class="code" href="struct_a_v_chapter.html#a998ea9c9f86547970d58f0b405d55332">metadata</a>, <span class="stringliteral">&quot;title&quot;</span>, title, 0);</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;    chapter-&gt;<a class="code" href="struct_a_v_chapter.html#a2a48026c205e948f8bfaafe92d41f752">id</a>        = <a class="code" href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a>;</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;    chapter-&gt;<a class="code" href="struct_a_v_chapter.html#acb5cb6ce9bb6b9f4b970a919f4899818">time_base</a> = time_base;</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;    chapter-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a>     = start;</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;    chapter-&gt;<a class="code" href="struct_a_v_chapter.html#ab68f32dc07fac89b4364e86483b00f3e">end</a>       = <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160; </div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;    <span class="keywordflow">return</span> chapter;</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;}</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160; </div>
<div class="line"><a name="l04610"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae1eb83cf16060217c805e61f0f62fa4e"> 4610</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#ae1eb83cf16060217c805e61f0f62fa4e">av_program_add_stream_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *ac, <span class="keywordtype">int</span> progid, <span class="keywordtype">unsigned</span> idx)</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;{</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;    <a class="code" href="struct_a_v_program.html">AVProgram</a> *<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;    <span class="keywordtype">void</span> *tmp;</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160; </div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    <span class="keywordflow">if</span> (idx &gt;= ac-&gt;<a class="code" href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">nb_streams</a>) {</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(ac, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;stream index %d is not valid\n&quot;</span>, idx);</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;    }</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160; </div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ac-&gt;<a class="code" href="struct_a_v_format_context.html#a58c8c4d0ea974e0fcb0ce06fb1174f9f">nb_programs</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;        <span class="keywordflow">if</span> (ac-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_a_v_program.html#a10cc799a98b37335e820b0bdb386eb95">id</a> != progid)</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;        <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a> = ac-&gt;<a class="code" href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">programs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;nb_stream_indexes; j++)</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;stream_index[j] == idx)</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160; </div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;        tmp = <a class="code" href="mem_8c.html#aadc230ece36ef112710b262a6601a16b">av_realloc_array</a>(<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;stream_index, <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;nb_stream_indexes+1, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;        <span class="keywordflow">if</span> (!tmp)</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;        <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;stream_index = tmp;</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;        <a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;stream_index[<a class="code" href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a>-&gt;nb_stream_indexes++] = idx;</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;    }</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;}</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160; </div>
<div class="line"><a name="l04638"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a74a68d517e0a36dd53cd46aa226b4c4d"> 4638</a></span>&#160;uint64_t <a class="code" href="libavformat_2utils_8c.html#a74a68d517e0a36dd53cd46aa226b4c4d">ff_ntp_time</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;{</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>() / 1000) * 1000 + <a class="code" href="libavformat_2internal_8h.html#af6bd510492e5bc5b422d42b07df8f8c0">NTP_OFFSET_US</a>;</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;}</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160; </div>
<div class="line"><a name="l04643"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a9a434d12110d51c117f081489f5ef3b5"> 4643</a></span>&#160;uint64_t <a class="code" href="libavformat_2utils_8c.html#a9a434d12110d51c117f081489f5ef3b5">ff_get_formatted_ntp_time</a>(uint64_t ntp_time_us)</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;{</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    uint64_t ntp_ts, frac_part, sec;</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    uint32_t usec;</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160; </div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;    <span class="comment">//current ntp time in seconds and micro seconds</span></div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;    sec = ntp_time_us / 1000000;</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;    usec = ntp_time_us % 1000000;</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160; </div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    <span class="comment">//encoding in ntp timestamp format</span></div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    frac_part = usec * 0xFFFFFFFFULL;</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    frac_part /= 1000000;</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160; </div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;    <span class="keywordflow">if</span> (sec &gt; 0xFFFFFFFFULL)</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;NTP time format roll over detected\n&quot;</span>);</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160; </div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;    ntp_ts = sec &lt;&lt; 32;</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;    ntp_ts |= frac_part;</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160; </div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;    <span class="keywordflow">return</span> ntp_ts;</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;}</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160; </div>
<div class="line"><a name="l04665"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga05f17637161cd79506f67b20ea8149c9"> 4665</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#ga05f17637161cd79506f67b20ea8149c9">av_get_frame_filename2</a>(<span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> buf_size, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> number, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;{</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;    <span class="keywordtype">char</span> *q, buf1[20], <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    <span class="keywordtype">int</span> nd, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, percentd_found;</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160; </div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;    q = buf;</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;    p = path;</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;    percentd_found = 0;</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = *p++;</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> == <span class="charliteral">&#39;%&#39;</span>) {</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;                nd = 0;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;                <span class="keywordflow">while</span> (<a class="code" href="group__lavu__string.html#ga54f9d8cb6e7f411fb145dd6ade19e939">av_isdigit</a>(*p))</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;                    nd = nd * 10 + *p++ - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = *p++;</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;            } <span class="keywordflow">while</span> (<a class="code" href="group__lavu__string.html#ga54f9d8cb6e7f411fb145dd6ade19e939">av_isdigit</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>));</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160; </div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) {</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>:</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;                <span class="keywordflow">goto</span> addchar;</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;                <span class="keywordflow">if</span> (!(<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="group__lavf__misc.html#gaa0fc59624ec1fe0dc583743678b96fb6">AV_FRAME_FILENAME_FLAGS_MULTIPLE</a>) &amp;&amp; percentd_found)</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;                percentd_found = 1;</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;                <span class="keywordflow">if</span> (number &lt; 0)</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;                    nd += 1;</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;                <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(buf1, <span class="keyword">sizeof</span>(buf1), <span class="stringliteral">&quot;%0*d&quot;</span>, nd, number);</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;                <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = strlen(buf1);</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;                <span class="keywordflow">if</span> ((q - buf + <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>) &gt; buf_size - 1)</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;                memcpy(q, buf1, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;                q += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;            }</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;addchar:</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;            <span class="keywordflow">if</span> ((q - buf) &lt; buf_size - 1)</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;                *q++ = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;        }</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    }</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;    <span class="keywordflow">if</span> (!percentd_found)</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;    *q = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;    *q = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;}</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160; </div>
<div class="line"><a name="l04720"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga90e027a5d9006148413a1387c506cd40"> 4720</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#ga90e027a5d9006148413a1387c506cd40">av_get_frame_filename</a>(<span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> buf_size, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> number)</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;{</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavf__misc.html#ga05f17637161cd79506f67b20ea8149c9">av_get_frame_filename2</a>(buf, buf_size, path, number, 0);</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;}</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160; </div>
<div class="line"><a name="l04725"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d"> 4725</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a>(<span class="keywordtype">char</span> *proto, <span class="keywordtype">int</span> proto_size,</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;                  <span class="keywordtype">char</span> *authorization, <span class="keywordtype">int</span> authorization_size,</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;                  <span class="keywordtype">char</span> *hostname, <span class="keywordtype">int</span> hostname_size,</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;                  <span class="keywordtype">int</span> *port_ptr, <span class="keywordtype">char</span> *path, <span class="keywordtype">int</span> path_size, <span class="keyword">const</span> <span class="keywordtype">char</span> *url)</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;{</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p, *ls, *at, *at2, *col, *brk;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160; </div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;    <span class="keywordflow">if</span> (port_ptr)</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;        *port_ptr = -1;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    <span class="keywordflow">if</span> (proto_size &gt; 0)</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;        proto[0] = 0;</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    <span class="keywordflow">if</span> (authorization_size &gt; 0)</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;        authorization[0] = 0;</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    <span class="keywordflow">if</span> (hostname_size &gt; 0)</div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;        hostname[0] = 0;</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;    <span class="keywordflow">if</span> (path_size &gt; 0)</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;        path[0] = 0;</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160; </div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <span class="comment">/* parse protocol */</span></div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    <span class="keywordflow">if</span> ((p = strchr(url, <span class="charliteral">&#39;:&#39;</span>))) {</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;        <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(proto, url, <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(proto_size, p + 1 - url));</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;        p++; <span class="comment">/* skip &#39;:&#39; */</span></div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;            p++;</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;            p++;</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;        <span class="comment">/* no protocol means plain filename */</span></div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;        <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(path, url, path_size);</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    }</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160; </div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;    <span class="comment">/* separate path from hostname */</span></div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;    ls = p + strcspn(p, <span class="stringliteral">&quot;/?#&quot;</span>);</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;    <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(path, ls, path_size);</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160; </div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;    <span class="comment">/* the rest is hostname, use that to parse auth/port */</span></div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;    <span class="keywordflow">if</span> (ls != p) {</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;        <span class="comment">/* authorization (user[:pass]@hostname) */</span></div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;        at2 = p;</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;        <span class="keywordflow">while</span> ((at = strchr(p, <span class="charliteral">&#39;@&#39;</span>)) &amp;&amp; at &lt; ls) {</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;            <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(authorization, at2,</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;                       <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(authorization_size, at + 1 - at2));</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;            p = at + 1; <span class="comment">/* skip &#39;@&#39; */</span></div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;        }</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160; </div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;[&#39;</span> &amp;&amp; (brk = strchr(p, <span class="charliteral">&#39;]&#39;</span>)) &amp;&amp; brk &lt; ls) {</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;            <span class="comment">/* [host]:port */</span></div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;            <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(hostname, p + 1,</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;                       <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(hostname_size, brk - p));</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;            <span class="keywordflow">if</span> (brk[1] == <span class="charliteral">&#39;:&#39;</span> &amp;&amp; port_ptr)</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;                *port_ptr = atoi(brk + 2);</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((col = strchr(p, <span class="charliteral">&#39;:&#39;</span>)) &amp;&amp; col &lt; ls) {</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;            <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(hostname, p,</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;                       <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(col + 1 - p, hostname_size));</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;            <span class="keywordflow">if</span> (port_ptr)</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;                *port_ptr = atoi(col + 1);</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;            <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(hostname, p,</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;                       <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(ls + 1 - p, hostname_size));</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;    }</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;}</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160; </div>
<div class="line"><a name="l04788"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a1f34420920ed6e46caa35ae7fdfbe33b"> 4788</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a1f34420920ed6e46caa35ae7fdfbe33b">ff_mkdir_p</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path)</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;{</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(path);</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>;</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;    <span class="keywordtype">char</span> tmp_ch = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160; </div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;    <span class="keywordflow">if</span> (!path || !<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>) {</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;    }</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160; </div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, <span class="stringliteral">&quot;/&quot;</span>, 1) || !<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, <span class="stringliteral">&quot;\\&quot;</span>, 1)) {</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>++;</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, <span class="stringliteral">&quot;./&quot;</span>, 2) || !<a class="code" href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a>(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, <span class="stringliteral">&quot;.\\&quot;</span>, 2)) {</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += 2;</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    }</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160; </div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;    <span class="keywordflow">for</span> ( ; *<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> != <span class="charliteral">&#39;\0&#39;</span>; ++<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>) {</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> == <span class="charliteral">&#39;/&#39;</span> || *<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;            tmp_ch = *<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;            *<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = mkdir(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, 0755);</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;            *<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = tmp_ch;</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;        }</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    }</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160; </div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    <span class="keywordflow">if</span> ((*(<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> - 1) != <span class="charliteral">&#39;/&#39;</span>) || (*(<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> - 1) != <span class="charliteral">&#39;\\&#39;</span>)) {</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = mkdir(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, 0755);</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;    }</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160; </div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>);</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;}</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160; </div>
<div class="line"><a name="l04822"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a7d89fb68af227a21a92da2f9d2ad4ec6"> 4822</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="libavformat_2utils_8c.html#a7d89fb68af227a21a92da2f9d2ad4ec6">ff_data_to_hex</a>(<span class="keywordtype">char</span> *buff, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#aecd77e89b2b511289e2a3376552b0ae2">lowercase</a>)</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;{</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> hex_table_uc[16] = { <span class="charliteral">&#39;0&#39;</span>, <span class="charliteral">&#39;1&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39;3&#39;</span>,</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;                                           <span class="charliteral">&#39;4&#39;</span>, <span class="charliteral">&#39;5&#39;</span>, <span class="charliteral">&#39;6&#39;</span>, <span class="charliteral">&#39;7&#39;</span>,</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;                                           <span class="charliteral">&#39;8&#39;</span>, <span class="charliteral">&#39;9&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;B&#39;</span>,</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;                                           <span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;D&#39;</span>, <span class="charliteral">&#39;E&#39;</span>, <span class="charliteral">&#39;F&#39;</span> };</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> hex_table_lc[16] = { <span class="charliteral">&#39;0&#39;</span>, <span class="charliteral">&#39;1&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39;3&#39;</span>,</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;                                           <span class="charliteral">&#39;4&#39;</span>, <span class="charliteral">&#39;5&#39;</span>, <span class="charliteral">&#39;6&#39;</span>, <span class="charliteral">&#39;7&#39;</span>,</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;                                           <span class="charliteral">&#39;8&#39;</span>, <span class="charliteral">&#39;9&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;b&#39;</span>,</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;                                           <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;f&#39;</span> };</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *hex_table = <a class="code" href="writing__filters_8txt.html#aecd77e89b2b511289e2a3376552b0ae2">lowercase</a> ? hex_table_lc : hex_table_uc;</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160; </div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;        buff[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2]     = hex_table[<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;&gt; 4];</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;        buff[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2 + 1] = hex_table[<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp; 0xF];</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;    }</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160; </div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;    <span class="keywordflow">return</span> buff;</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;}</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160; </div>
<div class="line"><a name="l04843"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a41bcbe2571581b22d559a7148814a203"> 4843</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a41bcbe2571581b22d559a7148814a203">ff_hex_to_data</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *p)</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;{</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, v;</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160; </div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 0;</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;    v   = 1;</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;        p += strspn(p, <a class="code" href="libavformat_2internal_8h.html#aa4f848c169b0eb413afcdf35a1201af3">SPACE_CHARS</a>);</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="group__lavu__string.html#ga9c20e01cbc94a7c9996a8ce93de046b0">av_toupper</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) *p++);</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &lt;= <span class="charliteral">&#39;F&#39;</span>)</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> - <span class="charliteral">&#39;A&#39;</span> + 10;</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;        v = (v &lt;&lt; 4) | <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;        <span class="keywordflow">if</span> (v &amp; 0x100) {</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;                <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>] = v;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>++;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;            v = 1;</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;        }</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;    }</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;}</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160; </div>
<div class="line"><a name="l04871"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#aab5542950d6beb910dc9237aac99989e"> 4871</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> pts_wrap_bits,</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pts_num, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pts_den)</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;{</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> new_tb;</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;new_tb.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;new_tb.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, pts_num, pts_den, INT_MAX)) {</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;        <span class="keywordflow">if</span> (new_tb.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> != pts_num)</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;                   <span class="stringliteral">&quot;st:%d removing common factor %d from timebase\n&quot;</span>,</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;index, pts_num / new_tb.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;               <span class="stringliteral">&quot;st:%d has too large timebase, reducing\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;index);</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160; </div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    <span class="keywordflow">if</span> (new_tb.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &lt;= 0 || new_tb.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &lt;= 0) {</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;               <span class="stringliteral">&quot;Ignoring attempt to set invalid timebase %d/%d for st:%d\n&quot;</span>,</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;               new_tb.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, new_tb.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;index);</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;    }</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_base     = new_tb;</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codec-&gt;pkt_timebase = new_tb;</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;internal-&gt;avctx-&gt;pkt_timebase = new_tb;</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pts_wrap_bits = pts_wrap_bits;</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;}</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160; </div>
<div class="line"><a name="l04901"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#af153bd87dc49db89767f5f913b888987"> 4901</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#af153bd87dc49db89767f5f913b888987">ff_parse_key_value</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="libavformat_2internal_8h.html#a21c342234f3a38285eab5a4533474c75">ff_parse_key_val_cb</a> callback_get_buf,</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;                        <span class="keywordtype">void</span> *<a class="code" href="writing__filters_8txt.html#a5b5446e1f47af0c85ac6b45210d45117">context</a>)</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;{</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr = <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160; </div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;    <span class="comment">/* Parse key=value pairs. */</span></div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>;</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;        <span class="keywordtype">char</span> *dest = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *dest_end;</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;        <span class="keywordtype">int</span> key_len, dest_len = 0;</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160; </div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;        <span class="comment">/* Skip whitespace and potential commas. */</span></div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;        <span class="keywordflow">while</span> (*ptr &amp;&amp; (<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*ptr) || *ptr == <span class="charliteral">&#39;,&#39;</span>))</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;            ptr++;</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;        <span class="keywordflow">if</span> (!*ptr)</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160; </div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;        <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a> = ptr;</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160; </div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;        <span class="keywordflow">if</span> (!(ptr = strchr(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="charliteral">&#39;=&#39;</span>)))</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;        ptr++;</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;        key_len = ptr - <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>;</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160; </div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;        callback_get_buf(<a class="code" href="writing__filters_8txt.html#a5b5446e1f47af0c85ac6b45210d45117">context</a>, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, key_len, &amp;dest, &amp;dest_len);</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;        dest_end = dest + dest_len - 1;</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160; </div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;        <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;\&quot;&#39;</span>) {</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;            ptr++;</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;            <span class="keywordflow">while</span> (*ptr &amp;&amp; *ptr != <span class="charliteral">&#39;\&quot;&#39;</span>) {</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;                <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;                    <span class="keywordflow">if</span> (!ptr[1])</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;                    <span class="keywordflow">if</span> (dest &amp;&amp; dest &lt; dest_end)</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;                        *dest++ = ptr[1];</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;                    ptr += 2;</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;                    <span class="keywordflow">if</span> (dest &amp;&amp; dest &lt; dest_end)</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;                        *dest++ = *ptr;</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;                    ptr++;</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;                }</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;            }</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;            <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;\&quot;&#39;</span>)</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;                ptr++;</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;            <span class="keywordflow">for</span> (; *ptr &amp;&amp; !(<a class="code" href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a>(*ptr) || *ptr == <span class="charliteral">&#39;,&#39;</span>); ptr++)</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;                <span class="keywordflow">if</span> (dest &amp;&amp; dest &lt; dest_end)</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;                    *dest++ = *ptr;</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;        }</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;        <span class="keywordflow">if</span> (dest)</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;            *dest = 0;</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    }</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;}</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160; </div>
<div class="line"><a name="l04955"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a49c7ca8851a970709cc8c392e74db855"> 4955</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a49c7ca8851a970709cc8c392e74db855">ff_find_stream_index</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;{</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;id == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;}</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160; </div>
<div class="line"><a name="l04964"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#gaa90b4c72d1bbb298e11096d3a09ec7db"> 4964</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#gaa90b4c72d1bbb298e11096d3a09ec7db">avformat_query_codec</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> *ofmt, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>,</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;                         <span class="keywordtype">int</span> std_compliance)</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;{</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;    <span class="keywordflow">if</span> (ofmt) {</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> codec_tag;</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;        <span class="keywordflow">if</span> (ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#a2622bb891412cf52010a54afb622abc9">query_codec</a>)</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;            <span class="keywordflow">return</span> ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#a2622bb891412cf52010a54afb622abc9">query_codec</a>(<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>, std_compliance);</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#ac55f4c21dd75c8c48b9de5080681eed4">codec_tag</a>)</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;            <span class="keywordflow">return</span> !!<a class="code" href="libavformat_2utils_8c.html#a3833f5d5a31361d858f864f9ff7aaea6">av_codec_get_tag2</a>(ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#ac55f4c21dd75c8c48b9de5080681eed4">codec_tag</a>, <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>, &amp;codec_tag);</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#a1354a9c8542b1b698157218336bd4754">video_codec</a> ||</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;                 <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#a2e4fff0aa061984d586ea08ecad96141">audio_codec</a> ||</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;                 <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#adc8b4d7a5f6610e1816dd522e362217c">subtitle_codec</a> ||</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;                 <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#ac4c06882481a62fd0de7396909b02796">data_codec</a>)</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;    }</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;}</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160; </div>
<div class="line"><a name="l04982"></a><span class="lineno"><a class="line" href="group__lavf__core.html#ga84542023693d61e8564c5d457979c932"> 4982</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__core.html#ga84542023693d61e8564c5d457979c932">avformat_network_init</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;{</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;<span class="preprocessor">#if CONFIG_NETWORK</span></div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="network_8c.html#a8bf86d3291ef0a3f03c091497b889f05">ff_network_init</a>()) &lt; 0)</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="network_8c.html#a985a23bfc77d04dcc45d52f3f7426905">ff_tls_init</a>()) &lt; 0)</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;}</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160; </div>
<div class="line"><a name="l04994"></a><span class="lineno"><a class="line" href="group__lavf__core.html#ga245f2875f80ce67ec3d1e0f54dacf2c4"> 4994</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__core.html#ga245f2875f80ce67ec3d1e0f54dacf2c4">avformat_network_deinit</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;{</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;<span class="preprocessor">#if CONFIG_NETWORK</span></div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;    <a class="code" href="network_8c.html#aaa1582776b0e358551a98616f23c42df">ff_network_close</a>();</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    <a class="code" href="network_8c.html#aaf62afbf65b1b1e72ef8a1cc3fbcc6c4">ff_tls_deinit</a>();</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;}</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160; </div>
<div class="line"><a name="l05003"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ae72c025137dbefd71166fbc6c94ef9e9"> 5003</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ae72c025137dbefd71166fbc6c94ef9e9">ff_add_param_change</a>(<a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>,</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;                        uint64_t channel_layout, <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>,</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;                        <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> <a class="code" href="tests_2utils_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a>, <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> <a class="code" href="tests_2utils_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>)</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;{</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;    uint32_t <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = 0;</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 4;</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>) {</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>  += 4;</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;        <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= <a class="code" href="group__lavc__packet.html#gga437bfa981d4c8968ca92f41ecbcb8054a18ac29a4e928b1ef8eff4893ae70073c">AV_SIDE_DATA_PARAM_CHANGE_CHANNEL_COUNT</a>;</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;    }</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;    <span class="keywordflow">if</span> (channel_layout) {</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>  += 8;</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;        <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= <a class="code" href="group__lavc__packet.html#gga437bfa981d4c8968ca92f41ecbcb8054a1afb2793dfb14b0db3caca605b2baabc">AV_SIDE_DATA_PARAM_CHANGE_CHANNEL_LAYOUT</a>;</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;    }</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>) {</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>  += 4;</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;        <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= <a class="code" href="group__lavc__packet.html#gga437bfa981d4c8968ca92f41ecbcb8054ac0fd6e147f7e6ebe14002f95594e5317">AV_SIDE_DATA_PARAM_CHANGE_SAMPLE_RATE</a>;</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;    }</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2utils_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a> || <a class="code" href="tests_2utils_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>) {</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>  += 8;</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;        <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= <a class="code" href="group__lavc__packet.html#gga437bfa981d4c8968ca92f41ecbcb8054af1a5e3b694261807e0ed9032b424c165">AV_SIDE_DATA_PARAM_CHANGE_DIMENSIONS</a>;</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;    }</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;    <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = <a class="code" href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad42d2eb8c04516552e0c422257192bc0">AV_PKT_DATA_PARAM_CHANGE</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;    bytestream_put_le32(&amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>);</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>)</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;        bytestream_put_le32(&amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a>);</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;    <span class="keywordflow">if</span> (channel_layout)</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;        bytestream_put_le64(&amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, channel_layout);</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>)</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;        bytestream_put_le32(&amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a>);</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2utils_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a> || <a class="code" href="tests_2utils_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>) {</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;        bytestream_put_le32(&amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="tests_2utils_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a>);</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;        bytestream_put_le32(&amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="tests_2utils_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>);</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;    }</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;}</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160; </div>
<div class="line"><a name="l05045"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga0f62da0e809045bb21166013c404ce43"> 5045</a></span>&#160;<a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="group__lavf__misc.html#ga0f62da0e809045bb21166013c404ce43">av_guess_sample_aspect_ratio</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *stream, <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>)</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;{</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> undef = {0, 1};</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> stream_sample_aspect_ratio = stream ? stream-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a> : undef;</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> codec_sample_aspect_ratio  = stream &amp;&amp; stream-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a> ? stream-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a7d6ef91120ffe80040c699e747a1ad68">sample_aspect_ratio</a> : undef;</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> frame_sample_aspect_ratio  = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>  ? <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;sample_aspect_ratio  : codec_sample_aspect_ratio;</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160; </div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;    <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;stream_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;stream_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;               stream_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,  stream_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, INT_MAX);</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;    <span class="keywordflow">if</span> (stream_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &lt;= 0 || stream_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &lt;= 0)</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;        stream_sample_aspect_ratio = undef;</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160; </div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;    <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;frame_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;frame_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;               frame_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,  frame_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, INT_MAX);</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    <span class="keywordflow">if</span> (frame_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &lt;= 0 || frame_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &lt;= 0)</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;        frame_sample_aspect_ratio = undef;</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160; </div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;    <span class="keywordflow">if</span> (stream_sample_aspect_ratio.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>)</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;        <span class="keywordflow">return</span> stream_sample_aspect_ratio;</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;        <span class="keywordflow">return</span> frame_sample_aspect_ratio;</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;}</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160; </div>
<div class="line"><a name="l05068"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga12c049178414cc221dfafd4e7f836dea"> 5068</a></span>&#160;<a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="group__lavf__misc.html#ga12c049178414cc221dfafd4e7f836dea">av_guess_frame_rate</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>)</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;{</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> fr = st-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>;</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> codec_fr = st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>;</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a>   avg_fr = st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>;</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160; </div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    <span class="keywordflow">if</span> (avg_fr.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp; avg_fr.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0 &amp;&amp; fr.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp; fr.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;        <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(avg_fr) &lt; 70 &amp;&amp; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(fr) &gt; 210) {</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;        fr = avg_fr;</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;    }</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160; </div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160; </div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> &gt; 1) {</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;        <span class="keywordflow">if</span> (   codec_fr.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp; codec_fr.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;            (fr.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> == 0 || <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(codec_fr) &lt; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(fr)*0.7 &amp;&amp; <a class="code" href="cuda__runtime_8h.html#a7a87cd25426a228ce8ecbef48ab00de8">fabs</a>(1.0 - <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(<a class="code" href="group__lavu__math__rational.html#gaffa24e7bd38e12dbac540d8b66461f97">av_div_q</a>(avg_fr, fr))) &gt; 0.1))</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;            fr = codec_fr;</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;    }</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160; </div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <span class="keywordflow">return</span> fr;</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;}</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160; </div>
<div class="line"><a name="l05098"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a32d01ce3ecf629e798897a3f0b12eac6"> 5098</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a32d01ce3ecf629e798897a3f0b12eac6">match_stream_specifier</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *spec, <span class="keyword">const</span> <span class="keywordtype">char</span> **indexptr, <a class="code" href="struct_a_v_program.html">AVProgram</a> **p)</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;{</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <span class="keywordtype">int</span> match = 1;                      <span class="comment">/* Stores if the specifier matches so far. */</span></div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    <span class="keywordflow">while</span> (*spec) {</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;        <span class="keywordflow">if</span> (*spec &lt;= &#39;9&#39; &amp;&amp; *spec &gt;= <span class="charliteral">&#39;0&#39;</span>) { <span class="comment">/* opt:index */</span></div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;            <span class="keywordflow">if</span> (indexptr)</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;                *indexptr = spec;</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;            <span class="keywordflow">return</span> match;</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*spec == <span class="charliteral">&#39;v&#39;</span> || *spec == <span class="charliteral">&#39;a&#39;</span> || *spec == <span class="charliteral">&#39;s&#39;</span> || *spec == <span class="charliteral">&#39;d&#39;</span> ||</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;                   *spec == <span class="charliteral">&#39;t&#39;</span> || *spec == <span class="charliteral">&#39;V&#39;</span>) { <span class="comment">/* opt:[vasdtV] */</span></div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;            <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>;</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;            <span class="keywordtype">int</span> nopic = 0;</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160; </div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;            <span class="keywordflow">switch</span> (*spec++) {</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>: <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>;   <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a>;       <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>: <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a>; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;V&#39;</span>: <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>; nopic = 1; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;            <span class="keywordflow">default</span>:  <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(0);</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;            }</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;            <span class="keywordflow">if</span> (*spec &amp;&amp; *spec++ != <span class="charliteral">&#39;:&#39;</span>)         <span class="comment">/* If we are not at the end, then another specifier must follow. */</span></div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160; </div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> != st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a></div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;               &amp;&amp; (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a> || st-&gt;codec-&gt;codec_type != <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>))</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;                match = 0;</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;    <a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> != st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>)</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;                match = 0;</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;            <span class="keywordflow">if</span> (nopic &amp;&amp; (st-&gt;<a class="code" href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">disposition</a> &amp; <a class="code" href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a>))</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;                match = 0;</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*spec == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; *(spec + 1) == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;            <span class="keywordtype">int</span> prog_id, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;            <span class="keywordtype">int</span> found = 0;</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;            <span class="keywordtype">char</span> *endptr;</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;            spec += 2;</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;            prog_id = strtol(spec, &amp;endptr, 0);</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;            <span class="comment">/* Disallow empty id and make sure that if we are not at the end, then another specifier must follow. */</span></div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;            <span class="keywordflow">if</span> (spec == endptr || (*endptr &amp;&amp; *endptr++ != <span class="charliteral">&#39;:&#39;</span>))</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;            spec = endptr;</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;            <span class="keywordflow">if</span> (match) {</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_programs; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;programs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;id != prog_id)</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160; </div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;                    <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;programs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;nb_stream_indexes; j++) {</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;                        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a> == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;programs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;stream_index[j]) {</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;                            found = 1;</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;                            <span class="keywordflow">if</span> (p)</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;                                *p = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;programs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;                            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_programs;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;                        }</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;                    }</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;                }</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;            }</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;            <span class="keywordflow">if</span> (!found)</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;                match = 0;</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*spec == <span class="charliteral">&#39;#&#39;</span> ||</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;                   (*spec == <span class="charliteral">&#39;i&#39;</span> &amp;&amp; *(spec + 1) == <span class="charliteral">&#39;:&#39;</span>)) {</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;            <span class="keywordtype">int</span> stream_id;</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;            <span class="keywordtype">char</span> *endptr;</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;            spec += 1 + (*spec == <span class="charliteral">&#39;i&#39;</span>);</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;            stream_id = strtol(spec, &amp;endptr, 0);</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;            <span class="keywordflow">if</span> (spec == endptr || *endptr)                <span class="comment">/* Disallow empty id and make sure we are at the end. */</span></div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;            <span class="keywordflow">return</span> match &amp;&amp; (stream_id == st-&gt;<a class="code" href="struct_a_v_stream.html#a6873ed62f196c24e8bf282609231786f">id</a>);</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*spec == <span class="charliteral">&#39;m&#39;</span> &amp;&amp; *(spec + 1) == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;            <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;            <span class="keywordtype">char</span> *<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, *<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160; </div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;            <span class="keywordflow">if</span> (match) {</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;               spec += 2;</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;               <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = strchr(spec, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160; </div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;               <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a> = <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> ? <a class="code" href="group__lavu__mem__funcs.html#gaffde7a717e3a603ed11a998c18d68cad">av_strndup</a>(spec, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> - spec) : <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(spec);</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;               <span class="keywordflow">if</span> (!<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>)</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;                   <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160; </div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;               <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">metadata</a>, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;               <span class="keywordflow">if</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>) {</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;                   <span class="keywordflow">if</span> (!<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> || !strcmp(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>-&gt;value, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> + 1))</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;                       <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 1;</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;                   <span class="keywordflow">else</span></div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;                       <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;               } <span class="keywordflow">else</span></div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;                   <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160; </div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;               <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>);</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;            }</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;            <span class="keywordflow">return</span> match &amp;&amp; <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*spec == <span class="charliteral">&#39;u&#39;</span> &amp;&amp; *(spec + 1) == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;            <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;            <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *codec = st-&gt;codec;</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;            <span class="keywordflow">switch</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a>) {</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>:</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;                <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">channels</a>;</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;                <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> || (codec-&gt;sample_rate &amp;&amp; codec-&gt;channels);</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;                <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> == <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="libavformat_2version_8h.html#a7ab12886a6ad5afd957d519e72381c84">FF_API_LAVF_AVCTX</a></div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;                    &amp;&amp; codec-&gt;sample_fmt == <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;#endif</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;                    )</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>:</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;                <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> &amp;&amp; par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>;</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;                <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> || (codec-&gt;width &amp;&amp; codec-&gt;height);</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;                <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">format</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="libavformat_2version_8h.html#a7ab12886a6ad5afd957d519e72381c84">FF_API_LAVF_AVCTX</a></div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;                    &amp;&amp; codec-&gt;pix_fmt == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;#endif</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;                    )</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;                    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a>:</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;                <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = 0;</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;                <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = 1;</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;            }</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;            <span class="keywordflow">return</span> match &amp;&amp; ((par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a> || codec-&gt;codec_id != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a>) &amp;&amp; <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> != 0);</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;            <span class="keywordflow">return</span> match &amp;&amp; (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a> &amp;&amp; <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> != 0);</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;        }</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;    }</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160; </div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    <span class="keywordflow">return</span> match;</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;}</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160; </div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160; </div>
<div class="line"><a name="l05252"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga7e45597834e9ef3098ddb74bc5e1550c"> 5252</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#ga7e45597834e9ef3098ddb74bc5e1550c">avformat_match_stream_specifier</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">char</span> *spec)</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;{</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>;</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    <span class="keywordtype">char</span> *endptr;</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *indexptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <a class="code" href="struct_a_v_program.html">AVProgram</a> *p = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a>;</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160; </div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#a32d01ce3ecf629e798897a3f0b12eac6">match_stream_specifier</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, spec, &amp;indexptr, &amp;p);</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160; </div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;    <span class="keywordflow">if</span> (!indexptr)</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160; </div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = strtol(indexptr, &amp;endptr, 0);</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    <span class="keywordflow">if</span> (*endptr) {                  <span class="comment">/* We can&#39;t have anything after the requested index. */</span></div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;    }</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160; </div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    <span class="comment">/* This is not really needed but saves us a loop for simple stream index specifiers. */</span></div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;    <span class="keywordflow">if</span> (spec == indexptr)</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> == st-&gt;<a class="code" href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">index</a>);</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160; </div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;    <span class="comment">/* If we requested a matching stream index, we have to ensure st is that. */</span></div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;    <a class="code" href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a> = p ? p-&gt;<a class="code" href="struct_a_v_program.html#a136cf29d2aa5b0e4c6d743406c5e39d1">nb_stream_indexes</a> : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams;</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; i &lt; nb_streams &amp;&amp; index &gt;= 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *candidate = p ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[p-&gt;<a class="code" href="struct_a_v_program.html#a7967d41af4812ed61a28762e988c7a02">stream_index</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#a32d01ce3ecf629e798897a3f0b12eac6">match_stream_specifier</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, candidate, spec, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt; 0 &amp;&amp; <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>-- == 0 &amp;&amp; st == candidate)</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;    }</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160; </div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>:</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL))</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid stream specifier: %s.\n&quot;</span>, spec);</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;}</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160; </div>
<div class="line"><a name="l05296"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a9f7dcde5c9b537264e9020d70e6add14"> 5296</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a9f7dcde5c9b537264e9020d70e6add14">ff_generate_avci_extradata</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;{</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> avci100_1080p_extradata[] = {</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;        <span class="comment">// SPS</span></div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x67, 0x7a, 0x10, 0x29,</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;        0xb6, 0xd4, 0x20, 0x22, 0x33, 0x19, 0xc6, 0x63,</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;        0x23, 0x21, 0x01, 0x11, 0x98, 0xce, 0x33, 0x19,</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;        0x18, 0x21, 0x02, 0x56, 0xb9, 0x3d, 0x7d, 0x7e,</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;        0x4f, 0xe3, 0x3f, 0x11, 0xf1, 0x9e, 0x08, 0xb8,</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;        0x8c, 0x54, 0x43, 0xc0, 0x78, 0x02, 0x27, 0xe2,</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;        0x70, 0x1e, 0x30, 0x10, 0x10, 0x14, 0x00, 0x00,</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;        0x03, 0x00, 0x04, 0x00, 0x00, 0x03, 0x00, 0xca,</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;        0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;        <span class="comment">// PPS</span></div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x68, 0xce, 0x33, 0x48,</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;        0xd0</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    };</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> avci100_1080i_extradata[] = {</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;        <span class="comment">// SPS</span></div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x67, 0x7a, 0x10, 0x29,</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;        0xb6, 0xd4, 0x20, 0x22, 0x33, 0x19, 0xc6, 0x63,</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;        0x23, 0x21, 0x01, 0x11, 0x98, 0xce, 0x33, 0x19,</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        0x18, 0x21, 0x03, 0x3a, 0x46, 0x65, 0x6a, 0x65,</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;        0x24, 0xad, 0xe9, 0x12, 0x32, 0x14, 0x1a, 0x26,</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        0x34, 0xad, 0xa4, 0x41, 0x82, 0x23, 0x01, 0x50,</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;        0x2b, 0x1a, 0x24, 0x69, 0x48, 0x30, 0x40, 0x2e,</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;        0x11, 0x12, 0x08, 0xc6, 0x8c, 0x04, 0x41, 0x28,</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;        0x4c, 0x34, 0xf0, 0x1e, 0x01, 0x13, 0xf2, 0xe0,</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;        0x3c, 0x60, 0x20, 0x20, 0x28, 0x00, 0x00, 0x03,</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;        0x00, 0x08, 0x00, 0x00, 0x03, 0x01, 0x94, 0x20,</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;        <span class="comment">// PPS</span></div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x68, 0xce, 0x33, 0x48,</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;        0xd0</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;    };</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> avci50_1080p_extradata[] = {</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;        <span class="comment">// SPS</span></div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x67, 0x6e, 0x10, 0x28,</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;        0xa6, 0xd4, 0x20, 0x32, 0x33, 0x0c, 0x71, 0x18,</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;        0x88, 0x62, 0x10, 0x19, 0x19, 0x86, 0x38, 0x8c,</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;        0x44, 0x30, 0x21, 0x02, 0x56, 0x4e, 0x6f, 0x37,</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;        0xcd, 0xf9, 0xbf, 0x81, 0x6b, 0xf3, 0x7c, 0xde,</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;        0x6e, 0x6c, 0xd3, 0x3c, 0x05, 0xa0, 0x22, 0x7e,</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;        0x5f, 0xfc, 0x00, 0x0c, 0x00, 0x13, 0x8c, 0x04,</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;        0x04, 0x05, 0x00, 0x00, 0x03, 0x00, 0x01, 0x00,</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;        0x00, 0x03, 0x00, 0x32, 0x84, 0x00, 0x00, 0x00,</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;        <span class="comment">// PPS</span></div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x68, 0xee, 0x31, 0x12,</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;        0x11</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;    };</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> avci50_1080i_extradata[] = {</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;        <span class="comment">// SPS</span></div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x67, 0x6e, 0x10, 0x28,</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;        0xa6, 0xd4, 0x20, 0x32, 0x33, 0x0c, 0x71, 0x18,</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;        0x88, 0x62, 0x10, 0x19, 0x19, 0x86, 0x38, 0x8c,</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;        0x44, 0x30, 0x21, 0x02, 0x56, 0x4e, 0x6e, 0x61,</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;        0x87, 0x3e, 0x73, 0x4d, 0x98, 0x0c, 0x03, 0x06,</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;        0x9c, 0x0b, 0x73, 0xe6, 0xc0, 0xb5, 0x18, 0x63,</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;        0x0d, 0x39, 0xe0, 0x5b, 0x02, 0xd4, 0xc6, 0x19,</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;        0x1a, 0x79, 0x8c, 0x32, 0x34, 0x24, 0xf0, 0x16,</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;        0x81, 0x13, 0xf7, 0xff, 0x80, 0x02, 0x00, 0x01,</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;        0xf1, 0x80, 0x80, 0x80, 0xa0, 0x00, 0x00, 0x03,</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;        0x00, 0x20, 0x00, 0x00, 0x06, 0x50, 0x80, 0x00,</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;        <span class="comment">// PPS</span></div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x68, 0xee, 0x31, 0x12,</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;        0x11</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;    };</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> avci100_720p_extradata[] = {</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;        <span class="comment">// SPS</span></div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x67, 0x7a, 0x10, 0x29,</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;        0xb6, 0xd4, 0x20, 0x2a, 0x33, 0x1d, 0xc7, 0x62,</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;        0xa1, 0x08, 0x40, 0x54, 0x66, 0x3b, 0x8e, 0xc5,</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;        0x42, 0x02, 0x10, 0x25, 0x64, 0x2c, 0x89, 0xe8,</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;        0x85, 0xe4, 0x21, 0x4b, 0x90, 0x83, 0x06, 0x95,</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;        0xd1, 0x06, 0x46, 0x97, 0x20, 0xc8, 0xd7, 0x43,</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;        0x08, 0x11, 0xc2, 0x1e, 0x4c, 0x91, 0x0f, 0x01,</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;        0x40, 0x16, 0xec, 0x07, 0x8c, 0x04, 0x04, 0x05,</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;        0x00, 0x00, 0x03, 0x00, 0x01, 0x00, 0x00, 0x03,</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;        0x00, 0x64, 0x84, 0x00, 0x00, 0x00, 0x00, 0x00,</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;        <span class="comment">// PPS</span></div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x68, 0xce, 0x31, 0x12,</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;        0x11</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;    };</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> avci50_720p_extradata[] = {</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;        <span class="comment">// SPS</span></div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x67, 0x6e, 0x10, 0x20,</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;        0xa6, 0xd4, 0x20, 0x32, 0x33, 0x0c, 0x71, 0x18,</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;        0x88, 0x62, 0x10, 0x19, 0x19, 0x86, 0x38, 0x8c,</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;        0x44, 0x30, 0x21, 0x02, 0x56, 0x4e, 0x6f, 0x37,</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;        0xcd, 0xf9, 0xbf, 0x81, 0x6b, 0xf3, 0x7c, 0xde,</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;        0x6e, 0x6c, 0xd3, 0x3c, 0x0f, 0x01, 0x6e, 0xff,</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;        0xc0, 0x00, 0xc0, 0x01, 0x38, 0xc0, 0x40, 0x40,</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;        0x50, 0x00, 0x00, 0x03, 0x00, 0x10, 0x00, 0x00,</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;        0x06, 0x48, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00,</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;        <span class="comment">// PPS</span></div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;        0x00, 0x00, 0x00, 0x01, 0x68, 0xee, 0x31, 0x12,</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;        0x11</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;    };</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160; </div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>       = 0;</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160; </div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> == 1920) {</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2">AV_FIELD_PROGRESSIVE</a>) {</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;            <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = avci100_1080p_extradata;</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <span class="keyword">sizeof</span>(avci100_1080p_extradata);</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;            <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = avci100_1080i_extradata;</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <span class="keyword">sizeof</span>(avci100_1080i_extradata);</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;        }</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> == 1440) {</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2">AV_FIELD_PROGRESSIVE</a>) {</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;            <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = avci50_1080p_extradata;</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <span class="keyword">sizeof</span>(avci50_1080p_extradata);</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;            <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = avci50_1080i_extradata;</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <span class="keyword">sizeof</span>(avci50_1080i_extradata);</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;        }</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> == 1280) {</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;        <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = avci100_720p_extradata;</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <span class="keyword">sizeof</span>(avci100_720p_extradata);</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> == 960) {</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;        <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = avci50_720p_extradata;</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <span class="keyword">sizeof</span>(avci50_720p_extradata);</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;    }</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160; </div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160; </div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)) &lt; 0)</div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    memcpy(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160; </div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;}</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160; </div>
<div class="line"><a name="l05431"></a><span class="lineno"><a class="line" href="group__lavf__core.html#ga2c3404067d7e9bc7b8443e3f58cf8e65"> 5431</a></span>&#160;<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="group__lavf__core.html#ga2c3404067d7e9bc7b8443e3f58cf8e65">av_stream_get_side_data</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st,</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;                                 <span class="keyword">enum</span> <a class="code" href="group__lavc__packet.html#ga9a80bfcacc586b483a973272800edb97">AVPacketSideDataType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>, <span class="keywordtype">int</span> *<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;{</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160; </div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; st-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">type</a> == <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>) {</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;                *<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a>;</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;            <span class="keywordflow">return</span> st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a>;</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;        }</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;    }</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;        *<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 0;</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;}</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160; </div>
<div class="line"><a name="l05448"></a><span class="lineno"><a class="line" href="group__lavf__core.html#ga5c8d715704c153cb645982444063cc2b"> 5448</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__core.html#ga5c8d715704c153cb645982444063cc2b">av_stream_add_side_data</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keyword">enum</span> <a class="code" href="group__lavc__packet.html#ga9a80bfcacc586b483a973272800edb97">AVPacketSideDataType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>,</div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;                            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">size_t</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;{</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;    <a class="code" href="struct_a_v_packet_side_data.html">AVPacketSideData</a> *sd, *tmp;</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160; </div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; st-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;        sd = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160; </div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;        <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">type</a> == <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>) {</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a>);</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;            sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a> = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;            sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a> = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;        }</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;    }</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160; </div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)st-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a> + 1 &gt;= INT_MAX / <span class="keyword">sizeof</span>(*st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>))</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ERANGE);</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160; </div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;    tmp = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>, (st-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a> + 1) * <span class="keyword">sizeof</span>(*tmp));</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;    <span class="keywordflow">if</span> (!tmp) {</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;    }</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160; </div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a> = tmp;</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a>++;</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160; </div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    sd = &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">side_data</a>[st-&gt;<a class="code" href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">nb_side_data</a> - 1];</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;    sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">type</a> = <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>;</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;    sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">data</a> = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;    sd-&gt;<a class="code" href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">size</a> = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160; </div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;}</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160; </div>
<div class="line"><a name="l05484"></a><span class="lineno"><a class="line" href="group__lavf__core.html#gae324697cedd36e7b47a1e142dc24b805"> 5484</a></span>&#160;<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="group__lavf__core.html#gae324697cedd36e7b47a1e142dc24b805">av_stream_new_side_data</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keyword">enum</span> <a class="code" href="group__lavc__packet.html#ga9a80bfcacc586b483a973272800edb97">AVPacketSideDataType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>,</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;                                 <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;{</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160; </div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>)</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160; </div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__core.html#ga5c8d715704c153cb645982444063cc2b">av_stream_add_side_data</a>(st, <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>);</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;    }</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160; </div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;}</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160; </div>
<div class="line"><a name="l05502"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ac72e380330c591f7e0988dc547b1dd56"> 5502</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ac72e380330c591f7e0988dc547b1dd56">ff_stream_add_bitstream_filter</a>(<a class="code" href="struct_a_v_stream.html">AVStream</a> *st, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *args)</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;{</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_bit_stream_filter.html">AVBitStreamFilter</a> *bsf;</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;    <a class="code" href="struct_a_v_b_s_f_context.html">AVBSFContext</a> *bsfc;</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160; </div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a>);</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160; </div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;    <span class="keywordflow">if</span> (!(bsf = <a class="code" href="group__lavc__core.html#gae491493190b45698ebd43db28c4e8fe9">av_bsf_get_by_name</a>(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>))) {</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown bitstream filter &#39;%s&#39;\n&quot;</span>, <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>);</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga586e134e9dad8f57a218b2cd8734b601">AVERROR_BSF_NOT_FOUND</a>;</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;    }</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160; </div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#ga7da65af303e20c9546e15ec266b182c1">av_bsf_alloc</a>(bsf, &amp;bsfc)) &lt; 0)</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160; </div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    bsfc-&gt;<a class="code" href="struct_a_v_b_s_f_context.html#ad75adf988c00f89202099c87ea39f0db">time_base_in</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2utils_8c.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a>(bsfc-&gt;<a class="code" href="struct_a_v_b_s_f_context.html#a702ace639b8193475cf0a12ebdebd738">par_in</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>)) &lt; 0) {</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;        <a class="code" href="group__lavc__core.html#ga08d53431e76355f88e27763b1940df4f">av_bsf_free</a>(&amp;bsfc);</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    }</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160; </div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;    <span class="keywordflow">if</span> (args &amp;&amp; bsfc-&gt;<a class="code" href="struct_a_v_b_s_f_context.html#aee0c46a9a0d19ec7c8970565fd56c5bf">filter</a>-&gt;<a class="code" href="struct_a_v_bit_stream_filter.html#a33948e4c7fb99c38c5147b4e452108d9">priv_class</a>) {</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> *opt = <a class="code" href="group__avoptions.html#gabc75970cd87d1bf47a4ff449470e9225">av_opt_next</a>(bsfc-&gt;<a class="code" href="struct_a_v_b_s_f_context.html#a5c799e50f572340b69d4c79cda8f2de9">priv_data</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> * shorthand[2] = {<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>};</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160; </div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;        <span class="keywordflow">if</span> (opt)</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;            shorthand[0] = opt-&gt;<a class="code" href="struct_a_v_option.html#a87e81c6e58d6a94d97a98ad15a4e507c">name</a>;</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160; </div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__avoptions.html#gaa936b1aa7caca67b21cd50819c2b9fb1">av_opt_set_from_string</a>(bsfc-&gt;<a class="code" href="struct_a_v_b_s_f_context.html#a5c799e50f572340b69d4c79cda8f2de9">priv_data</a>, args, shorthand, <span class="stringliteral">&quot;=&quot;</span>, <span class="stringliteral">&quot;:&quot;</span>)) &lt; 0) {</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;            <a class="code" href="group__lavc__core.html#ga08d53431e76355f88e27763b1940df4f">av_bsf_free</a>(&amp;bsfc);</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;        }</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;    }</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160; </div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#ga242529d54013acf87e94273d298a5ff2">av_bsf_init</a>(bsfc)) &lt; 0) {</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;        <a class="code" href="group__lavc__core.html#ga08d53431e76355f88e27763b1940df4f">av_bsf_free</a>(&amp;bsfc);</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;    }</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160; </div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a> = bsfc;</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160; </div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>,</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;           <span class="stringliteral">&quot;Automatically inserted bitstream filter &#39;%s&#39;; args=&#39;%s&#39;\n&quot;</span>,</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;           <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, args ? args : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;}</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160; </div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;<span class="preprocessor">#if FF_API_OLD_BSF</span></div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;<span class="keywordtype">int</span> av_apply_bitstream_filters(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *codec, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;                               <a class="code" href="struct_a_v_bit_stream_filter_context.html">AVBitStreamFilterContext</a> *bsfc)</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;{</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;    <span class="keywordflow">while</span> (bsfc) {</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;        <a class="code" href="struct_a_v_packet.html">AVPacket</a> new_pkt = *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>;</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = <a class="code" href="group__lavc__misc.html#ga8aa30391ba53516321c69ec0cea34e39">av_bitstream_filter_filter</a>(bsfc, codec, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;                                           &amp;new_pkt.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, &amp;new_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>,</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;                                           <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>,</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;                                           <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>);</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> == 0 &amp;&amp; new_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> == 0 &amp;&amp; new_pkt.<a class="code" href="struct_a_v_packet.html#af415e25244b26921e8fc249d45499b84">side_data_elems</a> == 0) {</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;            <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;            memset(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, 0, <span class="keyword">sizeof</span>(*<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>));</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;        }</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> == 0 &amp;&amp; new_pkt.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> != <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>) {</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *t = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(new_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>); <span class="comment">//the new should be a subset of the old so cannot overflow</span></div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;            <span class="keywordflow">if</span> (t) {</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;                memcpy(t, new_pkt.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, new_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;                memset(t + new_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>, 0, <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;                new_pkt.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> = t;</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;                new_pkt.<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;                <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = 1;</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;                <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;            }</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;        }</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &gt; 0) {</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;            new_pkt.<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a> = <a class="code" href="group__lavu__buffer.html#ga3e7f4c92db85ccba0b2a16dd0069842a">av_buffer_create</a>(new_pkt.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, new_pkt.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>,</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;                                           <a class="code" href="group__lavu__buffer.html#ga37d620e8cfc9f2f3261c2b4c5d4adfe0">av_buffer_default_free</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;            <span class="keywordflow">if</span> (new_pkt.<a class="code" href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">buf</a>) {</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ac55bfef91c33f02704ba76518d0f294c">side_data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#af415e25244b26921e8fc249d45499b84">side_data_elems</a> = 0;</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;                <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;new_pkt.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>);</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;                <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;            }</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;        }</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt; 0) {</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(codec, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;                   <span class="stringliteral">&quot;Failed to open bitstream filter %s for stream %d with codec %s&quot;</span>,</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;                   bsfc-&gt;<a class="code" href="struct_a_v_bit_stream_filter_context.html#a1e02fef744847b6e06f7dcc467ea9967">filter</a>-&gt;<a class="code" href="struct_a_v_bit_stream_filter.html#a33c3cb51bd13060da35481655b41e4e5">name</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>,</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;                   codec-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a> ? codec-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a> : <span class="stringliteral">&quot;copy&quot;</span>);</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;        }</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;        *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a> = new_pkt;</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160; </div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;        bsfc = bsfc-&gt;<a class="code" href="struct_a_v_bit_stream_filter_context.html#a65bd58b3ccc448c497f69c413c2703b6">next</a>;</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;    }</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;}</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160; </div>
<div class="line"><a name="l05608"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a030a5f703be7f063ae6c6c7ab7061094"> 5608</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a030a5f703be7f063ae6c6c7ab7061094">ff_format_output_open</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *url, <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>)</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;{</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat)</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160; </div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;oformat-&gt;flags &amp; <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a>))</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, url, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, <a class="code" href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a>);</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;}</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160; </div>
<div class="line"><a name="l05618"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#adb8463bd54e90ac181f7edc0944252de"> 5618</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **pb)</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;{</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    <span class="keywordflow">if</span> (*pb)</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_close(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, *pb);</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    *pb = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;}</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160; </div>
<div class="line"><a name="l05625"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a01788f5fa3d955ed9da7ae8e3524e79d"> 5625</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a01788f5fa3d955ed9da7ae8e3524e79d">ff_is_http_proto</a>(<span class="keywordtype">char</span> *filename) {</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *proto = <a class="code" href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a>(filename);</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;    <span class="keywordflow">return</span> proto ? (!<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(proto, <span class="stringliteral">&quot;http&quot;</span>) || !<a class="code" href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a>(proto, <span class="stringliteral">&quot;https&quot;</span>)) : 0;</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;}</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160; </div>
<div class="line"><a name="l05630"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#ab0ada0e011ce230ec7c6fc9f600bf89c"> 5630</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#ab0ada0e011ce230ec7c6fc9f600bf89c">ff_parse_creation_time_metadata</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, int64_t *timestamp, <span class="keywordtype">int</span> return_seconds)</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;{</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *entry;</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;    int64_t parsed_timestamp;</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <span class="keywordflow">if</span> ((entry = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;creation_time&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))) {</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a>(&amp;parsed_timestamp, entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, 0)) &gt;= 0) {</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;            *timestamp = return_seconds ? parsed_timestamp / 1000000 : parsed_timestamp;</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to parse creation_time %s\n&quot;</span>, entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;        }</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;    }</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;}</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160; </div>
<div class="line"><a name="l05647"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#abacb50bc36f408c3ba9674b8344633d3"> 5647</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#abacb50bc36f408c3ba9674b8344633d3">ff_standardize_creation_time</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;{</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;    int64_t timestamp;</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2utils_8c.html#ab0ada0e011ce230ec7c6fc9f600bf89c">ff_parse_creation_time_metadata</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;timestamp, 0);</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == 1)</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dict_8c.html#adb9d691f87509f9f260769b3717d53c4">avpriv_dict_set_timestamp</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;creation_time&quot;</span>, timestamp);</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;}</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160; </div>
<div class="line"><a name="l05656"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a302dc5bd81f253809bfab9baba71587b"> 5656</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a302dc5bd81f253809bfab9baba71587b">ff_get_packet_palette</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, uint32_t *palette)</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;{</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *side_data;</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160; </div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;    side_data = <a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a9b3c18a18a684fcbb1a2cc25cc6869dd">AV_PKT_DATA_PALETTE</a>, &amp;<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;    <span class="keywordflow">if</span> (side_data) {</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> != <a class="code" href="pixfmt_8h.html#ac28ef17f95d98b118f5ae57d75061278">AVPALETTE_SIZE</a>) {</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid palette side data\n&quot;</span>);</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;        }</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;        memcpy(palette, side_data, <a class="code" href="pixfmt_8h.html#ac28ef17f95d98b118f5ae57d75061278">AVPALETTE_SIZE</a>);</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;    }</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160; </div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="libavformat_2internal_8h.html#adaeb944105a5f452e866d3607fa6ed3d">CONTAINS_PAL</a>) {</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;            palette[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> - <a class="code" href="pixfmt_8h.html#ac28ef17f95d98b118f5ae57d75061278">AVPALETTE_SIZE</a> + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>*4);</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;    }</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160; </div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;}</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160; </div>
<div class="line"><a name="l05681"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a1d37e9f5dbfeafec5edb6cb51a6690ba"> 5681</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="libavformat_2utils_8c.html#a1d37e9f5dbfeafec5edb6cb51a6690ba">ff_bprint_to_codecpar_extradata</a>(<a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par, <span class="keyword">struct</span> AVBPrint *buf)</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;{</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>;</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160; </div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="bprint_8c.html#a3fd45f50d9d4f7cc8fed5331a37f47ea">av_bprint_finalize</a>(buf, &amp;<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>);</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a>(buf)) {</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>);</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    }</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160; </div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;    par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a> = <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>;</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;    <span class="comment">/* Note: the string is NUL terminated (so extradata can be read as a</span></div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;<span class="comment">     * string), but the ending character is not accounted in the size (in</span></div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;<span class="comment">     * binary formats you are likely not supposed to mux that character). When</span></div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;<span class="comment">     * extradata is copied, it is also padded with AV_INPUT_BUFFER_PADDING_SIZE</span></div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;<span class="comment">     * zeros. */</span></div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;    par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> = buf-&gt;len;</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;}</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160; </div>
<div class="line"><a name="l05704"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#gae35832b110d26ffa3e8805b3d55e8f36"> 5704</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="group__lavf__misc.html#gae35832b110d26ffa3e8805b3d55e8f36">avformat_transfer_internal_stream_timing_info</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> *ofmt,</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;                                                  <a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *ist,</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;                                                  <span class="keyword">enum</span> <a class="code" href="group__lavf__misc.html#ga67f84bb8799c8da41194f046f4b970c4">AVTimebaseSource</a> <a class="code" href="ffmpeg_8h.html#a8e4ab3fbd5ee2de7cd51ff1a033db4b3">copy_tb</a>)</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;{</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;    <span class="comment">//TODO: use [io]st-&gt;internal-&gt;avctx</span></div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>;</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a>       *enc_ctx;</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160; </div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;    <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a> = ist-&gt;codec;</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;    enc_ctx = <a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;codec;</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;    <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a> = ist-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>;</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;    enc_ctx = <a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>;</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160; </div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;    enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a> = ist-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;<span class="comment">     * Avi is a special case here because it supports variable fps but</span></div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;<span class="comment">     * having the fps and timebase differe significantly adds quite some</span></div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;<span class="comment">     * overhead</span></div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;    <span class="keywordflow">if</span> (!strcmp(ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>, <span class="stringliteral">&quot;avi&quot;</span>)) {</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;<span class="preprocessor">#if FF_API_R_FRAME_RATE</span></div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffmpeg_8h.html#a8e4ab3fbd5ee2de7cd51ff1a033db4b3">copy_tb</a> == <a class="code" href="group__lavf__misc.html#gga67f84bb8799c8da41194f046f4b970c4a925300170a86b606dbe4b2b2a18ad12a">AVFMT_TBCF_AUTO</a> &amp;&amp; ist-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a></div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;            &amp;&amp; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>) &gt;= <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>)</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;            &amp;&amp; 0.5/<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>) &gt; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>)</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;            &amp;&amp; 0.5/<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>) &gt; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>)</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;            &amp;&amp; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) &lt; 1.0/500 &amp;&amp; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>) &lt; 1.0/500</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;            || <a class="code" href="ffmpeg_8h.html#a8e4ab3fbd5ee2de7cd51ff1a033db4b3">copy_tb</a> == AVFMT_TBCF_R_FRAMERATE) {</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> = ist-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>;</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> = 2*ist-&gt;<a class="code" href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">r_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>;</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> = 2;</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ffmpeg_8h.html#a8e4ab3fbd5ee2de7cd51ff1a033db4b3">copy_tb</a> == <a class="code" href="group__lavf__misc.html#gga67f84bb8799c8da41194f046f4b970c4a925300170a86b606dbe4b2b2a18ad12a">AVFMT_TBCF_AUTO</a> &amp;&amp; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>)*<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> &gt; 2*<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>)</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;                   &amp;&amp; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) &lt; 1.0/500</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;                   || <a class="code" href="ffmpeg_8h.html#a8e4ab3fbd5ee2de7cd51ff1a033db4b3">copy_tb</a> == <a class="code" href="group__lavf__misc.html#gga67f84bb8799c8da41194f046f4b970c4ae6bd8e936313feda91adedd2501ca90b">AVFMT_TBCF_DECODER</a>) {</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a> = <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>;</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> *= <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>;</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> *= 2;</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> = 2;</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;        }</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#aad55a00e728a020c1dcfaaf695320445">flags</a> &amp; <a class="code" href="avformat_8h.html#a4d9f21e76a3bf919c74ea40957ef21a7">AVFMT_VARIABLE_FPS</a>)</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;               &amp;&amp; !<a class="code" href="group__lavu__string.html#ga5883fa1071129810bccfad9b3e779371">av_match_name</a>(ofmt-&gt;<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>, <span class="stringliteral">&quot;mov,mp4,3gp,3g2,psp,ipod,ismv,f4v&quot;</span>)) {</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ffmpeg_8h.html#a8e4ab3fbd5ee2de7cd51ff1a033db4b3">copy_tb</a> == <a class="code" href="group__lavf__misc.html#gga67f84bb8799c8da41194f046f4b970c4a925300170a86b606dbe4b2b2a18ad12a">AVFMT_TBCF_AUTO</a> &amp;&amp; <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a></div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;            &amp;&amp; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>)*<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> &gt; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>)</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;            &amp;&amp; <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(ist-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>) &lt; 1.0/500</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;            || <a class="code" href="ffmpeg_8h.html#a8e4ab3fbd5ee2de7cd51ff1a033db4b3">copy_tb</a> == <a class="code" href="group__lavf__misc.html#gga67f84bb8799c8da41194f046f4b970c4ae6bd8e936313feda91adedd2501ca90b">AVFMT_TBCF_DECODER</a>) {</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a> = <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>;</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;            enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> *= <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>;</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;        }</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;    }</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160; </div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;    <span class="keywordflow">if</span> ((enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a2c974557671dd459674b170c5e64d79a">codec_tag</a> == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;tmcd&quot;</span>) || <a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a> == <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<span class="stringliteral">&quot;tmcd&quot;</span>))</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;        &amp;&amp; <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &lt; <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a></div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;        &amp;&amp; <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;        &amp;&amp; 121LL*<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>) {</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;        enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a> = <a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>;</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;    }</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160; </div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>)</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;        enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a> = <a class="code" href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a>(<a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>);</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160; </div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;    <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;              enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, enc_ctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, INT_MAX);</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160; </div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;}</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160; </div>
<div class="line"><a name="l05776"></a><span class="lineno"><a class="line" href="group__lavf__misc.html#ga64b609bbdda09ec7b29534a30656eb1a"> 5776</a></span>&#160;<a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="group__lavf__misc.html#ga64b609bbdda09ec7b29534a30656eb1a">av_stream_get_codec_timebase</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *st)</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;{</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;    <span class="comment">// See avformat_transfer_internal_stream_timing_info() TODO.</span></div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;<span class="preprocessor">#if FF_API_LAVF_AVCTX</span></div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;    <span class="keywordflow">return</span> st-&gt;codec-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;    <span class="keywordflow">return</span> st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>;</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;}</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160; </div>
<div class="line"><a name="l05788"></a><span class="lineno"><a class="line" href="libavformat_2utils_8c.html#a9362e44ca30ad934a2d70e050401f313"> 5788</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="libavformat_2utils_8c.html#a9362e44ca30ad934a2d70e050401f313">ff_format_set_url</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">char</span> *url)</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;{</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(url);</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url = url;</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;<span class="preprocessor">#if FF_API_FORMAT_FILENAME</span></div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;    <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filename, url, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filename));</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="atarget__bsf__fuzzer_8c_html_aa3d85a3469f60990fdff296efb86a9c2"><div class="ttname"><a href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a></div><div class="ttdeci">static void error(const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="target__bsf__fuzzer_8c_source.html#l00030">target_bsf_fuzzer.c:30</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7b1cd65e6136d656808269f1b22f49b4"><div class="ttname"><a href="struct_a_v_codec_context.html#a7b1cd65e6136d656808269f1b22f49b4">AVCodecContext::properties</a></div><div class="ttdeci">unsigned properties</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02191">avcodec.h:2191</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea29c8a6ec93ad1a77e50f2b48efa80204"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea29c8a6ec93ad1a77e50f2b48efa80204">AV_CODEC_ID_PCM_S16LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S16LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00308">codec_id.h:308</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_abee943e65d98f9763fa6602a356e774f"><div class="ttname"><a href="struct_a_v_codec_parameters.html#abee943e65d98f9763fa6602a356e774f">AVCodecParameters::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00084">codec_par.h:84</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaf4daa92361efb3523ef5afeb0b54077f"><div class="ttname"><a href="group__lavc__core.html#gaf4daa92361efb3523ef5afeb0b54077f">avcodec_close</a></div><div class="ttdeci">av_cold int avcodec_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01137">utils.c:1137</a></div></div>
<div class="ttc" id="agroup__opt__get__funcs_html_ga6ed0b77def62321ff995843211405338"><div class="ttname"><a href="group__opt__get__funcs.html#ga6ed0b77def62321ff995843211405338">av_opt_get_dict_val</a></div><div class="ttdeci">int av_opt_get_dict_val(void *obj, const char *name, int search_flags, AVDictionary **out_val)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l01031">opt.c:1031</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga63d5a489b419bd5d45cfd09091cbcbc2"><div class="ttname"><a href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a></div><div class="ttdeci">void av_packet_unref(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00606">avpacket.c:606</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html"><div class="ttname"><a href="struct_a_v_input_format.html">AVInputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00638">avformat.h:638</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a4318f2b797795d91f2ab490ec7a3d321"><div class="ttname"><a href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it be(in the first position) for now. Options ------- Then comes the options array. This is what will define the user accessible options. For example</div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_aa6ef004d10669ab4ee062367a014ea33"><div class="ttname"><a href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_ENABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00085">internal.h:85</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a4e6076343df1ffc2e16cedbba3f3f397"><div class="ttname"><a href="struct_a_v_format_context.html#a4e6076343df1ffc2e16cedbba3f3f397">AVFormatContext::ctx_flags</a></div><div class="ttdeci">int ctx_flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01272">avformat.h:1272</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a></div><div class="ttdeci">@ AVMEDIA_TYPE_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00204">avutil.h:204</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_af9e8f2bbcbb1bcf5b4cd5fcc4293375a"><div class="ttname"><a href="libavformat_2utils_8c.html#af9e8f2bbcbb1bcf5b4cd5fcc4293375a">ff_codec_get_id</a></div><div class="ttdeci">enum AVCodecID ff_codec_get_id(const AVCodecTag *tags, unsigned int tag)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03087">utils.c:3097</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ac7bff75aaac18aa2beab28d83eb1cb1a"><div class="ttname"><a href="struct_a_v_stream_internal.html#ac7bff75aaac18aa2beab28d83eb1cb1a">AVStreamInternal::frame_delay_evidence</a></div><div class="ttdeci">int frame_delay_evidence</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00207">internal.h:207</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_a7e0b385e4ec6765ab0ae0db11565dd1d"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#a7e0b385e4ec6765ab0ae0db11565dd1d">AVCodecParserContext::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03372">avcodec.h:3372</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae1b8b7cb397aa290640d1a3bea7cce9e"><div class="ttname"><a href="libavformat_2utils_8c.html#ae1b8b7cb397aa290640d1a3bea7cce9e">DURATION_MAX_RETRY</a></div><div class="ttdeci">#define DURATION_MAX_RETRY</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02739">utils.c:2739</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="aavformat_8h_html_a936da4a8820e0d9206856620ee451a10"><div class="ttname"><a href="avformat_8h.html#a936da4a8820e0d9206856620ee451a10">AVFMT_FLAG_DISCARD_CORRUPT</a></div><div class="ttdeci">#define AVFMT_FLAG_DISCARD_CORRUPT</div><div class="ttdoc">Discard frames marked corrupted.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01363">avformat.h:1363</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a4e6c8012f59638d536ec9c3ca306ea66"><div class="ttname"><a href="struct_a_v_stream_internal.html#a4e6c8012f59638d536ec9c3ca306ea66">AVStreamInternal::last_dts</a></div><div class="ttdeci">int64_t last_dts</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00200">internal.h:200</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea2e3b263e55bf4774f5a3a1d7b0261df4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea2e3b263e55bf4774f5a3a1d7b0261df4">AV_CODEC_ID_PCM_F32BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_F32BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00328">codec_id.h:328</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a7d89fb68af227a21a92da2f9d2ad4ec6"><div class="ttname"><a href="libavformat_2utils_8c.html#a7d89fb68af227a21a92da2f9d2ad4ec6">ff_data_to_hex</a></div><div class="ttdeci">char * ff_data_to_hex(char *buff, const uint8_t *src, int s, int lowercase)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04822">utils.c:4822</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_aa4f848c169b0eb413afcdf35a1201af3"><div class="ttname"><a href="libavformat_2internal_8h.html#aa4f848c169b0eb413afcdf35a1201af3">SPACE_CHARS</a></div><div class="ttdeci">#define SPACE_CHARS</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00495">internal.h:495</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6b53fda85ad61baa345edbd96cb8a33c"><div class="ttname"><a href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">AVCodecContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00576">avcodec.h:576</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_adb27990ed3d4ad300fd1dde281903508"><div class="ttname"><a href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option name</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00088">writing_filters.txt:88</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a7d6ef91120ffe80040c699e747a1ad68"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a7d6ef91120ffe80040c699e747a1ad68">AVCodecParameters::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:136</a></div></div>
<div class="ttc" id="aavformat_8h_html_a6286e2977286a22b622cb51cf4106541"><div class="ttname"><a href="avformat_8h.html#a6286e2977286a22b622cb51cf4106541">AVFMT_NO_BYTE_SEEK</a></div><div class="ttdeci">#define AVFMT_NO_BYTE_SEEK</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00470">avformat.h:470</a></div></div>
<div class="ttc" id="aavformat_8h_html_a80856b99bcf4373936fb4fba028b11ca"><div class="ttname"><a href="avformat_8h.html#a80856b99bcf4373936fb4fba028b11ca">av_format_control_message</a></div><div class="ttdeci">int(* av_format_control_message)(struct AVFormatContext *s, int type, void *data, size_t data_size)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01191">avformat.h:1191</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceac87e37dcf0240ae87c9004d10a14f1a0">AV_CODEC_ID_AC3</a></div><div class="ttdeci">@ AV_CODEC_ID_AC3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00421">codec_id.h:421</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a97ece8c275c6f444dec28e550bae2905"><div class="ttname"><a href="undefined_8txt.html#a97ece8c275c6f444dec28e550bae2905">program</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C program</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00006">undefined.txt:6</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a10fdfb53e63c40330d0585aafabeb103"><div class="ttname"><a href="libavformat_2utils_8c.html#a10fdfb53e63c40330d0585aafabeb103">is_relative</a></div><div class="ttdeci">static int is_relative(int64_t ts)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00091">utils.c:91</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aec57f0d859a6df8b479cd93ca3a44a33"><div class="ttname"><a href="struct_a_v_codec_context.html#aec57f0d859a6df8b479cd93ca3a44a33">AVCodecContext::frame_size</a></div><div class="ttdeci">int frame_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01206">avcodec.h:1206</a></div></div>
<div class="ttc" id="aavformat_8h_html_a7c2692ffa20d3e888e40e79eeda6d73ba6185e1e7f8dfae85596779408ef496b2"><div class="ttname"><a href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73ba6185e1e7f8dfae85596779408ef496b2">AVFMT_DURATION_FROM_BITRATE</a></div><div class="ttdeci">@ AVFMT_DURATION_FROM_BITRATE</div><div class="ttdoc">Duration estimated from bitrate (less accurate)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01205">avformat.h:1204</a></div></div>
<div class="ttc" id="aavformat_8h_html_a50b1ae2089b32bf048b79ff3bd7175f4"><div class="ttname"><a href="avformat_8h.html#a50b1ae2089b32bf048b79ff3bd7175f4">AVFMT_FLAG_PRIV_OPT</a></div><div class="ttdeci">#define AVFMT_FLAG_PRIV_OPT</div><div class="ttdoc">Enable use of private options by delaying codec open (this could be made default once all code is con...</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01376">avformat.h:1376</a></div></div>
<div class="ttc" id="alibavformat_2version_8h_html_ae3aaee0c8eeba298abf02cfcb9f71a69"><div class="ttname"><a href="libavformat_2version_8h.html#ae3aaee0c8eeba298abf02cfcb9f71a69">LIBAVFORMAT_VERSION_INT</a></div><div class="ttdeci">#define LIBAVFORMAT_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2version_8h_source.html#l00038">version.h:38</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_aae2835f9ec4291aa5525edbdfd742c96"><div class="ttname"><a href="avio__internal_8h.html#aae2835f9ec4291aa5525edbdfd742c96">ffio_realloc_buf</a></div><div class="ttdeci">int ffio_realloc_buf(AVIOContext *s, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01053">aviobuf.c:1053</a></div></div>
<div class="ttc" id="astruct_a_v_b_s_f_context_html_ad75adf988c00f89202099c87ea39f0db"><div class="ttname"><a href="struct_a_v_b_s_f_context.html#ad75adf988c00f89202099c87ea39f0db">AVBSFContext::time_base_in</a></div><div class="ttdeci">AVRational time_base_in</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8h_source.html#l00089">bsf.h:89</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gadcb0fd3e507d9b58fe78f61f8ad39827"><div class="ttname"><a href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a></div><div class="ttdeci">AVStream * avformat_new_stream(AVFormatContext *s, const AVCodec *c)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04453">utils.c:4453</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_aadf7537f16a03e4957c558fc34f0a942"><div class="ttname"><a href="struct_a_v_stream_internal.html#aadf7537f16a03e4957c558fc34f0a942">AVStreamInternal::inited</a></div><div class="ttdeci">int inited</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00183">internal.h:183</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d7c381913c9918caf6969fef8806694"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d7c381913c9918caf6969fef8806694">AVCodecContext::subtitle_header_size</a></div><div class="ttdeci">int subtitle_header_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02015">avcodec.h:2015</a></div></div>
<div class="ttc" id="astruct_a_v_program_html"><div class="ttname"><a href="struct_a_v_program.html">AVProgram</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01145">avformat.h:1145</a></div></div>
<div class="ttc" id="araw_8c_html_a97dfa9c7604d0331da5c073b485490c9"><div class="ttname"><a href="raw_8c.html#a97dfa9c7604d0331da5c073b485490c9">avpriv_get_raw_pix_fmt_tags</a></div><div class="ttdeci">const struct PixelFormatTag * avpriv_get_raw_pix_fmt_tags(void)</div><div class="ttdef"><b>Definition:</b> <a href="raw_8c_source.html#l00300">raw.c:300</a></div></div>
<div class="ttc" id="astruct_a_v_bit_stream_filter_html_a33948e4c7fb99c38c5147b4e452108d9"><div class="ttname"><a href="struct_a_v_bit_stream_filter.html#a33948e4c7fb99c38c5147b4e452108d9">AVBitStreamFilter::priv_class</a></div><div class="ttdeci">const AVClass * priv_class</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8h_source.html#l00117">bsf.h:117</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae536a85efb2dd6a695675dccb1b1a1c0"><div class="ttname"><a href="libavformat_2utils_8c.html#ae536a85efb2dd6a695675dccb1b1a1c0">ff_lock_avformat</a></div><div class="ttdeci">int ff_lock_avformat(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00079">utils.c:79</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_a2622bb891412cf52010a54afb622abc9"><div class="ttname"><a href="struct_a_v_output_format.html#a2622bb891412cf52010a54afb622abc9">AVOutputFormat::query_codec</a></div><div class="ttdeci">int(* query_codec)(enum AVCodecID id, int std_compliance)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00568">avformat.h:568</a></div></div>
<div class="ttc" id="astruct_a_v_bit_stream_filter_html"><div class="ttname"><a href="struct_a_v_bit_stream_filter.html">AVBitStreamFilter</a></div><div class="ttdef"><b>Definition:</b> <a href="bsf_8h_source.html#l00098">bsf.h:98</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gad4ca968e9058b39b2da630ad0a091bdb"><div class="ttname"><a href="group__avoptions.html#gad4ca968e9058b39b2da630ad0a091bdb">av_opt_set_defaults</a></div><div class="ttdeci">void av_opt_set_defaults(void *s)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l01357">opt.c:1357</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a3d013588a419f1b93756a70c3a01011b"><div class="ttname"><a href="libavformat_2utils_8c.html#a3d013588a419f1b93756a70c3a01011b">ff_rfps_calculate</a></div><div class="ttdeci">void ff_rfps_calculate(AVFormatContext *ic)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03354">utils.c:3354</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a3833f5d5a31361d858f864f9ff7aaea6"><div class="ttname"><a href="libavformat_2utils_8c.html#a3833f5d5a31361d858f864f9ff7aaea6">av_codec_get_tag2</a></div><div class="ttdeci">int av_codec_get_tag2(const AVCodecTag *const *tags, enum AVCodecID id, unsigned int *tag)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03166">utils.c:3166</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_adc5f65d6099fd8339c1580c091777223"><div class="ttname"><a href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">AVCodecContext::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:536</a></div></div>
<div class="ttc" id="abprint_8c_html_a3fd45f50d9d4f7cc8fed5331a37f47ea"><div class="ttname"><a href="bprint_8c.html#a3fd45f50d9d4f7cc8fed5331a37f47ea">av_bprint_finalize</a></div><div class="ttdeci">int av_bprint_finalize(AVBPrint *buf, char **ret_str)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00235">bprint.c:235</a></div></div>
<div class="ttc" id="aavformat_8h_html_a3d60713d578ad1ef6505e05779c112cf"><div class="ttname"><a href="avformat_8h.html#a3d60713d578ad1ef6505e05779c112cf">FF_FDEBUG_TS</a></div><div class="ttdeci">#define FF_FDEBUG_TS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01507">avformat.h:1507</a></div></div>
<div class="ttc" id="astruct_a_v_packet_list_html"><div class="ttname"><a href="struct_a_v_packet_list.html">AVPacketList</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00396">packet.h:396</a></div></div>
<div class="ttc" id="aavformat_8h_html_a7e75bf188f5457c60be077445b3392a0"><div class="ttname"><a href="avformat_8h.html#a7e75bf188f5457c60be077445b3392a0">AVSTREAM_EVENT_FLAG_NEW_PACKETS</a></div><div class="ttdeci">#define AVSTREAM_EVENT_FLAG_NEW_PACKETS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01001">avformat.h:1001</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga0c4f9ed3f4102125be7451ad4d848a2f"><div class="ttname"><a href="group__lavu__math.html#ga0c4f9ed3f4102125be7451ad4d848a2f">av_add_stable</a></div><div class="ttdeci">int64_t av_add_stable(AVRational ts_tb, int64_t ts, AVRational inc_tb, int64_t inc)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00191">mathematics.c:191</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a1f34420920ed6e46caa35ae7fdfbe33b"><div class="ttname"><a href="libavformat_2utils_8c.html#a1f34420920ed6e46caa35ae7fdfbe33b">ff_mkdir_p</a></div><div class="ttdeci">int ff_mkdir_p(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04788">utils.c:4788</a></div></div>
<div class="ttc" id="aavio_8h_html_ad71cada104a5e4365d35d45669ea03ca"><div class="ttname"><a href="avio_8h.html#ad71cada104a5e4365d35d45669ea03ca">avio_close</a></div><div class="ttdeci">int avio_close(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01173">aviobuf.c:1173</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_ae7bcc679e68f4bd77a63d25dac47f0c5"><div class="ttname"><a href="libavformat_2internal_8h.html#ae7bcc679e68f4bd77a63d25dac47f0c5">FFERROR_REDO</a></div><div class="ttdeci">#define FFERROR_REDO</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00785">internal.h:785</a></div></div>
<div class="ttc" id="acommon_8h_html_a09a0bb7d8fcfac416de7a5fe7fd8b0f1"><div class="ttname"><a href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a></div><div class="ttdeci">#define FFSWAP(type, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00099">common.h:99</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a01788f5fa3d955ed9da7ae8e3524e79d"><div class="ttname"><a href="libavformat_2utils_8c.html#a01788f5fa3d955ed9da7ae8e3524e79d">ff_is_http_proto</a></div><div class="ttdeci">int ff_is_http_proto(char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05625">utils.c:5625</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ab280fe42d849a34eba7e3ae906a079ef"><div class="ttname"><a href="struct_a_v_stream_internal.html#ab280fe42d849a34eba7e3ae906a079ef">AVStreamInternal::info</a></div><div class="ttdeci">struct AVStreamInternal::@1 * info</div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a74a68d517e0a36dd53cd46aa226b4c4d"><div class="ttname"><a href="libavformat_2utils_8c.html#a74a68d517e0a36dd53cd46aa226b4c4d">ff_ntp_time</a></div><div class="ttdeci">uint64_t ff_ntp_time(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04638">utils.c:4638</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97ad42d2eb8c04516552e0c422257192bc0"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad42d2eb8c04516552e0c422257192bc0">AV_PKT_DATA_PARAM_CHANGE</a></div><div class="ttdeci">@ AV_PKT_DATA_PARAM_CHANGE</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00072">packet.h:72</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html_ab071640466e60eddc4eee43385fb22fd"><div class="ttname"><a href="struct_a_v_input_format.html#ab071640466e60eddc4eee43385fb22fd">AVInputFormat::read_timestamp</a></div><div class="ttdeci">int64_t(* read_timestamp)(struct AVFormatContext *s, int stream_index, int64_t *pos, int64_t pos_limit)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00743">avformat.h:743</a></div></div>
<div class="ttc" id="astruct_a_v_format_internal_html_a88b42d669c6a948267ac585cba3f9fc3"><div class="ttname"><a href="struct_a_v_format_internal.html#a88b42d669c6a948267ac585cba3f9fc3">AVFormatInternal::packet_buffer_end</a></div><div class="ttdeci">struct AVPacketList * packet_buffer_end</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00077">internal.h:77</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gab1d208d09e487741a28016919225bef6"><div class="ttname"><a href="group__avoptions.html#gab1d208d09e487741a28016919225bef6">av_opt_ptr</a></div><div class="ttdeci">void * av_opt_ptr(const AVClass *class, void *obj, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l01745">opt.c:1745</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html"><div class="ttname"><a href="libavutil_2thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_a051e3628c43876e42cfcff99ea0fc44c"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#a051e3628c43876e42cfcff99ea0fc44c">AVCodecParserContext::duration</a></div><div class="ttdeci">int duration</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03475">avcodec.h:3475</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gab4faa0afdf35076914824200331defff"><div class="ttname"><a href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a></div><div class="ttdeci">#define AVERROR_EOF</div><div class="ttdoc">End of file.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00055">error.h:55</a></div></div>
<div class="ttc" id="aavformat_8h_html_a4d9f21e76a3bf919c74ea40957ef21a7"><div class="ttname"><a href="avformat_8h.html#a4d9f21e76a3bf919c74ea40957ef21a7">AVFMT_VARIABLE_FPS</a></div><div class="ttdeci">#define AVFMT_VARIABLE_FPS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00465">avformat.h:465</a></div></div>
<div class="ttc" id="acommon_8h_html_a19c68e2b5efcbab914d79db1e4fee734"><div class="ttname"><a href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a></div><div class="ttdeci">#define MKTAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00405">common.h:405</a></div></div>
<div class="ttc" id="aavformat_8h_html_ab54a3e54e88a8f7d7760e60b49944e44"><div class="ttname"><a href="avformat_8h.html#ab54a3e54e88a8f7d7760e60b49944e44">AV_DISPOSITION_ATTACHED_PIC</a></div><div class="ttdeci">#define AV_DISPOSITION_ATTACHED_PIC</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00837">avformat.h:837</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a550435dc6ea4d6cbf5f257e828b4526b"><div class="ttname"><a href="libavformat_2utils_8c.html#a550435dc6ea4d6cbf5f257e828b4526b">ff_rfps_add_frame</a></div><div class="ttdeci">int ff_rfps_add_frame(AVFormatContext *ic, AVStream *st, int64_t ts)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03294">utils.c:3294</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga9edb9ac206ed05dc5baa9d168f31de48"><div class="ttname"><a href="group__lavf__decoding.html#ga9edb9ac206ed05dc5baa9d168f31de48">av_find_program_from_stream</a></div><div class="ttdeci">AVProgram * av_find_program_from_stream(AVFormatContext *ic, AVProgram *last, int s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04159">utils.c:4159</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a2544b5e8a87c65c7b49ddaec3ff67418"><div class="ttname"><a href="struct_a_v_stream_internal.html#a2544b5e8a87c65c7b49ddaec3ff67418">AVStreamInternal::fps_last_dts</a></div><div class="ttdeci">int64_t fps_last_dts</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00223">internal.h:223</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gaffa24e7bd38e12dbac540d8b66461f97"><div class="ttname"><a href="group__lavu__math__rational.html#gaffa24e7bd38e12dbac540d8b66461f97">av_div_q</a></div><div class="ttdeci">AVRational av_div_q(AVRational b, AVRational c)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00088">rational.c:88</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga0c7058f764778615e7978a1821ab3cfe"><div class="ttname"><a href="group__lavc__core.html#ga0c7058f764778615e7978a1821ab3cfe">avcodec_parameters_from_context</a></div><div class="ttdeci">int avcodec_parameters_from_context(AVCodecParameters *par, const AVCodecContext *codec)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02095">utils.c:2095</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga8aa30391ba53516321c69ec0cea34e39"><div class="ttname"><a href="group__lavc__misc.html#ga8aa30391ba53516321c69ec0cea34e39">av_bitstream_filter_filter</a></div><div class="ttdeci">attribute_deprecated int av_bitstream_filter_filter(AVBitStreamFilterContext *bsfc, AVCodecContext *avctx, const char *args, uint8_t **poutbuf, int *poutbuf_size, const uint8_t *buf, int buf_size, int keyframe)</div><div class="ttdef"><b>Definition:</b> <a href="bitstream__filter_8c_source.html#l00097">bitstream_filter.c:97</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga3d36105d7143b319acef3c86d2beb382"><div class="ttname"><a href="group__lavc__packet.html#ga3d36105d7143b319acef3c86d2beb382">AV_PKT_FLAG_DISCARD</a></div><div class="ttdeci">#define AV_PKT_FLAG_DISCARD</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00408">packet.h:408</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gga67f84bb8799c8da41194f046f4b970c4ae6bd8e936313feda91adedd2501ca90b"><div class="ttname"><a href="group__lavf__misc.html#gga67f84bb8799c8da41194f046f4b970c4ae6bd8e936313feda91adedd2501ca90b">AVFMT_TBCF_DECODER</a></div><div class="ttdeci">@ AVFMT_TBCF_DECODER</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02954">avformat.h:2954</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga6d4056568b5ab73d2e55800d9a5caa66"><div class="ttname"><a href="group__lavc__misc.html#ga6d4056568b5ab73d2e55800d9a5caa66">avcodec_string</a></div><div class="ttdeci">void avcodec_string(char *buf, int buf_size, AVCodecContext *enc, int encode)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01246">utils.c:1246</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a5f5b5fcb25a1ec6b72d4693c9759dc04"><div class="ttname"><a href="libavformat_2utils_8c.html#a5f5b5fcb25a1ec6b72d4693c9759dc04">av_stream_get_parser</a></div><div class="ttdeci">struct AVCodecParserContext * av_stream_get_parser(const AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00145">utils.c:145</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a635e8ee1b87d15c62630f697b5800e50"><div class="ttname"><a href="struct_a_v_stream_internal.html#a635e8ee1b87d15c62630f697b5800e50">AVStreamInternal::fps_first_dts</a></div><div class="ttdeci">int64_t fps_first_dts</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00221">internal.h:221</a></div></div>
<div class="ttc" id="alibavcodec_2utils_8c_html_ad4714ae1c93972fd9c8ff2a303fcd051"><div class="ttname"><a href="libavcodec_2utils_8c.html#ad4714ae1c93972fd9c8ff2a303fcd051">avpriv_toupper4</a></div><div class="ttdeci">unsigned int avpriv_toupper4(unsigned int x)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01868">utils.c:1868</a></div></div>
<div class="ttc" id="aavformat_8h_html_ae4418d32b17890be22da9c5f95087168"><div class="ttname"><a href="avformat_8h.html#ae4418d32b17890be22da9c5f95087168">AVFMT_NOTIMESTAMPS</a></div><div class="ttdeci">#define AVFMT_NOTIMESTAMPS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00462">avformat.h:462</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_acb47a2a7362ac575b4986e0028786a41"><div class="ttname"><a href="struct_a_v_format_context.html#acb47a2a7362ac575b4986e0028786a41">AVFormatContext::probesize</a></div><div class="ttdeci">int64_t probesize</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01389">avformat.h:1389</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gafd07a13a4ddaa6015275cad6022d9ee3"><div class="ttname"><a href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a></div><div class="ttdeci">#define AV_TIME_BASE_Q</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00260">avutil.h:260</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a79d6ee9e699fd534e85543752f3cb775"><div class="ttname"><a href="libavformat_2internal_8h.html#a79d6ee9e699fd534e85543752f3cb775">MAX_STD_TIMEBASES</a></div><div class="ttdeci">#define MAX_STD_TIMEBASES</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00195">internal.h:195</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga74f66e072998b8ce81ef3aba8d617a58"><div class="ttname"><a href="group__lavc__packet.html#ga74f66e072998b8ce81ef3aba8d617a58">av_grow_packet</a></div><div class="ttdeci">int av_grow_packet(AVPacket *pkt, int grow_by)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00111">avpacket.c:111</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a1cd124860be31d0d275bb838ace6a98c"><div class="ttname"><a href="struct_a_v_stream.html#a1cd124860be31d0d275bb838ace6a98c">AVStream::probe_packets</a></div><div class="ttdeci">int probe_packets</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01069">avformat.h:1069</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html"><div class="ttname"><a href="struct_a_v_i_o_context.html">AVIOContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00161">avio.h:161</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga4c60b7d4ce023a6466bc033e31c5349c"><div class="ttname"><a href="group__lavu__string.html#ga4c60b7d4ce023a6466bc033e31c5349c">av_strcasecmp</a></div><div class="ttdeci">int av_strcasecmp(const char *a, const char *b)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00215">avstring.c:215</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab2ebb76836ef4cd9822b5077c17b33d0"><div class="ttname"><a href="struct_a_v_codec_context.html#ab2ebb76836ef4cd9822b5077c17b33d0">AVCodecContext::coded_height</a></div><div class="ttdeci">int coded_height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00714">avcodec.h:714</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a970e011f0a3137e95fad9c2acd70c892"><div class="ttname"><a href="libavformat_2utils_8c.html#a970e011f0a3137e95fad9c2acd70c892">ff_find_last_ts</a></div><div class="ttdeci">int ff_find_last_ts(AVFormatContext *s, int stream_index, int64_t *ts, int64_t *pos, int64_t(*read_timestamp)(struct AVFormatContext *, int, int64_t *, int64_t))</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02184">utils.c:2184</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a4c2c5a4c758966349ff513e95154d062"><div class="ttname"><a href="struct_a_v_format_context.html#a4c2c5a4c758966349ff513e95154d062">AVFormatContext::programs</a></div><div class="ttdeci">AVProgram ** programs</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01403">avformat.h:1403</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1b88854d7b37174f45df205456d7c1cc">AV_CODEC_ID_RAWVIDEO</a></div><div class="ttdeci">@ AV_CODEC_ID_RAWVIDEO</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00062">codec_id.h:62</a></div></div>
<div class="ttc" id="aattributes_8h_html_a7ca8a3900269f92fcc7b68235dea7787"><div class="ttname"><a href="attributes_8h.html#a7ca8a3900269f92fcc7b68235dea7787">av_unused</a></div><div class="ttdeci">#define av_unused</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00133">attributes.h:133</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_aa5f1d3d09d263b79985bbcc45c6ab48e"><div class="ttname"><a href="struct_a_v_stream_internal.html#aa5f1d3d09d263b79985bbcc45c6ab48e">AVStreamInternal::need_context_update</a></div><div class="ttdeci">int need_context_update</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00189">internal.h:189</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga96490acc8dd8d85f2ee43bc605661ffa"><div class="ttname"><a href="group__lavu__string.html#ga96490acc8dd8d85f2ee43bc605661ffa">av_isspace</a></div><div class="ttdeci">static av_const int av_isspace(int c)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8h_source.html#l00227">avstring.h:227</a></div></div>
<div class="ttc" id="aavformat_8h_html_af09f200b4cd9bf0baa05671436eef2fb"><div class="ttname"><a href="avformat_8h.html#af09f200b4cd9bf0baa05671436eef2fb">AV_DISPOSITION_DEFAULT</a></div><div class="ttdeci">#define AV_DISPOSITION_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00814">avformat.h:814</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead95dfdf68b462db508b45fb693a4c09e">AV_CODEC_ID_MPEG4</a></div><div class="ttdeci">@ AV_CODEC_ID_MPEG4</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00061">codec_id.h:61</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga979d73f3228814aee56aeca0636e37cc"><div class="ttname"><a href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a></div><div class="ttdeci">void av_frame_free(AVFrame **frame)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00203">frame.c:203</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga242529d54013acf87e94273d298a5ff2"><div class="ttname"><a href="group__lavc__core.html#ga242529d54013acf87e94273d298a5ff2">av_bsf_init</a></div><div class="ttdeci">int av_bsf_init(AVBSFContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8c_source.html#l00147">bsf.c:147</a></div></div>
<div class="ttc" id="aid3v2_8h_html"><div class="ttname"><a href="id3v2_8h.html">id3v2.h</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gga67f84bb8799c8da41194f046f4b970c4a925300170a86b606dbe4b2b2a18ad12a"><div class="ttname"><a href="group__lavf__misc.html#gga67f84bb8799c8da41194f046f4b970c4a925300170a86b606dbe4b2b2a18ad12a">AVFMT_TBCF_AUTO</a></div><div class="ttdeci">@ AVFMT_TBCF_AUTO</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02953">avformat.h:2953</a></div></div>
<div class="ttc" id="amem_8c_html_aadc230ece36ef112710b262a6601a16b"><div class="ttname"><a href="mem_8c.html#aadc230ece36ef112710b262a6601a16b">av_realloc_array</a></div><div class="ttdeci">void * av_realloc_array(void *ptr, size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00198">mem.c:198</a></div></div>
<div class="ttc" id="arate__distortion_8txt_html_a0e018beb061c7ac6d1f9121683a6f2c2"><div class="ttname"><a href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a></div><div class="ttdeci">trying all byte sequences megabyte in length and selecting the best looking sequence will yield cases to try But a word about which is also called distortion Distortion can be quantified by almost any quality measurement one chooses the sum of squared differences is used but more complex methods that consider psychovisual effects can be used as well It makes no difference in this discussion First step</div><div class="ttdef"><b>Definition:</b> <a href="rate__distortion_8txt_source.html#l00019">rate_distortion.txt:58</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a7ffa612f85c144e2f4157829c26048a4"><div class="ttname"><a href="struct_a_v_stream_internal.html#a7ffa612f85c144e2f4157829c26048a4">AVStreamInternal::pts_reorder_error_count</a></div><div class="ttdeci">uint8_t pts_reorder_error_count[MAX_REORDER_DELAY+1]</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00317">internal.h:317</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ac8897b1caf22bbfb84db48bf5817a0d4"><div class="ttname"><a href="libavformat_2utils_8c.html#ac8897b1caf22bbfb84db48bf5817a0d4">ff_read_frame_flush</a></div><div class="ttdeci">void ff_read_frame_flush(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01863">utils.c:1863</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a51639f88aef9f4f283f538a0c033fbb8"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">AVCodecParameters::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00126">codec_par.h:126</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga47db1b7f294b9f92684401b9c66a7c4b"><div class="ttname"><a href="group__lavc__decoding.html#ga47db1b7f294b9f92684401b9c66a7c4b">avcodec_decode_subtitle2</a></div><div class="ttdeci">int avcodec_decode_subtitle2(AVCodecContext *avctx, AVSubtitle *sub, int *got_sub_ptr, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l00998">decode.c:998</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html"><div class="ttname"><a href="libavcodec_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceacefff4578427aea42f7bae17f6a5a0a4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceacefff4578427aea42f7bae17f6a5a0a4">AV_CODEC_ID_DVB_TELETEXT</a></div><div class="ttdeci">@ AV_CODEC_ID_DVB_TELETEXT</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00524">codec_id.h:524</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga05f17637161cd79506f67b20ea8149c9"><div class="ttname"><a href="group__lavf__misc.html#ga05f17637161cd79506f67b20ea8149c9">av_get_frame_filename2</a></div><div class="ttdeci">int av_get_frame_filename2(char *buf, int buf_size, const char *path, int number, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04665">utils.c:4665</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a492fcecc45dbbd8da51edd0124e9dd30"><div class="ttname"><a href="struct_a_v_stream.html#a492fcecc45dbbd8da51edd0124e9dd30">AVStream::discard</a></div><div class="ttdeci">enum AVDiscard discard</div><div class="ttdoc">Selects which packets can be discarded at will and do not need to be demuxed.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00922">avformat.h:924</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_abcaa5a7c53d4b0224a5fc2d23e88ea03"><div class="ttname"><a href="struct_a_v_format_context.html#abcaa5a7c53d4b0224a5fc2d23e88ea03">AVFormatContext::format_whitelist</a></div><div class="ttdeci">char * format_whitelist</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01682">avformat.h:1682</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a9b3c18a18a684fcbb1a2cc25cc6869dd"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a9b3c18a18a684fcbb1a2cc25cc6869dd">AV_PKT_DATA_PALETTE</a></div><div class="ttdeci">@ AV_PKT_DATA_PALETTE</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00046">packet.h:46</a></div></div>
<div class="ttc" id="aavformat_8h_html_ac5fdea71141dcc30346a57df75cf408e"><div class="ttname"><a href="avformat_8h.html#ac5fdea71141dcc30346a57df75cf408e">AVFMT_FLAG_CUSTOM_IO</a></div><div class="ttdeci">#define AVFMT_FLAG_CUSTOM_IO</div><div class="ttdoc">The caller has supplied a custom AVIOContext, don't avio_close() it.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01362">avformat.h:1362</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceae4523044929927b24cbb846463584a7c"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceae4523044929927b24cbb846463584a7c">AV_CODEC_ID_PCM_U24LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_U24LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00322">codec_id.h:322</a></div></div>
<div class="ttc" id="aavformat_8h_html_a754de906e0da116c009846547741f869"><div class="ttname"><a href="avformat_8h.html#a754de906e0da116c009846547741f869">AVSEEK_FLAG_BYTE</a></div><div class="ttdeci">#define AVSEEK_FLAG_BYTE</div><div class="ttdoc">seeking based on position in bytes</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02392">avformat.h:2392</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a2ae4d13037646d8671a6a01305552e24"><div class="ttname"><a href="libavformat_2utils_8c.html#a2ae4d13037646d8671a6a01305552e24">compute_pkt_fields</a></div><div class="ttdeci">static void compute_pkt_fields(AVFormatContext *s, AVStream *st, AVCodecParserContext *pc, AVPacket *pkt, int64_t next_dts, int64_t next_pts)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01198">utils.c:1198</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga437bfa981d4c8968ca92f41ecbcb8054ac0fd6e147f7e6ebe14002f95594e5317"><div class="ttname"><a href="group__lavc__packet.html#gga437bfa981d4c8968ca92f41ecbcb8054ac0fd6e147f7e6ebe14002f95594e5317">AV_SIDE_DATA_PARAM_CHANGE_SAMPLE_RATE</a></div><div class="ttdeci">@ AV_SIDE_DATA_PARAM_CHANGE_SAMPLE_RATE</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00425">packet.h:425</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a0f57a8c4e3da2823120b0aa7bc44c7af"><div class="ttname"><a href="struct_a_v_stream_internal.html#a0f57a8c4e3da2823120b0aa7bc44c7af">AVStreamInternal::dts_ordered</a></div><div class="ttdeci">uint8_t dts_ordered</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00325">internal.h:325</a></div></div>
<div class="ttc" id="astruct_a_v_codec_descriptor_html_ad628ddb3416cafa38c9d4f3c1f61ad50"><div class="ttname"><a href="struct_a_v_codec_descriptor.html#ad628ddb3416cafa38c9d4f3c1f61ad50">AVCodecDescriptor::type</a></div><div class="ttdeci">enum AVMediaType type</div><div class="ttdef"><b>Definition:</b> <a href="codec__desc_8h_source.html#l00122">codec_desc.h:40</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_af167b5844a49ffcc0591a22a7e661bb8"><div class="ttname"><a href="libavformat_2utils_8c.html#af167b5844a49ffcc0591a22a7e661bb8">LICENSE_PREFIX</a></div><div class="ttdeci">#define LICENSE_PREFIX</div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a9e6cfeca22a89aedbb33711749206cf1"><div class="ttname"><a href="struct_a_v_stream_internal.html#a9e6cfeca22a89aedbb33711749206cf1">AVStreamInternal::probe_data</a></div><div class="ttdeci">AVProbeData probe_data</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00340">internal.h:340</a></div></div>
<div class="ttc" id="alibavformat_2version_8h_html_a3224be1c325e29c7ed5c1f69f5a4d343"><div class="ttname"><a href="libavformat_2version_8h.html#a3224be1c325e29c7ed5c1f69f5a4d343">LIBAVFORMAT_VERSION_MICRO</a></div><div class="ttdeci">#define LIBAVFORMAT_VERSION_MICRO</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2version_8h_source.html#l00036">version.h:36</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html"><div class="ttname"><a href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_ga3e7f4c92db85ccba0b2a16dd0069842a"><div class="ttname"><a href="group__lavu__buffer.html#ga3e7f4c92db85ccba0b2a16dd0069842a">av_buffer_create</a></div><div class="ttdeci">AVBufferRef * av_buffer_create(uint8_t *data, int size, void(*free)(void *opaque, uint8_t *data), void *opaque, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00029">buffer.c:29</a></div></div>
<div class="ttc" id="aavformat_8h_html_ac4fe20a35d4a1b9014e5f4062fb67b52"><div class="ttname"><a href="avformat_8h.html#ac4fe20a35d4a1b9014e5f4062fb67b52">AVINDEX_DISCARD_FRAME</a></div><div class="ttdeci">#define AVINDEX_DISCARD_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00808">avformat.h:808</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_aea05abdb8e45405048d7923a68c23ef5"><div class="ttname"><a href="struct_a_v_stream.html#aea05abdb8e45405048d7923a68c23ef5">AVStream::disposition</a></div><div class="ttdeci">int disposition</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00922">avformat.h:922</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_aa34d34689036af1c54d76901d95a3efe"><div class="ttname"><a href="struct_a_v_stream_internal.html#aa34d34689036af1c54d76901d95a3efe">AVStreamInternal::pts_buffer</a></div><div class="ttdeci">int64_t pts_buffer[MAX_REORDER_DELAY+1]</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00319">internal.h:319</a></div></div>
<div class="ttc" id="amathematics_8h_html"><div class="ttname"><a href="mathematics_8h.html">mathematics.h</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a113a96a5f9d55a88cd5d7122bc638d84"><div class="ttname"><a href="struct_a_v_stream_internal.html#a113a96a5f9d55a88cd5d7122bc638d84">AVStreamInternal::pts_wrap_reference</a></div><div class="ttdeci">int64_t pts_wrap_reference</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00292">internal.h:292</a></div></div>
<div class="ttc" id="anetwork_8c_html_aaa1582776b0e358551a98616f23c42df"><div class="ttname"><a href="network_8c.html#aaa1582776b0e358551a98616f23c42df">ff_network_close</a></div><div class="ttdeci">void ff_network_close(void)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00116">network.c:116</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga437bfa981d4c8968ca92f41ecbcb8054a1afb2793dfb14b0db3caca605b2baabc"><div class="ttname"><a href="group__lavc__packet.html#gga437bfa981d4c8968ca92f41ecbcb8054a1afb2793dfb14b0db3caca605b2baabc">AV_SIDE_DATA_PARAM_CHANGE_CHANNEL_LAYOUT</a></div><div class="ttdeci">@ AV_SIDE_DATA_PARAM_CHANGE_CHANNEL_LAYOUT</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00424">packet.h:424</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_aed993a0ad10a995ad5d2191d91151885"><div class="ttname"><a href="struct_a_v_stream_internal.html#aed993a0ad10a995ad5d2191d91151885">AVStreamInternal::update_initial_durations_done</a></div><div class="ttdeci">int update_initial_durations_done</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00309">internal.h:309</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga4fdb3084415a82e3810de6ee60e46a61"><div class="ttname"><a href="group__lavf__decoding.html#ga4fdb3084415a82e3810de6ee60e46a61">av_read_frame</a></div><div class="ttdeci">int av_read_frame(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01712">utils.c:1712</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga906dda732e79eac12067c6d7ea19b630"><div class="ttname"><a href="group__lavc__misc.html#ga906dda732e79eac12067c6d7ea19b630">avcodec_is_open</a></div><div class="ttdeci">int avcodec_is_open(AVCodecContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01953">utils.c:1953</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a19375b3d6c26d5757297d95fb3df917a"><div class="ttname"><a href="libavformat_2utils_8c.html#a19375b3d6c26d5757297d95fb3df917a">RELATIVE_TS_BASE</a></div><div class="ttdeci">#define RELATIVE_TS_BASE</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00089">utils.c:89</a></div></div>
<div class="ttc" id="aavformat_8h_html_a8f47c7c3b5763fc7199f41741d759a70"><div class="ttname"><a href="avformat_8h.html#a8f47c7c3b5763fc7199f41741d759a70">AVFMT_NOBINSEARCH</a></div><div class="ttdeci">#define AVFMT_NOBINSEARCH</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00468">avformat.h:468</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea146a68962f8721fc709e19f5671844d7"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea146a68962f8721fc709e19f5671844d7">AV_CODEC_ID_HDMV_PGS_SUBTITLE</a></div><div class="ttdeci">@ AV_CODEC_ID_HDMV_PGS_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00523">codec_id.h:523</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a4445f04952706af79ecf31a4791e6492"><div class="ttname"><a href="libavformat_2utils_8c.html#a4445f04952706af79ecf31a4791e6492">compute_chapters_end</a></div><div class="ttdeci">static void compute_chapters_end(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03194">utils.c:3194</a></div></div>
<div class="ttc" id="aid3v2_8c_html_ad5631b7ce6f9a753b77bdb99a73267e7"><div class="ttname"><a href="id3v2_8c.html#ad5631b7ce6f9a753b77bdb99a73267e7">ff_id3v2_parse_chapters</a></div><div class="ttdeci">int ff_id3v2_parse_chapters(AVFormatContext *s, ID3v2ExtraMeta *extra_meta)</div><div class="ttdef"><b>Definition:</b> <a href="id3v2_8c_source.html#l01170">id3v2.c:1170</a></div></div>
<div class="ttc" id="astruct_a_v_bit_stream_filter_html_a33c3cb51bd13060da35481655b41e4e5"><div class="ttname"><a href="struct_a_v_bit_stream_filter.html#a33c3cb51bd13060da35481655b41e4e5">AVBitStreamFilter::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8h_source.html#l00099">bsf.h:99</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga90e027a5d9006148413a1387c506cd40"><div class="ttname"><a href="group__lavf__misc.html#ga90e027a5d9006148413a1387c506cd40">av_get_frame_filename</a></div><div class="ttdeci">int av_get_frame_filename(char *buf, int buf_size, const char *path, int number)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04720">utils.c:4720</a></div></div>
<div class="ttc" id="aavio_8h_html_a375f057e315dd2273579555128a070fb"><div class="ttname"><a href="avio_8h.html#a375f057e315dd2273579555128a070fb">avio_size</a></div><div class="ttdeci">int64_t avio_size(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00346">aviobuf.c:346</a></div></div>
<div class="ttc" id="avaapi__transcode_8c_html_a3e44252189bdae5212c5d1171bcd7cf4"><div class="ttname"><a href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a></div><div class="ttdeci">static AVStream * ost</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__transcode_8c_source.html#l00045">vaapi_transcode.c:45</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceab89325573cab37c7fe7f6003d0134f7e"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceab89325573cab37c7fe7f6003d0134f7e">AV_CODEC_ID_TRUEHD</a></div><div class="ttdeci">@ AV_CODEC_ID_TRUEHD</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00462">codec_id.h:462</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a9ea4142dde02201f3f59bfa823b17a61"><div class="ttname"><a href="libavformat_2utils_8c.html#a9ea4142dde02201f3f59bfa823b17a61">extract_extradata_init</a></div><div class="ttdeci">static int extract_extradata_init(AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03438">utils.c:3438</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="affmpeg__filter_8c_html_a9feef5270e0e54f103868362df0cd27a"><div class="ttname"><a href="ffmpeg__filter_8c.html#a9feef5270e0e54f103868362df0cd27a">sample_rate</a></div><div class="ttdeci">sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00193">ffmpeg_filter.c:193</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga1066464e7cdd1f215df6940db94e5d8e"><div class="ttname"><a href="group__lavc__packet.html#ga1066464e7cdd1f215df6940db94e5d8e">av_packet_free</a></div><div class="ttdeci">void av_packet_free(AVPacket **pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00064">avpacket.c:64</a></div></div>
<div class="ttc" id="anetwork_8c_html_a8bf86d3291ef0a3f03c091497b889f05"><div class="ttname"><a href="network_8c.html#a8bf86d3291ef0a3f03c091497b889f05">ff_network_init</a></div><div class="ttdeci">int ff_network_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00058">network.c:58</a></div></div>
<div class="ttc" id="anetwork_8c_html_a985a23bfc77d04dcc45d52f3f7426905"><div class="ttname"><a href="network_8c.html#a985a23bfc77d04dcc45d52f3f7426905">ff_tls_init</a></div><div class="ttdeci">int ff_tls_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00031">network.c:31</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9befe0b86412646017afb0051d144d13"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">AVCodecParameters::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00074">codec_par.h:74</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga71091e146791c4d181635485447c2830"><div class="ttname"><a href="group__lavf__decoding.html#ga71091e146791c4d181635485447c2830">av_demuxer_open</a></div><div class="ttdeci">int av_demuxer_open(AVFormatContext *ic)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00390">utils.c:390</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_add3fa33e8b3363a96fa4c62fca1bcf42"><div class="ttname"><a href="struct_a_v_index_entry.html#add3fa33e8b3363a96fa4c62fca1bcf42">AVIndexEntry::min_distance</a></div><div class="ttdeci">int min_distance</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00811">avformat.h:811</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a1183440a2c609cc101b0f43ec4e3b502"><div class="ttname"><a href="libavformat_2utils_8c.html#a1183440a2c609cc101b0f43ec4e3b502">update_wrap_reference</a></div><div class="ttdeci">static int update_wrap_reference(AVFormatContext *s, AVStream *st, int stream_index, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00726">utils.c:726</a></div></div>
<div class="ttc" id="aavformat_8h_html_aa5496b84535113646e96c8cf3b624aaf"><div class="ttname"><a href="avformat_8h.html#aa5496b84535113646e96c8cf3b624aaf">ff_const59</a></div><div class="ttdeci">#define ff_const59</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00535">avformat.h:535</a></div></div>
<div class="ttc" id="aavformat_8h_html_a23159bdc0b27ccf964072e30d6cc4559"><div class="ttname"><a href="avformat_8h.html#a23159bdc0b27ccf964072e30d6cc4559">AVINDEX_KEYFRAME</a></div><div class="ttdeci">#define AVINDEX_KEYFRAME</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00807">avformat.h:807</a></div></div>
<div class="ttc" id="agroup__lavc__misc__pixfmt_html_ga9bb07f91a7c87cba19a44ebdcf5bde63"><div class="ttname"><a href="group__lavc__misc__pixfmt.html#ga9bb07f91a7c87cba19a44ebdcf5bde63">avcodec_pix_fmt_to_codec_tag</a></div><div class="ttdeci">unsigned int avcodec_pix_fmt_to_codec_tag(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="raw_8c_source.html#l00305">raw.c:305</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a38450579d822807a26996ebc2f32d82c"><div class="ttname"><a href="libavformat_2utils_8c.html#a38450579d822807a26996ebc2f32d82c">ff_free_stream</a></div><div class="ttdeci">void ff_free_stream(AVFormatContext *s, AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04374">utils.c:4374</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae491493190b45698ebd43db28c4e8fe9"><div class="ttname"><a href="group__lavc__core.html#gae491493190b45698ebd43db28c4e8fe9">av_bsf_get_by_name</a></div><div class="ttdeci">const AVBitStreamFilter * av_bsf_get_by_name(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="bitstream__filters_8c_source.html#l00083">bitstream_filters.c:83</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga952147c7a40c48a05c39e918b153ba99"><div class="ttname"><a href="group__lavu__math.html#ga952147c7a40c48a05c39e918b153ba99">av_gcd</a></div><div class="ttdeci">int64_t av_gcd(int64_t a, int64_t b)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00037">mathematics.c:37</a></div></div>
<div class="ttc" id="affplay_8c_html_a407291b5d404f52ceebc2dbdc2b35051"><div class="ttname"><a href="ffplay_8c.html#a407291b5d404f52ceebc2dbdc2b35051">genpts</a></div><div class="ttdeci">static int genpts</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00335">ffplay.c:335</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gac20eb319c6c46f581b5d08f5c25e763e"><div class="ttname"><a href="group__lavf__misc.html#gac20eb319c6c46f581b5d08f5c25e763e">av_filename_number_test</a></div><div class="ttdeci">int av_filename_number_test(const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00322">utils.c:322</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa6b7ebb6caae7f0b539e3b299a7a2937"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa6b7ebb6caae7f0b539e3b299a7a2937">AV_CODEC_ID_PCM_S64LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S64LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00340">codec_id.h:340</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga4ad5e6363f4a6b6eddfdb427e21166f2"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga4ad5e6363f4a6b6eddfdb427e21166f2">av_memdup</a></div><div class="ttdeci">void * av_memdup(const void *p, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00285">mem.c:285</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_adb8463bd54e90ac181f7edc0944252de"><div class="ttname"><a href="libavformat_2utils_8c.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a></div><div class="ttdeci">void ff_format_io_close(AVFormatContext *s, AVIOContext **pb)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05618">utils.c:5618</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html_a211b07e99df8f376a1f9e15f7e477538"><div class="ttname"><a href="libavutil_2thread_8h.html#a211b07e99df8f376a1f9e15f7e477538">ff_mutex_unlock</a></div><div class="ttdeci">static int ff_mutex_unlock(AVMutex *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2thread_8h_source.html#l00169">thread.h:169</a></div></div>
<div class="ttc" id="astruct_a_v_probe_data_html"><div class="ttname"><a href="struct_a_v_probe_data.html">AVProbeData</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00441">avformat.h:441</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga501ff1b3aa357c09da90c0effb356e45"><div class="ttname"><a href="group__lavf__misc.html#ga501ff1b3aa357c09da90c0effb356e45">avformat_queue_attached_pictures</a></div><div class="ttdeci">int avformat_queue_attached_pictures(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00442">utils.c:442</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html_afaac829559ad9e07618c01a51d8a4c5f"><div class="ttname"><a href="struct_a_v_input_format.html#afaac829559ad9e07618c01a51d8a4c5f">AVInputFormat::priv_class</a></div><div class="ttdeci">const AVClass * priv_class</div><div class="ttdoc">AVClass for the private context.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00668">avformat.h:668</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae246ca7a1c72c151891ed0599e8dbfba"><div class="ttname"><a href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">AVCodecContext::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00628">avcodec.h:628</a></div></div>
<div class="ttc" id="atests_2h264__levels_8c_html_a0e35b8d74e1ac59b82f506293654d26d"><div class="ttname"><a href="tests_2h264__levels_8c.html#a0e35b8d74e1ac59b82f506293654d26d">framerate</a></div><div class="ttdeci">int framerate</div><div class="ttdef"><b>Definition:</b> <a href="tests_2h264__levels_8c_source.html#l00065">h264_levels.c:65</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gae804b99aec044690162b8b9b110236a4"><div class="ttname"><a href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a></div><div class="ttdeci">void avformat_close_input(AVFormatContext **ps)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04425">utils.c:4425</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a2e9e18170765d2b5b906c35ef6339dba"><div class="ttname"><a href="libavformat_2utils_8c.html#a2e9e18170765d2b5b906c35ef6339dba">ff_stream_encode_params_copy</a></div><div class="ttdeci">int ff_stream_encode_params_copy(AVStream *dst, const AVStream *src)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04262">utils.c:4262</a></div></div>
<div class="ttc" id="astruct_a_v_packet_side_data_html_a7a708e643a56c21bf117ee058991558f"><div class="ttname"><a href="struct_a_v_packet_side_data.html#a7a708e643a56c21bf117ee058991558f">AVPacketSideData::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00308">packet.h:308</a></div></div>
<div class="ttc" id="astruct_a_v_format_internal_html_a05d9e8d1ee1ef347e44444969f31b4ae"><div class="ttname"><a href="struct_a_v_format_internal.html#a05d9e8d1ee1ef347e44444969f31b4ae">AVFormatInternal::prefer_codec_framerate</a></div><div class="ttdeci">int prefer_codec_framerate</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00144">internal.h:144</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga776f2359007e8457799503068419e791"><div class="ttname"><a href="group__lavc__core.html#ga776f2359007e8457799503068419e791">avcodec_find_decoder_by_name</a></div><div class="ttdeci">AVCodec * avcodec_find_decoder_by_name(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="allcodecs_8c_source.html#l00966">allcodecs.c:966</a></div></div>
<div class="ttc" id="astruct_a_v_program_html_a7967d41af4812ed61a28762e988c7a02"><div class="ttname"><a href="struct_a_v_program.html#a7967d41af4812ed61a28762e988c7a02">AVProgram::stream_index</a></div><div class="ttdeci">unsigned int * stream_index</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01149">avformat.h:1149</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_aece61ce011bfb31ce7bf416682fcd9fa"><div class="ttname"><a href="struct_a_v_stream_internal.html#aece61ce011bfb31ce7bf416682fcd9fa">AVStreamInternal::bsf</a></div><div class="ttdeci">AVBSFContext * bsf</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00181">internal.h:181</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af869b808363998c80adf7df6a944a5a6"><div class="ttname"><a href="struct_a_v_codec_context.html#af869b808363998c80adf7df6a944a5a6">AVCodecContext::skip_frame</a></div><div class="ttdeci">enum AVDiscard skip_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01982">avcodec.h:2004</a></div></div>
<div class="ttc" id="astruct_a_v_b_s_f_context_html_aee0c46a9a0d19ec7c8970565fd56c5bf"><div class="ttname"><a href="struct_a_v_b_s_f_context.html#aee0c46a9a0d19ec7c8970565fd56c5bf">AVBSFContext::filter</a></div><div class="ttdeci">const struct AVBitStreamFilter * filter</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8h_source.html#l00058">bsf.h:58</a></div></div>
<div class="ttc" id="alibavcodec_2dfa_8c_html_a837d39f8b74c379be96e07fe99664ca3"><div class="ttname"><a href="libavcodec_2dfa_8c.html#a837d39f8b74c379be96e07fe99664ca3">decoder</a></div><div class="ttdeci">static const chunk_decoder decoder[8]</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2dfa_8c_source.html#l00330">dfa.c:330</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_ac36dbec917251f24fb626e4e09e1b056"><div class="ttname"><a href="tests_2movenc_8c.html#ac36dbec917251f24fb626e4e09e1b056">finish</a></div><div class="ttdeci">static void finish(void)</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00345">movenc.c:345</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01034">avformat.h:1034</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_aea2211b21ee4a9a443886c2e0a63be1c"><div class="ttname"><a href="libavformat_2utils_8c.html#aea2211b21ee4a9a443886c2e0a63be1c">av_stream_get_end_pts</a></div><div class="ttdeci">int64_t av_stream_get_end_pts(const AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00137">utils.c:137</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea5144fb79599a0c61ef1e66ef72b6f04c">AV_CODEC_ID_PCM_S16BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S16BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00309">codec_id.h:309</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_af0cae0ce1eb66fa7b6f9c45ad0dc7ad6"><div class="ttname"><a href="libavformat_2utils_8c.html#af0cae0ce1eb66fa7b6f9c45ad0dc7ad6">add_coded_side_data</a></div><div class="ttdeci">static int add_coded_side_data(AVStream *st, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03532">utils.c:3532</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_ac4c0777e54085af2f3f1b27130e2b21b"><div class="ttname"><a href="struct_a_v_format_context.html#ac4c0777e54085af2f3f1b27130e2b21b">AVFormatContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01251">avformat.h:1251</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="aavformat_8h_html_a998c3af80d050fd3d4f6a209fd5a87bc"><div class="ttname"><a href="avformat_8h.html#a998c3af80d050fd3d4f6a209fd5a87bc">AVSEEK_FLAG_ANY</a></div><div class="ttdeci">#define AVSEEK_FLAG_ANY</div><div class="ttdoc">seek to any frame, even non-keyframes</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02393">avformat.h:2393</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_aa95a56af9af8e37cb10e21d7b6b1083f"><div class="ttname"><a href="libavformat_2utils_8c.html#aa95a56af9af8e37cb10e21d7b6b1083f">find_decoder</a></div><div class="ttdeci">static const AVCodec * find_decoder(AVFormatContext *s, const AVStream *st, enum AVCodecID codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00180">utils.c:180</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gaceba1c21e5718f87abdf61cf21500485"><div class="ttname"><a href="group__lavc__packet.html#gaceba1c21e5718f87abdf61cf21500485">av_shrink_packet</a></div><div class="ttdeci">void av_shrink_packet(AVPacket *pkt, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00103">avpacket.c:103</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga3ed7441cb4af0bdd65a4cf51bf35088e"><div class="ttname"><a href="group__lavf__misc.html#ga3ed7441cb4af0bdd65a4cf51bf35088e">av_add_index_entry</a></div><div class="ttdeci">int av_add_index_entry(AVStream *st, int64_t pos, int64_t timestamp, int size, int distance, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01984">utils.c:1984</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91a41eb176dd7cfc095b5ea66816a75c56a"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a41eb176dd7cfc095b5ea66816a75c56a">AVSTREAM_PARSE_FULL_ONCE</a></div><div class="ttdeci">@ AVSTREAM_PARSE_FULL_ONCE</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00793">avformat.h:793</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html_a1b30f6647d0c2faf38ba8786d7c3a838"><div class="ttname"><a href="struct_a_v_input_format.html#a1b30f6647d0c2faf38ba8786d7c3a838">AVInputFormat::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00657">avformat.h:657</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_afe947a34f54bdce40fffdab2381e83b5"><div class="ttname"><a href="libavutil_2internal_8h.html#afe947a34f54bdce40fffdab2381e83b5">MAKE_ACCESSORS</a></div><div class="ttdeci">#define MAKE_ACCESSORS(str, name, type, field)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00091">internal.h:91</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gaf2d4e0fee66cef99dea2153933e6b907"><div class="ttname"><a href="group__lavf__core.html#gaf2d4e0fee66cef99dea2153933e6b907">avformat_version</a></div><div class="ttdeci">unsigned avformat_version(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00062">utils.c:62</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a32379cc371463b235d54235d4af06a15"><div class="ttname"><a href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">AVFormatContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01354">avformat.h:1354</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a9c9bcb658dd00983235fb06232c17f15"><div class="ttname"><a href="libavformat_2utils_8c.html#a9c9bcb658dd00983235fb06232c17f15">ff_configure_buffers_for_index</a></div><div class="ttdeci">void ff_configure_buffers_for_index(AVFormatContext *s, int64_t time_tolerance)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02036">utils.c:2036</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ac244957f399be61298e7286bb89ae3fa"><div class="ttname"><a href="struct_a_v_stream_internal.html#ac244957f399be61298e7286bb89ae3fa">AVStreamInternal::priv_pts</a></div><div class="ttdeci">FFFrac * priv_pts</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00193">internal.h:193</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a12404863757b23e1f5c4fdd9f13fe7f7"><div class="ttname"><a href="struct_a_v_stream_internal.html#a12404863757b23e1f5c4fdd9f13fe7f7">AVStreamInternal::codec_info_duration_fields</a></div><div class="ttdeci">int64_t codec_info_duration_fields</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00206">internal.h:206</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_af8a54ade3869125802dab7fdcd8688b3"><div class="ttname"><a href="libavformat_2utils_8c.html#af8a54ade3869125802dab7fdcd8688b3">free_stream</a></div><div class="ttdeci">static void free_stream(AVStream **pst)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04323">utils.c:4323</a></div></div>
<div class="ttc" id="aavio_8h_html_a63157a668f29b8f5a89f00bc24838b8e"><div class="ttname"><a href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a></div><div class="ttdeci">static av_always_inline int64_t avio_tell(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00557">avio.h:557</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a93d0436f7651b58debe3f995e2582dcd"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a93d0436f7651b58debe3f995e2582dcd">AVDISCARD_NONE</a></div><div class="ttdeci">@ AVDISCARD_NONE</div><div class="ttdoc">discard nothing</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00230">avcodec.h:230</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a22020056f253692045fee0745dcc4d22"><div class="ttname"><a href="libavformat_2utils_8c.html#a22020056f253692045fee0745dcc4d22">select_from_pts_buffer</a></div><div class="ttdeci">static int64_t select_from_pts_buffer(AVStream *st, int64_t *pts_buffer, int64_t dts)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01019">utils.c:1019</a></div></div>
<div class="ttc" id="aavformat_8h_html_ad2bd0ecdd51061b300e2ab490907bb09"><div class="ttname"><a href="avformat_8h.html#ad2bd0ecdd51061b300e2ab490907bb09">AVFMT_GENERIC_INDEX</a></div><div class="ttdeci">#define AVFMT_GENERIC_INDEX</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00463">avformat.h:463</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a5268fcf4ae8ed27edef54f836b926d93"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">AVCodecParameters::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00089">codec_par.h:89</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="aavformat_8h_html_a7c2692ffa20d3e888e40e79eeda6d73bac94465d3290399477775fe094ab8f75a"><div class="ttname"><a href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73bac94465d3290399477775fe094ab8f75a">AVFMT_DURATION_FROM_PTS</a></div><div class="ttdeci">@ AVFMT_DURATION_FROM_PTS</div><div class="ttdoc">Duration accurately estimated from PTSes.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01202">avformat.h:1202</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a7e0f71d1e357c772658715b43aeeed4d"><div class="ttname"><a href="libavformat_2internal_8h.html#a7e0f71d1e357c772658715b43aeeed4d">dynarray_add</a></div><div class="ttdeci">#define dynarray_add(tab, nb_ptr, elem)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00357">internal.h:357</a></div></div>
<div class="ttc" id="aavformat_8h_html_a2cba242c83a06fff914d1c8ef4cd42ac"><div class="ttname"><a href="avformat_8h.html#a2cba242c83a06fff914d1c8ef4cd42ac">AVPROBE_PADDING_SIZE</a></div><div class="ttdeci">#define AVPROBE_PADDING_SIZE</div><div class="ttdoc">extra allocated bytes at the end of the probe buffer</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00455">avformat.h:455</a></div></div>
<div class="ttc" id="agroup__lavc__parsing_html_ga0dd9af605377fcbb49fffd982672d377"><div class="ttname"><a href="group__lavc__parsing.html#ga0dd9af605377fcbb49fffd982672d377">av_parser_init</a></div><div class="ttdeci">AVCodecParserContext * av_parser_init(int codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="parser_8c_source.html#l00034">parser.c:34</a></div></div>
<div class="ttc" id="atranscode__aac_8c_html_a4fbb704fb96c36a78a36eee010306ce7"><div class="ttname"><a href="transcode__aac_8c.html#a4fbb704fb96c36a78a36eee010306ce7">pts</a></div><div class="ttdeci">static int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="transcode__aac_8c_source.html#l00647">transcode_aac.c:647</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a"><div class="ttname"><a href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a">AV_ROUND_UP</a></div><div class="ttdeci">@ AV_ROUND_UP</div><div class="ttdoc">Round toward +infinity.</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00083">mathematics.h:83</a></div></div>
<div class="ttc" id="agroup__opt__set__funcs_html_ga5fd4b92bdf4f392a2847f711676a7537"><div class="ttname"><a href="group__opt__set__funcs.html#ga5fd4b92bdf4f392a2847f711676a7537">av_opt_set</a></div><div class="ttdeci">int av_opt_set(void *obj, const char *name, const char *val, int search_flags)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l00465">opt.c:465</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gab31f7c7c99dcadead38e8e83e0fdb828"><div class="ttname"><a href="group__lavf__core.html#gab31f7c7c99dcadead38e8e83e0fdb828">av_new_program</a></div><div class="ttdeci">AVProgram * av_new_program(AVFormatContext *ac, int id)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04551">utils.c:4551</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a></div><div class="ttdeci">@ AV_CODEC_ID_MP3</div><div class="ttdoc">preferred ID for decoding MPEG audio layer 1, 2 or 3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00419">codec_id.h:419</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ad81ea3f5efb82d535c8601feca2cf3d5"><div class="ttname"><a href="struct_a_v_stream_internal.html#ad81ea3f5efb82d535c8601feca2cf3d5">AVStreamInternal::pts_wrap_behavior</a></div><div class="ttdeci">int pts_wrap_behavior</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00304">internal.h:304</a></div></div>
<div class="ttc" id="aavformat_8h_html_a1c159fe90edbc7a6f0c5e9f3537bff1b"><div class="ttname"><a href="avformat_8h.html#a1c159fe90edbc7a6f0c5e9f3537bff1b">AV_PTS_WRAP_IGNORE</a></div><div class="ttdeci">#define AV_PTS_WRAP_IGNORE</div><div class="ttdoc">ignore the wrap</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00858">avformat.h:858</a></div></div>
<div class="ttc" id="aavio_8c_html_a5ab500590561cbcd78b4667fa6f1e5df"><div class="ttname"><a href="avio_8c.html#a5ab500590561cbcd78b4667fa6f1e5df">ff_check_interrupt</a></div><div class="ttdeci">int ff_check_interrupt(AVIOInterruptCB *cb)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00666">avio.c:666</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ae495a86ddec02af7d5a2805beba9ac9f"><div class="ttname"><a href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">AVStream::internal</a></div><div class="ttdeci">AVStreamInternal * internal</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01108">avformat.h:1108</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a972a02b9e3b542a426e323a8f8e3ea41"><div class="ttname"><a href="struct_a_v_format_context.html#a972a02b9e3b542a426e323a8f8e3ea41">AVFormatContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01345">avformat.h:1345</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga4fd9c0b8e663cf3d55e89fbc6ce71602"><div class="ttname"><a href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a></div><div class="ttdeci">int av_reduce(int *dst_num, int *dst_den, int64_t num, int64_t den, int64_t max)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00035">rational.c:35</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a302dc5bd81f253809bfab9baba71587b"><div class="ttname"><a href="libavformat_2utils_8c.html#a302dc5bd81f253809bfab9baba71587b">ff_get_packet_palette</a></div><div class="ttdeci">int ff_get_packet_palette(AVFormatContext *s, AVPacket *pkt, int ret, uint32_t *palette)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05656">utils.c:5656</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_ga84542023693d61e8564c5d457979c932"><div class="ttname"><a href="group__lavf__core.html#ga84542023693d61e8564c5d457979c932">avformat_network_init</a></div><div class="ttdeci">int avformat_network_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04982">utils.c:4982</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ab66cfd3e24247b6e3e4ea0d93d6f8d09"><div class="ttname"><a href="libavformat_2utils_8c.html#ab66cfd3e24247b6e3e4ea0d93d6f8d09">try_decode_frame</a></div><div class="ttdeci">static int try_decode_frame(AVFormatContext *s, AVStream *st, const AVPacket *avpkt, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02987">utils.c:2987</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaa2c3e02a761d9fc0c5c9b2340408c332"><div class="ttname"><a href="group__lavc__core.html#gaa2c3e02a761d9fc0c5c9b2340408c332">avsubtitle_free</a></div><div class="ttdeci">void avsubtitle_free(AVSubtitle *sub)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01118">utils.c:1118</a></div></div>
<div class="ttc" id="araw_8h_html"><div class="ttname"><a href="raw_8h.html">raw.h</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gac700017c5270c79c1e1befdeeb008b2f"><div class="ttname"><a href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a></div><div class="ttdeci">AVFrame * av_frame_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00190">frame.c:190</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea1a3f67e556cc61335c6f001ae3c7069f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1a3f67e556cc61335c6f001ae3c7069f">AV_CODEC_ID_DVB_SUBTITLE</a></div><div class="ttdeci">@ AV_CODEC_ID_DVB_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00518">codec_id.h:518</a></div></div>
<div class="ttc" id="aregdef_8h_html_ab89a77e63a7226fffaecb2e2c2ab5219"><div class="ttname"><a href="regdef_8h.html#ab89a77e63a7226fffaecb2e2c2ab5219">a1</a></div><div class="ttdeci">#define a1</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00047">regdef.h:47</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a57bb9e0e79c26a780716fe4a40675af7"><div class="ttname"><a href="struct_a_v_stream_internal.html#a57bb9e0e79c26a780716fe4a40675af7">AVStreamInternal::index_entries_allocated_size</a></div><div class="ttdeci">unsigned int index_entries_allocated_size</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00231">internal.h:231</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d9375d5c81895b9048644e547b33d32"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d9375d5c81895b9048644e547b33d32">AVCodecContext::coded_side_data</a></div><div class="ttdeci">AVPacketSideData * coded_side_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02201">avcodec.h:2201</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a517e6b5dcada506a49ef413d4d8d477a"><div class="ttname"><a href="struct_a_v_format_context.html#a517e6b5dcada506a49ef413d4d8d477a">AVFormatContext::fps_probe_size</a></div><div class="ttdeci">int fps_probe_size</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01483">avformat.h:1483</a></div></div>
<div class="ttc" id="aavformat_8h_html_a9b09132b5af7f7f6fe54d61782373bc7"><div class="ttname"><a href="avformat_8h.html#a9b09132b5af7f7f6fe54d61782373bc7">AV_DISPOSITION_CLEAN_EFFECTS</a></div><div class="ttdeci">#define AV_DISPOSITION_CLEAN_EFFECTS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00829">avformat.h:829</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ac55f4c21dd75c8c48b9de5080681eed4"><div class="ttname"><a href="struct_a_v_output_format.html#ac55f4c21dd75c8c48b9de5080681eed4">AVOutputFormat::codec_tag</a></div><div class="ttdeci">const struct AVCodecTag *const  * codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00516">avformat.h:516</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a0d1cb9b5a32b00fb6edc81ea3aae2a49"><div class="ttname"><a href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">AVPacket::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00365">packet.h:365</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a></div><div class="ttdeci">void * av_realloc(void *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00134">mem.c:134</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea689ee50aa42c2ae666da10615ff78e10"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea689ee50aa42c2ae666da10615ff78e10">AV_CODEC_ID_PCM_S8</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S8</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00312">codec_id.h:312</a></div></div>
<div class="ttc" id="astruct_a_v_format_internal_html_ae76e7632ebfd242e5e4a5c9011928c2c"><div class="ttname"><a href="struct_a_v_format_internal.html#ae76e7632ebfd242e5e4a5c9011928c2c">AVFormatInternal::data_offset</a></div><div class="ttdeci">int64_t data_offset</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00080">internal.h:80</a></div></div>
<div class="ttc" id="astruct_a_v_option_html_a87e81c6e58d6a94d97a98ad15a4e507c"><div class="ttname"><a href="struct_a_v_option.html#a87e81c6e58d6a94d97a98ad15a4e507c">AVOption::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00249">opt.h:249</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a26f84d225b515a5184bb5ce6b7f3b147"><div class="ttname"><a href="struct_a_v_stream_internal.html#a26f84d225b515a5184bb5ce6b7f3b147">AVStreamInternal::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00169">internal.h:169</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a4d1ae8b022d5805e359efa536028db80"><div class="ttname"><a href="libavformat_2utils_8c.html#a4d1ae8b022d5805e359efa536028db80">av_codec_get_tag</a></div><div class="ttdeci">unsigned int av_codec_get_tag(const AVCodecTag *const *tags, enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03158">utils.c:3158</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga0f62da0e809045bb21166013c404ce43"><div class="ttname"><a href="group__lavf__misc.html#ga0f62da0e809045bb21166013c404ce43">av_guess_sample_aspect_ratio</a></div><div class="ttdeci">AVRational av_guess_sample_aspect_ratio(AVFormatContext *format, AVStream *stream, AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05045">utils.c:5045</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga030300ea4843c53b2fe178a434964b39"><div class="ttname"><a href="group__lavu__log__constants.html#ga030300ea4843c53b2fe178a434964b39">AV_LOG_TRACE</a></div><div class="ttdeci">#define AV_LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00220">log.h:220</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a95035552afae17c1b7cd701ad72e67b5"><div class="ttname"><a href="struct_a_v_format_context.html#a95035552afae17c1b7cd701ad72e67b5">AVFormatContext::duration_estimation_method</a></div><div class="ttdeci">enum AVDurationEstimationMethod duration_estimation_method</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01614">avformat.h:1622</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a2f33c06557539cc29ac5f779245b84ef"><div class="ttname"><a href="libavformat_2utils_8c.html#a2f33c06557539cc29ac5f779245b84ef">ff_update_cur_dts</a></div><div class="ttdeci">void ff_update_cur_dts(AVFormatContext *s, AVStream *ref_st, int64_t timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01898">utils.c:1898</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gafbc01f68af47e3c5ce96211a93927996"><div class="ttname"><a href="group__lavc__core.html#gafbc01f68af47e3c5ce96211a93927996">AV_CODEC_CAP_EXPERIMENTAL</a></div><div class="ttdeci">#define AV_CODEC_CAP_EXPERIMENTAL</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00098">codec.h:98</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a9db755451f14e2bf590d4b85d82b32e6"><div class="ttname"><a href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">AVStream::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00898">avformat.h:898</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga46187df0d7711108ece88804dcc38025"><div class="ttname"><a href="group__lavc__packet.html#ga46187df0d7711108ece88804dcc38025">AV_PKT_FLAG_CORRUPT</a></div><div class="ttdeci">#define AV_PKT_FLAG_CORRUPT</div><div class="ttdoc">The packet content is corrupted.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00402">packet.h:402</a></div></div>
<div class="ttc" id="aavformat_8h_html_a26c94891b37de95d520e67c2d3dbe0aa"><div class="ttname"><a href="avformat_8h.html#a26c94891b37de95d520e67c2d3dbe0aa">AVIndexEntry</a></div><div class="ttdeci">struct AVIndexEntry AVIndexEntry</div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae72c025137dbefd71166fbc6c94ef9e9"><div class="ttname"><a href="libavformat_2utils_8c.html#ae72c025137dbefd71166fbc6c94ef9e9">ff_add_param_change</a></div><div class="ttdeci">int ff_add_param_change(AVPacket *pkt, int32_t channels, uint64_t channel_layout, int32_t sample_rate, int32_t width, int32_t height)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05003">utils.c:5003</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a686a77363668795c15c87b532cc455fa"><div class="ttname"><a href="struct_a_v_codec_context.html#a686a77363668795c15c87b532cc455fa">AVCodecContext::has_b_frames</a></div><div class="ttdeci">int has_b_frames</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00816">avcodec.h:816</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a781dd9eb5ad7f95c4ad61f9ac24fce5a"><div class="ttname"><a href="libavformat_2internal_8h.html#a781dd9eb5ad7f95c4ad61f9ac24fce5a">RAW_PACKET_BUFFER_SIZE</a></div><div class="ttdeci">#define RAW_PACKET_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00098">internal.h:98</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_ae06bb84162881843504ecd870c328690"><div class="ttname"><a href="struct_a_v_format_context.html#ae06bb84162881843504ecd870c328690">AVFormatContext::protocol_blacklist</a></div><div class="ttdeci">char * protocol_blacklist</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01830">avformat.h:1830</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_acd70b72d0c0514643a5c11b2c7c8202c"><div class="ttname"><a href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">AVStream::need_parsing</a></div><div class="ttdeci">enum AVStreamParseType need_parsing</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01074">avformat.h:1077</a></div></div>
<div class="ttc" id="alibavcodec_2utils_8c_html_a7cc4b1b3945d089b12583e61a648909e"><div class="ttname"><a href="libavcodec_2utils_8c.html#a7cc4b1b3945d089b12583e61a648909e">avpriv_find_pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat avpriv_find_pix_fmt(const PixelFormatTag *tags, unsigned int fourcc)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00456">utils.c:469</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a1f342e4e3615abc9314684ce6b4819c0"><div class="ttname"><a href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00063">movenc.c:63</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gae324697cedd36e7b47a1e142dc24b805"><div class="ttname"><a href="group__lavf__core.html#gae324697cedd36e7b47a1e142dc24b805">av_stream_new_side_data</a></div><div class="ttdeci">uint8_t * av_stream_new_side_data(AVStream *st, enum AVPacketSideDataType type, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05484">utils.c:5484</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html_ae2892928d1f5e95fb3688a9939cb2901"><div class="ttname"><a href="libavutil_2thread_8h.html#ae2892928d1f5e95fb3688a9939cb2901">AVMutex</a></div><div class="ttdeci">#define AVMutex</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2thread_8h_source.html#l00164">thread.h:164</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a060002ff641fb6c358517df941e9c4c5"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">AVCodecParameters::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00078">codec_par.h:78</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gaf1a88e8f152d7835f111b1ef8813fb2e"><div class="ttname"><a href="group__avoptions.html#gaf1a88e8f152d7835f111b1ef8813fb2e">av_opt_set_dict</a></div><div class="ttdeci">int av_opt_set_dict(void *obj, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l01655">opt.c:1655</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gaa90b4c72d1bbb298e11096d3a09ec7db"><div class="ttname"><a href="group__lavf__misc.html#gaa90b4c72d1bbb298e11096d3a09ec7db">avformat_query_codec</a></div><div class="ttdeci">int avformat_query_codec(const AVOutputFormat *ofmt, enum AVCodecID codec_id, int std_compliance)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04964">utils.c:4964</a></div></div>
<div class="ttc" id="astruct_a_v_codec_descriptor_html_a9949288403a12812cd6e3892ac45f40f"><div class="ttname"><a href="struct_a_v_codec_descriptor.html#a9949288403a12812cd6e3892ac45f40f">AVCodecDescriptor::props</a></div><div class="ttdeci">int props</div><div class="ttdef"><b>Definition:</b> <a href="codec__desc_8h_source.html#l00054">codec_desc.h:54</a></div></div>
<div class="ttc" id="astruct_a_v_subtitle_html"><div class="ttname"><a href="struct_a_v_subtitle.html">AVSubtitle</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02694">avcodec.h:2694</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga437bfa981d4c8968ca92f41ecbcb8054af1a5e3b694261807e0ed9032b424c165"><div class="ttname"><a href="group__lavc__packet.html#gga437bfa981d4c8968ca92f41ecbcb8054af1a5e3b694261807e0ed9032b424c165">AV_SIDE_DATA_PARAM_CHANGE_DIMENSIONS</a></div><div class="ttdeci">@ AV_SIDE_DATA_PARAM_CHANGE_DIMENSIONS</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00426">packet.h:426</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae80afec6f26df6607eaacf39b561c315"><div class="ttname"><a href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a></div><div class="ttdeci">AVCodecContext * avcodec_alloc_context3(const AVCodec *codec)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00172">options.c:172</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga869fd8884d8d29a7a4910d879926d94a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga869fd8884d8d29a7a4910d879926d94a">av_fast_realloc</a></div><div class="ttdeci">void * av_fast_realloc(void *ptr, unsigned int *size, size_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00478">mem.c:478</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a4d418b807283607a231d2d8cdf559f00"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">AVCodecParameters::channels</a></div><div class="ttdeci">int channels</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00166">codec_par.h:166</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a6fc435a411f71b74571c4a2e40f24068"><div class="ttname"><a href="struct_a_v_stream_internal.html#a6fc435a411f71b74571c4a2e40f24068">AVStreamInternal::duration_error</a></div><div class="ttdeci">double(* duration_error)[2][MAX_STD_TIMEBASES]</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00204">internal.h:204</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html"><div class="ttname"><a href="struct_a_v_codec_parser_context.html">AVCodecParserContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03353">avcodec.h:3353</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00083">dict.h:83</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gaa23f7619d8d4ea0857065d9979c75ac8"><div class="ttname"><a href="group__lavf__decoding.html#gaa23f7619d8d4ea0857065d9979c75ac8">av_seek_frame</a></div><div class="ttdeci">int av_seek_frame(AVFormatContext *s, int stream_index, int64_t timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02459">utils.c:2459</a></div></div>
<div class="ttc" id="atests_2utils_8c_html_ad12fc34ce789bce6c8a05d8a17138534"><div class="ttname"><a href="tests_2utils_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a></div><div class="ttdeci">static int height</div><div class="ttdef"><b>Definition:</b> <a href="tests_2utils_8c_source.html#l00158">utils.c:158</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a7d537039ea0e18164d9edb0b5ca984dd"><div class="ttname"><a href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample format(the sample packing is implied by the sample format) and sample rate. The lists are not just lists</div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a0e991213ccc3d642972b57a1decb797b"><div class="ttname"><a href="libavformat_2utils_8c.html#a0e991213ccc3d642972b57a1decb797b">av_append_packet</a></div><div class="ttdeci">int av_append_packet(AVIOContext *s, AVPacket *pkt, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00315">utils.c:315</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a37e07891360937493c8ece702a09e0d6"><div class="ttname"><a href="struct_a_v_codec_context.html#a37e07891360937493c8ece702a09e0d6">AVCodecContext::audio_service_type</a></div><div class="ttdeci">enum AVAudioServiceType audio_service_type</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01244">avcodec.h:1251</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a58c8c4d0ea974e0fcb0ce06fb1174f9f"><div class="ttname"><a href="struct_a_v_format_context.html#a58c8c4d0ea974e0fcb0ce06fb1174f9f">AVFormatContext::nb_programs</a></div><div class="ttdeci">unsigned int nb_programs</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01402">avformat.h:1402</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggadcff0a5957a99f6fdf1eec9d5a3fdfafae1d0587828c1f7efdb0ac449946448fc"><div class="ttname"><a href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafae1d0587828c1f7efdb0ac449946448fc">AV_AUDIO_SERVICE_TYPE_VISUALLY_IMPAIRED</a></div><div class="ttdeci">@ AV_AUDIO_SERVICE_TYPE_VISUALLY_IMPAIRED</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00242">avcodec.h:242</a></div></div>
<div class="ttc" id="amxfenc_8c_html_ad662aa56c1696f09c0ac6b97abafac6d"><div class="ttname"><a href="mxfenc_8c.html#ad662aa56c1696f09c0ac6b97abafac6d">frame_size</a></div><div class="ttdeci">int frame_size</div><div class="ttdef"><b>Definition:</b> <a href="mxfenc_8c_source.html#l02166">mxfenc.c:2166</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9f76f2475ef24ff4c9771dd53072d040"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">AVCodecParameters::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:60</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea90ffce5aedda33269b22221916cd8487">AV_CODEC_ID_MP2</a></div><div class="ttdeci">@ AV_CODEC_ID_MP2</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00418">codec_id.h:418</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga935dbbf6bde8dfe5fa7ddb1da582eb07"><div class="ttname"><a href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a></div><div class="ttdeci">static double av_q2d(AVRational a)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00104">rational.h:104</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a73c3fdc6aed4baefd04dde76ba221744"><div class="ttname"><a href="libavformat_2utils_8c.html#a73c3fdc6aed4baefd04dde76ba221744">ts_to_samples</a></div><div class="ttdeci">static int64_t ts_to_samples(AVStream *st, int64_t ts)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01505">utils.c:1505</a></div></div>
<div class="ttc" id="aavformat_8h_html_a6f7cab62acdf2bce2883a3c82cf1a27c"><div class="ttname"><a href="avformat_8h.html#a6f7cab62acdf2bce2883a3c82cf1a27c">AVOpenCallback</a></div><div class="ttdeci">int(* AVOpenCallback)(struct AVFormatContext *s, AVIOContext **pb, const char *url, int flags, const AVIOInterruptCB *int_cb, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01194">avformat.h:1194</a></div></div>
<div class="ttc" id="agroup__opt__set__funcs_html_gad19358af12f0766fedec516e387b8196"><div class="ttname"><a href="group__opt__set__funcs.html#gad19358af12f0766fedec516e387b8196">av_opt_set_dict_val</a></div><div class="ttdeci">int av_opt_set_dict_val(void *obj, const char *name, const AVDictionary *val, int search_flags)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l00725">opt.c:725</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_ga37d620e8cfc9f2f3261c2b4c5d4adfe0"><div class="ttname"><a href="group__lavu__buffer.html#ga37d620e8cfc9f2f3261c2b4c5d4adfe0">av_buffer_default_free</a></div><div class="ttdeci">void av_buffer_default_free(void *opaque, uint8_t *data)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00062">buffer.c:62</a></div></div>
<div class="ttc" id="alibavcodec_2h264dec_8c_html_aff0ec06615f6fb632962948b5ba64bf1"><div class="ttname"><a href="libavcodec_2h264dec_8c.html#aff0ec06615f6fb632962948b5ba64bf1">avpriv_h264_has_num_reorder_frames</a></div><div class="ttdeci">int avpriv_h264_has_num_reorder_frames(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2h264dec_8c_source.html#l00061">h264dec.c:61</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_ab6cc0e73ffbec72c438413c6c6a4e326"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">AVCodecParserContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03386">avcodec.h:3386</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga11e6542c4e66d3028668788a1a74217c"><div class="ttname"><a href="group__lavc__decoding.html#ga11e6542c4e66d3028668788a1a74217c">avcodec_receive_frame</a></div><div class="ttdeci">int avcodec_receive_frame(AVCodecContext *avctx, AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l00669">decode.c:669</a></div></div>
<div class="ttc" id="alibavcodec_2utils_8c_html_a6d02e640ccc12c783841ce51d09b9fa7"><div class="ttname"><a href="libavcodec_2utils_8c.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a></div><div class="ttdeci">int avcodec_parameters_copy(AVCodecParameters *dst, const AVCodecParameters *src)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02077">utils.c:2077</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a2a7f0fb7197b54b9f85b63fa544c9118"><div class="ttname"><a href="struct_a_v_stream_internal.html#a2a7f0fb7197b54b9f85b63fa544c9118">AVStreamInternal::avctx_inited</a></div><div class="ttdeci">int avctx_inited</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00173">internal.h:173</a></div></div>
<div class="ttc" id="aavio_8h_html_a5c9308f296545a8f3b7687d277a6dabc"><div class="ttname"><a href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a></div><div class="ttdeci">#define AVIO_FLAG_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00675">avio.h:675</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a49c7ca8851a970709cc8c392e74db855"><div class="ttname"><a href="libavformat_2utils_8c.html#a49c7ca8851a970709cc8c392e74db855">ff_find_stream_index</a></div><div class="ttdeci">int ff_find_stream_index(AVFormatContext *s, int id)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04955">utils.c:4955</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga7494bb63a59e79e9fe88eb1682d4d7b3"><div class="ttname"><a href="group__lavf__decoding.html#ga7494bb63a59e79e9fe88eb1682d4d7b3">av_read_play</a></div><div class="ttdeci">int av_read_play(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04244">utils.c:4244</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_a813780022f0a6abd1b7ab075264ffc3f"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#a813780022f0a6abd1b7ab075264ffc3f">AVCodecParserContext::repeat_pict</a></div><div class="ttdeci">int repeat_pict</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03371">avcodec.h:3371</a></div></div>
<div class="ttc" id="aaptx_8h_html_ac9da8d7a4bd192b8a7dccbc024542709"><div class="ttname"><a href="aptx_8h.html#ac9da8d7a4bd192b8a7dccbc024542709">channels</a></div><div class="ttdeci">channels</div><div class="ttdef"><b>Definition:</b> <a href="aptx_8h_source.html#l00033">aptx.h:33</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html"><div class="ttname"><a href="struct_a_v_index_entry.html">AVIndexEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00799">avformat.h:799</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gaa03a82c5fd4fe3af312d229ca94cd6f3"><div class="ttname"><a href="group__lavf__decoding.html#gaa03a82c5fd4fe3af312d229ca94cd6f3">avformat_flush</a></div><div class="ttdeci">int avformat_flush(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02539">utils.c:2539</a></div></div>
<div class="ttc" id="affprobe_8c_html_ad5b72470d5d57d39c02421b54a92c065"><div class="ttname"><a href="ffprobe_8c.html#ad5b72470d5d57d39c02421b54a92c065">nb_streams</a></div><div class="ttdeci">static int nb_streams</div><div class="ttdef"><b>Definition:</b> <a href="ffprobe_8c_source.html#l00282">ffprobe.c:282</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gaf02994a8bbeaa91d4757df179cbe567f"><div class="ttname"><a href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a></div><div class="ttdeci">int64_t av_rescale_q(int64_t a, AVRational bq, AVRational cq)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00142">mathematics.c:142</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a73bde0a37f3b1efc839f11295bfbf42a"><div class="ttname"><a href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">AVPacket::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00356">packet.h:356</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ab76e176c2a1d1ff09ec9c0bb88dc25e9"><div class="ttname"><a href="struct_a_v_stream.html#ab76e176c2a1d1ff09ec9c0bb88dc25e9">AVStream::event_flags</a></div><div class="ttdeci">int event_flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00988">avformat.h:988</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea8d7e94ed46d290528877c6a8949a756c"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8d7e94ed46d290528877c6a8949a756c">AV_CODEC_ID_PCM_U16BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_U16BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00311">codec_id.h:311</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea8ea61c837be9e734549f53754cef2cb2"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea8ea61c837be9e734549f53754cef2cb2">AV_CODEC_ID_CODEC2</a></div><div class="ttdeci">@ AV_CODEC_ID_CODEC2</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00485">codec_id.h:485</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_a0fd12851a78b80080e277db30411728d"><div class="ttname"><a href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00239">vaapi_decode.c:369</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_af415e25244b26921e8fc249d45499b84"><div class="ttname"><a href="struct_a_v_packet.html#af415e25244b26921e8fc249d45499b84">AVPacket::side_data_elems</a></div><div class="ttdeci">int side_data_elems</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00375">packet.h:375</a></div></div>
<div class="ttc" id="ahwcontext__opencl_8c_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext__opencl_8c_source.html#l00168">hwcontext_opencl.c:168</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_abed8286ed0a14bc78206f87fcc1f19b5"><div class="ttname"><a href="libavformat_2utils_8c.html#abed8286ed0a14bc78206f87fcc1f19b5">ff_read_timestamp</a></div><div class="ttdeci">static int64_t ff_read_timestamp(AVFormatContext *s, int stream_index, int64_t *ppos, int64_t pos_limit, int64_t(*read_timestamp)(struct AVFormatContext *, int, int64_t *, int64_t))</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02107">utils.c:2107</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ae3df4d77c6908fb626293c2fed215d52">AVMEDIA_TYPE_DATA</a></div><div class="ttdeci">@ AVMEDIA_TYPE_DATA</div><div class="ttdoc">Opaque data information usually continuous.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00203">avutil.h:203</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a></div><div class="ttdeci">@ AV_CODEC_ID_H264</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00076">codec_id.h:76</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac59f9714ac34774b43b3797c80b06c68"><div class="ttname"><a href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a></div><div class="ttdeci">uint8_t * av_packet_new_side_data(AVPacket *pkt, enum AVPacketSideDataType type, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00332">avpacket.c:332</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_adcdc151cc5089588caebc16138703bbe"><div class="ttname"><a href="struct_a_v_stream_internal.html#adcdc151cc5089588caebc16138703bbe">AVStreamInternal::orig_codec_id</a></div><div class="ttdeci">enum AVCodecID orig_codec_id</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00173">internal.h:175</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a41bcbe2571581b22d559a7148814a203"><div class="ttname"><a href="libavformat_2utils_8c.html#a41bcbe2571581b22d559a7148814a203">ff_hex_to_data</a></div><div class="ttdeci">int ff_hex_to_data(uint8_t *data, const char *p)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04843">utils.c:4843</a></div></div>
<div class="ttc" id="aavformat_8h_html_af7899d15bd762258202bdec2035d8fc8"><div class="ttname"><a href="avformat_8h.html#af7899d15bd762258202bdec2035d8fc8">AVFMT_NEEDNUMBER</a></div><div class="ttdeci">#define AVFMT_NEEDNUMBER</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00459">avformat.h:459</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_ac115e048335e4a7f1d85541cebcf2013"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#ac115e048335e4a7f1d85541cebcf2013">AVCodecParserContext::key_frame</a></div><div class="ttdeci">int key_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03402">avcodec.h:3402</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_afd12020da5a235dfcf0c3c748fb5baed"><div class="ttname"><a href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a></div><div class="ttdeci">int32_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga77a800026abd6dc2f4ac1e0ad7e3e999"><div class="ttname"><a href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a></div><div class="ttdeci">uint8_t * av_packet_get_side_data(const AVPacket *pkt, enum AVPacketSideDataType type, int *size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00353">avpacket.c:353</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a32d01ce3ecf629e798897a3f0b12eac6"><div class="ttname"><a href="libavformat_2utils_8c.html#a32d01ce3ecf629e798897a3f0b12eac6">match_stream_specifier</a></div><div class="ttdeci">static int match_stream_specifier(AVFormatContext *s, AVStream *st, const char *spec, const char **indexptr, AVProgram **p)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05098">utils.c:5098</a></div></div>
<div class="ttc" id="aavformat_8h_html_af94b1dbe5f4e7c0ab04dc05ea18c1d81"><div class="ttname"><a href="avformat_8h.html#af94b1dbe5f4e7c0ab04dc05ea18c1d81">AVFMT_FLAG_NOPARSE</a></div><div class="ttdeci">#define AVFMT_FLAG_NOPARSE</div><div class="ttdoc">Do not use AVParsers, you also must set AVFMT_FLAG_NOFILLIN as the fillin code works on frames and no...</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01360">avformat.h:1360</a></div></div>
<div class="ttc" id="acommon_8h_html_ad6d88940cfc29c13a3e51ded211fc242"><div class="ttname"><a href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a></div><div class="ttdeci">#define FFABS(a)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00072">common.h:72</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_a2685da68190c842c028ec161ff2b563e"><div class="ttname"><a href="struct_a_v_i_o_context.html#a2685da68190c842c028ec161ff2b563e">AVIOContext::bytes_read</a></div><div class="ttdeci">int64_t bytes_read</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00279">avio.h:279</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab781cbaef6311226481e65a7f1a6d049"><div class="ttname"><a href="struct_a_v_codec_context.html#ab781cbaef6311226481e65a7f1a6d049">AVCodecContext::subtitle_header</a></div><div class="ttdeci">uint8_t * subtitle_header</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02014">avcodec.h:2014</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae6ee9e509cc26da6cd7f4eb9f158f47e"><div class="ttname"><a href="libavformat_2utils_8c.html#ae6ee9e509cc26da6cd7f4eb9f158f47e">parse_packet</a></div><div class="ttdeci">static int parse_packet(AVFormatContext *s, AVPacket *pkt, int stream_index, int flush)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01395">utils.c:1395</a></div></div>
<div class="ttc" id="astruct_a_v_packet_side_data_html_a7d43e1011586e6c987f418b604b57ec3"><div class="ttname"><a href="struct_a_v_packet_side_data.html#a7d43e1011586e6c987f418b604b57ec3">AVPacketSideData::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00307">packet.h:307</a></div></div>
<div class="ttc" id="astruct_a_v_bit_stream_filter_context_html_a65bd58b3ccc448c497f69c413c2703b6"><div class="ttname"><a href="struct_a_v_bit_stream_filter_context.html#a65bd58b3ccc448c497f69c413c2703b6">AVBitStreamFilterContext::next</a></div><div class="ttdeci">struct AVBitStreamFilterContext * next</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03981">avcodec.h:3981</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga6eff035c271caa5a533987a1e00ad43e"><div class="ttname"><a href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a></div><div class="ttdeci">struct AVRational AVRational</div></div>
<div class="ttc" id="awriting__filters_8txt_html_a5b5446e1f47af0c85ac6b45210d45117"><div class="ttname"><a href="writing__filters_8txt.html#a5b5446e1f47af0c85ac6b45210d45117">context</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option keep it simple and lowercase description are in without and describe what they for example set the foo of the bar offset is the offset of the field in your context</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00091">writing_filters.txt:91</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a></div><div class="ttdeci">@ AVDISCARD_ALL</div><div class="ttdoc">discard all</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00236">avcodec.h:236</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga70552a7d4d1803bc11be8e6c74529d24"><div class="ttname"><a href="group__lavc__core.html#ga70552a7d4d1803bc11be8e6c74529d24">AV_CODEC_PROP_INTRA_ONLY</a></div><div class="ttdeci">#define AV_CODEC_PROP_INTRA_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="codec__desc_8h_source.html#l00072">codec_desc.h:72</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_af540b728145b614e34c4e10930354b93"><div class="ttname"><a href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a></div><div class="ttdeci">AVDictionary * opts</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00050">movenc.c:50</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_a6cb1cf94ba19b6df4aa2c3c0a43beac7"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#a6cb1cf94ba19b6df4aa2c3c0a43beac7">AVCodecParserContext::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03463">avcodec.h:3463</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_af8e7b1373292e393ed210dc15aa8d2ca"><div class="ttname"><a href="struct_a_v_stream.html#af8e7b1373292e393ed210dc15aa8d2ca">AVStream::last_IP_pts</a></div><div class="ttdeci">int64_t last_IP_pts</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01063">avformat.h:1063</a></div></div>
<div class="ttc" id="astruct_a_v_packet_side_data_html"><div class="ttname"><a href="struct_a_v_packet_side_data.html">AVPacketSideData</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00306">packet.h:306</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a030a5f703be7f063ae6c6c7ab7061094"><div class="ttname"><a href="libavformat_2utils_8c.html#a030a5f703be7f063ae6c6c7ab7061094">ff_format_output_open</a></div><div class="ttdeci">int ff_format_output_open(AVFormatContext *s, const char *url, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05608">utils.c:5608</a></div></div>
<div class="ttc" id="aavformat_8h_html_ac736f8f4afc930ca1cda0b43638cc678"><div class="ttname"><a href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a></div><div class="ttdeci">#define AVSEEK_FLAG_BACKWARD</div><div class="ttdoc">seek backward</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02391">avformat.h:2391</a></div></div>
<div class="ttc" id="astruct_a_v_packet_side_data_html_ae943cb6d9d40d6a5d49e590bc20f2652"><div class="ttname"><a href="struct_a_v_packet_side_data.html#ae943cb6d9d40d6a5d49e590bc20f2652">AVPacketSideData::type</a></div><div class="ttdeci">enum AVPacketSideDataType type</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00308">packet.h:309</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_aa6fc9aab160bcf49d8249f980b5cf5b2"><div class="ttname"><a href="libavformat_2utils_8c.html#aa6fc9aab160bcf49d8249f980b5cf5b2">extract_extradata</a></div><div class="ttdeci">static int extract_extradata(AVStream *st, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03482">utils.c:3482</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_a7a87cd25426a228ce8ecbef48ab00de8"><div class="ttname"><a href="cuda__runtime_8h.html#a7a87cd25426a228ce8ecbef48ab00de8">fabs</a></div><div class="ttdeci">static __device__ float fabs(float a)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00182">cuda_runtime.h:182</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_adfa686249f83379ee2e3d5b295d9f442"><div class="ttname"><a href="struct_a_v_format_context.html#adfa686249f83379ee2e3d5b295d9f442">AVFormatContext::protocol_whitelist</a></div><div class="ttdeci">char * protocol_whitelist</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01795">avformat.h:1795</a></div></div>
<div class="ttc" id="aaacdec__template_8c_html_affa0ccbe2ef7fd24bb8c61e28d1a6631"><div class="ttname"><a href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a></div><div class="ttdeci">static void flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="aacdec__template_8c_source.html#l00592">aacdec_template.c:592</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_a1354a9c8542b1b698157218336bd4754"><div class="ttname"><a href="struct_a_v_output_format.html#a1354a9c8542b1b698157218336bd4754">AVOutputFormat::video_codec</a></div><div class="ttdeci">enum AVCodecID video_codec</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00499">avformat.h:502</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga9a6eb11f2b4053d6bba95d8da156da2d"><div class="ttname"><a href="group__lavu__string.html#ga9a6eb11f2b4053d6bba95d8da156da2d">av_match_list</a></div><div class="ttdeci">int av_match_list(const char *name, const char *list, char separator)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00451">avstring.c:451</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="aavformat_8h_html_a42e3c3d72e561fdc501613962fccc4aa"><div class="ttname"><a href="avformat_8h.html#a42e3c3d72e561fdc501613962fccc4aa">AVFMTCTX_NOHEADER</a></div><div class="ttdeci">#define AVFMTCTX_NOHEADER</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01173">avformat.h:1172</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a5764343a4d348f453933bf73c26f84c3"><div class="ttname"><a href="struct_a_v_stream.html#a5764343a4d348f453933bf73c26f84c3">AVStream::last_IP_duration</a></div><div class="ttdeci">int last_IP_duration</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01064">avformat.h:1064</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea56e4ec447eb34b4af671fd5c8e36ddb4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea56e4ec447eb34b4af671fd5c8e36ddb4">AV_CODEC_ID_PCM_U24BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_U24BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00323">codec_id.h:323</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ad2d413a504862fdfcf84105e898deb88"><div class="ttname"><a href="struct_a_v_stream.html#ad2d413a504862fdfcf84105e898deb88">AVStream::nb_side_data</a></div><div class="ttdeci">int nb_side_data</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00975">avformat.h:975</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a873502af8835f452dc141924ecafb9ca"><div class="ttname"><a href="libavformat_2utils_8c.html#a873502af8835f452dc141924ecafb9ca">ff_index_search_timestamp</a></div><div class="ttdeci">int ff_index_search_timestamp(const AVIndexEntry *entries, int nb_entries, int64_t wanted_timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01993">utils.c:1993</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a946013c6a2bb2731618eb9d1ab9d2822"><div class="ttname"><a href="libavformat_2utils_8c.html#a946013c6a2bb2731618eb9d1ab9d2822">duration_estimate_name</a></div><div class="ttdeci">static const char * duration_estimate_name(enum AVDurationEstimationMethod method)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02881">utils.c:2881</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a8b72f46969826d157b5e4951b1637ea9"><div class="ttname"><a href="libavformat_2utils_8c.html#a8b72f46969826d157b5e4951b1637ea9">estimate_timings_from_pts</a></div><div class="ttdeci">static void estimate_timings_from_pts(AVFormatContext *ic, int64_t old_offset)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02742">utils.c:2742</a></div></div>
<div class="ttc" id="aavpacket_8c_html_afa665397a1c0f0e1f8d0593414e5a7d5"><div class="ttname"><a href="avpacket_8c.html#afa665397a1c0f0e1f8d0593414e5a7d5">avpriv_packet_list_put</a></div><div class="ttdeci">int avpriv_packet_list_put(AVPacketList **packet_buffer, AVPacketList **plast_pktl, AVPacket *pkt, int(*copy)(AVPacket *dst, const AVPacket *src), int flags)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00729">avpacket.c:729</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaf869d0829ed607cec3a4a02a1c7026b3"><div class="ttname"><a href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a></div><div class="ttdeci">void avcodec_free_context(AVCodecContext **avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00187">options.c:187</a></div></div>
<div class="ttc" id="aavformat_8h_html_a7c2692ffa20d3e888e40e79eeda6d73bae92edb9576c3d6dd68f49a849a2ec6c0"><div class="ttname"><a href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73bae92edb9576c3d6dd68f49a849a2ec6c0">AVFMT_DURATION_FROM_STREAM</a></div><div class="ttdeci">@ AVFMT_DURATION_FROM_STREAM</div><div class="ttdoc">Duration estimated from a stream with a known duration.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01203">avformat.h:1203</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf9d8f80b2f0c516669ea9d6f18c69ebd"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf9d8f80b2f0c516669ea9d6f18c69ebd">AV_CODEC_ID_PCM_U32BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_U32BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00319">codec_id.h:319</a></div></div>
<div class="ttc" id="astruct_a_v_bit_stream_filter_context_html_a1e02fef744847b6e06f7dcc467ea9967"><div class="ttname"><a href="struct_a_v_bit_stream_filter_context.html#a1e02fef744847b6e06f7dcc467ea9967">AVBitStreamFilterContext::filter</a></div><div class="ttdeci">const struct AVBitStreamFilter * filter</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03979">avcodec.h:3979</a></div></div>
<div class="ttc" id="aavformat_8h_html_a3fd17d972522f10a6d73937482225482"><div class="ttname"><a href="avformat_8h.html#a3fd17d972522f10a6d73937482225482">AV_DISPOSITION_COMMENT</a></div><div class="ttdeci">#define AV_DISPOSITION_COMMENT</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00817">avformat.h:817</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_ga5c8d715704c153cb645982444063cc2b"><div class="ttname"><a href="group__lavf__core.html#ga5c8d715704c153cb645982444063cc2b">av_stream_add_side_data</a></div><div class="ttdeci">int av_stream_add_side_data(AVStream *st, enum AVPacketSideDataType type, uint8_t *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05448">utils.c:5448</a></div></div>
<div class="ttc" id="astruct_a_v_codec_tag_html_a50eeaf9fe0757af14ed345ced488481e"><div class="ttname"><a href="struct_a_v_codec_tag.html#a50eeaf9fe0757af14ed345ced488481e">AVCodecTag::id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00885">internal.h:43</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gaa936b1aa7caca67b21cd50819c2b9fb1"><div class="ttname"><a href="group__avoptions.html#gaa936b1aa7caca67b21cd50819c2b9fb1">av_opt_set_from_string</a></div><div class="ttdeci">int av_opt_set_from_string(void *ctx, const char *opts, const char *const *shorthand, const char *key_val_sep, const char *pairs_sep)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l01558">opt.c:1558</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ac28ef17f95d98b118f5ae57d75061278"><div class="ttname"><a href="pixfmt_8h.html#ac28ef17f95d98b118f5ae57d75061278">AVPALETTE_SIZE</a></div><div class="ttdeci">#define AVPALETTE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00032">pixfmt.h:32</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a3f19c60ac6da237cd10e4d97150c118e"><div class="ttname"><a href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">AVStream::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00931">avformat.h:931</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91ac715de62daa60e31ce01b9671bd35f9e"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91ac715de62daa60e31ce01b9671bd35f9e">AVSTREAM_PARSE_NONE</a></div><div class="ttdeci">@ AVSTREAM_PARSE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00789">avformat.h:789</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_aaa59fb7b0619606ae79a1e6ac4d1ec18"><div class="ttname"><a href="libavformat_2utils_8c.html#aaa59fb7b0619606ae79a1e6ac4d1ec18">seek_frame_internal</a></div><div class="ttdeci">static int seek_frame_internal(AVFormatContext *s, int stream_index, int64_t timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02415">utils.c:2415</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="aid3v2_8c_html_ac17bed405b0a0fec1db1f87825491db1"><div class="ttname"><a href="id3v2_8c.html#ac17bed405b0a0fec1db1f87825491db1">ff_id3v2_parse_apic</a></div><div class="ttdeci">int ff_id3v2_parse_apic(AVFormatContext *s, ID3v2ExtraMeta *extra_meta)</div><div class="ttdef"><b>Definition:</b> <a href="id3v2_8c_source.html#l01130">id3v2.c:1130</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a4d860662c014f88277c8f20e238fa694"><div class="ttname"><a href="struct_a_v_format_context.html#a4d860662c014f88277c8f20e238fa694">AVFormatContext::max_analyze_duration</a></div><div class="ttdeci">int64_t max_analyze_duration</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01397">avformat.h:1397</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga586e134e9dad8f57a218b2cd8734b601"><div class="ttname"><a href="group__lavu__error.html#ga586e134e9dad8f57a218b2cd8734b601">AVERROR_BSF_NOT_FOUND</a></div><div class="ttdeci">#define AVERROR_BSF_NOT_FOUND</div><div class="ttdoc">Bitstream filter not found.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00049">error.h:49</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea11fe7c8c18c05d994c3d85cb14c7507f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea11fe7c8c18c05d994c3d85cb14c7507f">AV_CODEC_ID_PCM_S64BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S64BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00341">codec_id.h:341</a></div></div>
<div class="ttc" id="aparseutils_8h_html"><div class="ttname"><a href="parseutils_8h.html">parseutils.h</a></div></div>
<div class="ttc" id="aavformat_8h_html_a7c2692ffa20d3e888e40e79eeda6d73b"><div class="ttname"><a href="avformat_8h.html#a7c2692ffa20d3e888e40e79eeda6d73b">AVDurationEstimationMethod</a></div><div class="ttdeci">AVDurationEstimationMethod</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01201">avformat.h:1201</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a1e341587fa92b173a0d6ae73fadb0409"><div class="ttname"><a href="struct_a_v_stream.html#a1e341587fa92b173a0d6ae73fadb0409">AVStream::first_dts</a></div><div class="ttdeci">int64_t first_dts</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01061">avformat.h:1061</a></div></div>
<div class="ttc" id="astruct_i_d3v2_extra_meta_html"><div class="ttname"><a href="struct_i_d3v2_extra_meta.html">ID3v2ExtraMeta</a></div><div class="ttdef"><b>Definition:</b> <a href="id3v2_8h_source.html#l00084">id3v2.h:84</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a016b1f9d95b7479b14c55d87a4acebfa"><div class="ttname"><a href="struct_a_v_stream_internal.html#a016b1f9d95b7479b14c55d87a4acebfa">AVStreamInternal::pkt</a></div><div class="ttdeci">AVPacket * pkt</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00182">internal.h:182</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gga921d656eaf2c4d6800a734a13af021d0aea95b00154ff83c740b46376dfa06e11"><div class="ttname"><a href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aea95b00154ff83c740b46376dfa06e11">AV_ROUND_NEAR_INF</a></div><div class="ttdeci">@ AV_ROUND_NEAR_INF</div><div class="ttdoc">Round to nearest and halfway cases away from zero.</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00084">mathematics.h:84</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ad165f2d378face6a804e6dfe5906ac0d"><div class="ttname"><a href="libavformat_2utils_8c.html#ad165f2d378face6a804e6dfe5906ac0d">has_duration</a></div><div class="ttdeci">static int has_duration(AVFormatContext *ic)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02552">utils.c:2552</a></div></div>
<div class="ttc" id="aavio_8h_html_a1ac23b54d5f5bbfee4353978d313e472"><div class="ttname"><a href="avio_8h.html#a1ac23b54d5f5bbfee4353978d313e472">avio_pause</a></div><div class="ttdeci">int avio_pause(AVIOContext *h, int pause)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01228">aviobuf.c:1228</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gac14db824af52baf8181406e98d116097"><div class="ttname"><a href="group__avoptions.html#gac14db824af52baf8181406e98d116097">av_opt_free</a></div><div class="ttdeci">void av_opt_free(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l01610">opt.c:1610</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_af153bd87dc49db89767f5f913b888987"><div class="ttname"><a href="libavformat_2utils_8c.html#af153bd87dc49db89767f5f913b888987">ff_parse_key_value</a></div><div class="ttdeci">void ff_parse_key_value(const char *str, ff_parse_key_val_cb callback_get_buf, void *context)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04901">utils.c:4901</a></div></div>
<div class="ttc" id="aparseutils_8c_html_a98590feafe82e074f61f38c8faaa4cef"><div class="ttname"><a href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a></div><div class="ttdeci">int av_parse_time(int64_t *timeval, const char *timestr, int duration)</div><div class="ttdef"><b>Definition:</b> <a href="parseutils_8c_source.html#l00587">parseutils.c:587</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga11f785a188d7d9df71621001465b0f1d"><div class="ttname"><a href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a></div><div class="ttdeci">int attribute_align_arg avcodec_open2(AVCodecContext *avctx, const AVCodec *codec, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00550">utils.c:550</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a9a434d12110d51c117f081489f5ef3b5"><div class="ttname"><a href="libavformat_2utils_8c.html#a9a434d12110d51c117f081489f5ef3b5">ff_get_formatted_ntp_time</a></div><div class="ttdeci">uint64_t ff_get_formatted_ntp_time(uint64_t ntp_time_us)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04643">utils.c:4643</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_afdca0c2f3e2c3c912a3d4e0213014b58"><div class="ttname"><a href="struct_a_v_stream_internal.html#afdca0c2f3e2c3c912a3d4e0213014b58">AVStreamInternal::display_aspect_ratio</a></div><div class="ttdeci">AVRational display_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00338">internal.h:338</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_a41702bcd99e8aeab875634fb44bfd741"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#a41702bcd99e8aeab875634fb44bfd741">AVCodecParserContext::pict_type</a></div><div class="ttdeci">int pict_type</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03361">avcodec.h:3361</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gadb05d71fa2ea7b7fd3e8cfc6d9065a47"><div class="ttname"><a href="group__lavc__packet.html#gadb05d71fa2ea7b7fd3e8cfc6d9065a47">av_packet_ref</a></div><div class="ttdeci">int av_packet_ref(AVPacket *dst, const AVPacket *src)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00615">avpacket.c:615</a></div></div>
<div class="ttc" id="astruct_a_v_program_html_a2276db4d51695120664d527f20b7c532"><div class="ttname"><a href="struct_a_v_program.html#a2276db4d51695120664d527f20b7c532">AVProgram::start_time</a></div><div class="ttdeci">int64_t start_time</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01165">avformat.h:1165</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a325eeedbf92770f2423d63b1db7d1ee3"><div class="ttname"><a href="struct_a_v_codec_context.html#a325eeedbf92770f2423d63b1db7d1ee3">AVCodecContext::nb_coded_side_data</a></div><div class="ttdeci">int nb_coded_side_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02202">avcodec.h:2202</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_adc161a5c5773d42cea315a5ad0454cf2"><div class="ttname"><a href="struct_a_v_stream.html#adc161a5c5773d42cea315a5ad0454cf2">AVStream::codec_info_nb_frames</a></div><div class="ttdeci">int codec_info_nb_frames</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01074">avformat.h:1074</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a1e5433eb2a1bff983ddcdc778297eed7"><div class="ttname"><a href="libavformat_2utils_8c.html#a1e5433eb2a1bff983ddcdc778297eed7">force_codec_ids</a></div><div class="ttdeci">static void force_codec_ids(AVFormatContext *s, AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00654">utils.c:654</a></div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a4382c3064df1c9eb232ac198dec067f9"><div class="ttname"><a href="struct_a_v_stream.html#a4382c3064df1c9eb232ac198dec067f9">AVStream::nb_frames</a></div><div class="ttdeci">int64_t nb_frames</div><div class="ttdoc">number of frames in this stream if known or 0</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00920">avformat.h:920</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ab7b72d3cfc0a98ab6ac284c3f31710df"><div class="ttname"><a href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a></div><div class="ttdeci">#define AVPALETTE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00033">pixfmt.h:33</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a0b748d924898b08b89ff4974afd17285"><div class="ttname"><a href="struct_a_v_format_context.html#a0b748d924898b08b89ff4974afd17285">AVFormatContext::nb_streams</a></div><div class="ttdeci">unsigned int nb_streams</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01279">avformat.h:1279</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae829eaf74d06f3a6cb1b9ad07560fb92"><div class="ttname"><a href="libavformat_2utils_8c.html#ae829eaf74d06f3a6cb1b9ad07560fb92">ff_get_extradata</a></div><div class="ttdeci">int ff_get_extradata(AVFormatContext *s, AVCodecParameters *par, AVIOContext *pb, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03278">utils.c:3278</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea76fbc3c96f42a427d3ae1eeb6e1a8aaf"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea76fbc3c96f42a427d3ae1eeb6e1a8aaf">AV_CODEC_ID_CDGRAPHICS</a></div><div class="ttdeci">@ AV_CODEC_ID_CDGRAPHICS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00181">codec_id.h:181</a></div></div>
<div class="ttc" id="alibavcodec_2utils_8c_html_a647755ab2252e93221bb345f3d5e414f"><div class="ttname"><a href="libavcodec_2utils_8c.html#a647755ab2252e93221bb345f3d5e414f">avcodec_parameters_alloc</a></div><div class="ttdeci">AVCodecParameters * avcodec_parameters_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02056">utils.c:2056</a></div></div>
<div class="ttc" id="abprint_8h_html_a07432f704c49a6fa636197e2aa80bac0"><div class="ttname"><a href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a></div><div class="ttdeci">static int av_bprint_is_complete(const AVBPrint *buf)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8h_source.html#l00185">bprint.h:185</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a946e1e9b89eeeae4cab8a833b482c1ad"><div class="ttname"><a href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">AVStream::avg_frame_rate</a></div><div class="ttdeci">AVRational avg_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00942">avformat.h:942</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaadca229ad2c20e060a14fec08a5cc7ce"><div class="ttname"><a href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a></div><div class="ttdeci">AVCodecID</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00046">codec_id.h:46</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9b6f7d220d100ba73defab295623356b"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">AVCodecParameters::codec_tag</a></div><div class="ttdeci">uint32_t codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00064">codec_par.h:64</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea14c0f2031427f1065ae8c18095e4384f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea14c0f2031427f1065ae8c18095e4384f">AV_CODEC_ID_EAC3</a></div><div class="ttdeci">@ AV_CODEC_ID_EAC3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00458">codec_id.h:458</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggadcff0a5957a99f6fdf1eec9d5a3fdfafab4290d124e49f795ef1ba709fc60233c"><div class="ttname"><a href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafab4290d124e49f795ef1ba709fc60233c">AV_AUDIO_SERVICE_TYPE_KARAOKE</a></div><div class="ttdeci">@ AV_AUDIO_SERVICE_TYPE_KARAOKE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00248">avcodec.h:248</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gad05360700b6c9a9523710d627bfb818e"><div class="ttname"><a href="group__lavc__core.html#gad05360700b6c9a9523710d627bfb818e">AV_CODEC_CAP_CHANNEL_CONF</a></div><div class="ttdeci">#define AV_CODEC_CAP_CHANNEL_CONF</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00102">codec.h:102</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a></div><div class="ttdeci">@ AV_CODEC_ID_AAC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00420">codec_id.h:420</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_ac3fc3d38b1f4e864535a9011ac2526e3"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#ac3fc3d38b1f4e864535a9011ac2526e3">AVCodecParserContext::frame_offset</a></div><div class="ttdeci">int64_t frame_offset</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03356">avcodec.h:3356</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="aavformat_8h_html_acafe6c256110801c5bfb79da1d4ec0fa"><div class="ttname"><a href="avformat_8h.html#acafe6c256110801c5bfb79da1d4ec0fa">AVFMT_FLAG_NOFILLIN</a></div><div class="ttdeci">#define AVFMT_FLAG_NOFILLIN</div><div class="ttdoc">Do not infer any values from other values, just return what is stored in the container.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01359">avformat.h:1359</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a2c974557671dd459674b170c5e64d79a"><div class="ttname"><a href="struct_a_v_codec_context.html#a2c974557671dd459674b170c5e64d79a">AVCodecContext::codec_tag</a></div><div class="ttdeci">unsigned int codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00551">avcodec.h:551</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_gaea8a7c8c2832c11e753fbfc0d1464970"><div class="ttname"><a href="group__lavu__string.html#gaea8a7c8c2832c11e753fbfc0d1464970">av_strncasecmp</a></div><div class="ttdeci">int av_strncasecmp(const char *a, const char *b, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00225">avstring.c:225</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a56e16bc85cd3ea332340ae3bdc26a028"><div class="ttname"><a href="libavformat_2utils_8c.html#a56e16bc85cd3ea332340ae3bdc26a028">set_codec_from_probe_data</a></div><div class="ttdeci">static int set_codec_from_probe_data(AVFormatContext *s, AVStream *st, AVProbeData *pd)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00329">utils.c:329</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga6dc18eef1afca3610644a52565cf8a31"><div class="ttname"><a href="group__lavc__core.html#ga6dc18eef1afca3610644a52565cf8a31">av_codec_is_decoder</a></div><div class="ttdeci">int av_codec_is_decoder(const AVCodec *codec)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00101">utils.c:101</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a5deb12bcdd238d06cc07d341b3e0f5c3"><div class="ttname"><a href="libavformat_2utils_8c.html#a5deb12bcdd238d06cc07d341b3e0f5c3">has_codec_parameters</a></div><div class="ttdeci">static int has_codec_parameters(AVStream *st, const char **errmsg_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02939">utils.c:2939</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga82d40664213508918093822461cc597e"><div class="ttname"><a href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a></div><div class="ttdeci">int64_t av_rescale_rnd(int64_t a, int64_t b, int64_t c, enum AVRounding rnd)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00058">mathematics.c:58</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ac685720aeaa4a6b325e4f757b8720207"><div class="ttname"><a href="struct_a_v_stream_internal.html#ac685720aeaa4a6b325e4f757b8720207">AVStreamInternal::fps_last_dts_idx</a></div><div class="ttdeci">int fps_last_dts_idx</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00224">internal.h:224</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_a972e32e4cce4e931870dff55857a376b"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#a972e32e4cce4e931870dff55857a376b">AVCodecParserContext::convergence_duration</a></div><div class="ttdeci">attribute_deprecated int64_t convergence_duration</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03409">avcodec.h:3409</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga0717e7440fdb123f708082f66cd9b41d"><div class="ttname"><a href="group__lavc__misc.html#ga0717e7440fdb123f708082f66cd9b41d">av_get_bits_per_sample</a></div><div class="ttdeci">int av_get_bits_per_sample(enum AVCodecID codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01578">utils.c:1578</a></div></div>
<div class="ttc" id="affmpeg_8h_html_affee77914991e4f6048c708556a7edbe"><div class="ttname"><a href="ffmpeg_8h.html#affee77914991e4f6048c708556a7edbe">options</a></div><div class="ttdeci">const OptionDef options[]</div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gad42172e27cddafb81096939783b157bb"><div class="ttname"><a href="group__lavf__decoding.html#gad42172e27cddafb81096939783b157bb">avformat_find_stream_info</a></div><div class="ttdeci">int avformat_find_stream_info(AVFormatContext *ic, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03547">utils.c:3547</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a1ec57ee84f19cf65d00eaa4d2a2253ce"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">AVCodecParameters::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00127">codec_par.h:127</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a8c689ee00c0dfe4313891f8a2ea21f4d"><div class="ttname"><a href="struct_a_v_stream.html#a8c689ee00c0dfe4313891f8a2ea21f4d">AVStream::attached_pic</a></div><div class="ttdeci">AVPacket attached_pic</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00951">avformat.h:951</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_abacb50bc36f408c3ba9674b8344633d3"><div class="ttname"><a href="libavformat_2utils_8c.html#abacb50bc36f408c3ba9674b8344633d3">ff_standardize_creation_time</a></div><div class="ttdeci">int ff_standardize_creation_time(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05647">utils.c:5647</a></div></div>
<div class="ttc" id="aavpacket_8c_html_a27ca16b08ac3411dd9e7e83c0c075759"><div class="ttname"><a href="avpacket_8c.html#a27ca16b08ac3411dd9e7e83c0c075759">avpriv_packet_list_get</a></div><div class="ttdeci">int avpriv_packet_list_get(AVPacketList **pkt_buffer, AVPacketList **pkt_buffer_end, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00766">avpacket.c:766</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a4020490cf7575aae5c579834062b4281"><div class="ttname"><a href="libavformat_2utils_8c.html#a4020490cf7575aae5c579834062b4281">tb_unreliable</a></div><div class="ttdeci">static int tb_unreliable(AVCodecContext *c)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03245">utils.c:3245</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea55f60c53c2cc765877092c125ee172be"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea55f60c53c2cc765877092c125ee172be">AV_CODEC_ID_PCM_S24LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S24LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00320">codec_id.h:320</a></div></div>
<div class="ttc" id="atimestamp_8h_html_ad344b91ede6b86fc0a530611293f42da"><div class="ttname"><a href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a></div><div class="ttdeci">#define av_ts2timestr(ts, tb)</div><div class="ttdef"><b>Definition:</b> <a href="timestamp_8h_source.html#l00076">timestamp.h:76</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_ga9a84bba4713dfced21a1a56163be1f48"><div class="ttname"><a href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a></div><div class="ttdeci">AVMediaType</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00199">avutil.h:199</a></div></div>
<div class="ttc" id="aavformat_8h_html_a19520b122a38843e0ce95335ad92bb61"><div class="ttname"><a href="avformat_8h.html#a19520b122a38843e0ce95335ad92bb61">AV_PTS_WRAP_SUB_OFFSET</a></div><div class="ttdeci">#define AV_PTS_WRAP_SUB_OFFSET</div><div class="ttdoc">subtract the format specific offset on wrap detection</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00860">avformat.h:860</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga7e45597834e9ef3098ddb74bc5e1550c"><div class="ttname"><a href="group__lavf__misc.html#ga7e45597834e9ef3098ddb74bc5e1550c">avformat_match_stream_specifier</a></div><div class="ttdeci">int avformat_match_stream_specifier(AVFormatContext *s, AVStream *st, const char *spec)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05252">utils.c:5252</a></div></div>
<div class="ttc" id="aavpacket_8c_html_aa748e80c1311a2a23640a291fb84b291"><div class="ttname"><a href="avpacket_8c.html#aa748e80c1311a2a23640a291fb84b291">avpriv_packet_list_free</a></div><div class="ttdeci">void avpriv_packet_list_free(AVPacketList **pkt_buf, AVPacketList **pkt_buf_end)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00782">avpacket.c:782</a></div></div>
<div class="ttc" id="aextract__extradata__bsf_8c_html_a92ba2b3ed65ae251e69195d3ebe639b6"><div class="ttname"><a href="extract__extradata__bsf_8c.html#a92ba2b3ed65ae251e69195d3ebe639b6">id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="extract__extradata__bsf_8c_source.html#l00049">extract_extradata_bsf.c:325</a></div></div>
<div class="ttc" id="astruct_a_v_packet_list_html_a6a1d0f1a75cfafa4643b93752edef643"><div class="ttname"><a href="struct_a_v_packet_list.html#a6a1d0f1a75cfafa4643b93752edef643">AVPacketList::next</a></div><div class="ttdeci">struct AVPacketList * next</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00398">packet.h:398</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_ae3146f05127d9d4ba5a140a869bdab35"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#ae3146f05127d9d4ba5a140a869bdab35">AVCodecParserContext::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03373">avcodec.h:3373</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gac7a91abf2f59648d995894711f070f62"><div class="ttname"><a href="group__lavf__core.html#gac7a91abf2f59648d995894711f070f62">avformat_alloc_context</a></div><div class="ttdeci">AVFormatContext * avformat_alloc_context(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2options_8c_source.html#l00211">options.c:211</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_af97bf2bcf8da1ae32b60bdd953b8a487"><div class="ttname"><a href="libavformat_2utils_8c.html#af97bf2bcf8da1ae32b60bdd953b8a487">seek_frame_byte</a></div><div class="ttdeci">static int seek_frame_byte(AVFormatContext *s, int stream_index, int64_t pos, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02328">utils.c:2328</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af260210a39ad4781d8d47ddac1541d04"><div class="ttname"><a href="struct_a_v_codec_context.html#af260210a39ad4781d8d47ddac1541d04">AVCodecContext::lowres</a></div><div class="ttdeci">int lowres</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01765">avcodec.h:1765</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_ga2c3404067d7e9bc7b8443e3f58cf8e65"><div class="ttname"><a href="group__lavf__core.html#ga2c3404067d7e9bc7b8443e3f58cf8e65">av_stream_get_side_data</a></div><div class="ttdeci">uint8_t * av_stream_get_side_data(const AVStream *st, enum AVPacketSideDataType type, int *size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05431">utils.c:5431</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a6d2f1c63632979df40671983b4d29588"><div class="ttname"><a href="struct_a_v_stream_internal.html#a6d2f1c63632979df40671983b4d29588">AVStreamInternal::index_entries</a></div><div class="ttdeci">AVIndexEntry * index_entries</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00228">internal.h:228</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a403782362fe183fead43924732f81cb4"><div class="ttname"><a href="libavformat_2utils_8c.html#a403782362fe183fead43924732f81cb4">ff_copy_whiteblacklists</a></div><div class="ttdeci">int ff_copy_whiteblacklists(AVFormatContext *dst, const AVFormatContext *src)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00160">utils.c:160</a></div></div>
<div class="ttc" id="affplay_8c_html_aff091f79e1f4daabe108ee1262892f9f"><div class="ttname"><a href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a></div><div class="ttdeci">static int64_t start_time</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00332">ffplay.c:332</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a589bd5704e0e2a71d6c0fa9ed04d6739"><div class="ttname"><a href="struct_a_v_stream_internal.html#a589bd5704e0e2a71d6c0fa9ed04d6739">AVStreamInternal::last_duration</a></div><div class="ttdeci">int64_t last_duration</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00216">internal.h:216</a></div></div>
<div class="ttc" id="amovenc_8c_html_a274f7fddf13f456309bc20d3fa2b9a80"><div class="ttname"><a href="movenc_8c.html#a274f7fddf13f456309bc20d3fa2b9a80">bps</a></div><div class="ttdeci">unsigned bps</div><div class="ttdef"><b>Definition:</b> <a href="movenc_8c_source.html#l01598">movenc.c:1598</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa3379ed720d45daac872b2f483f545de"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3379ed720d45daac872b2f483f545de">AV_CODEC_ID_DTS</a></div><div class="ttdeci">@ AV_CODEC_ID_DTS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00422">codec_id.h:422</a></div></div>
<div class="ttc" id="astruct_a_v_format_internal_html_a615cc3e5cda48d841152b1a45a91f5c9"><div class="ttname"><a href="struct_a_v_format_internal.html#a615cc3e5cda48d841152b1a45a91f5c9">AVFormatInternal::packet_buffer</a></div><div class="ttdeci">struct AVPacketList * packet_buffer</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00076">internal.h:76</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00059">samplefmt.h:59</a></div></div>
<div class="ttc" id="aflacdsp__template_8c_html_a924f03b9b06f2793262e576df93492db"><div class="ttname"><a href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a></div><div class="ttdeci">#define sample</div><div class="ttdef"><b>Definition:</b> <a href="flacdsp__template_8c_source.html#l00044">flacdsp_template.c:44</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html_a0055fc9b89e4daef6860646b5dd8d629"><div class="ttname"><a href="libavutil_2thread_8h.html#a0055fc9b89e4daef6860646b5dd8d629">AV_MUTEX_INITIALIZER</a></div><div class="ttdeci">#define AV_MUTEX_INITIALIZER</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2thread_8h_source.html#l00165">thread.h:165</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a42db85b017d4205ec7129e9c7c187c9c"><div class="ttname"><a href="libavformat_2utils_8c.html#a42db85b017d4205ec7129e9c7c187c9c">ff_get_pcm_codec_id</a></div><div class="ttdeci">enum AVCodecID ff_get_pcm_codec_id(int bps, int flt, int be, int sflags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03087">utils.c:3109</a></div></div>
<div class="ttc" id="alibavcodec_2utils_8c_html_a0a49fded52e0fa446da5d80b1d43ea9e"><div class="ttname"><a href="libavcodec_2utils_8c.html#a0a49fded52e0fa446da5d80b1d43ea9e">avpriv_codec_get_cap_skip_frame_fill_param</a></div><div class="ttdeci">int avpriv_codec_get_cap_skip_frame_fill_param(const AVCodec *codec)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00498">utils.c:498</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_a01a53d07936f4c7ee280444793b6967b"><div class="ttname"><a href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">AVCodec::id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00202">codec.h:204</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html_a499a5062224e22249be6f2d16f74c449"><div class="ttname"><a href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">AVChapter::start</a></div><div class="ttdeci">int64_t start</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01183">avformat.h:1183</a></div></div>
<div class="ttc" id="aid3v2_8h_html_a85f61f1d75619e3f050ba23280c9c1f0"><div class="ttname"><a href="id3v2_8h.html#a85f61f1d75619e3f050ba23280c9c1f0">ID3v2_DEFAULT_MAGIC</a></div><div class="ttdeci">#define ID3v2_DEFAULT_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="id3v2_8h_source.html#l00035">id3v2.h:35</a></div></div>
<div class="ttc" id="affmpeg_8h_html_a8e4ab3fbd5ee2de7cd51ff1a033db4b3"><div class="ttname"><a href="ffmpeg_8h.html#a8e4ab3fbd5ee2de7cd51ff1a033db4b3">copy_tb</a></div><div class="ttdeci">int copy_tb</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__opt_8c_source.html#l00164">ffmpeg_opt.c:164</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_aadeb123fe38ebddd9468e55a8d63318a"><div class="ttname"><a href="struct_a_v_stream_internal.html#aadeb123fe38ebddd9468e55a8d63318a">AVStreamInternal::start_skip_samples</a></div><div class="ttdeci">int64_t start_skip_samples</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00261">internal.h:261</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga3b40fc8d2fda6992ae6ea2567d71ba30"><div class="ttname"><a href="group__lavf__decoding.html#ga3b40fc8d2fda6992ae6ea2567d71ba30">avformat_seek_file</a></div><div class="ttdeci">int avformat_seek_file(AVFormatContext *s, int stream_index, int64_t min_ts, int64_t ts, int64_t max_ts, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02482">utils.c:2482</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_ga2eaefe702f95f619ea6f2d08afa01be1"><div class="ttname"><a href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a></div><div class="ttdeci">#define AV_NOPTS_VALUE</div><div class="ttdoc">Undefined timestamp value.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00248">avutil.h:248</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_af6bd510492e5bc5b422d42b07df8f8c0"><div class="ttname"><a href="libavformat_2internal_8h.html#af6bd510492e5bc5b422d42b07df8f8c0">NTP_OFFSET_US</a></div><div class="ttdeci">#define NTP_OFFSET_US</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00396">internal.h:396</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a965ab62618e3757a36f541e4b5794cf2"><div class="ttname"><a href="libavformat_2utils_8c.html#a965ab62618e3757a36f541e4b5794cf2">duration_name</a></div><div class="ttdeci">static const char * duration_name[]</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02875">utils.c:2875</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a4d08b297e97eefd66c714df4fff493c8"><div class="ttname"><a href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">AVCodecContext::framerate</a></div><div class="ttdeci">AVRational framerate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02069">avcodec.h:2069</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a0e218e4306ec661c0e0c742e58d06f1f"><div class="ttname"><a href="struct_a_v_stream_internal.html#a0e218e4306ec661c0e0c742e58d06f1f">AVStreamInternal::dts_misordered</a></div><div class="ttdeci">uint8_t dts_misordered</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00326">internal.h:326</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga12c049178414cc221dfafd4e7f836dea"><div class="ttname"><a href="group__lavf__misc.html#ga12c049178414cc221dfafd4e7f836dea">av_guess_frame_rate</a></div><div class="ttdeci">AVRational av_guess_frame_rate(AVFormatContext *format, AVStream *st, AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05068">utils.c:5068</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a6873ed62f196c24e8bf282609231786f"><div class="ttname"><a href="struct_a_v_stream.html#a6873ed62f196c24e8bf282609231786f">AVStream::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00876">avformat.h:876</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga64b609bbdda09ec7b29534a30656eb1a"><div class="ttname"><a href="group__lavf__misc.html#ga64b609bbdda09ec7b29534a30656eb1a">av_stream_get_codec_timebase</a></div><div class="ttdeci">AVRational av_stream_get_codec_timebase(const AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05776">utils.c:5776</a></div></div>
<div class="ttc" id="aavformat_8h_html_adafc4c061749f2f3a6ffac6796b844f0"><div class="ttname"><a href="avformat_8h.html#adafc4c061749f2f3a6ffac6796b844f0">AV_PTS_WRAP_ADD_OFFSET</a></div><div class="ttdeci">#define AV_PTS_WRAP_ADD_OFFSET</div><div class="ttdoc">add the format specific offset on wrap detection</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00859">avformat.h:859</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a513c91d8ee98a29b942c2cb4c955177f"><div class="ttname"><a href="libavformat_2utils_8c.html#a513c91d8ee98a29b942c2cb4c955177f">ff_is_intra_only</a></div><div class="ttdeci">int ff_is_intra_only(enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00981">utils.c:981</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_af6b4081deb5ee890bd4c3adb14da2787"><div class="ttname"><a href="libavformat_2utils_8c.html#af6b4081deb5ee890bd4c3adb14da2787">determinable_frame_size</a></div><div class="ttdeci">static int determinable_frame_size(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00902">utils.c:902</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae9dc9b20e45c9df8884ba59f3c28da04"><div class="ttname"><a href="libavformat_2utils_8c.html#ae9dc9b20e45c9df8884ba59f3c28da04">ffio_limit</a></div><div class="ttdeci">int ffio_limit(AVIOContext *s, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00244">utils.c:244</a></div></div>
<div class="ttc" id="aavformat_8h_html_a48978eb2565907e8794910a1178897e0"><div class="ttname"><a href="avformat_8h.html#a48978eb2565907e8794910a1178897e0">AVFMT_FLAG_IGNDTS</a></div><div class="ttdeci">#define AVFMT_FLAG_IGNDTS</div><div class="ttdoc">Ignore DTS on frames that contain both DTS &amp; PTS.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01358">avformat.h:1358</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga7d48d4b4441eec04635a7e4644b5505f"><div class="ttname"><a href="group__lavf__decoding.html#ga7d48d4b4441eec04635a7e4644b5505f">av_probe_input_buffer2</a></div><div class="ttdeci">int av_probe_input_buffer2(AVIOContext *pb, ff_const59 AVInputFormat **fmt, const char *url, void *logctx, unsigned int offset, unsigned int max_probe_size)</div><div class="ttdef"><b>Definition:</b> <a href="format_8c_source.html#l00222">format.c:222</a></div></div>
<div class="ttc" id="aavformat_8h_html_a752cce390d480521919aa5d8be24ac0b"><div class="ttname"><a href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a></div><div class="ttdeci">#define AVFMT_NOFILE</div><div class="ttdoc">Demuxer will use avio_open, no opened file should be provided by the caller.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00458">avformat.h:458</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00362">packet.h:362</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga67f84bb8799c8da41194f046f4b970c4"><div class="ttname"><a href="group__lavf__misc.html#ga67f84bb8799c8da41194f046f4b970c4">AVTimebaseSource</a></div><div class="ttdeci">AVTimebaseSource</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02952">avformat.h:2952</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab7bfeb9fa5840aac090e2b0bd0ef7589"><div class="ttname"><a href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">AVCodecContext::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00649">avcodec.h:649</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ae0682100793fa35eff4aa7f7b30d65ea"><div class="ttname"><a href="struct_a_v_stream_internal.html#ae0682100793fa35eff4aa7f7b30d65ea">AVStreamInternal::codec_info_duration</a></div><div class="ttdeci">int64_t codec_info_duration</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00205">internal.h:205</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a></div><div class="ttdeci">@ AVMEDIA_TYPE_UNKNOWN</div><div class="ttdoc">Usually treated as AVMEDIA_TYPE_DATA.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00200">avutil.h:200</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea33183189d771e3325ccdd36fa980b6f6"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea33183189d771e3325ccdd36fa980b6f6">AV_PICTURE_TYPE_NONE</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_NONE</div><div class="ttdoc">Undefined.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00273">avutil.h:273</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ab3e303a48ab9b28dae7ea492a48b5127"><div class="ttname"><a href="libavformat_2utils_8c.html#ab3e303a48ab9b28dae7ea492a48b5127">ff_unlock_avformat</a></div><div class="ttdeci">int ff_unlock_avformat(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00084">utils.c:84</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_a72366fb5dae7421e41cce6ad8dd2126b"><div class="ttname"><a href="struct_a_v_index_entry.html#a72366fb5dae7421e41cce6ad8dd2126b">AVIndexEntry::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00809">avformat.h:809</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_ad0ea78ac48f5bb0a15a15c1c472744d9"><div class="ttname"><a href="struct_a_v_format_context.html#ad0ea78ac48f5bb0a15a15c1c472744d9">AVFormatContext::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01338">avformat.h:1338</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_a38b3c122a21fc2271e3174342e87a79f"><div class="ttname"><a href="struct_a_v_i_o_context.html#a38b3c122a21fc2271e3174342e87a79f">AVIOContext::seek_count</a></div><div class="ttdeci">int seek_count</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00285">avio.h:285</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a848ee6dd7fe617daeea261b91eb03d06"><div class="ttname"><a href="struct_a_v_stream_internal.html#a848ee6dd7fe617daeea261b91eb03d06">AVStreamInternal::found_decoder</a></div><div class="ttdeci">int found_decoder</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00214">internal.h:214</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ac72e380330c591f7e0988dc547b1dd56"><div class="ttname"><a href="libavformat_2utils_8c.html#ac72e380330c591f7e0988dc547b1dd56">ff_stream_add_bitstream_filter</a></div><div class="ttdeci">int ff_stream_add_bitstream_filter(AVStream *st, const char *name, const char *args)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05502">utils.c:5502</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a4e04af7a5a4d8298649850df798dd0bc"><div class="ttname"><a href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">AVStream::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00918">avformat.h:918</a></div></div>
<div class="ttc" id="aavformat_8h_html_a39ba22fdf89ec823243ba92bfd35c189"><div class="ttname"><a href="avformat_8h.html#a39ba22fdf89ec823243ba92bfd35c189">AV_DISPOSITION_HEARING_IMPAIRED</a></div><div class="ttdeci">#define AV_DISPOSITION_HEARING_IMPAIRED</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00827">avformat.h:827</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ga25801ba4fc9b5313eb33ec84e082dd72"><div class="ttname"><a href="group__avoptions.html#ga25801ba4fc9b5313eb33ec84e082dd72">AV_OPT_SEARCH_CHILDREN</a></div><div class="ttdeci">#define AV_OPT_SEARCH_CHILDREN</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00561">opt.h:560</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga54f9d8cb6e7f411fb145dd6ade19e939"><div class="ttname"><a href="group__lavu__string.html#ga54f9d8cb6e7f411fb145dd6ade19e939">av_isdigit</a></div><div class="ttdeci">static av_const int av_isdigit(int c)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8h_source.html#l00211">avstring.h:211</a></div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_ac55bfef91c33f02704ba76518d0f294c"><div class="ttname"><a href="struct_a_v_packet.html#ac55bfef91c33f02704ba76518d0f294c">AVPacket::side_data</a></div><div class="ttdeci">AVPacketSideData * side_data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00374">packet.h:374</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa4566a412c746c9267e2461262d396fd"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa4566a412c746c9267e2461262d396fd">AV_CODEC_ID_RV30</a></div><div class="ttdeci">@ AV_CODEC_ID_RV30</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00117">codec_id.h:117</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_aa3a096ee52bc6b1e0f31278d26996777"><div class="ttname"><a href="libavformat_2utils_8c.html#aa3a096ee52bc6b1e0f31278d26996777">av_format_inject_global_side_data</a></div><div class="ttdeci">void av_format_inject_global_side_data(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00150">utils.c:150</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga9a80bfcacc586b483a973272800edb97"><div class="ttname"><a href="group__lavc__packet.html#ga9a80bfcacc586b483a973272800edb97">AVPacketSideDataType</a></div><div class="ttdeci">AVPacketSideDataType</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00040">packet.h:40</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_aa8b1c33ebf8969100610f7fa1379f58d"><div class="ttname"><a href="libavformat_2utils_8c.html#aa8b1c33ebf8969100610f7fa1379f58d">update_dts_from_pts</a></div><div class="ttdeci">static void update_dts_from_pts(AVFormatContext *s, int stream_index, AVPacketList *pkt_buffer)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01065">utils.c:1065</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a069da4bb2fba6871858065fdf25fe3b3"><div class="ttname"><a href="struct_a_v_stream.html#a069da4bb2fba6871858065fdf25fe3b3">AVStream::side_data</a></div><div class="ttdeci">AVPacketSideData * side_data</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00971">avformat.h:971</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html_a35640b6ca5513a7d740be2b399658f5e"><div class="ttname"><a href="libavutil_2thread_8h.html#a35640b6ca5513a7d740be2b399658f5e">ff_mutex_lock</a></div><div class="ttdeci">static int ff_mutex_lock(AVMutex *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2thread_8h_source.html#l00168">thread.h:168</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga8a6deff6c1809029037ffd760db3e0d4"><div class="ttname"><a href="group__lavc__packet.html#ga8a6deff6c1809029037ffd760db3e0d4">av_packet_make_refcounted</a></div><div class="ttdeci">int av_packet_make_refcounted(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00672">avpacket.c:672</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gaaf85aa950695631e0217a16062289b66"><div class="ttname"><a href="group__lavc__packet.html#gaaf85aa950695631e0217a16062289b66">av_packet_alloc</a></div><div class="ttdeci">AVPacket * av_packet_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00053">avpacket.c:53</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga1bafd682b1fbb90e48a4cc3814b820f7"><div class="ttname"><a href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a></div><div class="ttdeci">void av_dict_free(AVDictionary **pm)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00203">dict.c:203</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_af22fba8f2937d73db0ab5c9f9e985916"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#af22fba8f2937d73db0ab5c9f9e985916">AVCodecParserContext::offset</a></div><div class="ttdeci">int64_t offset</div><div class="ttdoc">byte offset from starting packet start</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03393">avcodec.h:3393</a></div></div>
<div class="ttc" id="atests_2h264__levels_8c_html_a7ead09ba2ff985f7f74ab0f40ee7eecc"><div class="ttname"><a href="tests_2h264__levels_8c.html#a7ead09ba2ff985f7f74ab0f40ee7eecc">bitrate</a></div><div class="ttdeci">int64_t bitrate</div><div class="ttdef"><b>Definition:</b> <a href="tests_2h264__levels_8c_source.html#l00131">h264_levels.c:131</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_a2e4fff0aa061984d586ea08ecad96141"><div class="ttname"><a href="struct_a_v_output_format.html#a2e4fff0aa061984d586ea08ecad96141">AVOutputFormat::audio_codec</a></div><div class="ttdeci">enum AVCodecID audio_codec</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00499">avformat.h:501</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_add2b61dc8834f793e0f2fe7f099f06d1"><div class="ttname"><a href="libavformat_2utils_8c.html#add2b61dc8834f793e0f2fe7f099f06d1">avpriv_new_chapter</a></div><div class="ttdeci">AVChapter * avpriv_new_chapter(AVFormatContext *s, int id, AVRational time_base, int64_t start, int64_t end, const char *title)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04580">utils.c:4580</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1bdba69ea111e2a9d03fdaa7a46a4c45"><div class="ttname"><a href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">AVCodecContext::sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat sample_fmt</div><div class="ttdoc">sample format</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1194</a></div></div>
<div class="ttc" id="aregdef_8h_html_aa42b800f0f58b50bc7604c67cc2853ab"><div class="ttname"><a href="regdef_8h.html#aa42b800f0f58b50bc7604c67cc2853ab">a0</a></div><div class="ttdeci">#define a0</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00046">regdef.h:46</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a453e27b1ee9563a1ede240200265706b"><div class="ttname"><a href="libavformat_2utils_8c.html#a453e27b1ee9563a1ede240200265706b">flush_packet_queue</a></div><div class="ttdeci">static void flush_packet_queue(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01811">utils.c:1811</a></div></div>
<div class="ttc" id="aintmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a399f22865073e2bb9d531fae48c10061"><div class="ttname"><a href="struct_a_v_stream_internal.html#a399f22865073e2bb9d531fae48c10061">AVStreamInternal::duration_gcd</a></div><div class="ttdeci">int64_t duration_gcd</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00201">internal.h:201</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gaa0fc59624ec1fe0dc583743678b96fb6"><div class="ttname"><a href="group__lavf__misc.html#gaa0fc59624ec1fe0dc583743678b96fb6">AV_FRAME_FILENAME_FLAGS_MULTIPLE</a></div><div class="ttdeci">#define AV_FRAME_FILENAME_FLAGS_MULTIPLE</div><div class="ttdoc">Allow multiple d.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02785">avformat.h:2785</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gad172eacfed8653e454c6fdcbe53baab3"><div class="ttname"><a href="group__lavu__log__constants.html#gad172eacfed8653e454c6fdcbe53baab3">AV_LOG_INFO</a></div><div class="ttdeci">#define AV_LOG_INFO</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00205">log.h:205</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a6cdb0c90a69899f4e1e54704bb654936"><div class="ttname"><a href="struct_a_v_stream.html#a6cdb0c90a69899f4e1e54704bb654936">AVStream::pts_wrap_bits</a></div><div class="ttdeci">int pts_wrap_bits</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01051">avformat.h:1051</a></div></div>
<div class="ttc" id="astruct_a_v_b_s_f_context_html_a5c799e50f572340b69d4c79cda8f2de9"><div class="ttname"><a href="struct_a_v_b_s_f_context.html#a5c799e50f572340b69d4c79cda8f2de9">AVBSFContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8h_source.html#l00070">bsf.h:70</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_ab5793d8195cf4789dfb3913b7a693903"><div class="ttname"><a href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">AVPacket::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdoc">byte position in stream, -1 if unknown</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00383">packet.h:383</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html_acb5cb6ce9bb6b9f4b970a919f4899818"><div class="ttname"><a href="struct_a_v_chapter.html#acb5cb6ce9bb6b9f4b970a919f4899818">AVChapter::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdoc">time base in which the start/end timestamps are specified</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01182">avformat.h:1182</a></div></div>
<div class="ttc" id="astruct_a_v_probe_data_html_a30309e4de25c1a411c635eab767e1e53"><div class="ttname"><a href="struct_a_v_probe_data.html#a30309e4de25c1a411c635eab767e1e53">AVProbeData::buf_size</a></div><div class="ttdeci">int buf_size</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00444">avformat.h:444</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ad31df8d3324f44c690627eb146a0ba17"><div class="ttname"><a href="libavformat_2utils_8c.html#ad31df8d3324f44c690627eb146a0ba17">SANE_CHUNK_SIZE</a></div><div class="ttdeci">#define SANE_CHUNK_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00242">utils.c:242</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a584d0be3ac4fa3640602ff6cfc04f3a4"><div class="ttname"><a href="struct_a_v_stream_internal.html#a584d0be3ac4fa3640602ff6cfc04f3a4">AVStreamInternal::extract_extradata</a></div><div class="ttdeci">struct AVStreamInternal::@0 extract_extradata</div></div>
<div class="ttc" id="astruct_a_v_format_context_html_aa3b43e2a040a3ce658620711a8345234"><div class="ttname"><a href="struct_a_v_format_context.html#aa3b43e2a040a3ce658620711a8345234">AVFormatContext::codec_whitelist</a></div><div class="ttdeci">char * codec_whitelist</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01674">avformat.h:1674</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea35d8b1cf0066b5a9da9e86e49b0c3e45"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea35d8b1cf0066b5a9da9e86e49b0c3e45">AV_CODEC_ID_GIF</a></div><div class="ttdeci">@ AV_CODEC_ID_GIF</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00146">codec_id.h:146</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga2016a52e94f867ebe5113bdf448e182d"><div class="ttname"><a href="group__lavc__core.html#ga2016a52e94f867ebe5113bdf448e182d">avcodec_get_name</a></div><div class="ttdeci">const char * avcodec_get_name(enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01204">utils.c:1204</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga58bc4bf1e0ac59e27362597e467efff3"><div class="ttname"><a href="group__lavc__decoding.html#ga58bc4bf1e0ac59e27362597e467efff3">avcodec_send_packet</a></div><div class="ttdeci">int avcodec_send_packet(AVCodecContext *avctx, const AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l00606">decode.c:606</a></div></div>
<div class="ttc" id="aavio_8h_html_ae118a1f37f1e48617609ead9910aac15"><div class="ttname"><a href="avio_8h.html#ae118a1f37f1e48617609ead9910aac15">avio_closep</a></div><div class="ttdeci">int avio_closep(AVIOContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01196">aviobuf.c:1196</a></div></div>
<div class="ttc" id="aavassert_8h_html_a2764bf422e4df5bf3aac652f21fe780a"><div class="ttname"><a href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a></div><div class="ttdeci">#define av_assert2(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00064">avassert.h:64</a></div></div>
<div class="ttc" id="aavformat_8h_html_aee579ebc55f7067a964fbfd09c14e8c2"><div class="ttname"><a href="avformat_8h.html#aee579ebc55f7067a964fbfd09c14e8c2">AVFMT_FLAG_NOBUFFER</a></div><div class="ttdeci">#define AVFMT_FLAG_NOBUFFER</div><div class="ttdoc">Do not buffer frames when possible.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01361">avformat.h:1361</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_acfefb6b6cf21e87a0dcbd1a547ba2348"><div class="ttname"><a href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">AVFormatContext::streams</a></div><div class="ttdeci">AVStream ** streams</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01291">avformat.h:1291</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea9ff341616ebac6400d57194606de5593"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea9ff341616ebac6400d57194606de5593">AV_CODEC_ID_RV40</a></div><div class="ttdeci">@ AV_CODEC_ID_RV40</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00118">codec_id.h:118</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a1068ca9b837c62d6ef668a4aa3d25b7a"><div class="ttname"><a href="libavformat_2utils_8c.html#a1068ca9b837c62d6ef668a4aa3d25b7a">update_initial_timestamps</a></div><div class="ttdeci">static void update_initial_timestamps(AVFormatContext *s, int stream_index, int64_t dts, int64_t pts, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01091">utils.c:1091</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html_a2a48026c205e948f8bfaafe92d41f752"><div class="ttname"><a href="struct_a_v_chapter.html#a2a48026c205e948f8bfaafe92d41f752">AVChapter::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">unique ID to identify the chapter</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01181">avformat.h:1181</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a15079f0fee3ad5d71d9a6938831238e1"><div class="ttname"><a href="libavformat_2utils_8c.html#a15079f0fee3ad5d71d9a6938831238e1">fill_all_stream_timings</a></div><div class="ttdeci">static void fill_all_stream_timings(AVFormatContext *ic)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02666">utils.c:2666</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a700fb89fb8a00d075c8b7f3375784b90"><div class="ttname"><a href="avcodec_8h.html#a700fb89fb8a00d075c8b7f3375784b90">PARSER_FLAG_COMPLETE_FRAMES</a></div><div class="ttdeci">#define PARSER_FLAG_COMPLETE_FRAMES</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03387">avcodec.h:3387</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea48761c50b102343e2648c3e28a94e7ab">AV_CODEC_ID_NONE</a></div><div class="ttdeci">@ AV_CODEC_ID_NONE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00047">codec_id.h:47</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga7fffb6c87b91250956e7a2367af56b38"><div class="ttname"><a href="group__lavc__core.html#ga7fffb6c87b91250956e7a2367af56b38">av_bsf_receive_packet</a></div><div class="ttdeci">int av_bsf_receive_packet(AVBSFContext *ctx, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8c_source.html#l00226">bsf.c:226</a></div></div>
<div class="ttc" id="aavio__internal_8h_html"><div class="ttname"><a href="avio__internal_8h.html">avio_internal.h</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae54a8406916abd2864d8c10a4b3b65ba"><div class="ttname"><a href="libavformat_2utils_8c.html#ae54a8406916abd2864d8c10a4b3b65ba">update_stream_timings</a></div><div class="ttdeci">static void update_stream_timings(AVFormatContext *ic)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02572">utils.c:2572</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a9aad44bed0c244bb2f4d3e7296b2946a"><div class="ttname"><a href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a></div><div class="ttdeci">#define AV_WL32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00290">intreadwrite.h:290</a></div></div>
<div class="ttc" id="atests_2utils_8c_html_a2474a5474cbff19523a51eb1de01cda4"><div class="ttname"><a href="tests_2utils_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a></div><div class="ttdeci">static int width</div><div class="ttdef"><b>Definition:</b> <a href="tests_2utils_8c_source.html#l00158">utils.c:158</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gaff468dcc45289542f4c30d311bc2a201"><div class="ttname"><a href="group__lavf__decoding.html#gaff468dcc45289542f4c30d311bc2a201">avformat_open_input</a></div><div class="ttdeci">int avformat_open_input(AVFormatContext **ps, const char *filename, ff_const59 AVInputFormat *fmt, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00500">utils.c:500</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_af51f7ff3dac8b730f46b9713e49a2518"><div class="ttname"><a href="struct_a_v_codec.html#af51f7ff3dac8b730f46b9713e49a2518">AVCodec::capabilities</a></div><div class="ttdeci">int capabilities</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00209">codec.h:209</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_affef8bf4cd2f53a47ebc2d298d0d57c1"><div class="ttname"><a href="struct_a_v_index_entry.html#affef8bf4cd2f53a47ebc2d298d0d57c1">AVIndexEntry::timestamp</a></div><div class="ttdeci">int64_t timestamp</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00801">avformat.h:801</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_aefa5d0b4dafb09cd777ad5773a18a19a"><div class="ttname"><a href="libavformat_2utils_8c.html#aefa5d0b4dafb09cd777ad5773a18a19a">ff_read_packet</a></div><div class="ttdeci">int ff_read_packet(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00792">utils.c:792</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_aad55a00e728a020c1dcfaaf695320445"><div class="ttname"><a href="struct_a_v_output_format.html#aad55a00e728a020c1dcfaaf695320445">AVOutputFormat::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00510">avformat.h:510</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gac7b282f51540ca7a99416a3ba6ee0d16"><div class="ttname"><a href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a></div><div class="ttdeci">int avcodec_parameters_to_context(AVCodecContext *codec, const AVCodecParameters *par)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02152">utils.c:2152</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggadcff0a5957a99f6fdf1eec9d5a3fdfafabd1590db13ebdc6f1c53fd5cd97ff3ca"><div class="ttname"><a href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafabd1590db13ebdc6f1c53fd5cd97ff3ca">AV_AUDIO_SERVICE_TYPE_HEARING_IMPAIRED</a></div><div class="ttdeci">@ AV_AUDIO_SERVICE_TYPE_HEARING_IMPAIRED</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00243">avcodec.h:243</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gaa11ed202b70e1f52bac809811a910e2a"><div class="ttname"><a href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a></div><div class="ttdeci">#define AV_TIME_BASE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00254">avutil.h:254</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html_ab68f32dc07fac89b4364e86483b00f3e"><div class="ttname"><a href="struct_a_v_chapter.html#ab68f32dc07fac89b4364e86483b00f3e">AVChapter::end</a></div><div class="ttdeci">int64_t end</div><div class="ttdoc">chapter start/end time in time_base units</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01183">avformat.h:1183</a></div></div>
<div class="ttc" id="aid3v2_8c_html_afc1bb74c7935c49a8156638445299e70"><div class="ttname"><a href="id3v2_8c.html#afc1bb74c7935c49a8156638445299e70">ff_id3v2_read_dict</a></div><div class="ttdeci">void ff_id3v2_read_dict(AVIOContext *pb, AVDictionary **metadata, const char *magic, ID3v2ExtraMeta **extra_meta)</div><div class="ttdef"><b>Definition:</b> <a href="id3v2_8c_source.html#l01102">id3v2.c:1102</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggadcff0a5957a99f6fdf1eec9d5a3fdfafa89cc3ca931cc01de8b8b498492133f58"><div class="ttname"><a href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafa89cc3ca931cc01de8b8b498492133f58">AV_AUDIO_SERVICE_TYPE_EFFECTS</a></div><div class="ttdeci">@ AV_AUDIO_SERVICE_TYPE_EFFECTS</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00241">avcodec.h:241</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ad35bc68f1f037043dfc8c0bc2b11c08f"><div class="ttname"><a href="libavformat_2utils_8c.html#ad35bc68f1f037043dfc8c0bc2b11c08f">update_stream_avctx</a></div><div class="ttdeci">static int update_stream_avctx(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00465">utils.c:465</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a70048ab85f6378e936c9a8633e18887b"><div class="ttname"><a href="libavformat_2utils_8c.html#a70048ab85f6378e936c9a8633e18887b">ff_add_index_entry</a></div><div class="ttdeci">int ff_add_index_entry(AVIndexEntry **index_entries, int *nb_index_entries, unsigned int *index_entries_allocated_size, int64_t pos, int64_t timestamp, int size, int distance, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01925">utils.c:1925</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a482f29e5a2438fc1abe9d99b3b47dd80"><div class="ttname"><a href="libavformat_2utils_8c.html#a482f29e5a2438fc1abe9d99b3b47dd80">avformat_mutex</a></div><div class="ttdeci">static AVMutex avformat_mutex</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00055">utils.c:55</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a6ca823054632821e085377f7d371a2d1"><div class="ttname"><a href="struct_a_v_stream.html#a6ca823054632821e085377f7d371a2d1">AVStream::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00870">avformat.h:870</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a8695d9f7069f617f00a51a6d869a7f8e"><div class="ttname"><a href="struct_a_v_stream_internal.html#a8695d9f7069f617f00a51a6d869a7f8e">AVStreamInternal::nb_index_entries</a></div><div class="ttdeci">int nb_index_entries</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00230">internal.h:230</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98"><div class="ttname"><a href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98">AV_ROUND_DOWN</a></div><div class="ttdeci">@ AV_ROUND_DOWN</div><div class="ttdoc">Round toward -infinity.</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00082">mathematics.h:82</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceabbe3519b849a2acd3e8366bc1173f221"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabbe3519b849a2acd3e8366bc1173f221">AV_CODEC_ID_PCM_F64BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_F64BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00330">codec_id.h:330</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ac175efafc3597c6621a0ddd32eb73b74"><div class="ttname"><a href="struct_a_v_stream_internal.html#ac175efafc3597c6621a0ddd32eb73b74">AVStreamInternal::rfps_duration_sum</a></div><div class="ttdeci">int64_t rfps_duration_sum</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00203">internal.h:203</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a></div><div class="ttdeci">@ AV_CODEC_ID_HEVC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00223">codec_id.h:223</a></div></div>
<div class="ttc" id="aavformat_8h_html_a4e6b75c4d996642d88b98241f0ad2979"><div class="ttname"><a href="avformat_8h.html#a4e6b75c4d996642d88b98241f0ad2979">AV_DISPOSITION_KARAOKE</a></div><div class="ttdeci">#define AV_DISPOSITION_KARAOKE</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00819">avformat.h:819</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga9c20e01cbc94a7c9996a8ce93de046b0"><div class="ttname"><a href="group__lavu__string.html#ga9c20e01cbc94a7c9996a8ce93de046b0">av_toupper</a></div><div class="ttdeci">static av_const int av_toupper(int c)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8h_source.html#l00236">avstring.h:236</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a2d09f16df8631e64e8fa566142cdc99d">AVMEDIA_TYPE_ATTACHMENT</a></div><div class="ttdeci">@ AVMEDIA_TYPE_ATTACHMENT</div><div class="ttdoc">Opaque data information usually sparse.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00205">avutil.h:205</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga63a0579d6c2aa72470ac742bbbc1205d"><div class="ttname"><a href="group__lavf__misc.html#ga63a0579d6c2aa72470ac742bbbc1205d">av_url_split</a></div><div class="ttdeci">void av_url_split(char *proto, int proto_size, char *authorization, int authorization_size, char *hostname, int hostname_size, int *port_ptr, char *path, int path_size, const char *url)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04725">utils.c:4725</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead316c7d2fd05155d39d862a23fda97a1">AV_CODEC_ID_PCM_S32BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S32BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00317">codec_id.h:317</a></div></div>
<div class="ttc" id="aurl_8h_html"><div class="ttname"><a href="url_8h.html">url.h</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html_a0e3c41c290b38923880b9cccb669bf78"><div class="ttname"><a href="struct_a_v_i_o_context.html#a0e3c41c290b38923880b9cccb669bf78">AVIOContext::seekable</a></div><div class="ttdeci">int seekable</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00260">avio.h:260</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gaad9737492bb66aeeec37b7c7d8d90f2a"><div class="ttname"><a href="group__lavf__misc.html#gaad9737492bb66aeeec37b7c7d8d90f2a">av_find_default_stream_index</a></div><div class="ttdeci">int av_find_default_stream_index(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01825">utils.c:1825</a></div></div>
<div class="ttc" id="aavformat_8h_html_adeacd8263046043734062588db39bce9"><div class="ttname"><a href="avformat_8h.html#adeacd8263046043734062588db39bce9">AVPROBE_SCORE_RETRY</a></div><div class="ttdeci">#define AVPROBE_SCORE_RETRY</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00448">avformat.h:448</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga3266a8c3df0790c62259f91afcde45a9"><div class="ttname"><a href="group__lavc__misc.html#ga3266a8c3df0790c62259f91afcde45a9">av_get_audio_frame_duration</a></div><div class="ttdeci">int av_get_audio_frame_duration(AVCodecContext *avctx, int frame_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01792">utils.c:1792</a></div></div>
<div class="ttc" id="astruct_a_v_codec_descriptor_html"><div class="ttname"><a href="struct_a_v_codec_descriptor.html">AVCodecDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="codec__desc_8h_source.html#l00038">codec_desc.h:38</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gab646f0a7cc30af543ba4a91b37f9de6e"><div class="ttname"><a href="group__lavu__math__rational.html#gab646f0a7cc30af543ba4a91b37f9de6e">av_inv_q</a></div><div class="ttdeci">static av_always_inline AVRational av_inv_q(AVRational q)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00159">rational.h:159</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a2093332d8086d25a04942ede61007f6a"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a2093332d8086d25a04942ede61007f6a">AV_PKT_DATA_SKIP_SAMPLES</a></div><div class="ttdeci">@ AV_PKT_DATA_SKIP_SAMPLES</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00156">packet.h:156</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ac4c06882481a62fd0de7396909b02796"><div class="ttname"><a href="struct_a_v_output_format.html#ac4c06882481a62fd0de7396909b02796">AVOutputFormat::data_codec</a></div><div class="ttdeci">enum AVCodecID data_codec</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00602">avformat.h:603</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga27db687592d99f25ccf81a3b3ee8da9c"><div class="ttname"><a href="group__lavf__decoding.html#ga27db687592d99f25ccf81a3b3ee8da9c">av_read_pause</a></div><div class="ttdeci">int av_read_pause(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04253">utils.c:4253</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_abfc9b0aa975206f7e77a125e6b78536e"><div class="ttname"><a href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">AVCodecParameters::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00170">codec_par.h:170</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0">AV_CODEC_ID_JPEG2000</a></div><div class="ttdeci">@ AV_CODEC_ID_JPEG2000</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00137">codec_id.h:137</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_ac0dd805ffd04bb52b1a358331dd10b98"><div class="ttname"><a href="struct_a_v_index_entry.html#ac0dd805ffd04bb52b1a358331dd10b98">AVIndexEntry::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00800">avformat.h:800</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a9d2e6f22150d98c36dcc2c6c49318019"><div class="ttname"><a href="libavformat_2utils_8c.html#a9d2e6f22150d98c36dcc2c6c49318019">av_get_packet</a></div><div class="ttdeci">int av_get_packet(AVIOContext *s, AVPacket *pkt, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00305">utils.c:305</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga3daf97178dd1b08b5e916be381cd33e4"><div class="ttname"><a href="group__lavu__math.html#ga3daf97178dd1b08b5e916be381cd33e4">av_rescale</a></div><div class="ttdeci">int64_t av_rescale(int64_t a, int64_t b, int64_t c)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00129">mathematics.c:129</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gabc75970cd87d1bf47a4ff449470e9225"><div class="ttname"><a href="group__avoptions.html#gabc75970cd87d1bf47a4ff449470e9225">av_opt_next</a></div><div class="ttdeci">const AVOption * av_opt_next(const void *obj, const AVOption *last)</div><div class="ttdef"><b>Definition:</b> <a href="opt_8c_source.html#l00045">opt.c:45</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html"><div class="ttname"><a href="struct_a_v_codec_parameters.html">AVCodecParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00052">codec_par.h:52</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a384c39a6b99b67a3ce3388ed512a1193"><div class="ttname"><a href="libavformat_2utils_8c.html#a384c39a6b99b67a3ce3388ed512a1193">update_initial_durations</a></div><div class="ttdeci">static void update_initial_durations(AVFormatContext *s, AVStream *st, int stream_index, int64_t duration)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01143">utils.c:1143</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a18b3e6a0f95cd0b00f35765781f19d36"><div class="ttname"><a href="libavformat_2utils_8c.html#a18b3e6a0f95cd0b00f35765781f19d36">init_input</a></div><div class="ttdeci">static int init_input(AVFormatContext *s, const char *filename, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00411">utils.c:411</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga7cd040fcc147340186deb0c54dc996b0"><div class="ttname"><a href="group__lavc__core.html#ga7cd040fcc147340186deb0c54dc996b0">av_codec_iterate</a></div><div class="ttdeci">const AVCodec * av_codec_iterate(void **opaque)</div><div class="ttdef"><b>Definition:</b> <a href="allcodecs_8c_source.html#l00851">allcodecs.c:851</a></div></div>
<div class="ttc" id="anetwork_8c_html_aaf62afbf65b1b1e72ef8a1cc3fbcc6c4"><div class="ttname"><a href="network_8c.html#aaf62afbf65b1b1e72ef8a1cc3fbcc6c4">ff_tls_deinit</a></div><div class="ttdeci">void ff_tls_deinit(void)</div><div class="ttdef"><b>Definition:</b> <a href="network_8c_source.html#l00046">network.c:46</a></div></div>
<div class="ttc" id="aattributes_8h_html_a934ff195492486f0f9d22770103e757b"><div class="ttname"><a href="attributes_8h.html#a934ff195492486f0f9d22770103e757b">av_uninit</a></div><div class="ttdeci">#define av_uninit(x)</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00156">attributes.h:156</a></div></div>
<div class="ttc" id="aavformat_8h_html_a69e2c8bc119c0245ff6092f9db4d12ae"><div class="ttname"><a href="avformat_8h.html#a69e2c8bc119c0245ff6092f9db4d12ae">AVFMT_FLAG_GENPTS</a></div><div class="ttdeci">#define AVFMT_FLAG_GENPTS</div><div class="ttdoc">Generate missing pts even if it requires parsing future frames.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01355">avformat.h:1355</a></div></div>
<div class="ttc" id="aavformat_8h_html_aa8e9704bcc842236ad048062dcf45d45"><div class="ttname"><a href="avformat_8h.html#aa8e9704bcc842236ad048062dcf45d45">AV_DISPOSITION_VISUAL_IMPAIRED</a></div><div class="ttdeci">#define AV_DISPOSITION_VISUAL_IMPAIRED</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00828">avformat.h:828</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_af77e16bf961fb6f16873079b9f8ccf4b"><div class="ttname"><a href="libavformat_2utils_8c.html#af77e16bf961fb6f16873079b9f8ccf4b">ff_reduce_index</a></div><div class="ttdeci">void ff_reduce_index(AVFormatContext *s, int stream_index)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01912">utils.c:1912</a></div></div>
<div class="ttc" id="amovenc_8c_html_a1c50fcd1195659821729f52af8f3bb7d"><div class="ttname"><a href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a></div><div class="ttdeci">uint32_t tag</div><div class="ttdef"><b>Definition:</b> <a href="movenc_8c_source.html#l01597">movenc.c:1597</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gaf268a1dde957d04da846e026e2ebe6e8"><div class="ttname"><a href="group__lavu__math.html#gaf268a1dde957d04da846e026e2ebe6e8">av_compare_mod</a></div><div class="ttdeci">int64_t av_compare_mod(uint64_t a, uint64_t b, uint64_t mod)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00160">mathematics.c:160</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a50d250a128a3da9ce3d135e84213fb82"><div class="ttname"><a href="struct_a_v_stream.html#a50d250a128a3da9ce3d135e84213fb82">AVStream::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00933">avformat.h:933</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a707b60df261a779e25d5c4376aecfddb"><div class="ttname"><a href="struct_a_v_stream_internal.html#a707b60df261a779e25d5c4376aecfddb">AVStreamInternal::pts_reorder_error</a></div><div class="ttdeci">int64_t pts_reorder_error[MAX_REORDER_DELAY+1]</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00316">internal.h:316</a></div></div>
<div class="ttc" id="apixfmt_8h_html"><div class="ttname"><a href="pixfmt_8h.html">pixfmt.h</a></div></div>
<div class="ttc" id="aavio_8h_html_a03e23bf0144030961c34e803c71f614f"><div class="ttname"><a href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a></div><div class="ttdeci">int64_t avio_seek(AVIOContext *s, int64_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00253">aviobuf.c:253</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abe964316aaaa61967b012efdcced79c4"><div class="ttname"><a href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">AVCodecContext::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00627">avcodec.h:627</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a1e7324262b6b78522e52064daaa7bc87"><div class="ttname"><a href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">AVFormatContext::pb</a></div><div class="ttdeci">AVIOContext * pb</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01265">avformat.h:1265</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a16ff7a608ffe137c6ca6f0e01ef38a90"><div class="ttname"><a href="struct_a_v_stream_internal.html#a16ff7a608ffe137c6ca6f0e01ef38a90">AVStreamInternal::skip_samples</a></div><div class="ttdeci">int skip_samples</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00252">internal.h:252</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a34f80552bf16ae0ecf271380008b42be"><div class="ttname"><a href="libavformat_2utils_8c.html#a34f80552bf16ae0ecf271380008b42be">FAIL</a></div><div class="ttdeci">#define FAIL(errmsg)</div></div>
<div class="ttc" id="astruct_a_v_input_format_html_a286d65d159570516e5ed38fcbb842d5a"><div class="ttname"><a href="struct_a_v_input_format.html#a286d65d159570516e5ed38fcbb842d5a">AVInputFormat::read_header</a></div><div class="ttdeci">int(* read_header)(struct AVFormatContext *)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00710">avformat.h:710</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ad552f602c2113bd5152cff3c58ba1f9f"><div class="ttname"><a href="struct_a_v_stream.html#ad552f602c2113bd5152cff3c58ba1f9f">AVStream::cur_dts</a></div><div class="ttdeci">int64_t cur_dts</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01062">avformat.h:1062</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga19a0ca553277f019dd5b0fec6e1f9dca"><div class="ttname"><a href="group__lavc__core.html#ga19a0ca553277f019dd5b0fec6e1f9dca">avcodec_find_decoder</a></div><div class="ttdeci">AVCodec * avcodec_find_decoder(enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="allcodecs_8c_source.html#l00938">allcodecs.c:938</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a1d37e9f5dbfeafec5edb6cb51a6690ba"><div class="ttname"><a href="libavformat_2utils_8c.html#a1d37e9f5dbfeafec5edb6cb51a6690ba">ff_bprint_to_codecpar_extradata</a></div><div class="ttdeci">int ff_bprint_to_codecpar_extradata(AVCodecParameters *par, struct AVBPrint *buf)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05681">utils.c:5681</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a67b9a4ba09cdceb0286cb309a089b777"><div class="ttname"><a href="struct_a_v_stream_internal.html#a67b9a4ba09cdceb0286cb309a089b777">AVStreamInternal::fps_first_dts_idx</a></div><div class="ttdeci">int fps_first_dts_idx</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00222">internal.h:222</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_aecd77e89b2b511289e2a3376552b0ae2"><div class="ttname"><a href="writing__filters_8txt.html#aecd77e89b2b511289e2a3376552b0ae2">lowercase</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option keep it simple and lowercase description are in lowercase</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00089">writing_filters.txt:89</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91a67bc09fcdeb0e05754f344fbc80856ca"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a67bc09fcdeb0e05754f344fbc80856ca">AVSTREAM_PARSE_HEADERS</a></div><div class="ttdeci">@ AVSTREAM_PARSE_HEADERS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00791">avformat.h:791</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a7c67ae70632c91df8b0f721658ec5377"><div class="ttname"><a href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">AVStream::start_time</a></div><div class="ttdeci">int64_t start_time</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00908">avformat.h:908</a></div></div>
<div class="ttc" id="adict_8h_html"><div class="ttname"><a href="dict_8h.html">dict.h</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="anetwork_8h_html"><div class="ttname"><a href="network_8h.html">network.h</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00215">avcodec.h:215</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_acfed1d3b0e3cdc862c57f56798a286f2"><div class="ttname"><a href="libavformat_2utils_8c.html#acfed1d3b0e3cdc862c57f56798a286f2">get_std_framerate</a></div><div class="ttdeci">static int get_std_framerate(int i)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03221">utils.c:3221</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaada9ea8f08d3dcf23c14564dbc88992c"><div class="ttname"><a href="group__lavc__core.html#gaada9ea8f08d3dcf23c14564dbc88992c">av_bsf_send_packet</a></div><div class="ttdeci">int av_bsf_send_packet(AVBSFContext *ctx, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8c_source.html#l00200">bsf.c:200</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a5b1079c1e244d644a86457e7e27545c1"><div class="ttname"><a href="struct_a_v_stream.html#a5b1079c1e244d644a86457e7e27545c1">AVStream::parser</a></div><div class="ttdeci">struct AVCodecParserContext * parser</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01078">avformat.h:1078</a></div></div>
<div class="ttc" id="astruct_a_v_program_html_a136cf29d2aa5b0e4c6d743406c5e39d1"><div class="ttname"><a href="struct_a_v_program.html#a136cf29d2aa5b0e4c6d743406c5e39d1">AVProgram::nb_stream_indexes</a></div><div class="ttdeci">unsigned int nb_stream_indexes</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01150">avformat.h:1150</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggadcff0a5957a99f6fdf1eec9d5a3fdfafac279dfd2816ee38406920c0c4718bd90"><div class="ttname"><a href="group__lavc__core.html#ggadcff0a5957a99f6fdf1eec9d5a3fdfafac279dfd2816ee38406920c0c4718bd90">AV_AUDIO_SERVICE_TYPE_COMMENTARY</a></div><div class="ttdeci">@ AV_AUDIO_SERVICE_TYPE_COMMENTARY</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00245">avcodec.h:245</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a82474423ef5c8b019be3fcbe9281953f"><div class="ttname"><a href="libavformat_2utils_8c.html#a82474423ef5c8b019be3fcbe9281953f">estimate_timings_from_bit_rate</a></div><div class="ttdeci">static void estimate_timings_from_bit_rate(AVFormatContext *ic)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02685">utils.c:2685</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_ga245f2875f80ce67ec3d1e0f54dacf2c4"><div class="ttname"><a href="group__lavf__core.html#ga245f2875f80ce67ec3d1e0f54dacf2c4">avformat_network_deinit</a></div><div class="ttdeci">int avformat_network_deinit(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04994">utils.c:4994</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae1eb83cf16060217c805e61f0f62fa4e"><div class="ttname"><a href="libavformat_2utils_8c.html#ae1eb83cf16060217c805e61f0f62fa4e">av_program_add_stream_index</a></div><div class="ttdeci">void av_program_add_stream_index(AVFormatContext *ac, int progid, unsigned idx)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04610">utils.c:4610</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html_a850db3eb225e22b64f3304d72134ca0c"><div class="ttname"><a href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">AVInputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00643">avformat.h:643</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae0670ac7f41ce6f625e3a1fb94d8f403"><div class="ttname"><a href="libavformat_2utils_8c.html#ae0670ac7f41ce6f625e3a1fb94d8f403">ff_gen_search</a></div><div class="ttdeci">int64_t ff_gen_search(AVFormatContext *s, int stream_index, int64_t target_ts, int64_t pos_min, int64_t pos_max, int64_t pos_limit, int64_t ts_min, int64_t ts_max, int flags, int64_t *ts_ret, int64_t(*read_timestamp)(struct AVFormatContext *, int, int64_t *, int64_t))</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02222">utils.c:2222</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a9260327d89e12cdd049804acfd4e7096"><div class="ttname"><a href="libavformat_2utils_8c.html#a9260327d89e12cdd049804acfd4e7096">wrap_timestamp</a></div><div class="ttdeci">static int64_t wrap_timestamp(const AVStream *st, int64_t timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00102">utils.c:102</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_ae9896cb7089991b18c5e7acb4f17f6b2"><div class="ttname"><a href="struct_a_v_format_context.html#ae9896cb7089991b18c5e7acb4f17f6b2">AVFormatContext::skip_estimate_duration_from_pts</a></div><div class="ttdeci">int skip_estimate_duration_from_pts</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01844">avformat.h:1844</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gae35832b110d26ffa3e8805b3d55e8f36"><div class="ttname"><a href="group__lavf__misc.html#gae35832b110d26ffa3e8805b3d55e8f36">avformat_transfer_internal_stream_timing_info</a></div><div class="ttdeci">int avformat_transfer_internal_stream_timing_info(const AVOutputFormat *ofmt, AVStream *ost, const AVStream *ist, enum AVTimebaseSource copy_tb)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05704">utils.c:5704</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga437bfa981d4c8968ca92f41ecbcb8054a18ac29a4e928b1ef8eff4893ae70073c"><div class="ttname"><a href="group__lavc__packet.html#gga437bfa981d4c8968ca92f41ecbcb8054a18ac29a4e928b1ef8eff4893ae70073c">AV_SIDE_DATA_PARAM_CHANGE_CHANNEL_COUNT</a></div><div class="ttdeci">@ AV_SIDE_DATA_PARAM_CHANGE_CHANNEL_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00423">packet.h:423</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_ace46e41b9bd6cac88fb7109ffd657f9a"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a></div><div class="ttdeci">#define AV_RL32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00146">intreadwrite.h:146</a></div></div>
<div class="ttc" id="aavio_8h_html_a03ea0dfa113a05f4843bbfff69e0cd0a"><div class="ttname"><a href="avio_8h.html#a03ea0dfa113a05f4843bbfff69e0cd0a">AVIO_SEEKABLE_NORMAL</a></div><div class="ttdeci">#define AVIO_SEEKABLE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00040">avio.h:40</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ead22f8968e99bc48897c3f4ac29e82dae">AV_PICTURE_TYPE_B</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_B</div><div class="ttdoc">Bi-dir predicted.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00276">avutil.h:276</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5273a8cf73ef598d632c6eee1379d5ad"><div class="ttname"><a href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">AVCodecContext::bits_per_coded_sample</a></div><div class="ttdeci">int bits_per_coded_sample</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01750">avcodec.h:1750</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gab15683efe944a563b5c90dc6c5d5c17b"><div class="ttname"><a href="group__lavu__error.html#gab15683efe944a563b5c90dc6c5d5c17b">AVERROR_STREAM_NOT_FOUND</a></div><div class="ttdeci">#define AVERROR_STREAM_NOT_FOUND</div><div class="ttdoc">Stream not found.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00065">error.h:65</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a></div><div class="ttdeci">@ AV_PKT_DATA_NEW_EXTRADATA</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00055">packet.h:55</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a22ebd7865f492af7782e8f6bbe049314"><div class="ttname"><a href="libavformat_2utils_8c.html#a22ebd7865f492af7782e8f6bbe049314">ff_seek_frame_binary</a></div><div class="ttdeci">int ff_seek_frame_binary(AVFormatContext *s, int stream_index, int64_t target_ts, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02116">utils.c:2116</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a3f99ca3115c44e6d7772c9384faf15e6"><div class="ttname"><a href="struct_a_v_codec_context.html#a3f99ca3115c44e6d7772c9384faf15e6">AVCodecContext::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00532">avcodec.h:534</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ac7bd4513f9b5582f326e9f88d3c5ebf4"><div class="ttname"><a href="struct_a_v_stream_internal.html#ac7bd4513f9b5582f326e9f88d3c5ebf4">AVStreamInternal::request_probe</a></div><div class="ttdeci">int request_probe</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00242">internal.h:242</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a8a8bec51da36db65ff864f88a85805d9"><div class="ttname"><a href="struct_a_v_format_context.html#a8a8bec51da36db65ff864f88a85805d9">AVFormatContext::internal</a></div><div class="ttdeci">AVFormatInternal * internal</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01688">avformat.h:1688</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga5883fa1071129810bccfad9b3e779371"><div class="ttname"><a href="group__lavu__string.html#ga5883fa1071129810bccfad9b3e779371">av_match_name</a></div><div class="ttdeci">int av_match_name(const char *name, const char *names)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00352">avstring.c:352</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html"><div class="ttname"><a href="struct_a_v_format_context.html">AVFormatContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01223">avformat.h:1223</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gac2990b13b68e831a408fce8e1d0d6445"><div class="ttname"><a href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a></div><div class="ttdeci">void avformat_free_context(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04382">utils.c:4382</a></div></div>
<div class="ttc" id="aavformat_8h_html_a860dc077e9c782de0d49a2d4d968b64a"><div class="ttname"><a href="avformat_8h.html#a860dc077e9c782de0d49a2d4d968b64a">AVFMT_NOGENSEARCH</a></div><div class="ttdeci">#define AVFMT_NOGENSEARCH</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00469">avformat.h:469</a></div></div>
<div class="ttc" id="aavio_8h_html_abb4e58439be0bff0dc2e2974ee5fb6a3"><div class="ttname"><a href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a></div><div class="ttdeci">int avio_read(AVIOContext *s, unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00637">aviobuf.c:637</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a21c342234f3a38285eab5a4533474c75"><div class="ttname"><a href="libavformat_2internal_8h.html#a21c342234f3a38285eab5a4533474c75">ff_parse_key_val_cb</a></div><div class="ttdeci">void(* ff_parse_key_val_cb)(void *context, const char *key, int key_len, char **dest, int *dest_len)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00507">internal.h:507</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a6351818196357654cde11506036add89"><div class="ttname"><a href="libavformat_2utils_8c.html#a6351818196357654cde11506036add89">ff_compute_frame_duration</a></div><div class="ttdeci">void ff_compute_frame_duration(AVFormatContext *s, int *pnum, int *pden, AVStream *st, AVCodecParserContext *pc, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00918">utils.c:918</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ac70af932156398bb4e85403f63c54da1"><div class="ttname"><a href="libavformat_2utils_8c.html#ac70af932156398bb4e85403f63c54da1">av_format_ffversion</a></div><div class="ttdeci">const char av_format_ffversion[]</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00053">utils.c:53</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a4d03bdd876c374df1989981e0aaaac45"><div class="ttname"><a href="libavformat_2utils_8c.html#a4d03bdd876c374df1989981e0aaaac45">estimate_timings</a></div><div class="ttdeci">static void estimate_timings(AVFormatContext *ic, int64_t old_offset)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02886">utils.c:2886</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a0caacc93560ac7a69347a5e9c629a6d9"><div class="ttname"><a href="avcodec_8h.html#a0caacc93560ac7a69347a5e9c629a6d9">PARSER_FLAG_USE_CODEC_TS</a></div><div class="ttdeci">#define PARSER_FLAG_USE_CODEC_TS</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03391">avcodec.h:3391</a></div></div>
<div class="ttc" id="astruct_a_v_program_html_a5a7795c918153d0f64d68a838e172db4"><div class="ttname"><a href="struct_a_v_program.html#a5a7795c918153d0f64d68a838e172db4">AVProgram::end_time</a></div><div class="ttdeci">int64_t end_time</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01166">avformat.h:1166</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea71143037f27cc95fd5b5b8245cc6d8b9"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea71143037f27cc95fd5b5b8245cc6d8b9">AV_CODEC_ID_PCM_U32LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_U32LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00318">codec_id.h:318</a></div></div>
<div class="ttc" id="atests_2jpeg2000dwt_8c_html_a5cabdd8be5af41f675fed06498e094b7"><div class="ttname"><a href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a></div><div class="ttdeci">static int ref[MAX_W *MAX_W]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2jpeg2000dwt_8c_source.html#l00107">jpeg2000dwt.c:107</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a5111ee0a5f5022475a7769e7c029223b"><div class="ttname"><a href="struct_a_v_format_context.html#a5111ee0a5f5022475a7769e7c029223b">AVFormatContext::iformat</a></div><div class="ttdeci">ff_const59 struct AVInputFormat * iformat</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01235">avformat.h:1235</a></div></div>
<div class="ttc" id="avf__mcdeint_8c_html_a0b90bc971fe5188fc4d32fe8177a64a5"><div class="ttname"><a href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a></div><div class="ttdeci">else temp</div><div class="ttdef"><b>Definition:</b> <a href="vf__mcdeint_8c_source.html#l00256">vf_mcdeint.c:256</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_aab5542950d6beb910dc9237aac99989e"><div class="ttname"><a href="libavformat_2utils_8c.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a></div><div class="ttdeci">void avpriv_set_pts_info(AVStream *s, int pts_wrap_bits, unsigned int pts_num, unsigned int pts_den)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04871">utils.c:4871</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a138a0069ebea59cf63563675ce52f6f6"><div class="ttname"><a href="libavformat_2utils_8c.html#a138a0069ebea59cf63563675ce52f6f6">has_decode_delay_been_guessed</a></div><div class="ttdeci">static int has_decode_delay_been_guessed(AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00992">utils.c:992</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a89e8658fb615f8e70a73fb67099c7385"><div class="ttname"><a href="libavformat_2utils_8c.html#a89e8658fb615f8e70a73fb67099c7385">get_next_pkt</a></div><div class="ttdeci">static AVPacketList * get_next_pkt(AVFormatContext *s, AVStream *st, AVPacketList *pktl)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01010">utils.c:1010</a></div></div>
<div class="ttc" id="agroup__lavc__misc_html_ga1f4495d5092c1f58283ff9a16352b4e1"><div class="ttname"><a href="group__lavc__misc.html#ga1f4495d5092c1f58283ff9a16352b4e1">av_get_audio_frame_duration2</a></div><div class="ttdeci">int av_get_audio_frame_duration2(AVCodecParameters *par, int frame_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01801">utils.c:1801</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e">AVSTREAM_PARSE_FULL_RAW</a></div><div class="ttdeci">@ AVSTREAM_PARSE_FULL_RAW</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00796">avformat.h:794</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a88f941a9e944fa70eead827ccb5bbb44"><div class="ttname"><a href="struct_a_v_stream_internal.html#a88f941a9e944fa70eead827ccb5bbb44">AVStreamInternal::last_dts_for_order_check</a></div><div class="ttdeci">int64_t last_dts_for_order_check</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00324">internal.h:324</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gac06e7fbf645af01eac6ad4d82a78a438"><div class="ttname"><a href="group__lavf__decoding.html#gac06e7fbf645af01eac6ad4d82a78a438">av_probe_input_format2</a></div><div class="ttdeci">ff_const59 AVInputFormat * av_probe_input_format2(ff_const59 AVProbeData *pd, int is_opened, int *score_max)</div><div class="ttdef"><b>Definition:</b> <a href="format_8c_source.html#l00205">format.c:205</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga3f9c69432582e2857147bcba3c75dc32"><div class="ttname"><a href="group__lavu__math__rational.html#ga3f9c69432582e2857147bcba3c75dc32">av_mul_q</a></div><div class="ttdeci">AVRational av_mul_q(AVRational b, AVRational c)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00080">rational.c:80</a></div></div>
<div class="ttc" id="astruct_a_v_packet_list_html_a2d7ef80c60c0c3a804248ab691b9c5a7"><div class="ttname"><a href="struct_a_v_packet_list.html#a2d7ef80c60c0c3a804248ab691b9c5a7">AVPacketList::pkt</a></div><div class="ttdeci">AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00397">packet.h:397</a></div></div>
<div class="ttc" id="aavformat_8h_html_a1b33e0f3734db4299d5aff4b78f98c43"><div class="ttname"><a href="avformat_8h.html#a1b33e0f3734db4299d5aff4b78f98c43">AVPROBE_SCORE_STREAM_RETRY</a></div><div class="ttdeci">#define AVPROBE_SCORE_STREAM_RETRY</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00449">avformat.h:449</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_gaa40ce7d3ede946a89d03323bbd7268c1"><div class="ttname"><a href="group__lavu__buffer.html#gaa40ce7d3ede946a89d03323bbd7268c1">av_buffer_ref</a></div><div class="ttdeci">AVBufferRef * av_buffer_ref(AVBufferRef *buf)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00093">buffer.c:93</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a21b3eea6eb59d75d69842d8bfea44826"><div class="ttname"><a href="libavformat_2utils_8c.html#a21b3eea6eb59d75d69842d8bfea44826">DURATION_MAX_READ_SIZE</a></div><div class="ttdeci">#define DURATION_MAX_READ_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02738">utils.c:2738</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html"><div class="ttname"><a href="struct_a_v_stream_internal.html">AVStreamInternal</a></div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00147">internal.h:147</a></div></div>
<div class="ttc" id="aavio_8h_html_aa22e02f986ea8a8dc018f9615af27eea"><div class="ttname"><a href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a></div><div class="ttdeci">int64_t avio_skip(AVIOContext *s, int64_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00341">aviobuf.c:341</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a3bf81872813551fe9343dd0e09993e38"><div class="ttname"><a href="struct_a_v_packet.html#a3bf81872813551fe9343dd0e09993e38">AVPacket::buf</a></div><div class="ttdeci">AVBufferRef * buf</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00346">packet.h:346</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a9362e44ca30ad934a2d70e050401f313"><div class="ttname"><a href="libavformat_2utils_8c.html#a9362e44ca30ad934a2d70e050401f313">ff_format_set_url</a></div><div class="ttdeci">void ff_format_set_url(AVFormatContext *s, char *url)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05788">utils.c:5788</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_ga160fef784175409f945c70e8931accc8"><div class="ttname"><a href="group__lavf__core.html#ga160fef784175409f945c70e8931accc8">avformat_license</a></div><div class="ttdeci">const char * avformat_license(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00073">utils.c:73</a></div></div>
<div class="ttc" id="atime_8c_html_aebf7f9c94187487c31d26fa3da816468"><div class="ttname"><a href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a></div><div class="ttdeci">int64_t av_gettime(void)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00039">time.c:39</a></div></div>
<div class="ttc" id="asonic_8c_html_aee201839e95f7edeff51ad9c8e072bda"><div class="ttname"><a href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a></div><div class="ttdeci">static int shift(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="sonic_8c_source.html#l00082">sonic.c:82</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5837cafc419c2b5ecdb1dfa330675d13"><div class="ttname"><a href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_DISABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00084">internal.h:84</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae3c157e97ff15d46e898a538c6bc7f09"><div class="ttname"><a href="struct_a_v_codec_context.html#ae3c157e97ff15d46e898a538c6bc7f09">AVCodecContext::coded_width</a></div><div class="ttdeci">int coded_width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00714">avcodec.h:714</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga28f845c3efcf791fdf3b2b3907330bf5"><div class="ttname"><a href="group__lavu__error.html#ga28f845c3efcf791fdf3b2b3907330bf5">AVERROR_DECODER_NOT_FOUND</a></div><div class="ttdeci">#define AVERROR_DECODER_NOT_FOUND</div><div class="ttdoc">Decoder not found.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00052">error.h:52</a></div></div>
<div class="ttc" id="aavio_8h_html_a21e61cb486bd1588eb7f775998cf8c77"><div class="ttname"><a href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a></div><div class="ttdeci">#define AVIO_FLAG_READ</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00674">avio.h:674</a></div></div>
<div class="ttc" id="astruct_a_v_codec_tag_html_ac3c7db3b0a20647687b74af8b9fb3afd"><div class="ttname"><a href="struct_a_v_codec_tag.html#ac3c7db3b0a20647687b74af8b9fb3afd">AVCodecTag::tag</a></div><div class="ttdeci">unsigned int tag</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00044">internal.h:44</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga7c352f4cff02184f005323691375fea9"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a></div><div class="ttdeci">char * av_strdup(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00253">mem.c:253</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="agroup__lavc__parsing_html_ga691ca0258e91f99297e7726f56d8c247"><div class="ttname"><a href="group__lavc__parsing.html#ga691ca0258e91f99297e7726f56d8c247">av_parser_parse2</a></div><div class="ttdeci">int av_parser_parse2(AVCodecParserContext *s, AVCodecContext *avctx, uint8_t **poutbuf, int *poutbuf_size, const uint8_t *buf, int buf_size, int64_t pts, int64_t dts, int64_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="parser_8c_source.html#l00120">parser.c:120</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea6384417ba463d7aeb03015797cff3349"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea6384417ba463d7aeb03015797cff3349">AV_CODEC_ID_PCM_S32LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S32LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00316">codec_id.h:316</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a1101c429222069c8735ffc72d048fdfb"><div class="ttname"><a href="struct_a_v_stream_internal.html#a1101c429222069c8735ffc72d048fdfb">AVStreamInternal::first_discard_sample</a></div><div class="ttdeci">int64_t first_discard_sample</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00269">internal.h:269</a></div></div>
<div class="ttc" id="apacket__internal_8h_html"><div class="ttname"><a href="packet__internal_8h.html">packet_internal.h</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a4c851e6ef9ba79319e106afba3b23a62"><div class="ttname"><a href="libavformat_2utils_8c.html#a4c851e6ef9ba79319e106afba3b23a62">ff_codec_get_tag</a></div><div class="ttdeci">unsigned int ff_codec_get_tag(const AVCodecTag *tags, enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03087">utils.c:3087</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea1e9ff6fe2442af342b2b42a1a0b2abc8"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea1e9ff6fe2442af342b2b42a1a0b2abc8">AV_CODEC_ID_PCM_U8</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_U8</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00313">codec_id.h:313</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a61b61b0d009be377ebcfdc30ea053d27"><div class="ttname"><a href="struct_a_v_stream.html#a61b61b0d009be377ebcfdc30ea053d27">AVStream::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00884">avformat.h:884</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a71fbc087b6a33f197cc5e04a071a0059"><div class="ttname"><a href="libavformat_2utils_8c.html#a71fbc087b6a33f197cc5e04a071a0059">seek_frame_generic</a></div><div class="ttdeci">static int seek_frame_generic(AVFormatContext *s, int stream_index, int64_t timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02348">utils.c:2348</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2">AV_FIELD_PROGRESSIVE</a></div><div class="ttdeci">@ AV_FIELD_PROGRESSIVE</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00038">codec_par.h:38</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html"><div class="ttname"><a href="struct_a_v_stream.html">AVStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00869">avformat.h:869</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ac3abc5f47f3465b6b7eec89c9476351c"><div class="ttname"><a href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">AVOutputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00491">avformat.h:491</a></div></div>
<div class="ttc" id="alibm_8h_html_a220c7fd7006446ff6f373833bdc847ba"><div class="ttname"><a href="libm_8h.html#a220c7fd7006446ff6f373833bdc847ba">llrint</a></div><div class="ttdeci">#define llrint(x)</div><div class="ttdef"><b>Definition:</b> <a href="libm_8h_source.html#l00394">libm.h:394</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_ga5f48b0398d77d8eeb45d6c649e4e3404"><div class="ttname"><a href="group__lavf__core.html#ga5f48b0398d77d8eeb45d6c649e4e3404">avformat_configuration</a></div><div class="ttdeci">const char * avformat_configuration(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00068">utils.c:68</a></div></div>
<div class="ttc" id="astruct_a_v_index_entry_html_a1b57d93b863a1b605461229a65ca8b52"><div class="ttname"><a href="struct_a_v_index_entry.html#a1b57d93b863a1b605461229a65ca8b52">AVIndexEntry::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00810">avformat.h:810</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a4254917b3fe7c54ae77e5585fd5a538b"><div class="ttname"><a href="libavformat_2utils_8c.html#a4254917b3fe7c54ae77e5585fd5a538b">probe_codec</a></div><div class="ttdeci">static int probe_codec(AVFormatContext *s, AVStream *st, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00676">utils.c:676</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae9e12c557cfa7c280e835760300a601e"><div class="ttname"><a href="libavformat_2utils_8c.html#ae9e12c557cfa7c280e835760300a601e">read_frame_internal</a></div><div class="ttdeci">static int read_frame_internal(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01510">utils.c:1510</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:736</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea7a06659945e1b8973c6f4712d4910ba1"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea7a06659945e1b8973c6f4712d4910ba1">AV_CODEC_ID_PCM_F64LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_F64LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00331">codec_id.h:331</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="avf__palettegen_8c_html_a0fa5abf62b01f8a592bca729cb14390b"><div class="ttname"><a href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a></div><div class="ttdeci">static av_always_inline int diff(const uint32_t a, const uint32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="vf__palettegen_8c_source.html#l00136">vf_palettegen.c:136</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a58369c3a8a986935b572df5aa6361ce2"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">AVCodecParameters::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:56</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a18e0af4b263443a6c4d2d5304dbd537e"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a18e0af4b263443a6c4d2d5304dbd537e">AVCodecParameters::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00162">codec_par.h:162</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a5b37acfe4024d92ee510064e80920b40"><div class="ttname"><a href="struct_a_v_format_context.html#a5b37acfe4024d92ee510064e80920b40">AVFormatContext::interrupt_callback</a></div><div class="ttdeci">AVIOInterruptCB interrupt_callback</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01501">avformat.h:1501</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a153946872548cd56132907b93f05f9aa"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">AVCodecParameters::field_order</a></div><div class="ttdeci">enum AVFieldOrder field_order</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:141</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gga921d656eaf2c4d6800a734a13af021d0a7fcb56631d6898b282d6c78ce6c14a43"><div class="ttname"><a href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a7fcb56631d6898b282d6c78ce6c14a43">AV_ROUND_PASS_MINMAX</a></div><div class="ttdeci">@ AV_ROUND_PASS_MINMAX</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00108">mathematics.h:108</a></div></div>
<div class="ttc" id="alibavcodec_2utils_8c_html_a75183f545bd7f089a4c4e508a842b6a5"><div class="ttname"><a href="libavcodec_2utils_8c.html#a75183f545bd7f089a4c4e508a842b6a5">avcodec_parameters_free</a></div><div class="ttdeci">void avcodec_parameters_free(AVCodecParameters **ppar)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02066">utils.c:2066</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga8d9c2de72b310cef8e6a28c9cd3acbbe"><div class="ttname"><a href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a></div><div class="ttdeci">int av_dict_set(AVDictionary **pm, const char *key, const char *value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00070">dict.c:70</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga59a6372b124b306e3a2233723c5cdc78"><div class="ttname"><a href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a></div><div class="ttdeci">int av_dict_copy(AVDictionary **dst, const AVDictionary *src, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00217">dict.c:217</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a8022d39ef3f935904c17e0b7959cce7c"><div class="ttname"><a href="libavformat_2utils_8c.html#a8022d39ef3f935904c17e0b7959cce7c">find_probe_decoder</a></div><div class="ttdeci">static const AVCodec * find_probe_decoder(AVFormatContext *s, const AVStream *st, enum AVCodecID codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00204">utils.c:204</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ae325fff950b722fc370518c3a4da949e"><div class="ttname"><a href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">AVStreamInternal::bsfc</a></div><div class="ttdeci">AVBSFContext * bsfc</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00159">internal.h:159</a></div></div>
<div class="ttc" id="aid3v2_8c_html_aa8ba50c3dfb5850b520cf6f0ad16211e"><div class="ttname"><a href="id3v2_8c.html#aa8ba50c3dfb5850b520cf6f0ad16211e">ff_id3v2_free_extra_meta</a></div><div class="ttdeci">void ff_id3v2_free_extra_meta(ID3v2ExtraMeta **extra_meta)</div><div class="ttdef"><b>Definition:</b> <a href="id3v2_8c_source.html#l01114">id3v2.c:1114</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html"><div class="ttname"><a href="struct_a_v_chapter.html">AVChapter</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01180">avformat.h:1180</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a622e758be29fd500aed0ffdc069550f7"><div class="ttname"><a href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">AVPacket::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00381">packet.h:381</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga08d53431e76355f88e27763b1940df4f"><div class="ttname"><a href="group__lavc__core.html#ga08d53431e76355f88e27763b1940df4f">av_bsf_free</a></div><div class="ttdeci">void av_bsf_free(AVBSFContext **pctx)</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8c_source.html#l00040">bsf.c:40</a></div></div>
<div class="ttc" id="astruct_a_v_probe_data_html_a814cca49dda3f578ebb32d4b2f74368a"><div class="ttname"><a href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">AVProbeData::buf</a></div><div class="ttdeci">unsigned char * buf</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00443">avformat.h:443</a></div></div>
<div class="ttc" id="aavio_8c_html_a612d7e4aede364861a728c18383714c2"><div class="ttname"><a href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a></div><div class="ttdeci">const char * avio_find_protocol_name(const char *url)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00475">avio.c:475</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ae9720955b6c65f55648e4ecb21c85819"><div class="ttname"><a href="libavformat_2utils_8c.html#ae9720955b6c65f55648e4ecb21c85819">extract_extradata_check</a></div><div class="ttdeci">static int extract_extradata_check(AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03420">utils.c:3420</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="anamespaceconvert__header_html_ae1e061c0db8a47f53e1f3de5e371872e"><div class="ttname"><a href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">convert_header.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="convert__header_8py_source.html#l00020">convert_header.py:20</a></div></div>
<div class="ttc" id="anellymoserenc_8c_html_a0a5299ac77dc4fb1f9b2682d957945d2"><div class="ttname"><a href="nellymoserenc_8c.html#a0a5299ac77dc4fb1f9b2682d957945d2">distance</a></div><div class="ttdeci">static float distance(float x, float y, int band)</div><div class="ttdef"><b>Definition:</b> <a href="nellymoserenc_8c_source.html#l00234">nellymoserenc.c:234</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf74e44549c9bac344123cede6a0871ca"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf74e44549c9bac344123cede6a0871ca">AV_CODEC_ID_PCM_U16LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_U16LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00310">codec_id.h:310</a></div></div>
<div class="ttc" id="atimestamp_8h_html"><div class="ttname"><a href="timestamp_8h.html">timestamp.h</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="astruct_f_f_frac_html_a4a517bcbb9977d1010798cc97d1be675"><div class="ttname"><a href="struct_f_f_frac.html#a4a517bcbb9977d1010798cc97d1be675">FFFrac::val</a></div><div class="ttdeci">int64_t val</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00060">internal.h:60</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga716447ae73b612bcf3a405b9b4608f6c"><div class="ttname"><a href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a></div><div class="ttdeci">size_t av_strlcpy(char *dst, const char *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00083">avstring.c:83</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea0178ff664c08bd74594545ba0c5efacb"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0178ff664c08bd74594545ba0c5efacb">AV_CODEC_ID_PCM_F32LE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_F32LE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00329">codec_id.h:329</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_adaeb944105a5f452e866d3607fa6ed3d"><div class="ttname"><a href="libavformat_2internal_8h.html#adaeb944105a5f452e866d3607fa6ed3d">CONTAINS_PAL</a></div><div class="ttdeci">#define CONTAINS_PAL</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00831">internal.h:831</a></div></div>
<div class="ttc" id="aid3v2_8c_html_ace1a3c5058a0b7d35bc90b43221cedf9"><div class="ttname"><a href="id3v2_8c.html#ace1a3c5058a0b7d35bc90b43221cedf9">ff_id3v2_parse_priv</a></div><div class="ttdeci">int ff_id3v2_parse_priv(AVFormatContext *s, ID3v2ExtraMeta *extra_meta)</div><div class="ttdef"><b>Definition:</b> <a href="id3v2_8c_source.html#l01261">id3v2.c:1261</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf1c53c6ecbd416cccbb3a258a2d7290d"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf1c53c6ecbd416cccbb3a258a2d7290d">AV_CODEC_ID_AAC_LATM</a></div><div class="ttdeci">@ AV_CODEC_ID_AAC_LATM</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00467">codec_id.h:467</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1187</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga2fbf0ffd269bdc9cc3a22ebacc9bcc59"><div class="ttname"><a href="group__lavc__core.html#ga2fbf0ffd269bdc9cc3a22ebacc9bcc59">AV_CODEC_CAP_AVOID_PROBING</a></div><div class="ttdeci">#define AV_CODEC_CAP_AVOID_PROBING</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00132">codec.h:132</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_ab0ada0e011ce230ec7c6fc9f600bf89c"><div class="ttname"><a href="libavformat_2utils_8c.html#ab0ada0e011ce230ec7c6fc9f600bf89c">ff_parse_creation_time_metadata</a></div><div class="ttdeci">int ff_parse_creation_time_metadata(AVFormatContext *s, int64_t *timestamp, int return_seconds)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05630">utils.c:5630</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bad196c6de8e599a9779876aa36720085a">MAX_REORDER_DELAY</a></div><div class="ttdeci">@ MAX_REORDER_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__encode_8h_source.html#l00044">vaapi_encode.h:44</a></div></div>
<div class="ttc" id="astruct_a_v_b_s_f_context_html_a702ace639b8193475cf0a12ebdebd738"><div class="ttname"><a href="struct_a_v_b_s_f_context.html#a702ace639b8193475cf0a12ebdebd738">AVBSFContext::par_in</a></div><div class="ttdeci">AVCodecParameters * par_in</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8h_source.html#l00077">bsf.h:77</a></div></div>
<div class="ttc" id="atimestamp_8h_html_a86d797e907fa454ed5fd34bfb0bcd747"><div class="ttname"><a href="timestamp_8h.html#a86d797e907fa454ed5fd34bfb0bcd747">av_ts2str</a></div><div class="ttdeci">#define av_ts2str(ts)</div><div class="ttdef"><b>Definition:</b> <a href="timestamp_8h_source.html#l00054">timestamp.h:54</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a8d2e77795a994ebc2158466b16691717"><div class="ttname"><a href="struct_a_v_stream_internal.html#a8d2e77795a994ebc2158466b16691717">AVStreamInternal::duration_count</a></div><div class="ttdeci">int duration_count</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00202">internal.h:202</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga334ea23fd9e492cd0e718330f2353b6b"><div class="ttname"><a href="group__lavu__error.html#ga334ea23fd9e492cd0e718330f2353b6b">AVERROR_EXIT</a></div><div class="ttdeci">#define AVERROR_EXIT</div><div class="ttdoc">Immediate exit was requested; the called function should not be restarted.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00056">error.h:56</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gac09f8ddc2d4b36c5a85c6befba0d0888"><div class="ttname"><a href="group__lavc__core.html#gac09f8ddc2d4b36c5a85c6befba0d0888">avcodec_descriptor_get</a></div><div class="ttdeci">const AVCodecDescriptor * avcodec_descriptor_get(enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="codec__desc_8c_source.html#l03457">codec_desc.c:3457</a></div></div>
<div class="ttc" id="astruct_a_v_b_s_f_context_html"><div class="ttname"><a href="struct_a_v_b_s_f_context.html">AVBSFContext</a></div><div class="ttdef"><b>Definition:</b> <a href="bsf_8h_source.html#l00049">bsf.h:49</a></div></div>
<div class="ttc" id="astruct_a_v_codec_tag_html"><div class="ttname"><a href="struct_a_v_codec_tag.html">AVCodecTag</a></div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00042">internal.h:42</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a2e1aef8ac038e6cdecbb89bc922d3096"><div class="ttname"><a href="avcodec_8h.html#a2e1aef8ac038e6cdecbb89bc922d3096">PARSER_FLAG_ONCE</a></div><div class="ttdeci">#define PARSER_FLAG_ONCE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03388">avcodec.h:3388</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea445f3ac5ada2e7c7edcb08df94df3b60"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea445f3ac5ada2e7c7edcb08df94df3b60">AV_CODEC_ID_APTX</a></div><div class="ttdeci">@ AV_CODEC_ID_APTX</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00504">codec_id.h:504</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91a10f8e7a9d88b7b5e2010ffb496b6cf1a"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a10f8e7a9d88b7b5e2010ffb496b6cf1a">AVSTREAM_PARSE_TIMESTAMPS</a></div><div class="ttdeci">@ AVSTREAM_PARSE_TIMESTAMPS</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00792">avformat.h:792</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6e606effa68724cae2ef5cc05f7fd9cb"><div class="ttname"><a href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">AVCodecContext::codec</a></div><div class="ttdeci">const struct AVCodec * codec</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:535</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a842d0dce5cd4762c117a18f18879588b"><div class="ttname"><a href="libavformat_2utils_8c.html#a842d0dce5cd4762c117a18f18879588b">av_codec_get_id</a></div><div class="ttdeci">enum AVCodecID av_codec_get_id(const AVCodecTag *const *tags, unsigned int tag)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03166">utils.c:3183</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_adc8b4d7a5f6610e1816dd522e362217c"><div class="ttname"><a href="struct_a_v_output_format.html#adc8b4d7a5f6610e1816dd522e362217c">AVOutputFormat::subtitle_codec</a></div><div class="ttdeci">enum AVCodecID subtitle_codec</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00499">avformat.h:503</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga352363bce7d3ed82c101b3bc001d1c16"><div class="ttname"><a href="group__lavc__decoding.html#ga352363bce7d3ed82c101b3bc001d1c16">AVDiscard</a></div><div class="ttdeci">AVDiscard</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00227">avcodec.h:227</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html_a998ea9c9f86547970d58f0b405d55332"><div class="ttname"><a href="struct_a_v_chapter.html#a998ea9c9f86547970d58f0b405d55332">AVChapter::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01184">avformat.h:1184</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaffde7a717e3a603ed11a998c18d68cad"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaffde7a717e3a603ed11a998c18d68cad">av_strndup</a></div><div class="ttdeci">char * av_strndup(const char *s, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00265">mem.c:265</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_ad7854e5186dd14ce91dea1dfd0bb826f"><div class="ttname"><a href="struct_a_v_format_context.html#ad7854e5186dd14ce91dea1dfd0bb826f">AVFormatContext::max_ts_probe</a></div><div class="ttdeci">int max_ts_probe</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01557">avformat.h:1557</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf614abb36f7c5d0c42ed522c1d6c99f0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf614abb36f7c5d0c42ed522c1d6c99f0">AV_CODEC_ID_MPEG2VIDEO</a></div><div class="ttdeci">@ AV_CODEC_ID_MPEG2VIDEO</div><div class="ttdoc">preferred ID for MPEG-1/2 video decoding</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00051">codec_id.h:51</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a02c9998f757ff024da865ef77ec2f790"><div class="ttname"><a href="struct_a_v_stream_internal.html#a02c9998f757ff024da865ef77ec2f790">AVStreamInternal::nb_decoded_frames</a></div><div class="ttdeci">int nb_decoded_frames</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00282">internal.h:282</a></div></div>
<div class="ttc" id="asnprintf_8h_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition:</b> <a href="snprintf_8h_source.html#l00034">snprintf.h:34</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea585f305d3aab40bdfc9688f9367b04c0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea585f305d3aab40bdfc9688f9367b04c0">AV_CODEC_ID_MP1</a></div><div class="ttdeci">@ AV_CODEC_ID_MP1</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00460">codec_id.h:460</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_abd46f5a4eb066239eb76f4bac1281e1d"><div class="ttname"><a href="libavformat_2utils_8c.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a></div><div class="ttdeci">int ff_alloc_extradata(AVCodecParameters *par, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03260">utils.c:3260</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0513a388236f95e61e73b943e725d4a8">AV_CODEC_ID_PCM_S24BE</a></div><div class="ttdeci">@ AV_CODEC_ID_PCM_S24BE</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00321">codec_id.h:321</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="adict_8c_html_adb9d691f87509f9f260769b3717d53c4"><div class="ttname"><a href="dict_8c.html#adb9d691f87509f9f260769b3717d53c4">avpriv_dict_set_timestamp</a></div><div class="ttdeci">int avpriv_dict_set_timestamp(AVDictionary **dict, const char *key, int64_t timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00258">dict.c:258</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a2590129e00adfa726ab2033a10e905e9"><div class="ttname"><a href="struct_a_v_format_context.html#a2590129e00adfa726ab2033a10e905e9">AVFormatContext::start_time</a></div><div class="ttdeci">int64_t start_time</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01328">avformat.h:1328</a></div></div>
<div class="ttc" id="astruct_a_v_bit_stream_filter_context_html"><div class="ttname"><a href="struct_a_v_bit_stream_filter_context.html">AVBitStreamFilterContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03977">avcodec.h:3977</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5c62b9c1528a272923ea2a4b86dea31a"><div class="ttname"><a href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">AVCodecContext::ticks_per_frame</a></div><div class="ttdeci">int ticks_per_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00658">avcodec.h:658</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html"><div class="ttname"><a href="struct_a_v_output_format.html">AVOutputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00490">avformat.h:490</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gab706bfec9bf56534e02ca9564cb968f6"><div class="ttname"><a href="group__lavu__math.html#gab706bfec9bf56534e02ca9564cb968f6">av_rescale_q_rnd</a></div><div class="ttdeci">int64_t av_rescale_q_rnd(int64_t a, AVRational bq, AVRational cq, enum AVRounding rnd)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00134">mathematics.c:134</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gab76418ad1108455c760965b55934e7ee"><div class="ttname"><a href="group__lavf__decoding.html#gab76418ad1108455c760965b55934e7ee">av_probe_input_format3</a></div><div class="ttdeci">ff_const59 AVInputFormat * av_probe_input_format3(ff_const59 AVProbeData *pd, int is_opened, int *score_ret)</div><div class="ttdef"><b>Definition:</b> <a href="format_8c_source.html#l00128">format.c:128</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga7da65af303e20c9546e15ec266b182c1"><div class="ttname"><a href="group__lavc__core.html#ga7da65af303e20c9546e15ec266b182c1">av_bsf_alloc</a></div><div class="ttdeci">int av_bsf_alloc(const AVBitStreamFilter *filter, AVBSFContext **pctx)</div><div class="ttdef"><b>Definition:</b> <a href="bsf_8c_source.html#l00094">bsf.c:94</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a2213309b55917289377134dc2e4e7070"><div class="ttname"><a href="struct_a_v_stream_internal.html#a2213309b55917289377134dc2e4e7070">AVStreamInternal::skip_to_keyframe</a></div><div class="ttdeci">int skip_to_keyframe</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00247">internal.h:247</a></div></div>
<div class="ttc" id="aavformat_8h_html_a19485b8b52e579db560875e9a1e44e7a"><div class="ttname"><a href="avformat_8h.html#a19485b8b52e579db560875e9a1e44e7a">AVFMT_EVENT_FLAG_METADATA_UPDATED</a></div><div class="ttdeci">#define AVFMT_EVENT_FLAG_METADATA_UPDATED</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01551">avformat.h:1551</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aeb08c575a79eb84fc4155dda88f46c06"><div class="ttname"><a href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">AVCodecContext::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01237">avcodec.h:1237</a></div></div>
<div class="ttc" id="afiltering__audio_8c_html_ac2bf6798f37e95d3d2ff2d44e4ab3c12"><div class="ttname"><a href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a></div><div class="ttdeci">static AVCodecContext * dec_ctx</div><div class="ttdef"><b>Definition:</b> <a href="filtering__audio_8c_source.html#l00043">filtering_audio.c:43</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_a4ca58b6fbeedd8ae22c4cc1d73bea49a"><div class="ttname"><a href="struct_a_v_stream_internal.html#a4ca58b6fbeedd8ae22c4cc1d73bea49a">AVStreamInternal::inject_global_side_data</a></div><div class="ttdeci">int inject_global_side_data</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00331">internal.h:331</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ad63fb11cc1415e278e09ddc676e8a1ad"><div class="ttname"><a href="struct_a_v_stream.html#ad63fb11cc1415e278e09ddc676e8a1ad">AVStream::r_frame_rate</a></div><div class="ttdeci">AVRational r_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01011">avformat.h:1011</a></div></div>
<div class="ttc" id="alibavformat_2version_8h_html_a7ab12886a6ad5afd957d519e72381c84"><div class="ttname"><a href="libavformat_2version_8h.html#a7ab12886a6ad5afd957d519e72381c84">FF_API_LAVF_AVCTX</a></div><div class="ttdeci">#define FF_API_LAVF_AVCTX</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2version_8h_source.html#l00065">version.h:65</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8ff0b000c463361e234af48d03aadfc0"><div class="ttname"><a href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">AVCodecContext::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01186">avcodec.h:1186</a></div></div>
<div class="ttc" id="astruct_a_v_program_html_a10cc799a98b37335e820b0bdb386eb95"><div class="ttname"><a href="struct_a_v_program.html#a10cc799a98b37335e820b0bdb386eb95">AVProgram::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01146">avformat.h:1146</a></div></div>
<div class="ttc" id="agroup__lavc__parsing_html_ga325e84c53b8c0dfcb2d933d126f76dd7"><div class="ttname"><a href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a></div><div class="ttdeci">void av_parser_close(AVCodecParserContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="parser_8c_source.html#l00224">parser.c:224</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a9f7dcde5c9b537264e9020d70e6add14"><div class="ttname"><a href="libavformat_2utils_8c.html#a9f7dcde5c9b537264e9020d70e6add14">ff_generate_avci_extradata</a></div><div class="ttdeci">int ff_generate_avci_extradata(AVStream *st)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05296">utils.c:5296</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac9cb9756175b96e7441575803757fb73"><div class="ttname"><a href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a></div><div class="ttdeci">void av_init_packet(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00035">avpacket.c:35</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gac4cabc0d681c34b2e2c6a87a55877f0d"><div class="ttname"><a href="group__lavf__misc.html#gac4cabc0d681c34b2e2c6a87a55877f0d">av_index_search_timestamp</a></div><div class="ttdeci">int av_index_search_timestamp(AVStream *st, int64_t wanted_timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l02101">utils.c:2101</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gaa6fa468c922ff5c60a6021dcac09aff9"><div class="ttname"><a href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9">av_find_best_stream</a></div><div class="ttdeci">int av_find_best_stream(AVFormatContext *ic, enum AVMediaType type, int wanted_stream_nb, int related_stream, AVCodec **decoder_ret, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04176">utils.c:4176</a></div></div>
<div class="ttc" id="alibavformat_2utils_8c_html_a6e036a61a7032b0cd76c368360c786e1"><div class="ttname"><a href="libavformat_2utils_8c.html#a6e036a61a7032b0cd76c368360c786e1">append_packet_chunked</a></div><div class="ttdeci">static int append_packet_chunked(AVIOContext *s, AVPacket *pkt, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00266">utils.c:266</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
