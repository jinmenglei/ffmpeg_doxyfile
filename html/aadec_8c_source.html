<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/aadec.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">aadec.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="aadec_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Audible AA demuxer</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2015 Vesselin Bontchev</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Header parsing is borrowed from https://github.com/jteeuwen/audible project.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (c) 2001-2014, Jim Teeuwen</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without modification,</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * are permitted provided that the following conditions are met:</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * 1. Redistributions of source code must retain the above copyright notice, this</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *    list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict_8h.html">libavutil/dict.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tea_8h.html">libavutil/tea.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="aadec_8c.html#a38ee3881f0b25b48a4bcc308aa7214b9">   33</a></span>&#160;<span class="preprocessor">#define AA_MAGIC 1469084982 </span><span class="comment">/* this identifies an audible .aa file */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="aadec_8c.html#ae473cb334639ee238d38d5f3489b7fd6">   34</a></span>&#160;<span class="preprocessor">#define MAX_CODEC_SECOND_SIZE 3982</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="aadec_8c.html#aee71ba361e8c688a420789d00ffc3e27">   35</a></span>&#160;<span class="preprocessor">#define MAX_TOC_ENTRIES 16</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="aadec_8c.html#a9929aa950ec990278a928cbac7d3367f">   36</a></span>&#160;<span class="preprocessor">#define MAX_DICTIONARY_ENTRIES 128</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">   37</a></span>&#160;<span class="preprocessor">#define TEA_BLOCK_SIZE 8</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="aadec_8c.html#a622934065e1e559bee44bf47bb68b0e3">   38</a></span>&#160;<span class="preprocessor">#define CHAPTER_HEADER_SIZE 8</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">   39</a></span>&#160;<span class="preprocessor">#define TIMEPREC 1000</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="aadec_8c.html#a5eddf90703cd77ca0d6028c2023b756f">   40</a></span>&#160;<span class="preprocessor">#define MP3_FRAME_SIZE 104</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html">   42</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_a_demux_context.html">AADemuxContext</a> {</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#abd3db892d25aa9948d106f33e4b33b8a">   43</a></span>&#160;    <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#ab87eb4fca0ecf14d9c5e08138f750a22">   44</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_a_a_demux_context.html#ab87eb4fca0ecf14d9c5e08138f750a22">aa_fixed_key</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#ab3b59e79b69ad8cf3e0db0ea11421243">   45</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_a_demux_context.html#ab3b59e79b69ad8cf3e0db0ea11421243">aa_fixed_key_len</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#a138c471fce77ffd4b4df16479b784621">   46</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_a_demux_context.html#a138c471fce77ffd4b4df16479b784621">codec_second_size</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#aed03b226aba7b54d937fcb8647d67377">   47</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_a_demux_context.html#aed03b226aba7b54d937fcb8647d67377">current_codec_second_size</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#a9397d8ff7e8ca59619a1bcf8efd250f3">   48</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_a_demux_context.html#a9397d8ff7e8ca59619a1bcf8efd250f3">chapter_idx</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#a217efca65a45afe35dc33792ed75efbc">   49</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_a_v_t_e_a.html">AVTEA</a> *<a class="code" href="struct_a_a_demux_context.html#a217efca65a45afe35dc33792ed75efbc">tea_ctx</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#aff18ea698bba2fd12a712d52e09e6795">   50</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_a_a_demux_context.html#aff18ea698bba2fd12a712d52e09e6795">file_key</a>[16];</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#a4f1f0969afe8d925995c3510ab616f22">   51</a></span>&#160;    int64_t <a class="code" href="struct_a_a_demux_context.html#a4f1f0969afe8d925995c3510ab616f22">current_chapter_size</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#adee8b8646c591d478865b590bda1f02c">   52</a></span>&#160;    int64_t <a class="code" href="struct_a_a_demux_context.html#adee8b8646c591d478865b590bda1f02c">content_start</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#a23626cd566e6781878943affdc910850">   53</a></span>&#160;    int64_t <a class="code" href="struct_a_a_demux_context.html#a23626cd566e6781878943affdc910850">content_end</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_a_a_demux_context.html#a12c64ad6a826798fed473ae808961b53">   54</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_a_a_demux_context.html#a12c64ad6a826798fed473ae808961b53">seek_offset</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="aadec_8c.html#a39d205593854075bea38fe43a5a34917">   55</a></span>&#160;} <a class="code" href="aadec_8c.html#a39d205593854075bea38fe43a5a34917">AADemuxContext</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="aadec_8c.html#a9624f1d5bcc8350c01ff370ba2cec562">   57</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="aadec_8c.html#a9624f1d5bcc8350c01ff370ba2cec562">get_second_size</a>(<span class="keywordtype">char</span> *codec_name)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a> = -1;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (!strcmp(codec_name, <span class="stringliteral">&quot;mp332&quot;</span>)) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a> = 3982;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(codec_name, <span class="stringliteral">&quot;acelp16&quot;</span>)) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a> = 2000;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(codec_name, <span class="stringliteral">&quot;acelp85&quot;</span>)) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a> = 1045;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="aadec_8c.html#a299cb028b61af76ce0cee48545898f7d">   72</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="aadec_8c.html#a299cb028b61af76ce0cee48545898f7d">aa_read_header</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, idx, largest_idx = -1;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    uint32_t nkey, nval, toc_size, npairs, header_seed = 0, start;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>[128], <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>[128], codec_name[64] = {0};</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[24], dst[8], <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[8];</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    int64_t largest_size = -1, current_size = -1, chapter_pos;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">struct </span>toc_entry {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        uint32_t <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        uint32_t <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    } TOC[<a class="code" href="aadec_8c.html#aee71ba361e8c688a420789d00ffc3e27">MAX_TOC_ENTRIES</a>];</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    uint32_t header_key_part[4];</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> header_key[16] = {0};</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="struct_a_a_demux_context.html">AADemuxContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">/* parse .aa header */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 4); <span class="comment">// file size</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 4); <span class="comment">// magic string</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    toc_size = <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(pb); <span class="comment">// TOC size</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 4); <span class="comment">// unidentified integer</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (toc_size &gt; <a class="code" href="aadec_8c.html#aee71ba361e8c688a420789d00ffc3e27">MAX_TOC_ENTRIES</a> || toc_size &lt; 2)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; toc_size; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) { <span class="comment">// read TOC</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 4); <span class="comment">// TOC entry index</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        TOC[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].offset = <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(pb); <span class="comment">// block offset</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        TOC[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].size = <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(pb); <span class="comment">// block size</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 24); <span class="comment">// header termination block (ignored)</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    npairs = <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(pb); <span class="comment">// read dictionary entries</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (npairs &gt; <a class="code" href="aadec_8c.html#a9929aa950ec990278a928cbac7d3367f">MAX_DICTIONARY_ENTRIES</a>)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; npairs; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        memset(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        memset(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 1); <span class="comment">// unidentified integer</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        nkey = <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(pb); <span class="comment">// key string length</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        nval = <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(pb); <span class="comment">// value string length</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="avio_8h.html#abeee0414e5f2ce5b150cf9c5694a2e4f">avio_get_str</a>(pb, nkey, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="keyword">sizeof</span>(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="avio_8h.html#abeee0414e5f2ce5b150cf9c5694a2e4f">avio_get_str</a>(pb, nval, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, <span class="keyword">sizeof</span>(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;codec&quot;</span>)) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Codec is &lt;%s&gt;\n&quot;</span>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            strncpy(codec_name, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, <span class="keyword">sizeof</span>(codec_name) - 1);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;HeaderSeed&quot;</span>)) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;HeaderSeed is &lt;%s&gt;\n&quot;</span>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            header_seed = atoi(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="stringliteral">&quot;HeaderKey&quot;</span>)) { <span class="comment">// this looks like &quot;1234567890 1234567890 1234567890 1234567890&quot;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;HeaderKey is &lt;%s&gt;\n&quot;</span>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = sscanf(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, <span class="stringliteral">&quot;%&quot;</span>SCNu32<span class="stringliteral">&quot;%&quot;</span>SCNu32<span class="stringliteral">&quot;%&quot;</span>SCNu32<span class="stringliteral">&quot;%&quot;</span>SCNu32,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                   &amp;header_key_part[0], &amp;header_key_part[1], &amp;header_key_part[2], &amp;header_key_part[3]);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != 4)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">for</span> (idx = 0; idx &lt; 4; idx++) {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(&amp;header_key[idx * 4], header_key_part[idx]); <span class="comment">// convert each part to BE!</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Processed HeaderKey is &quot;</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;%02x&quot;</span>, header_key[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, 0);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">/* verify fixed key */</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;aa_fixed_key_len != 16) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;aa_fixed_key value needs to be 16 bytes!\n&quot;</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">/* verify codec */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_second_size = <a class="code" href="aadec_8c.html#a9624f1d5bcc8350c01ff370ba2cec562">get_second_size</a>(codec_name)) == -1) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;unknown codec &lt;%s&gt;!\n&quot;</span>, codec_name);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">/* decryption key derivation */</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;tea_ctx = <a class="code" href="group__lavu__tea.html#gaaf22dd3ac8632b0e15e19cc123a82392">av_tea_alloc</a>();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;tea_ctx)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="group__lavu__tea.html#ga8fe0c9dabc9db1b88480f58e0d598c44">av_tea_init</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;tea_ctx, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;aa_fixed_key, 16);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[0] = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[1] = 0; <span class="comment">// purely for padding purposes</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a> + 2, header_key, 16);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    idx = 0;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) { <span class="comment">// TEA CBC with weird mixed endianness</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, header_seed);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> + 4, header_seed + 1);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        header_seed += 2;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="group__lavu__tea.html#gaf6a071e471a2a7aabae0ec62dc3ec717">av_tea_crypt</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;tea_ctx, dst, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, 1, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0); <span class="comment">// TEA ECB encrypt</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a> &amp;&amp; idx &lt; 18; j+=1, idx+=1) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[idx] = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>[idx] ^ dst[j];</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    memcpy(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;file_key, <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a> + 2, 16); <span class="comment">// skip first 2 bytes of output</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;File key is &quot;</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;%02x&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;file_key[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">/* decoder setup */</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    st = <a class="code" href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (!st) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;tea_ctx);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span> (!strcmp(codec_name, <span class="stringliteral">&quot;mp332&quot;</span>)) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a> = 22050;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e">AVSTREAM_PARSE_FULL_RAW</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(st, 64, 8, 32000 * <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">// encoded audio frame is MP3_FRAME_SIZE bytes (+1 with padding, unlikely)</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(codec_name, <span class="stringliteral">&quot;acelp85&quot;</span>)) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea39c05013b9bbca74c12ecc637de96120">AV_CODEC_ID_SIPR</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">block_align</a> = 19;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">channels</a> = 1;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a> = 8500;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> = 8500;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e">AVSTREAM_PARSE_FULL_RAW</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(st, 64, 8, 8500 * <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(codec_name, <span class="stringliteral">&quot;acelp16&quot;</span>)) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea39c05013b9bbca74c12ecc637de96120">AV_CODEC_ID_SIPR</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">block_align</a> = 20;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">channels</a> = 1;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">sample_rate</a> = 16000;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> = 16000;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">need_parsing</a> = <a class="code" href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e">AVSTREAM_PARSE_FULL_RAW</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a>(st, 64, 8, 16000 * <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">/* determine, and jump to audio start offset */</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; toc_size; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) { <span class="comment">// skip the first entry!</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        current_size = TOC[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].size;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">if</span> (current_size &gt; largest_size) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            largest_idx = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            largest_size = current_size;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    start = TOC[largest_idx].offset;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, start, SEEK_SET);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// extract chapter positions. since all formats have constant bit rate, use it</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// as time base in bytes/s, for easy stream position &lt;-&gt; timestamp conversion</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">start_time</a> = 0;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;content_start = start;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;content_end = start + largest_size;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">while</span> ((chapter_pos = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(pb)) &gt;= 0 &amp;&amp; chapter_pos &lt; c-&gt;content_end) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordtype">int</span> chapter_idx = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        uint32_t chapter_size = <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(pb);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">if</span> (chapter_size == 0) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        chapter_pos -= start + <a class="code" href="aadec_8c.html#a622934065e1e559bee44bf47bb68b0e3">CHAPTER_HEADER_SIZE</a> * chapter_idx;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(pb, 4 + chapter_size);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libavformat_2internal_8h.html#add2b61dc8834f793e0f2fe7f099f06d1">avpriv_new_chapter</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, chapter_idx, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            chapter_pos * <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>, (chapter_pos + chapter_size) * <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    st-&gt;<a class="code" href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">duration</a> = (largest_size - <a class="code" href="aadec_8c.html#a622934065e1e559bee44bf47bb68b0e3">CHAPTER_HEADER_SIZE</a> * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters) * <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="libavformat_2internal_8h.html#a2f33c06557539cc29ac5f779245b84ef">ff_update_cur_dts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st, 0);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, start, SEEK_SET);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size = 0;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset = 0;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="aadec_8c.html#afd617a2ac73be48e6469321c622536d9">  244</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="aadec_8c.html#afd617a2ac73be48e6469321c622536d9">aa_read_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> dst[<a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a>];</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a>];</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">int</span> trailing_bytes;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">int</span> blocks;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[<a class="code" href="aadec_8c.html#ae473cb334639ee238d38d5f3489b7fd6">MAX_CODEC_SECOND_SIZE</a> * 2];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">int</span> written = 0;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="struct_a_a_demux_context.html">AADemuxContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    uint64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// are we at the end of the audio content?</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &gt;= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;content_end) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// are we at the start of a chapter?</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size == 0) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size = <a class="code" href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size == 0) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Chapter %d (%&quot;</span> PRId64 <span class="stringliteral">&quot; bytes)\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;chapter_idx, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;chapter_idx = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;chapter_idx + 1;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, 4); <span class="comment">// data start offset</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += 8;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_codec_second_size = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_second_size;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// is this the last block in this chapter?</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size / <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_codec_second_size == 0) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_codec_second_size = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size % <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_codec_second_size;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// decrypt c-&gt;current_codec_second_size bytes</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    blocks = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_codec_second_size / <a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; blocks; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != <a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a>)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">return</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) ? <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> : <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="group__lavu__tea.html#ga8fe0c9dabc9db1b88480f58e0d598c44">av_tea_init</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;tea_ctx, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;file_key, 16);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="group__lavu__tea.html#gaf6a071e471a2a7aabae0ec62dc3ec717">av_tea_crypt</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;tea_ctx, dst, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, 1, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        memcpy(buf + written, dst, <a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        written = written + <a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    trailing_bytes = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_codec_second_size % <a class="code" href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (trailing_bytes != 0) { <span class="comment">// trailing bytes are left unencrypted!</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, trailing_bytes);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != trailing_bytes)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">return</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) ? <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> : <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        memcpy(buf + written, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, trailing_bytes);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        written = written + trailing_bytes;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// update state</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_codec_second_size;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size &lt;= 0)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size = 0;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset &gt; written)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset = 0; <span class="comment">// ignore wrong estimate</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__packet.html#gadfa708660b85a56749c753124de2da7d">av_new_packet</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, written - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    memcpy(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, buf + <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset, written - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a> = <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset = 0;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="aadec_8c.html#a1cb36385c4d74ef30d78fcb09f084ea6">  318</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="aadec_8c.html#a1cb36385c4d74ef30d78fcb09f084ea6">aa_read_seek</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                        <span class="keywordtype">int</span> stream_index, int64_t timestamp, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="struct_a_a_demux_context.html">AADemuxContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="struct_a_v_chapter.html">AVChapter</a> *ch;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    int64_t chapter_pos, chapter_start, chapter_size;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">int</span> chapter_idx = 0;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// find chapter containing seek timestamp</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (timestamp &lt; 0)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        timestamp = 0;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">while</span> (chapter_idx &lt; s-&gt;nb_chapters &amp;&amp; timestamp &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[chapter_idx]-&gt;end) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        ++chapter_idx;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (chapter_idx &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        chapter_idx = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_chapters - 1;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">if</span> (chapter_idx &lt; 0) <span class="keywordflow">return</span> -1; <span class="comment">// there is no chapter.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        timestamp = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[chapter_idx]-&gt;end;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    ch = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chapters[chapter_idx];</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// sync by clamping timestamp to nearest valid block position in its chapter</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    chapter_size = ch-&gt;<a class="code" href="struct_a_v_chapter.html#ab68f32dc07fac89b4364e86483b00f3e">end</a> / <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a> - ch-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a> / <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    chapter_pos = <a class="code" href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a>((timestamp - ch-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a>) / <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>,</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        1, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_second_size,</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        (<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; <a class="code" href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a>) ? <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98">AV_ROUND_DOWN</a> : <a class="code" href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a">AV_ROUND_UP</a>)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_second_size;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (chapter_pos &gt;= chapter_size)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        chapter_pos = chapter_size;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    chapter_start = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;content_start + (ch-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a> / <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>) + <a class="code" href="aadec_8c.html#a622934065e1e559bee44bf47bb68b0e3">CHAPTER_HEADER_SIZE</a> * (1 + chapter_idx);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// reinit read state</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pb, chapter_start + chapter_pos, SEEK_SET);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_codec_second_size = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;codec_second_size;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;current_chapter_size = chapter_size - chapter_pos;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;chapter_idx = 1 + chapter_idx;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// for unaligned frames, estimate offset of first frame in block (assume no padding)</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0]-&gt;codecpar-&gt;codec_id == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a>) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset = (<a class="code" href="aadec_8c.html#a5eddf90703cd77ca0d6028c2023b756f">MP3_FRAME_SIZE</a> - chapter_pos % <a class="code" href="aadec_8c.html#a5eddf90703cd77ca0d6028c2023b756f">MP3_FRAME_SIZE</a>) % <a class="code" href="aadec_8c.html#a5eddf90703cd77ca0d6028c2023b756f">MP3_FRAME_SIZE</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="libavformat_2internal_8h.html#a2f33c06557539cc29ac5f779245b84ef">ff_update_cur_dts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0], ch-&gt;<a class="code" href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">start</a> + (chapter_pos + <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seek_offset) * <a class="code" href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="aadec_8c.html#a4c5defc8a5b6311dea2537c2cd5ead7e">  368</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="aadec_8c.html#a4c5defc8a5b6311dea2537c2cd5ead7e">aa_probe</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_probe_data.html">AVProbeData</a> *p)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf = p-&gt;<a class="code" href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">buf</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// first 4 bytes are file size, next 4 bytes are the magic</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(buf+4) != <a class="code" href="aadec_8c.html#a38ee3881f0b25b48a4bcc308aa7214b9">AA_MAGIC</a>)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="avformat_8h.html#a24925a4d1138c3f17a7a27dd45c08920">AVPROBE_SCORE_MAX</a> / 2;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="aadec_8c.html#af7a3e6614a5246ea109b93e85928d24e">  379</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="aadec_8c.html#af7a3e6614a5246ea109b93e85928d24e">aa_read_close</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="struct_a_a_demux_context.html">AADemuxContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;tea_ctx);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="aadec_8c.html#ad12dce0a7bf9d908b172a28155b3d261">  388</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(AADemuxContext, x)</span></div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="aadec_8c.html#ace4c1da9482fe72a3b071a6c47f7dbbc">  389</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="aadec_8c.html#ace4c1da9482fe72a3b071a6c47f7dbbc">aa_options</a>[] = {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    { <span class="stringliteral">&quot;aa_fixed_key&quot;</span>, <span class="comment">// extracted from libAAX_SDK.so and AAXSDKWin.dll files!</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="stringliteral">&quot;Fixed key used for handling Audible AA files&quot;</span>, <a class="code" href="aadec_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(aa_fixed_key),</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2689966edbe494482dfdfaa4efdf95d3">AV_OPT_TYPE_BINARY</a>, {.str=<span class="stringliteral">&quot;77214d4b196a87cd520045fd2a51d673&quot;</span>},</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        .flags = <a class="code" href="opt_8h.html#aad820197915e73441f76f5e0c384d78a">AV_OPT_FLAG_DECODING_PARAM</a> },</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;};</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="aadec_8c.html#aaa86a1d9251dfd219c60f94d261c025b">  397</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="aadec_8c.html#aaa86a1d9251dfd219c60f94d261c025b">aa_class</a> = {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;aa&quot;</span>,</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    .option     = <a class="code" href="aadec_8c.html#ace4c1da9482fe72a3b071a6c47f7dbbc">aa_options</a>,</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;};</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="allformats_8c.html#a769b8051ff5ab23aa87a699113f5c0f9">  404</a></span>&#160;<a class="code" href="struct_a_v_input_format.html">AVInputFormat</a> <a class="code" href="aadec_8c.html#a769b8051ff5ab23aa87a699113f5c0f9">ff_aa_demuxer</a> = {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    .<a class="code" href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">name</a>           = <span class="stringliteral">&quot;aa&quot;</span>,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;Audible AA format files&quot;</span>),</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    .priv_class     = &amp;<a class="code" href="aadec_8c.html#aaa86a1d9251dfd219c60f94d261c025b">aa_class</a>,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="aadec_8c.html#a39d205593854075bea38fe43a5a34917">AADemuxContext</a>),</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    .extensions     = <span class="stringliteral">&quot;aa&quot;</span>,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    .<a class="code" href="libavformat_2jvdec_8c.html#a4517a6dcebdb863ba6840921970a41ac">read_probe</a>     = <a class="code" href="aadec_8c.html#a4c5defc8a5b6311dea2537c2cd5ead7e">aa_probe</a>,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    .<a class="code" href="ffv1dec_8c.html#a0b9c6775a65106fc8bf33cd388ec715c">read_header</a>    = <a class="code" href="aadec_8c.html#a299cb028b61af76ce0cee48545898f7d">aa_read_header</a>,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    .<a class="code" href="avio__reading_8c.html#a3a86bff38e7cb9093d0a32316b73b29c">read_packet</a>    = <a class="code" href="aadec_8c.html#afd617a2ac73be48e6469321c622536d9">aa_read_packet</a>,</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    .<a class="code" href="libcdio_8c.html#aaf64d43f28f7aaf168968366472d52d7">read_seek</a>      = <a class="code" href="aadec_8c.html#a1cb36385c4d74ef30d78fcb09f084ea6">aa_read_seek</a>,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    .<a class="code" href="libcdio_8c.html#a3469cc7152b70da4356d17e698a55850">read_close</a>     = <a class="code" href="aadec_8c.html#af7a3e6614a5246ea109b93e85928d24e">aa_read_close</a>,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>          = <a class="code" href="avformat_8h.html#a6286e2977286a22b622cb51cf4106541">AVFMT_NO_BYTE_SEEK</a> | <a class="code" href="avformat_8h.html#a860dc077e9c782de0d49a2d4d968b64a">AVFMT_NOGENSEARCH</a>,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_a_a_demux_context_html_ab3b59e79b69ad8cf3e0db0ea11421243"><div class="ttname"><a href="struct_a_a_demux_context.html#ab3b59e79b69ad8cf3e0db0ea11421243">AADemuxContext::aa_fixed_key_len</a></div><div class="ttdeci">int aa_fixed_key_len</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00045">aadec.c:45</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html"><div class="ttname"><a href="struct_a_v_input_format.html">AVInputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00638">avformat.h:638</a></div></div>
<div class="ttc" id="aavformat_8h_html_a6286e2977286a22b622cb51cf4106541"><div class="ttname"><a href="avformat_8h.html#a6286e2977286a22b622cb51cf4106541">AVFMT_NO_BYTE_SEEK</a></div><div class="ttdeci">#define AVFMT_NO_BYTE_SEEK</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00470">avformat.h:470</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gadcb0fd3e507d9b58fe78f61f8ad39827"><div class="ttname"><a href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a></div><div class="ttdeci">AVStream * avformat_new_stream(AVFormatContext *s, const AVCodec *c)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04453">utils.c:4453</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_adee8b8646c591d478865b590bda1f02c"><div class="ttname"><a href="struct_a_a_demux_context.html#adee8b8646c591d478865b590bda1f02c">AADemuxContext::content_start</a></div><div class="ttdeci">int64_t content_start</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00052">aadec.c:52</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gab4faa0afdf35076914824200331defff"><div class="ttname"><a href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a></div><div class="ttdeci">#define AVERROR_EOF</div><div class="ttdoc">End of file.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00055">error.h:55</a></div></div>
<div class="ttc" id="aaadec_8c_html_afd617a2ac73be48e6469321c622536d9"><div class="ttname"><a href="aadec_8c.html#afd617a2ac73be48e6469321c622536d9">aa_read_packet</a></div><div class="ttdeci">static int aa_read_packet(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00244">aadec.c:244</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_aa4e1c6357e04ee6960702c705448a76a"><div class="ttname"><a href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a></div><div class="ttdeci">filter_frame For filters that do not use the this method is called when a frame is pushed to the filter s input It can be called at any time except in a reentrant way If the input frame is enough to produce output</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00225">filter_design.txt:225</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html"><div class="ttname"><a href="struct_a_v_i_o_context.html">AVIOContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00161">avio.h:161</a></div></div>
<div class="ttc" id="aaadec_8c_html_af1fce7fc4c93df961b3d3941ddf338d9"><div class="ttname"><a href="aadec_8c.html#af1fce7fc4c93df961b3d3941ddf338d9">TIMEPREC</a></div><div class="ttdeci">#define TIMEPREC</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00039">aadec.c:39</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_aed03b226aba7b54d937fcb8647d67377"><div class="ttname"><a href="struct_a_a_demux_context.html#aed03b226aba7b54d937fcb8647d67377">AADemuxContext::current_codec_second_size</a></div><div class="ttdeci">int current_codec_second_size</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00047">aadec.c:47</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_a138c471fce77ffd4b4df16479b784621"><div class="ttname"><a href="struct_a_a_demux_context.html#a138c471fce77ffd4b4df16479b784621">AADemuxContext::codec_second_size</a></div><div class="ttdeci">int codec_second_size</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00046">aadec.c:46</a></div></div>
<div class="ttc" id="aaadec_8c_html_a1cb36385c4d74ef30d78fcb09f084ea6"><div class="ttname"><a href="aadec_8c.html#a1cb36385c4d74ef30d78fcb09f084ea6">aa_read_seek</a></div><div class="ttdeci">static int aa_read_seek(AVFormatContext *s, int stream_index, int64_t timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00318">aadec.c:318</a></div></div>
<div class="ttc" id="agroup__lavu__tea_html_gaf6a071e471a2a7aabae0ec62dc3ec717"><div class="ttname"><a href="group__lavu__tea.html#gaf6a071e471a2a7aabae0ec62dc3ec717">av_tea_crypt</a></div><div class="ttdeci">void av_tea_crypt(AVTEA *ctx, uint8_t *dst, const uint8_t *src, int count, uint8_t *iv, int decrypt)</div><div class="ttdef"><b>Definition:</b> <a href="tea_8c_source.html#l00095">tea.c:95</a></div></div>
<div class="ttc" id="aaadec_8c_html_af7a3e6614a5246ea109b93e85928d24e"><div class="ttname"><a href="aadec_8c.html#af7a3e6614a5246ea109b93e85928d24e">aa_read_close</a></div><div class="ttdeci">static int aa_read_close(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00379">aadec.c:379</a></div></div>
<div class="ttc" id="aaadec_8c_html_aaa86a1d9251dfd219c60f94d261c025b"><div class="ttname"><a href="aadec_8c.html#aaa86a1d9251dfd219c60f94d261c025b">aa_class</a></div><div class="ttdeci">static const AVClass aa_class</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00397">aadec.c:397</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="astruct_a_v_probe_data_html"><div class="ttname"><a href="struct_a_v_probe_data.html">AVProbeData</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00441">avformat.h:441</a></div></div>
<div class="ttc" id="aavformat_8h_html_a24925a4d1138c3f17a7a27dd45c08920"><div class="ttname"><a href="avformat_8h.html#a24925a4d1138c3f17a7a27dd45c08920">AVPROBE_SCORE_MAX</a></div><div class="ttdeci">#define AVPROBE_SCORE_MAX</div><div class="ttdoc">maximum score</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00453">avformat.h:453</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01034">avformat.h:1034</a></div></div>
<div class="ttc" id="aaadec_8c_html_a9929aa950ec990278a928cbac7d3367f"><div class="ttname"><a href="aadec_8c.html#a9929aa950ec990278a928cbac7d3367f">MAX_DICTIONARY_ENTRIES</a></div><div class="ttdeci">#define MAX_DICTIONARY_ENTRIES</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00036">aadec.c:36</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a2689966edbe494482dfdfaa4efdf95d3"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2689966edbe494482dfdfaa4efdf95d3">AV_OPT_TYPE_BINARY</a></div><div class="ttdeci">@ AV_OPT_TYPE_BINARY</div><div class="ttdoc">offset must point to a pointer immediately followed by an int for the length</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00231">opt.h:231</a></div></div>
<div class="ttc" id="alibcdio_8c_html_aaf64d43f28f7aaf168968366472d52d7"><div class="ttname"><a href="libcdio_8c.html#aaf64d43f28f7aaf168968366472d52d7">read_seek</a></div><div class="ttdeci">static int read_seek(AVFormatContext *ctx, int stream_index, int64_t timestamp, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libcdio_8c_source.html#l00153">libcdio.c:153</a></div></div>
<div class="ttc" id="astruct_a_v_t_e_a_html"><div class="ttname"><a href="struct_a_v_t_e_a.html">AVTEA</a></div><div class="ttdef"><b>Definition:</b> <a href="tea_8c_source.html#l00030">tea.c:30</a></div></div>
<div class="ttc" id="alibcdio_8c_html_a3469cc7152b70da4356d17e698a55850"><div class="ttname"><a href="libcdio_8c.html#a3469cc7152b70da4356d17e698a55850">read_close</a></div><div class="ttdeci">static av_cold int read_close(AVFormatContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="libcdio_8c_source.html#l00145">libcdio.c:145</a></div></div>
<div class="ttc" id="aavio_8h_html_a63157a668f29b8f5a89f00bc24838b8e"><div class="ttname"><a href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a></div><div class="ttdeci">static av_always_inline int64_t avio_tell(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00557">avio.h:557</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a5268fcf4ae8ed27edef54f836b926d93"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">AVCodecParameters::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00089">codec_par.h:89</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a"><div class="ttname"><a href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0aa1d28e08e2f8b49b256e056f93038c1a">AV_ROUND_UP</a></div><div class="ttdeci">@ AV_ROUND_UP</div><div class="ttdoc">Round toward +infinity.</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00083">mathematics.h:83</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaed6f7acd6cf30c059f2e32515bd19bc4">AV_CODEC_ID_MP3</a></div><div class="ttdeci">@ AV_CODEC_ID_MP3</div><div class="ttdoc">preferred ID for decoding MPEG audio layer 1, 2 or 3</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00419">codec_id.h:419</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html"><div class="ttname"><a href="struct_a_a_demux_context.html">AADemuxContext</a></div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00042">aadec.c:42</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea39c05013b9bbca74c12ecc637de96120"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea39c05013b9bbca74c12ecc637de96120">AV_CODEC_ID_SIPR</a></div><div class="ttdeci">@ AV_CODEC_ID_SIPR</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00459">codec_id.h:459</a></div></div>
<div class="ttc" id="aavio_8h_html_af089361fd70426624d19d436a10f87ad"><div class="ttname"><a href="avio_8h.html#af089361fd70426624d19d436a10f87ad">avio_rb32</a></div><div class="ttdeci">unsigned int avio_rb32(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00785">aviobuf.c:785</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a36097280ddfe8ebfc825d0f98fd00621"><div class="ttname"><a href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a></div><div class="ttdeci">#define AV_WB32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00273">intreadwrite.h:273</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a9db755451f14e2bf590d4b85d82b32e6"><div class="ttname"><a href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">AVStream::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00898">avformat.h:898</a></div></div>
<div class="ttc" id="atea_8h_html"><div class="ttname"><a href="tea_8h.html">tea.h</a></div><div class="ttdoc">Public header for libavutil TEA algorithm.</div></div>
<div class="ttc" id="astruct_a_v_stream_html_acd70b72d0c0514643a5c11b2c7c8202c"><div class="ttname"><a href="struct_a_v_stream.html#acd70b72d0c0514643a5c11b2c7c8202c">AVStream::need_parsing</a></div><div class="ttdeci">enum AVStreamParseType need_parsing</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01074">avformat.h:1077</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a4d418b807283607a231d2d8cdf559f00"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a4d418b807283607a231d2d8cdf559f00">AVCodecParameters::channels</a></div><div class="ttdeci">int channels</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00166">codec_par.h:166</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gadfa708660b85a56749c753124de2da7d"><div class="ttname"><a href="group__lavc__packet.html#gadfa708660b85a56749c753124de2da7d">av_new_packet</a></div><div class="ttdeci">int av_new_packet(AVPacket *pkt, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00088">avpacket.c:88</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9f76f2475ef24ff4c9771dd53072d040"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">AVCodecParameters::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:60</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="aaadec_8c_html_a38ee3881f0b25b48a4bcc308aa7214b9"><div class="ttname"><a href="aadec_8c.html#a38ee3881f0b25b48a4bcc308aa7214b9">AA_MAGIC</a></div><div class="ttdeci">#define AA_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00033">aadec.c:33</a></div></div>
<div class="ttc" id="ahwcontext__opencl_8c_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext__opencl_8c_source.html#l00168">hwcontext_opencl.c:168</a></div></div>
<div class="ttc" id="aaadec_8c_html_ace4c1da9482fe72a3b071a6c47f7dbbc"><div class="ttname"><a href="aadec_8c.html#ace4c1da9482fe72a3b071a6c47f7dbbc">aa_options</a></div><div class="ttdeci">static const AVOption aa_options[]</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00389">aadec.c:389</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="aaadec_8c_html_a4c5defc8a5b6311dea2537c2cd5ead7e"><div class="ttname"><a href="aadec_8c.html#a4c5defc8a5b6311dea2537c2cd5ead7e">aa_probe</a></div><div class="ttdeci">static int aa_probe(const AVProbeData *p)</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00368">aadec.c:368</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a2f33c06557539cc29ac5f779245b84ef"><div class="ttname"><a href="libavformat_2internal_8h.html#a2f33c06557539cc29ac5f779245b84ef">ff_update_cur_dts</a></div><div class="ttdeci">void ff_update_cur_dts(AVFormatContext *s, AVStream *ref_st, int64_t timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01898">utils.c:1898</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="aavformat_8h_html_ac736f8f4afc930ca1cda0b43638cc678"><div class="ttname"><a href="avformat_8h.html#ac736f8f4afc930ca1cda0b43638cc678">AVSEEK_FLAG_BACKWARD</a></div><div class="ttdeci">#define AVSEEK_FLAG_BACKWARD</div><div class="ttdoc">seek backward</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l02391">avformat.h:2391</a></div></div>
<div class="ttc" id="affv1dec_8c_html_a0b9c6775a65106fc8bf33cd388ec715c"><div class="ttname"><a href="ffv1dec_8c.html#a0b9c6775a65106fc8bf33cd388ec715c">read_header</a></div><div class="ttdeci">static int read_header(FFV1Context *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffv1dec_8c_source.html#l00527">ffv1dec.c:527</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf51c0fafb1c1b683c7f943c2a349904"><div class="ttname"><a href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a></div><div class="ttdeci">and forward the result(frame or status change) to the corresponding input. If nothing is possible</div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="alibavformat_2jvdec_8c_html_a4517a6dcebdb863ba6840921970a41ac"><div class="ttname"><a href="libavformat_2jvdec_8c.html#a4517a6dcebdb863ba6840921970a41ac">read_probe</a></div><div class="ttdeci">static int read_probe(const AVProbeData *pd)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2jvdec_8c_source.html#l00055">jvdec.c:55</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a236265133da1ecd6375e5e7c405020a0"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a></div><div class="ttdeci">#define AV_RB32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00130">intreadwrite.h:130</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga82d40664213508918093822461cc597e"><div class="ttname"><a href="group__lavu__math.html#ga82d40664213508918093822461cc597e">av_rescale_rnd</a></div><div class="ttdeci">int64_t av_rescale_rnd(int64_t a, int64_t b, int64_t c, enum AVRounding rnd)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00058">mathematics.c:58</a></div></div>
<div class="ttc" id="aaadec_8c_html_ae473cb334639ee238d38d5f3489b7fd6"><div class="ttname"><a href="aadec_8c.html#ae473cb334639ee238d38d5f3489b7fd6">MAX_CODEC_SECOND_SIZE</a></div><div class="ttdeci">#define MAX_CODEC_SECOND_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00034">aadec.c:34</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="aaadec_8c_html_a9624f1d5bcc8350c01ff370ba2cec562"><div class="ttname"><a href="aadec_8c.html#a9624f1d5bcc8350c01ff370ba2cec562">get_second_size</a></div><div class="ttdeci">static int get_second_size(char *codec_name)</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00057">aadec.c:57</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_aab5542950d6beb910dc9237aac99989e"><div class="ttname"><a href="libavformat_2internal_8h.html#aab5542950d6beb910dc9237aac99989e">avpriv_set_pts_info</a></div><div class="ttdeci">void avpriv_set_pts_info(AVStream *s, int pts_wrap_bits, unsigned int pts_num, unsigned int pts_den)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04871">utils.c:4871</a></div></div>
<div class="ttc" id="aavio_8h_html_abeee0414e5f2ce5b150cf9c5694a2e4f"><div class="ttname"><a href="avio_8h.html#abeee0414e5f2ce5b150cf9c5694a2e4f">avio_get_str</a></div><div class="ttdeci">int avio_get_str(AVIOContext *pb, int maxlen, char *buf, int buflen)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00864">aviobuf.c:864</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html_a499a5062224e22249be6f2d16f74c449"><div class="ttname"><a href="struct_a_v_chapter.html#a499a5062224e22249be6f2d16f74c449">AVChapter::start</a></div><div class="ttdeci">int64_t start</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01183">avformat.h:1183</a></div></div>
<div class="ttc" id="aaadec_8c_html_a5eddf90703cd77ca0d6028c2023b756f"><div class="ttname"><a href="aadec_8c.html#a5eddf90703cd77ca0d6028c2023b756f">MP3_FRAME_SIZE</a></div><div class="ttdeci">#define MP3_FRAME_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00040">aadec.c:40</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_a217efca65a45afe35dc33792ed75efbc"><div class="ttname"><a href="struct_a_a_demux_context.html#a217efca65a45afe35dc33792ed75efbc">AADemuxContext::tea_ctx</a></div><div class="ttdeci">struct AVTEA * tea_ctx</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00049">aadec.c:49</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a4e04af7a5a4d8298649850df798dd0bc"><div class="ttname"><a href="struct_a_v_stream.html#a4e04af7a5a4d8298649850df798dd0bc">AVStream::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00918">avformat.h:918</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_a23626cd566e6781878943affdc910850"><div class="ttname"><a href="struct_a_a_demux_context.html#a23626cd566e6781878943affdc910850">AADemuxContext::content_end</a></div><div class="ttdeci">int64_t content_end</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00053">aadec.c:53</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a786f81429bb25853af449fe5737bf2c7"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a786f81429bb25853af449fe5737bf2c7">AVCodecParameters::block_align</a></div><div class="ttdeci">int block_align</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00177">codec_par.h:177</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_ab5793d8195cf4789dfb3913b7a693903"><div class="ttname"><a href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">AVPacket::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdoc">byte position in stream, -1 if unknown</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00383">packet.h:383</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_ab87eb4fca0ecf14d9c5e08138f750a22"><div class="ttname"><a href="struct_a_a_demux_context.html#ab87eb4fca0ecf14d9c5e08138f750a22">AADemuxContext::aa_fixed_key</a></div><div class="ttdeci">uint8_t * aa_fixed_key</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00044">aadec.c:44</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_a4f1f0969afe8d925995c3510ab616f22"><div class="ttname"><a href="struct_a_a_demux_context.html#a4f1f0969afe8d925995c3510ab616f22">AADemuxContext::current_chapter_size</a></div><div class="ttdeci">int64_t current_chapter_size</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00051">aadec.c:51</a></div></div>
<div class="ttc" id="aaadec_8c_html_a31673cc528f4f4eda242f7c7600e4232"><div class="ttname"><a href="aadec_8c.html#a31673cc528f4f4eda242f7c7600e4232">TEA_BLOCK_SIZE</a></div><div class="ttdeci">#define TEA_BLOCK_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00037">aadec.c:37</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html_ab68f32dc07fac89b4364e86483b00f3e"><div class="ttname"><a href="struct_a_v_chapter.html#ab68f32dc07fac89b4364e86483b00f3e">AVChapter::end</a></div><div class="ttdeci">int64_t end</div><div class="ttdoc">chapter start/end time in time_base units</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01183">avformat.h:1183</a></div></div>
<div class="ttc" id="aaadec_8c_html_a299cb028b61af76ce0cee48545898f7d"><div class="ttname"><a href="aadec_8c.html#a299cb028b61af76ce0cee48545898f7d">aa_read_header</a></div><div class="ttdeci">static int aa_read_header(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00072">aadec.c:72</a></div></div>
<div class="ttc" id="aaadec_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="aadec_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00388">aadec.c:388</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_add2b61dc8834f793e0f2fe7f099f06d1"><div class="ttname"><a href="libavformat_2internal_8h.html#add2b61dc8834f793e0f2fe7f099f06d1">avpriv_new_chapter</a></div><div class="ttdeci">AVChapter * avpriv_new_chapter(AVFormatContext *s, int id, AVRational time_base, int64_t start, int64_t end, const char *title)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04580">utils.c:4580</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98"><div class="ttname"><a href="group__lavu__math.html#gga921d656eaf2c4d6800a734a13af021d0a4a4b2c2c77b7e20884440f7e57cfdb98">AV_ROUND_DOWN</a></div><div class="ttdeci">@ AV_ROUND_DOWN</div><div class="ttdoc">Round toward -infinity.</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00082">mathematics.h:82</a></div></div>
<div class="ttc" id="aaadec_8c_html_aee71ba361e8c688a420789d00ffc3e27"><div class="ttname"><a href="aadec_8c.html#aee71ba361e8c688a420789d00ffc3e27">MAX_TOC_ENTRIES</a></div><div class="ttdeci">#define MAX_TOC_ENTRIES</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00035">aadec.c:35</a></div></div>
<div class="ttc" id="aopt_8h_html_aad820197915e73441f76f5e0c384d78a"><div class="ttname"><a href="opt_8h.html#aad820197915e73441f76f5e0c384d78a">AV_OPT_FLAG_DECODING_PARAM</a></div><div class="ttdeci">#define AV_OPT_FLAG_DECODING_PARAM</div><div class="ttdoc">a generic parameter which can be set by the user for demuxing or decoding</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00279">opt.h:279</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_abfc9b0aa975206f7e77a125e6b78536e"><div class="ttname"><a href="struct_a_v_codec_parameters.html#abfc9b0aa975206f7e77a125e6b78536e">AVCodecParameters::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00170">codec_par.h:170</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="aavio__reading_8c_html_a3a86bff38e7cb9093d0a32316b73b29c"><div class="ttname"><a href="avio__reading_8c.html#a3a86bff38e7cb9093d0a32316b73b29c">read_packet</a></div><div class="ttdeci">static int read_packet(void *opaque, uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="avio__reading_8c_source.html#l00042">avio_reading.c:42</a></div></div>
<div class="ttc" id="aavio_8h_html_a03e23bf0144030961c34e803c71f614f"><div class="ttname"><a href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a></div><div class="ttdeci">int64_t avio_seek(AVIOContext *s, int64_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00253">aviobuf.c:253</a></div></div>
<div class="ttc" id="agroup__lavu__tea_html_ga8fe0c9dabc9db1b88480f58e0d598c44"><div class="ttname"><a href="group__lavu__tea.html#ga8fe0c9dabc9db1b88480f58e0d598c44">av_tea_init</a></div><div class="ttdeci">void av_tea_init(AVTEA *ctx, const uint8_t key[16], int rounds)</div><div class="ttdef"><b>Definition:</b> <a href="tea_8c_source.html#l00042">tea.c:42</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a7c67ae70632c91df8b0f721658ec5377"><div class="ttname"><a href="struct_a_v_stream.html#a7c67ae70632c91df8b0f721658ec5377">AVStream::start_time</a></div><div class="ttdeci">int64_t start_time</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00908">avformat.h:908</a></div></div>
<div class="ttc" id="adict_8h_html"><div class="ttname"><a href="dict_8h.html">dict.h</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="astruct_a_v_input_format_html_a850db3eb225e22b64f3304d72134ca0c"><div class="ttname"><a href="struct_a_v_input_format.html#a850db3eb225e22b64f3304d72134ca0c">AVInputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00643">avformat.h:643</a></div></div>
<div class="ttc" id="aaadec_8c_html_a39d205593854075bea38fe43a5a34917"><div class="ttname"><a href="aadec_8c.html#a39d205593854075bea38fe43a5a34917">AADemuxContext</a></div><div class="ttdeci">struct AADemuxContext AADemuxContext</div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_a9397d8ff7e8ca59619a1bcf8efd250f3"><div class="ttname"><a href="struct_a_a_demux_context.html#a9397d8ff7e8ca59619a1bcf8efd250f3">AADemuxContext::chapter_idx</a></div><div class="ttdeci">int chapter_idx</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00048">aadec.c:48</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="agroup__lavu__tea_html_gaaf22dd3ac8632b0e15e19cc123a82392"><div class="ttname"><a href="group__lavu__tea.html#gaaf22dd3ac8632b0e15e19cc123a82392">av_tea_alloc</a></div><div class="ttdeci">struct AVTEA * av_tea_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="tea_8c_source.html#l00035">tea.c:35</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html"><div class="ttname"><a href="struct_a_v_format_context.html">AVFormatContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01223">avformat.h:1223</a></div></div>
<div class="ttc" id="aavformat_8h_html_a860dc077e9c782de0d49a2d4d968b64a"><div class="ttname"><a href="avformat_8h.html#a860dc077e9c782de0d49a2d4d968b64a">AVFMT_NOGENSEARCH</a></div><div class="ttdeci">#define AVFMT_NOGENSEARCH</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00469">avformat.h:469</a></div></div>
<div class="ttc" id="aavio_8h_html_abb4e58439be0bff0dc2e2974ee5fb6a3"><div class="ttname"><a href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a></div><div class="ttdeci">int avio_read(AVIOContext *s, unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00637">aviobuf.c:637</a></div></div>
<div class="ttc" id="aavformat_8h_html_afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e"><div class="ttname"><a href="avformat_8h.html#afacbc85f23a50771e3801bda0a353d91a4a4190f226593e92724285f8bfef9c2e">AVSTREAM_PARSE_FULL_RAW</a></div><div class="ttdeci">@ AVSTREAM_PARSE_FULL_RAW</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00796">avformat.h:794</a></div></div>
<div class="ttc" id="aavio_8h_html_aa22e02f986ea8a8dc018f9615af27eea"><div class="ttname"><a href="avio_8h.html#aa22e02f986ea8a8dc018f9615af27eea">avio_skip</a></div><div class="ttdeci">int64_t avio_skip(AVIOContext *s, int64_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00341">aviobuf.c:341</a></div></div>
<div class="ttc" id="aaadec_8c_html_a769b8051ff5ab23aa87a699113f5c0f9"><div class="ttname"><a href="aadec_8c.html#a769b8051ff5ab23aa87a699113f5c0f9">ff_aa_demuxer</a></div><div class="ttdeci">AVInputFormat ff_aa_demuxer</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00404">aadec.c:404</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html"><div class="ttname"><a href="struct_a_v_stream.html">AVStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00869">avformat.h:869</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a58369c3a8a986935b572df5aa6361ce2"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">AVCodecParameters::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:56</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga8d9c2de72b310cef8e6a28c9cd3acbbe"><div class="ttname"><a href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a></div><div class="ttdeci">int av_dict_set(AVDictionary **pm, const char *key, const char *value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00070">dict.c:70</a></div></div>
<div class="ttc" id="astruct_a_v_chapter_html"><div class="ttname"><a href="struct_a_v_chapter.html">AVChapter</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01180">avformat.h:1180</a></div></div>
<div class="ttc" id="astruct_a_v_probe_data_html_a814cca49dda3f578ebb32d4b2f74368a"><div class="ttname"><a href="struct_a_v_probe_data.html#a814cca49dda3f578ebb32d4b2f74368a">AVProbeData::buf</a></div><div class="ttdeci">unsigned char * buf</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00443">avformat.h:443</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_a12c64ad6a826798fed473ae808961b53"><div class="ttname"><a href="struct_a_a_demux_context.html#a12c64ad6a826798fed473ae808961b53">AADemuxContext::seek_offset</a></div><div class="ttdeci">int seek_offset</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00054">aadec.c:54</a></div></div>
<div class="ttc" id="aaadec_8c_html_a622934065e1e559bee44bf47bb68b0e3"><div class="ttname"><a href="aadec_8c.html#a622934065e1e559bee44bf47bb68b0e3">CHAPTER_HEADER_SIZE</a></div><div class="ttdeci">#define CHAPTER_HEADER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00038">aadec.c:38</a></div></div>
<div class="ttc" id="astruct_a_a_demux_context_html_aff18ea698bba2fd12a712d52e09e6795"><div class="ttname"><a href="struct_a_a_demux_context.html#aff18ea698bba2fd12a712d52e09e6795">AADemuxContext::file_key</a></div><div class="ttdeci">uint8_t file_key[16]</div><div class="ttdef"><b>Definition:</b> <a href="aadec_8c_source.html#l00050">aadec.c:50</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
