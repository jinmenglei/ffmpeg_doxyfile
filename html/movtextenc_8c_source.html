<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/movtextenc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">movtextenc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="movtextenc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * 3GPP TS 26.245 Timed Text encoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2012  Philip Langdale &lt;philipl@overt.org&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mem_8h.html">libavutil/mem.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">libavutil/common.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ass__split_8h.html">ass_split.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ass_8h.html">ass.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a8ce1c3f919e90e2d2f1238e24bbbd34c">   35</a></span>&#160;<span class="preprocessor">#define STYLE_FLAG_BOLD         (1&lt;&lt;0)</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a7d52f7990836f426544707c983667490">   36</a></span>&#160;<span class="preprocessor">#define STYLE_FLAG_ITALIC       (1&lt;&lt;1)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a117b4271594156da6a8e45082ab5cab9">   37</a></span>&#160;<span class="preprocessor">#define STYLE_FLAG_UNDERLINE    (1&lt;&lt;2)</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#aa94582c751cbb761b2b1f1cb5df4f1a4">   38</a></span>&#160;<span class="preprocessor">#define STYLE_RECORD_SIZE       12</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a77ce086f439e4f00e06b8d650d160f62">   39</a></span>&#160;<span class="preprocessor">#define SIZE_ADD                10</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#aa3a219d4054f4ba07abc1675c490a074">   41</a></span>&#160;<span class="preprocessor">#define STYL_BOX   (1&lt;&lt;0)</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a41431245d5c33a5ef4f2aec9b990b75d">   42</a></span>&#160;<span class="preprocessor">#define HLIT_BOX   (1&lt;&lt;1)</span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a68f0fb3802be74974897b6306ffab04d">   43</a></span>&#160;<span class="preprocessor">#define HCLR_BOX   (1&lt;&lt;2)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a59ef8dffb309f8de90e712e9c45c49d5">   45</a></span>&#160;<span class="preprocessor">#define DEFAULT_STYLE_FONT_ID  0x01</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#aef63e06ba674f756e783df85f8269859">   46</a></span>&#160;<span class="preprocessor">#define DEFAULT_STYLE_FONTSIZE 0x12</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a7e56f91fdd7c750baa9ee67952492b7b">   47</a></span>&#160;<span class="preprocessor">#define DEFAULT_STYLE_COLOR    0xffffffff</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#ad258ce07417a0e1256bc2f55cba09f9f">   48</a></span>&#160;<span class="preprocessor">#define DEFAULT_STYLE_FLAG     0x00</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a8134eb4e2b10bdba57e49126ca2a37e9">   50</a></span>&#160;<span class="preprocessor">#define BGR_TO_RGB(c) (((c) &amp; 0xff) &lt;&lt; 16 | ((c) &amp; 0xff00) | (((uint32_t)(c) &gt;&gt; 16) &amp; 0xff))</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a043f5f30474f70e4bd99046d7dca6433">   51</a></span>&#160;<span class="preprocessor">#define FONTSIZE_SCALE(s,fs) ((fs) * (s)-&gt;font_scale_factor + 0.5)</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">   52</a></span>&#160;<span class="preprocessor">#define av_bprint_append_any(buf, data, size)   av_bprint_append_data(buf, ((const char*)data), size)</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    uint16_t style_start;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    uint16_t style_end;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> style_flag;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    uint16_t style_fontID;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_style_box.html#a147f559d51c0263bfc77c804bc833ba6">   59</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_style_box.html#a147f559d51c0263bfc77c804bc833ba6">style_fontsize</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_style_box.html#a8e6692505a293df8b0b0cd46ccfaeeb8">   60</a></span>&#160;    uint32_t <a class="code" href="struct_style_box.html#a8e6692505a293df8b0b0cd46ccfaeeb8">style_color</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;} <a class="code" href="struct_style_box.html">StyleBox</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_highlight_box.html#ad0595dd2c60c554d8b4a3cdecbad3740">   64</a></span>&#160;    uint16_t <a class="code" href="struct_highlight_box.html#ad0595dd2c60c554d8b4a3cdecbad3740">start</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_highlight_box.html#a57becd02866fcbbe41139bddb8af4df2">   65</a></span>&#160;    uint16_t <a class="code" href="struct_highlight_box.html#a57becd02866fcbbe41139bddb8af4df2">end</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;} <a class="code" href="struct_highlight_box.html">HighlightBox</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_hilightcolor_box.html#a9c2d3ec74b2db4050226576a778a998f">   69</a></span>&#160;   uint32_t <a class="code" href="struct_hilightcolor_box.html#a9c2d3ec74b2db4050226576a778a998f">color</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;} <a class="code" href="struct_hilightcolor_box.html">HilightcolorBox</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a4af09fc5b00c0fff1b8d19b6e6dd583c">   74</a></span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_mov_text_context.html#a4af09fc5b00c0fff1b8d19b6e6dd583c">avctx</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a05e960f329df9646ba948d60f614a5ac">   76</a></span>&#160;    <a class="code" href="struct_a_s_s_split_context.html">ASSSplitContext</a> *<a class="code" href="struct_mov_text_context.html#a05e960f329df9646ba948d60f614a5ac">ass_ctx</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a2edcd89b7b5c1b12c29d1161baef9298">   77</a></span>&#160;    <a class="code" href="struct_a_s_s_style.html">ASSStyle</a> *<a class="code" href="struct_mov_text_context.html#a2edcd89b7b5c1b12c29d1161baef9298">ass_dialog_style</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a5b838b5d6da282722e255b49a1731fd4">   78</a></span>&#160;    <a class="code" href="struct_style_box.html">StyleBox</a> *<a class="code" href="struct_mov_text_context.html#a5b838b5d6da282722e255b49a1731fd4">style_attributes</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a7c1a4b60207be0d925074e2aab44a726">   79</a></span>&#160;    <span class="keywordtype">unsigned</span>  <a class="code" href="struct_mov_text_context.html#a7c1a4b60207be0d925074e2aab44a726">count</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a753b1538800e31e7f0476f6e9980f041">   80</a></span>&#160;    <span class="keywordtype">unsigned</span>  <a class="code" href="struct_mov_text_context.html#a753b1538800e31e7f0476f6e9980f041">style_attributes_bytes_allocated</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a0ad905194ad8533986f81d09671245ce">   81</a></span>&#160;    <a class="code" href="struct_style_box.html">StyleBox</a>  <a class="code" href="struct_mov_text_context.html#a0ad905194ad8533986f81d09671245ce">style_attributes_temp</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a69f679e9b46a8cdf307956491c95d227">   82</a></span>&#160;    AVBPrint <a class="code" href="struct_mov_text_context.html#a69f679e9b46a8cdf307956491c95d227">buffer</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a50cb843a557135c67fe4588812a0a689">   83</a></span>&#160;    <a class="code" href="struct_highlight_box.html">HighlightBox</a> <a class="code" href="struct_mov_text_context.html#a50cb843a557135c67fe4588812a0a689">hlit</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a106798e97c0f6459ed796764474f0760">   84</a></span>&#160;    <a class="code" href="struct_hilightcolor_box.html">HilightcolorBox</a> <a class="code" href="struct_mov_text_context.html#a106798e97c0f6459ed796764474f0760">hclr</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> box_flags;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a3053298ef4268169e67f34b157b3d881">   86</a></span>&#160;    <a class="code" href="struct_style_box.html">StyleBox</a> <a class="code" href="struct_mov_text_context.html#a3053298ef4268169e67f34b157b3d881">d</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a26d54bb3ed3f397602e5052666725373">   87</a></span>&#160;    uint16_t <a class="code" href="struct_mov_text_context.html#a26d54bb3ed3f397602e5052666725373">text_pos</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a2feece7d07cfc3e5e50dd581289ef4a4">   88</a></span>&#160;    uint16_t <a class="code" href="struct_mov_text_context.html#a2feece7d07cfc3e5e50dd581289ef4a4">byte_count</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a33c724d9d6242410d2c02b5f43b443ee">   89</a></span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="struct_mov_text_context.html#a33c724d9d6242410d2c02b5f43b443ee">fonts</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#a579fedf1509c8b58b6b37e8484745c96">   90</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_mov_text_context.html#a579fedf1509c8b58b6b37e8484745c96">font_count</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="struct_mov_text_context.html#aaa46b9a05edf6e4ed7d8688a4738eadc">   91</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="struct_mov_text_context.html#aaa46b9a05edf6e4ed7d8688a4738eadc">font_scale_factor</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordtype">int</span> frame_height;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;} <a class="code" href="struct_mov_text_context.html">MovTextContext</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="struct_box.html#a1670cac7a1da22c47e0418f697154cf9">   96</a></span>&#160;    <a class="code" href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a> (*<a class="code" href="encode__audio_8c.html#a4883bd84aced552588972551e86d8575">encode</a>)(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;} <a class="code" href="struct_box.html">Box</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#ad6b749bcf51a6ea3548e539b8e7cf838">   99</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#ad6b749bcf51a6ea3548e539b8e7cf838">mov_text_cleanup</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count = 0;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#ab0ce406386dd53bac61989e586d3dceb">  105</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#ab0ce406386dd53bac61989e586d3dceb">encode_styl</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags &amp; <a class="code" href="movtextenc_8c.html#aa3a219d4054f4ba07abc1675c490a074">STYL_BOX</a>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[12], *p = buf;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        bytestream_put_be32(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count * <a class="code" href="movtextenc_8c.html#aa94582c751cbb761b2b1f1cb5df4f1a4">STYLE_RECORD_SIZE</a> + <a class="code" href="movtextenc_8c.html#a77ce086f439e4f00e06b8d650d160f62">SIZE_ADD</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        bytestream_put_be32(&amp;p, <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;s&#39;</span>,<span class="charliteral">&#39;t&#39;</span>,<span class="charliteral">&#39;y&#39;</span>,<span class="charliteral">&#39;l&#39;</span>));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        bytestream_put_be16(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="comment">/*The above three attributes are hard coded for now</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">        but will come from ASS style in the future*/</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, buf, 10);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count; j++) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keyword">const</span> <a class="code" href="struct_style_box.html">StyleBox</a> *style = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes[j];</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            p = buf;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            bytestream_put_be16(&amp;p, style-&gt;<a class="code" href="struct_style_box.html#aaaaae63561d1882bb11b23418202dd82">style_start</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            bytestream_put_be16(&amp;p, style-&gt;<a class="code" href="struct_style_box.html#ae231342604f2da1434ca1eac94ca3706">style_end</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            bytestream_put_be16(&amp;p, style-&gt;<a class="code" href="struct_style_box.html#a570899f9f86b0649e83273187068282c">style_fontID</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            bytestream_put_byte(&amp;p, style-&gt;<a class="code" href="struct_style_box.html#a0ccd65364a331e11bb7436b1d107fff8">style_flag</a>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            bytestream_put_byte(&amp;p, style-&gt;<a class="code" href="struct_style_box.html#a147f559d51c0263bfc77c804bc833ba6">style_fontsize</a>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            bytestream_put_be32(&amp;p, style-&gt;<a class="code" href="struct_style_box.html#a8e6692505a293df8b0b0cd46ccfaeeb8">style_color</a>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <a class="code" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, buf, 12);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="movtextenc_8c.html#ad6b749bcf51a6ea3548e539b8e7cf838">mov_text_cleanup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a413fbd64ccadd6e4ee009b8befdc8427">  133</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a413fbd64ccadd6e4ee009b8befdc8427">encode_hlit</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags &amp; <a class="code" href="movtextenc_8c.html#a41431245d5c33a5ef4f2aec9b990b75d">HLIT_BOX</a>) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[12], *p = buf;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        bytestream_put_be32(&amp;p, 12);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        bytestream_put_be32(&amp;p, <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;h&#39;</span>,<span class="charliteral">&#39;l&#39;</span>,<span class="charliteral">&#39;i&#39;</span>,<span class="charliteral">&#39;t&#39;</span>));</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        bytestream_put_be16(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hlit.start);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        bytestream_put_be16(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hlit.end);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, buf, 12);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a384653b347a73f62a08d1e6479e47d00">  147</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a384653b347a73f62a08d1e6479e47d00">encode_hclr</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags &amp; <a class="code" href="movtextenc_8c.html#a68f0fb3802be74974897b6306ffab04d">HCLR_BOX</a>) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[12], *p = buf;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        bytestream_put_be32(&amp;p, 12);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        bytestream_put_be32(&amp;p, <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;h&#39;</span>,<span class="charliteral">&#39;c&#39;</span>,<span class="charliteral">&#39;l&#39;</span>,<span class="charliteral">&#39;r&#39;</span>));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        bytestream_put_be32(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hclr.color);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, buf, 12);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a40a82f68137da33db97824edc9573f40">  160</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_box.html">Box</a> <a class="code" href="movtextenc_8c.html#a40a82f68137da33db97824edc9573f40">box_types</a>[] = {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    { <a class="code" href="movtextenc_8c.html#ab0ce406386dd53bac61989e586d3dceb">encode_styl</a> },</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    { <a class="code" href="movtextenc_8c.html#a413fbd64ccadd6e4ee009b8befdc8427">encode_hlit</a> },</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    { <a class="code" href="movtextenc_8c.html#a384653b347a73f62a08d1e6479e47d00">encode_hclr</a> },</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;};</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#aa002a38dcb309573e387c98af2559c5b">  166</a></span>&#160;<span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="movtextenc_8c.html#aa002a38dcb309573e387c98af2559c5b">box_count</a> = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="movtextenc_8c.html#a40a82f68137da33db97824edc9573f40">box_types</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a130c38e7a0e0f27855381158c9bf5ee2">  168</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="movtextenc_8c.html#a130c38e7a0e0f27855381158c9bf5ee2">mov_text_encode_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="ass__split_8c.html#aedc7be6a5052c23b08c99fc2ea68f428">ff_ass_split_free</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fonts);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="bprint_8c.html#a3fd45f50d9d4f7cc8fed5331a37f47ea">av_bprint_finalize</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a0289a974bbf86f16a0aaf00974e58360">  179</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="movtextenc_8c.html#a0289a974bbf86f16a0aaf00974e58360">encode_sample_description</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="struct_a_s_s.html">ASS</a> *ass;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="struct_a_s_s_style.html">ASSStyle</a> *style;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    uint32_t back_color = 0;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">int</span> font_names_total_len = 0;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[30], *p = buf;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">//  0x00, 0x00, 0x00, 0x00, // uint32_t displayFlags</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">//  0x01,                   // int8_t horizontal-justification</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">//  0xFF,                   // int8_t vertical-justification</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">//  0x00, 0x00, 0x00, 0x00, // uint8_t background-color-rgba[4]</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">//     BoxRecord {</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">//  0x00, 0x00,             // int16_t top</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">//  0x00, 0x00,             // int16_t left</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">//  0x00, 0x00,             // int16_t bottom</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">//  0x00, 0x00,             // int16_t right</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">//     };</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">//     StyleRecord {</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">//  0x00, 0x00,             // uint16_t startChar</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">//  0x00, 0x00,             // uint16_t endChar</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">//  0x00, 0x01,             // uint16_t font-ID</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">//  0x00,                   // uint8_t face-style-flags</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">//  0x12,                   // uint8_t font-size</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">//  0xFF, 0xFF, 0xFF, 0xFF, // uint8_t text-color-rgba[4]</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">//     };</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">//     FontTableBox {</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">//  0x00, 0x00, 0x00, 0x12, // uint32_t size</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">//  &#39;f&#39;, &#39;t&#39;, &#39;a&#39;, &#39;b&#39;,     // uint8_t name[4]</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//  0x00, 0x01,             // uint16_t entry-count</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">//     FontRecord {</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">//  0x00, 0x01,             // uint16_t font-ID</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">//  0x05,                   // uint8_t font-name-length</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">//  &#39;S&#39;, &#39;e&#39;, &#39;r&#39;, &#39;i&#39;, &#39;f&#39;,// uint8_t font[font-name-length]</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">//     };</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">//     };</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// Populate sample description from ASS header</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    ass = (<a class="code" href="struct_a_s_s.html">ASS</a>*)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// Compute font scaling factor based on (optionally) provided</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// output video height and ASS script play_res_y</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_height &amp;&amp; ass-&gt;<a class="code" href="struct_a_s_s.html#a89bb9b31164c39198c49141511144903">script_info</a>.<a class="code" href="struct_a_s_s_script_info.html#a2a722856bbff017f8e02a03d6fa8260a">play_res_y</a>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_scale_factor = (double)<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frame_height / ass-&gt;<a class="code" href="struct_a_s_s.html#a89bb9b31164c39198c49141511144903">script_info</a>.<a class="code" href="struct_a_s_s_script_info.html#a2a722856bbff017f8e02a03d6fa8260a">play_res_y</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_scale_factor = 1;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    style = <a class="code" href="ass__split_8c.html#ad37336f52c864376000c369ba3f296cf">ff_ass_style_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx, <span class="stringliteral">&quot;Default&quot;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (!style &amp;&amp; ass-&gt;<a class="code" href="struct_a_s_s.html#a4fa5ebc91c18255b400e33f9e2433de8">styles_count</a>) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        style = &amp;ass-&gt;<a class="code" href="struct_a_s_s.html#a6f6587edbbfc6ef804c61649cec54cc8">styles</a>[0];</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_fontID   = <a class="code" href="movtextenc_8c.html#a59ef8dffb309f8de90e712e9c45c49d5">DEFAULT_STYLE_FONT_ID</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_fontsize = <a class="code" href="movtextenc_8c.html#aef63e06ba674f756e783df85f8269859">DEFAULT_STYLE_FONTSIZE</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_color    = <a class="code" href="movtextenc_8c.html#a7e56f91fdd7c750baa9ee67952492b7b">DEFAULT_STYLE_COLOR</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_flag     = <a class="code" href="movtextenc_8c.html#ad258ce07417a0e1256bc2f55cba09f9f">DEFAULT_STYLE_FLAG</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (style) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_fontsize = <a class="code" href="movtextenc_8c.html#a043f5f30474f70e4bd99046d7dca6433">FONTSIZE_SCALE</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, style-&gt;<a class="code" href="struct_a_s_s_style.html#ad03fa8c33b80c6dd87af784f39dceed3">font_size</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_color = <a class="code" href="movtextenc_8c.html#a8134eb4e2b10bdba57e49126ca2a37e9">BGR_TO_RGB</a>(style-&gt;<a class="code" href="struct_a_s_s_style.html#a37798ce14c8aea3dee83d85c7cb1e16b">primary_color</a> &amp; 0xffffff) &lt;&lt; 8 |</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                           255 - ((uint32_t)style-&gt;<a class="code" href="struct_a_s_s_style.html#a37798ce14c8aea3dee83d85c7cb1e16b">primary_color</a> &gt;&gt; 24);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_flag = (!!style-&gt;<a class="code" href="struct_a_s_s_style.html#a45926ade9f779562ff36c9af65fe6f40">bold</a>      * <a class="code" href="movtextenc_8c.html#a8ce1c3f919e90e2d2f1238e24bbbd34c">STYLE_FLAG_BOLD</a>)   |</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                          (!!style-&gt;<a class="code" href="struct_a_s_s_style.html#a37b79ae52c78ce7b60ac1eebe7f9456d">italic</a>    * <a class="code" href="movtextenc_8c.html#a7d52f7990836f426544707c983667490">STYLE_FLAG_ITALIC</a>) |</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                          (!!style-&gt;<a class="code" href="struct_a_s_s_style.html#a462ffb3528f52ef0c54211e10745ed14">underline</a> * <a class="code" href="movtextenc_8c.html#a117b4271594156da6a8e45082ab5cab9">STYLE_FLAG_UNDERLINE</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        back_color = (<a class="code" href="movtextenc_8c.html#a8134eb4e2b10bdba57e49126ca2a37e9">BGR_TO_RGB</a>(style-&gt;<a class="code" href="struct_a_s_s_style.html#ab27c56bf033abe199fca80d123779cdc">back_color</a> &amp; 0xffffff) &lt;&lt; 8) |</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                     (255 - ((uint32_t)style-&gt;<a class="code" href="struct_a_s_s_style.html#ab27c56bf033abe199fca80d123779cdc">back_color</a> &gt;&gt; 24));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    bytestream_put_be32(&amp;p, 0); <span class="comment">// displayFlags</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    bytestream_put_be16(&amp;p, 0x01FF); <span class="comment">// horizontal/vertical justification (2x int8_t)</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    bytestream_put_be32(&amp;p, back_color);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    bytestream_put_be64(&amp;p, 0); <span class="comment">// BoxRecord - 4xint16_t: top, left, bottom, right</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">//     StyleRecord {</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    bytestream_put_be16(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_start);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    bytestream_put_be16(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_end);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    bytestream_put_be16(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_fontID);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    bytestream_put_byte(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_flag);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    bytestream_put_byte(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_fontsize);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    bytestream_put_be32(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_color);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">//     };</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, buf, 30);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// Build font table</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// We can&#39;t build a complete font table since that would require</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// scanning all dialogs first.  But we can at least fill in what</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// is avaiable in the ASS header</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (style &amp;&amp; ass-&gt;<a class="code" href="struct_a_s_s.html#a4fa5ebc91c18255b400e33f9e2433de8">styles_count</a>) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="comment">// Find unique font names</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (style-&gt;<a class="code" href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">font_name</a>) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <a class="code" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fonts, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_count, style-&gt;<a class="code" href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">font_name</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            font_names_total_len += strlen(style-&gt;<a class="code" href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">font_name</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ass-&gt;<a class="code" href="struct_a_s_s.html#a4fa5ebc91c18255b400e33f9e2433de8">styles_count</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordtype">int</span> found = 0;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">if</span> (!ass-&gt;<a class="code" href="struct_a_s_s.html#a6f6587edbbfc6ef804c61649cec54cc8">styles</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">font_name</a>)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_count; j++) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">if</span> (!strcmp(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fonts[j], ass-&gt;<a class="code" href="struct_a_s_s.html#a6f6587edbbfc6ef804c61649cec54cc8">styles</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">font_name</a>)) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    found = 1;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">if</span> (!found) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <a class="code" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fonts, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_count,</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                           ass-&gt;<a class="code" href="struct_a_s_s.html#a6f6587edbbfc6ef804c61649cec54cc8">styles</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">font_name</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                font_names_total_len += strlen(ass-&gt;<a class="code" href="struct_a_s_s.html#a6f6587edbbfc6ef804c61649cec54cc8">styles</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">font_name</a>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fonts, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_count, (<span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Serif&quot;</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">//     FontTableBox {</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    p = buf;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    bytestream_put_be32(&amp;p, <a class="code" href="movtextenc_8c.html#a77ce086f439e4f00e06b8d650d160f62">SIZE_ADD</a> + 3 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_count + font_names_total_len); <span class="comment">// Size</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    bytestream_put_be32(&amp;p, <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;f&#39;</span>,<span class="charliteral">&#39;t&#39;</span>,<span class="charliteral">&#39;a&#39;</span>,<span class="charliteral">&#39;b&#39;</span>));</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    bytestream_put_be16(&amp;p, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_count);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, buf, 10);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">//     FontRecord {</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_count; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordtype">size_t</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = strlen(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fonts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        p = buf;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        bytestream_put_be16(&amp;p, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1); <span class="comment">//fontID</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        bytestream_put_byte(&amp;p, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <a class="code" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, buf, 3);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fonts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">//     };</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">//     };</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer)) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer.len;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    memcpy(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer.str, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="bprint_8c.html#ab1c28dbff5990dbd37e6c00e3d7c438b">av_bprint_clear</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#aacd085ccf844a43eebd928b8a3a0ed05">  326</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="movtextenc_8c.html#aacd085ccf844a43eebd928b8a3a0ed05">mov_text_encode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;{</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx = avctx;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="bprint_8c.html#a26abc84daea3189592c511fc26067d66">av_bprint_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, 0, <a class="code" href="bprint_8h.html#a01aefbce0615a828eae24135a9b35c45">AV_BPRINT_SIZE_UNLIMITED</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx = <a class="code" href="ass__split_8c.html#a621afc0c86b4ea21a22a967e290ab850">ff_ass_split</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab781cbaef6311226481e65a7f1a6d049">subtitle_header</a>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="movtextenc_8c.html#a0289a974bbf86f16a0aaf00974e58360">encode_sample_description</a>(avctx);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">// Start a new style box if needed</span></div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">  345</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// there&#39;s an existing style entry</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_start == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment">// Still at same text pos, use same entry</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_flag     != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_flag   ||</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color    != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_color  ||</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_fontID   != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_fontID ||</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_fontsize != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d.style_fontsize) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="struct_style_box.html">StyleBox</a> *tmp;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="comment">// last style != defaults, end the style entry and start a new one</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count + 1 &gt; SIZE_MAX / <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes) ||</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            !(tmp = <a class="code" href="group__lavu__mem__funcs.html#ga869fd8884d8d29a7a4910d879926d94a">av_fast_realloc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes,</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                    &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_bytes_allocated,</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                    (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count + 1) * <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes)))) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <a class="code" href="movtextenc_8c.html#ad6b749bcf51a6ea3548e539b8e7cf838">mov_text_cleanup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <a class="code" href="bprint_8c.html#ab1c28dbff5990dbd37e6c00e3d7c438b">av_bprint_clear</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags &amp;= ~<a class="code" href="movtextenc_8c.html#aa3a219d4054f4ba07abc1675c490a074">STYL_BOX</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes = tmp;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_end = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count++] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags |= <a class="code" href="movtextenc_8c.html#aa3a219d4054f4ba07abc1675c490a074">STYL_BOX</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_start = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// style entry matches defaults, drop entry</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;d;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_start = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a090241ede49fff58cdba8d49fc65ae98">  380</a></span>&#160;<span class="keyword">static</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="movtextenc_8c.html#a090241ede49fff58cdba8d49fc65ae98">mov_text_style_to_flag</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> style)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> style_flag = 0;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">switch</span> (style){</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        style_flag = <a class="code" href="movtextenc_8c.html#a8ce1c3f919e90e2d2f1238e24bbbd34c">STYLE_FLAG_BOLD</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        style_flag = <a class="code" href="movtextenc_8c.html#a7d52f7990836f426544707c983667490">STYLE_FLAG_ITALIC</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>:</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        style_flag = <a class="code" href="movtextenc_8c.html#a117b4271594156da6a8e45082ab5cab9">STYLE_FLAG_UNDERLINE</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">return</span> style_flag;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#ad20e64559ed44072e9ef77ebc0427deb">  398</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#ad20e64559ed44072e9ef77ebc0427deb">mov_text_style_set</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> style_flags)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (!((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_flag &amp; style_flags) ^ style_flags)) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="comment">// setting flags that that are already set</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>))</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_flag |= style_flags;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a76e6c0a36343ccdab79af47edab45b66">  408</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a76e6c0a36343ccdab79af47edab45b66">mov_text_style_cb</a>(<span class="keywordtype">void</span> *priv, <span class="keyword">const</span> <span class="keywordtype">char</span> style, <span class="keywordtype">int</span> close)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;{</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = priv;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> style_flag = <a class="code" href="movtextenc_8c.html#a090241ede49fff58cdba8d49fc65ae98">mov_text_style_to_flag</a>(style);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (!!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_flag &amp; style_flag) != close) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">// setting flag that is already set</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">if</span> (!close)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_flag |= style_flag;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_flag &amp;= ~style_flag;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a2a7c88ba182c310b8a210c6b86fd55bf">  425</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a2a7c88ba182c310b8a210c6b86fd55bf">mov_text_color_set</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, uint32_t <a class="code" href="structcolor.html">color</a>)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color &amp; 0xffffff00) == <a class="code" href="structcolor.html">color</a>) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="comment">// color hasn&#39;t changed</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>))</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color = (<a class="code" href="structcolor.html">color</a> &amp; 0xffffff00) |</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                            (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color &amp; 0xff);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a29c6d4549bb171d9276c4008c0e05785">  436</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a29c6d4549bb171d9276c4008c0e05785">mov_text_color_cb</a>(<span class="keywordtype">void</span> *priv, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcolor.html">color</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> color_id)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = priv;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="structcolor.html">color</a> = <a class="code" href="movtextenc_8c.html#a8134eb4e2b10bdba57e49126ca2a37e9">BGR_TO_RGB</a>(<a class="code" href="structcolor.html">color</a>) &lt;&lt; 8;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (color_id == 1) {    <span class="comment">//primary color changes</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="movtextenc_8c.html#a2a7c88ba182c310b8a210c6b86fd55bf">mov_text_color_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="structcolor.html">color</a>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (color_id == 2) {    <span class="comment">//secondary color changes</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags &amp; <a class="code" href="movtextenc_8c.html#a68f0fb3802be74974897b6306ffab04d">HCLR_BOX</a>))</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="comment">// Highlight alpha not set yet, use current primary alpha</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hclr.color = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags &amp; <a class="code" href="movtextenc_8c.html#a41431245d5c33a5ef4f2aec9b990b75d">HLIT_BOX</a>) || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hlit.start == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags |= <a class="code" href="movtextenc_8c.html#a68f0fb3802be74974897b6306ffab04d">HCLR_BOX</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags |= <a class="code" href="movtextenc_8c.html#a41431245d5c33a5ef4f2aec9b990b75d">HLIT_BOX</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hlit.start = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hclr.color = <a class="code" href="structcolor.html">color</a> | (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hclr.color &amp; 0xFF);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">else</span> <span class="comment">//close tag</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hlit.end = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="comment">/* If there are more than one secondary color changes in ASS,</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">           take start of first section and end of last section. Movtext</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">           allows only one highlight box per sample.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">// Movtext does not support changes to other color_id (outline, background)</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a2f51ed7973ec35985ed1a761ab456c61">  463</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a2f51ed7973ec35985ed1a761ab456c61">mov_text_alpha_set</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color &amp; 0xff) == <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="comment">// color hasn&#39;t changed</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>))</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color =</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color &amp; 0xffffff00) | <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#ac725354db736d0249973f05e950fb27e">  474</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#ac725354db736d0249973f05e950fb27e">mov_text_alpha_cb</a>(<span class="keywordtype">void</span> *priv, <span class="keywordtype">int</span> <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>, <span class="keywordtype">int</span> alpha_id)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = priv;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> = 255 - <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (alpha_id == 1) <span class="comment">// primary alpha changes</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="movtextenc_8c.html#a2f51ed7973ec35985ed1a761ab456c61">mov_text_alpha_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (alpha_id == 2) {    <span class="comment">//secondary alpha changes</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags &amp; <a class="code" href="movtextenc_8c.html#a68f0fb3802be74974897b6306ffab04d">HCLR_BOX</a>))</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="comment">// Highlight color not set yet, use current primary color</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hclr.color = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_color;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags &amp; <a class="code" href="movtextenc_8c.html#a41431245d5c33a5ef4f2aec9b990b75d">HLIT_BOX</a>) || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hlit.start == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags |= <a class="code" href="movtextenc_8c.html#a68f0fb3802be74974897b6306ffab04d">HCLR_BOX</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags |= <a class="code" href="movtextenc_8c.html#a41431245d5c33a5ef4f2aec9b990b75d">HLIT_BOX</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hlit.start = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hclr.color = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hclr.color &amp; 0xffffff00) | <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">else</span> <span class="comment">//close tag</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hlit.end = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// Movtext does not support changes to other alpha_id (outline, background)</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#aca1bdae3ed3061e5910c070ae067a172">  497</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="movtextenc_8c.html#aca1bdae3ed3061e5910c070ae067a172">find_font_id</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;{</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;font_count; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">if</span> (!strcmp(<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fonts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a702c7590ae404f09845b35cc994c754f">  507</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a702c7590ae404f09845b35cc994c754f">mov_text_font_name_set</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;{</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordtype">int</span> fontID = <a class="code" href="movtextenc_8c.html#aca1bdae3ed3061e5910c070ae067a172">find_font_id</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_fontID == fontID) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="comment">// color hasn&#39;t changed</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>))</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_fontID = fontID;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a28bfd062223570d855f4699efe17995f">  518</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a28bfd062223570d855f4699efe17995f">mov_text_font_name_cb</a>(<span class="keywordtype">void</span> *priv, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;{</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="movtextenc_8c.html#a702c7590ae404f09845b35cc994c754f">mov_text_font_name_set</a>((<a class="code" href="struct_mov_text_context.html">MovTextContext</a>*)priv, <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;}</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a9e29fdaf2e1e273402e71f61b44f7292">  523</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a9e29fdaf2e1e273402e71f61b44f7292">mov_text_font_size_set</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="movtextenc_8c.html#a043f5f30474f70e4bd99046d7dca6433">FONTSIZE_SCALE</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_fontsize == <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">// color hasn&#39;t changed</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>))</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;style_attributes_temp.style_fontsize = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a10257c6d0f974783947e28b61d76ad2a">  534</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a10257c6d0f974783947e28b61d76ad2a">mov_text_font_size_cb</a>(<span class="keywordtype">void</span> *priv, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;{</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="movtextenc_8c.html#a9e29fdaf2e1e273402e71f61b44f7292">mov_text_font_size_set</a>((<a class="code" href="struct_mov_text_context.html">MovTextContext</a>*)priv, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a3efddf3ce4fd2c4c736bbafa91ca4878">  539</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a3efddf3ce4fd2c4c736bbafa91ca4878">mov_text_end_cb</a>(<span class="keywordtype">void</span> *priv)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;{</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">// End of text, close any open style record</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>((<a class="code" href="struct_mov_text_context.html">MovTextContext</a>*)priv);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#aacc4741073e8d2f3e5eefc8bf542916d">  545</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#aacc4741073e8d2f3e5eefc8bf542916d">mov_text_ass_style_set</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_s_s_style.html">ASSStyle</a> *style)</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>    style_flags, <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    uint32_t   <a class="code" href="log_8c.html#a3b4f0685dba79673184dceeecd4ca93f">color</a>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">if</span> (style) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        style_flags = (!!style-&gt;<a class="code" href="struct_a_s_s_style.html#a45926ade9f779562ff36c9af65fe6f40">bold</a>      * <a class="code" href="movtextenc_8c.html#a8ce1c3f919e90e2d2f1238e24bbbd34c">STYLE_FLAG_BOLD</a>)   |</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                      (!!style-&gt;<a class="code" href="struct_a_s_s_style.html#a37b79ae52c78ce7b60ac1eebe7f9456d">italic</a>    * <a class="code" href="movtextenc_8c.html#a7d52f7990836f426544707c983667490">STYLE_FLAG_ITALIC</a>) |</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                      (!!style-&gt;<a class="code" href="struct_a_s_s_style.html#a462ffb3528f52ef0c54211e10745ed14">underline</a> * <a class="code" href="movtextenc_8c.html#a117b4271594156da6a8e45082ab5cab9">STYLE_FLAG_UNDERLINE</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="movtextenc_8c.html#ad20e64559ed44072e9ef77ebc0427deb">mov_text_style_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, style_flags);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <a class="code" href="structcolor.html">color</a> = <a class="code" href="movtextenc_8c.html#a8134eb4e2b10bdba57e49126ca2a37e9">BGR_TO_RGB</a>(style-&gt;<a class="code" href="struct_a_s_s_style.html#a37798ce14c8aea3dee83d85c7cb1e16b">primary_color</a> &amp; 0xffffff) &lt;&lt; 8;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="movtextenc_8c.html#a2a7c88ba182c310b8a210c6b86fd55bf">mov_text_color_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="structcolor.html">color</a>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> = 255 - ((uint32_t)style-&gt;<a class="code" href="struct_a_s_s_style.html#a37798ce14c8aea3dee83d85c7cb1e16b">primary_color</a> &gt;&gt; 24);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="movtextenc_8c.html#a2f51ed7973ec35985ed1a761ab456c61">mov_text_alpha_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="movtextenc_8c.html#a9e29fdaf2e1e273402e71f61b44f7292">mov_text_font_size_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, style-&gt;<a class="code" href="struct_a_s_s_style.html#ad03fa8c33b80c6dd87af784f39dceed3">font_size</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="movtextenc_8c.html#a702c7590ae404f09845b35cc994c754f">mov_text_font_name_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, style-&gt;<a class="code" href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">font_name</a>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">// End current style record, go back to defaults</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a4558db16f503d5a568a9faf8c8ee2cab">  567</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a4558db16f503d5a568a9faf8c8ee2cab">mov_text_dialog</a>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_s_s_dialog.html">ASSDialog</a> *dialog)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;{</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="struct_a_s_s_style.html">ASSStyle</a> *style = <a class="code" href="ass__split_8c.html#ad37336f52c864376000c369ba3f296cf">ff_ass_style_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx, dialog-&gt;<a class="code" href="struct_a_s_s_dialog.html#a5f45069b69564474e85e6eb982ebf584">style</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_dialog_style = style;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="movtextenc_8c.html#aacc4741073e8d2f3e5eefc8bf542916d">mov_text_ass_style_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, style);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a6e89209d809240214d6573c140d7a5e6">  575</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a6e89209d809240214d6573c140d7a5e6">mov_text_cancel_overrides_cb</a>(<span class="keywordtype">void</span> *priv, <span class="keyword">const</span> <span class="keywordtype">char</span> *style_name)</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = priv;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="struct_a_s_s_style.html">ASSStyle</a> *style;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">if</span> (!style_name || !*style_name)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        style = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_dialog_style;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        style= <a class="code" href="ass__split_8c.html#ad37336f52c864376000c369ba3f296cf">ff_ass_style_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx, style_name);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="movtextenc_8c.html#aacc4741073e8d2f3e5eefc8bf542916d">mov_text_ass_style_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, style);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a02f074e95d0b49710cd7549055b87410">  588</a></span>&#160;<span class="keyword">static</span> uint16_t <a class="code" href="movtextenc_8c.html#a02f074e95d0b49710cd7549055b87410">utf8_strlen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;{</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    uint16_t <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = text[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &amp; 0x80) == 0)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 1;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &amp; 0xE0) == 0xC0)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 2;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &amp; 0xF0) == 0xE0)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 3;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> &amp; 0xF8) == 0xF0)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 4;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>++;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a500077d46cf60cb55286404da88de936">  608</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#a500077d46cf60cb55286404da88de936">mov_text_text_cb</a>(<span class="keywordtype">void</span> *priv, <span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;{</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    uint16_t utf8_len = <a class="code" href="movtextenc_8c.html#a02f074e95d0b49710cd7549055b87410">utf8_strlen</a>(text, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = priv;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="bprint_8c.html#aa215ba46a975d996e483cf0b9dcc85e5">av_bprint_append_data</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, text, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">// If it&#39;s not utf-8, just use the byte length</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos += utf8_len ? utf8_len : <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;byte_count += <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#aba973b395e662e45ef12a13359e6df5b">  618</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="movtextenc_8c.html#aba973b395e662e45ef12a13359e6df5b">mov_text_new_line_cb</a>(<span class="keywordtype">void</span> *priv, <span class="keywordtype">int</span> forced)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = priv;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <a class="code" href="bprint_8c.html#aa215ba46a975d996e483cf0b9dcc85e5">av_bprint_append_data</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer, <span class="stringliteral">&quot;\n&quot;</span>, 1);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos += 1;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;byte_count += 1;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a5bf15f26ddfc48e5e522501039b5ed27">  626</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_s_s_codes_callbacks.html">ASSCodesCallbacks</a> <a class="code" href="movtextenc_8c.html#a5bf15f26ddfc48e5e522501039b5ed27">mov_text_callbacks</a> = {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    .<a class="code" href="group__ass__styles.html#ga96519a890973431f3fb7a3842fbc9a29">text</a>             = <a class="code" href="movtextenc_8c.html#a500077d46cf60cb55286404da88de936">mov_text_text_cb</a>,</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    .new_line         = <a class="code" href="movtextenc_8c.html#aba973b395e662e45ef12a13359e6df5b">mov_text_new_line_cb</a>,</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    .style            = <a class="code" href="movtextenc_8c.html#a76e6c0a36343ccdab79af47edab45b66">mov_text_style_cb</a>,</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    .color            = <a class="code" href="movtextenc_8c.html#a29c6d4549bb171d9276c4008c0e05785">mov_text_color_cb</a>,</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    .alpha            = <a class="code" href="movtextenc_8c.html#ac725354db736d0249973f05e950fb27e">mov_text_alpha_cb</a>,</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    .font_name        = <a class="code" href="movtextenc_8c.html#a28bfd062223570d855f4699efe17995f">mov_text_font_name_cb</a>,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    .font_size        = <a class="code" href="movtextenc_8c.html#a10257c6d0f974783947e28b61d76ad2a">mov_text_font_size_cb</a>,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    .cancel_overrides = <a class="code" href="movtextenc_8c.html#a6e89209d809240214d6573c140d7a5e6">mov_text_cancel_overrides_cb</a>,</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    .end              = <a class="code" href="movtextenc_8c.html#a3efddf3ce4fd2c4c736bbafa91ca4878">mov_text_end_cb</a>,</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;};</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a1730c00b03bc3d9bb1366474bb26fe29">  638</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="movtextenc_8c.html#a1730c00b03bc3d9bb1366474bb26fe29">mov_text_encode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *buf,</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                                 <span class="keywordtype">int</span> bufsize, <span class="keyword">const</span> <a class="code" href="struct_a_v_subtitle.html">AVSubtitle</a> *<a class="code" href="dnn__backend__native__layer__mathbinary_8c.html#aec238e230db0cd41b80558db403931dd">sub</a>)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="struct_mov_text_context.html">MovTextContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="struct_a_s_s_dialog.html">ASSDialog</a> *dialog;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, length;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordtype">size_t</span> j;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;byte_count = 0;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;text_pos = 0;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;count = 0;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;box_flags = 0;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dnn__backend__native__layer__mathbinary_8c.html#aec238e230db0cd41b80558db403931dd">sub</a>-&gt;num_rects; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *ass = <a class="code" href="dnn__backend__native__layer__mathbinary_8c.html#aec238e230db0cd41b80558db403931dd">sub</a>-&gt;rects[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;ass;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dnn__backend__native__layer__mathbinary_8c.html#aec238e230db0cd41b80558db403931dd">sub</a>-&gt;rects[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;type != <a class="code" href="group__lavc__core.html#gga828218dcb8874ab2c5af8d486c365421a3fd131173f80938f3d30f99977aa455a">SUBTITLE_ASS</a>) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Only SUBTITLE_ASS type supported.\n&quot;</span>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="preprocessor">#if FF_API_ASS_TIMING</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">if</span> (!strncmp(ass, <span class="stringliteral">&quot;Dialogue: &quot;</span>, 10)) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordtype">int</span> num;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            dialog = <a class="code" href="ass__split_8c.html#a59ddc1ccab12eb76bbaeebb2a6dfe0c4">ff_ass_split_dialog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx, ass, 0, &amp;num);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="keywordflow">for</span> (; dialog &amp;&amp; num--; dialog++) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <a class="code" href="movtextenc_8c.html#a4558db16f503d5a568a9faf8c8ee2cab">mov_text_dialog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dialog);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <a class="code" href="ass__split_8c.html#a5d6ed30e565864a6d07a3a7b1665aac1">ff_ass_split_override_codes</a>(&amp;<a class="code" href="movtextenc_8c.html#a5bf15f26ddfc48e5e522501039b5ed27">mov_text_callbacks</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dialog-&gt;<a class="code" href="struct_a_s_s_dialog.html#a88222c698cff67bc4e8735586f5eb61f">text</a>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            dialog = <a class="code" href="ass__split_8c.html#a47db215ab1d87a7cdfcd0d42131d9fd5">ff_ass_split_dialog2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ass_ctx, ass);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="keywordflow">if</span> (!dialog)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="movtextenc_8c.html#a4558db16f503d5a568a9faf8c8ee2cab">mov_text_dialog</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dialog);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <a class="code" href="ass__split_8c.html#a5d6ed30e565864a6d07a3a7b1665aac1">ff_ass_split_override_codes</a>(&amp;<a class="code" href="movtextenc_8c.html#a5bf15f26ddfc48e5e522501039b5ed27">mov_text_callbacks</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dialog-&gt;<a class="code" href="struct_a_s_s_dialog.html#a88222c698cff67bc4e8735586f5eb61f">text</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            <a class="code" href="ass__split_8c.html#a553de99f07487ca81fdb186b7f23d778">ff_ass_free_dialog</a>(&amp;dialog);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="preprocessor">#if FF_API_ASS_TIMING</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="movtextenc_8c.html#aa002a38dcb309573e387c98af2559c5b">box_count</a>; j++) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <a class="code" href="movtextenc_8c.html#a40a82f68137da33db97824edc9573f40">box_types</a>[j].<a class="code" href="struct_box.html#a1670cac7a1da22c47e0418f697154cf9">encode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;byte_count);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    buf += 2;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer)) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        length = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer.len) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        length = 0;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer.len &gt; bufsize - 3) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Buffer too small for ASS event.\n&quot;</span>);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        length = <a class="code" href="group__lavu__error.html#ga76077a6d42ee211f59712485bd977e40">AVERROR_BUFFER_TOO_SMALL</a>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    memcpy(buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer.str, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer.len);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    length = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer.len + 2;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;exit:</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="bprint_8c.html#ab1c28dbff5990dbd37e6c00e3d7c438b">av_bprint_clear</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buffer);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">  710</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(MovTextContext, x)</span></div>
<div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">  711</a></span>&#160;<span class="preprocessor">#define FLAGS AV_OPT_FLAG_ENCODING_PARAM | AV_OPT_FLAG_SUBTITLE_PARAM</span></div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">  712</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="movtextenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    { <span class="stringliteral">&quot;height&quot;</span>, <span class="stringliteral">&quot;Frame height, usually video height&quot;</span>, <a class="code" href="movtextenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(frame_height), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64=0}, 0, INT_MAX, <a class="code" href="movtextenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a> },</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;};</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a67aed0bbca9cc3a1714d3e5dcdc2fee1">  717</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="movtextenc_8c.html#a67aed0bbca9cc3a1714d3e5dcdc2fee1">mov_text_encoder_class</a> = {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;MOV text enoder&quot;</span>,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    .option     = <a class="code" href="movtextenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;};</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="movtextenc_8c.html#a22c01fc2780fe49f7d764b9ccd8a3ab3">  724</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="movtextenc_8c.html#a22c01fc2780fe49f7d764b9ccd8a3ab3">ff_movtext_encoder</a> = {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;mov_text&quot;</span>,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;3GPP Timed Text subtitle&quot;</span>),</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a>,</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceafef6fb0a89aaa9a74c24129f380da853">AV_CODEC_ID_MOV_TEXT</a>,</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="struct_mov_text_context.html">MovTextContext</a>),</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    .priv_class     = &amp;<a class="code" href="movtextenc_8c.html#a67aed0bbca9cc3a1714d3e5dcdc2fee1">mov_text_encoder_class</a>,</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="movtextenc_8c.html#aacd085ccf844a43eebd928b8a3a0ed05">mov_text_encode_init</a>,</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    .encode_sub     = <a class="code" href="movtextenc_8c.html#a1730c00b03bc3d9bb1366474bb26fe29">mov_text_encode_frame</a>,</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    .close          = <a class="code" href="movtextenc_8c.html#a130c38e7a0e0f27855381158c9bf5ee2">mov_text_encode_close</a>,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    .caps_internal  = <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48aa64a67386a9c53360744b86e4707b831">AVMEDIA_TYPE_SUBTITLE</a></div><div class="ttdeci">@ AVMEDIA_TYPE_SUBTITLE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00204">avutil.h:204</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_ae4d1eaaee02fc6c4672f59dcf7255286"><div class="ttname"><a href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a></div><div class="ttdeci">#define AV_WB16(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00245">intreadwrite.h:245</a></div></div>
<div class="ttc" id="abprint_8h_html_a01aefbce0615a828eae24135a9b35c45"><div class="ttname"><a href="bprint_8h.html#a01aefbce0615a828eae24135a9b35c45">AV_BPRINT_SIZE_UNLIMITED</a></div><div class="ttdeci">#define AV_BPRINT_SIZE_UNLIMITED</div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_adb27990ed3d4ad300fd1dde281903508"><div class="ttname"><a href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option name</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00088">writing_filters.txt:88</a></div></div>
<div class="ttc" id="astruct_hilightcolor_box_html_a9c2d3ec74b2db4050226576a778a998f"><div class="ttname"><a href="struct_hilightcolor_box.html#a9c2d3ec74b2db4050226576a778a998f">HilightcolorBox::color</a></div><div class="ttdeci">uint32_t color</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00069">movtextenc.c:69</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="aass__split_8c_html_a59ddc1ccab12eb76bbaeebb2a6dfe0c4"><div class="ttname"><a href="ass__split_8c.html#a59ddc1ccab12eb76bbaeebb2a6dfe0c4">ff_ass_split_dialog</a></div><div class="ttdeci">ASSDialog * ff_ass_split_dialog(ASSSplitContext *ctx, const char *buf, int cache, int *number)</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8c_source.html#l00413">ass_split.c:413</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html"><div class="ttname"><a href="struct_mov_text_context.html">MovTextContext</a></div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00100">movtextdec.c:100</a></div></div>
<div class="ttc" id="abprint_8c_html_a3fd45f50d9d4f7cc8fed5331a37f47ea"><div class="ttname"><a href="bprint_8c.html#a3fd45f50d9d4f7cc8fed5331a37f47ea">av_bprint_finalize</a></div><div class="ttdeci">int av_bprint_finalize(AVBPrint *buf, char **ret_str)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00235">bprint.c:235</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a4558db16f503d5a568a9faf8c8ee2cab"><div class="ttname"><a href="movtextenc_8c.html#a4558db16f503d5a568a9faf8c8ee2cab">mov_text_dialog</a></div><div class="ttdeci">static void mov_text_dialog(MovTextContext *s, ASSDialog *dialog)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00567">movtextenc.c:567</a></div></div>
<div class="ttc" id="astructcolor_html"><div class="ttname"><a href="structcolor.html">color</a></div><div class="ttdef"><b>Definition:</b> <a href="vf__paletteuse_8c_source.html#l00582">vf_paletteuse.c:582</a></div></div>
<div class="ttc" id="abprint_8c_html_a26abc84daea3189592c511fc26067d66"><div class="ttname"><a href="bprint_8c.html#a26abc84daea3189592c511fc26067d66">av_bprint_init</a></div><div class="ttdeci">void av_bprint_init(AVBPrint *buf, unsigned size_init, unsigned size_max)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00069">bprint.c:69</a></div></div>
<div class="ttc" id="adnn__backend__native__layer__mathbinary_8c_html_aec238e230db0cd41b80558db403931dd"><div class="ttname"><a href="dnn__backend__native__layer__mathbinary_8c.html#aec238e230db0cd41b80558db403931dd">sub</a></div><div class="ttdeci">static float sub(float src0, float src1)</div><div class="ttdef"><b>Definition:</b> <a href="dnn__backend__native__layer__mathbinary_8c_source.html#l00033">dnn_backend_native_layer_mathbinary.c:33</a></div></div>
<div class="ttc" id="astruct_hilightcolor_box_html"><div class="ttname"><a href="struct_hilightcolor_box.html">HilightcolorBox</a></div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00092">movtextdec.c:92</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a6e89209d809240214d6573c140d7a5e6"><div class="ttname"><a href="movtextenc_8c.html#a6e89209d809240214d6573c140d7a5e6">mov_text_cancel_overrides_cb</a></div><div class="ttdeci">static void mov_text_cancel_overrides_cb(void *priv, const char *style_name)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00575">movtextenc.c:575</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a7c1a4b60207be0d925074e2aab44a726"><div class="ttname"><a href="struct_mov_text_context.html#a7c1a4b60207be0d925074e2aab44a726">MovTextContext::count</a></div><div class="ttdeci">unsigned count</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00079">movtextenc.c:79</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a579fedf1509c8b58b6b37e8484745c96"><div class="ttname"><a href="struct_mov_text_context.html#a579fedf1509c8b58b6b37e8484745c96">MovTextContext::font_count</a></div><div class="ttdeci">int font_count</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00090">movtextenc.c:90</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a702c7590ae404f09845b35cc994c754f"><div class="ttname"><a href="movtextenc_8c.html#a702c7590ae404f09845b35cc994c754f">mov_text_font_name_set</a></div><div class="ttdeci">static void mov_text_font_name_set(MovTextContext *s, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00507">movtextenc.c:507</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="movtextenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00712">movtextenc.c:712</a></div></div>
<div class="ttc" id="astruct_box_html"><div class="ttname"><a href="struct_box.html">Box</a></div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00117">movtextdec.c:117</a></div></div>
<div class="ttc" id="astruct_a_s_s_codes_callbacks_html"><div class="ttname"><a href="struct_a_s_s_codes_callbacks.html">ASSCodesCallbacks</a></div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00154">ass_split.h:154</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_aacd085ccf844a43eebd928b8a3a0ed05"><div class="ttname"><a href="movtextenc_8c.html#aacd085ccf844a43eebd928b8a3a0ed05">mov_text_encode_init</a></div><div class="ttdeci">static av_cold int mov_text_encode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00326">movtextenc.c:326</a></div></div>
<div class="ttc" id="abprint_8c_html_aa215ba46a975d996e483cf0b9dcc85e5"><div class="ttname"><a href="bprint_8c.html#aa215ba46a975d996e483cf0b9dcc85e5">av_bprint_append_data</a></div><div class="ttdeci">void av_bprint_append_data(AVBPrint *buf, const char *data, unsigned size)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00158">bprint.c:158</a></div></div>
<div class="ttc" id="astruct_a_s_s_html"><div class="ttname"><a href="struct_a_s_s.html">ASS</a></div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00090">ass_split.h:90</a></div></div>
<div class="ttc" id="astruct_highlight_box_html_a57becd02866fcbbe41139bddb8af4df2"><div class="ttname"><a href="struct_highlight_box.html#a57becd02866fcbbe41139bddb8af4df2">HighlightBox::end</a></div><div class="ttdeci">uint16_t end</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00065">movtextenc.c:65</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="movtextenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00710">movtextenc.c:710</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a2a7c88ba182c310b8a210c6b86fd55bf"><div class="ttname"><a href="movtextenc_8c.html#a2a7c88ba182c310b8a210c6b86fd55bf">mov_text_color_set</a></div><div class="ttdeci">static void mov_text_color_set(MovTextContext *s, uint32_t color)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00425">movtextenc.c:425</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a33c724d9d6242410d2c02b5f43b443ee"><div class="ttname"><a href="struct_mov_text_context.html#a33c724d9d6242410d2c02b5f43b443ee">MovTextContext::fonts</a></div><div class="ttdeci">char ** fonts</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00089">movtextenc.c:89</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a59ef8dffb309f8de90e712e9c45c49d5"><div class="ttname"><a href="movtextenc_8c.html#a59ef8dffb309f8de90e712e9c45c49d5">DEFAULT_STYLE_FONT_ID</a></div><div class="ttdeci">#define DEFAULT_STYLE_FONT_ID</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00045">movtextenc.c:45</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a67aed0bbca9cc3a1714d3e5dcdc2fee1"><div class="ttname"><a href="movtextenc_8c.html#a67aed0bbca9cc3a1714d3e5dcdc2fee1">mov_text_encoder_class</a></div><div class="ttdeci">static const AVClass mov_text_encoder_class</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00717">movtextenc.c:717</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_aa002a38dcb309573e387c98af2559c5b"><div class="ttname"><a href="movtextenc_8c.html#aa002a38dcb309573e387c98af2559c5b">box_count</a></div><div class="ttdeci">static const size_t box_count</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00166">movtextenc.c:166</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gga828218dcb8874ab2c5af8d486c365421a3fd131173f80938f3d30f99977aa455a"><div class="ttname"><a href="group__lavc__core.html#gga828218dcb8874ab2c5af8d486c365421a3fd131173f80938f3d30f99977aa455a">SUBTITLE_ASS</a></div><div class="ttdeci">@ SUBTITLE_ASS</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02654">avcodec.h:2654</a></div></div>
<div class="ttc" id="astruct_a_s_s_dialog_html_a88222c698cff67bc4e8735586f5eb61f"><div class="ttname"><a href="struct_a_s_s_dialog.html#a88222c698cff67bc4e8735586f5eb61f">ASSDialog::text</a></div><div class="ttdeci">char * text</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00082">ass_split.h:82</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae246ca7a1c72c151891ed0599e8dbfba"><div class="ttname"><a href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">AVCodecContext::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00628">avcodec.h:628</a></div></div>
<div class="ttc" id="astruct_a_s_s_html_a4fa5ebc91c18255b400e33f9e2433de8"><div class="ttname"><a href="struct_a_s_s.html#a4fa5ebc91c18255b400e33f9e2433de8">ASS::styles_count</a></div><div class="ttdeci">int styles_count</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00093">ass_split.h:93</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a9e29fdaf2e1e273402e71f61b44f7292"><div class="ttname"><a href="movtextenc_8c.html#a9e29fdaf2e1e273402e71f61b44f7292">mov_text_font_size_set</a></div><div class="ttdeci">static void mov_text_font_size_set(MovTextContext *s, int size)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00523">movtextenc.c:523</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a2f51ed7973ec35985ed1a761ab456c61"><div class="ttname"><a href="movtextenc_8c.html#a2f51ed7973ec35985ed1a761ab456c61">mov_text_alpha_set</a></div><div class="ttdeci">static void mov_text_alpha_set(MovTextContext *s, uint8_t alpha)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00463">movtextenc.c:463</a></div></div>
<div class="ttc" id="aass__split_8h_html"><div class="ttname"><a href="ass__split_8h.html">ass_split.h</a></div></div>
<div class="ttc" id="astruct_a_s_s_dialog_html"><div class="ttname"><a href="struct_a_s_s_dialog.html">ASSDialog</a></div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00071">ass_split.h:71</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a753b1538800e31e7f0476f6e9980f041"><div class="ttname"><a href="struct_mov_text_context.html#a753b1538800e31e7f0476f6e9980f041">MovTextContext::style_attributes_bytes_allocated</a></div><div class="ttdeci">unsigned style_attributes_bytes_allocated</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00080">movtextenc.c:80</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a29c6d4549bb171d9276c4008c0e05785"><div class="ttname"><a href="movtextenc_8c.html#a29c6d4549bb171d9276c4008c0e05785">mov_text_color_cb</a></div><div class="ttdeci">static void mov_text_color_cb(void *priv, unsigned int color, unsigned int color_id)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00436">movtextenc.c:436</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga76077a6d42ee211f59712485bd977e40"><div class="ttname"><a href="group__lavu__error.html#ga76077a6d42ee211f59712485bd977e40">AVERROR_BUFFER_TOO_SMALL</a></div><div class="ttdeci">#define AVERROR_BUFFER_TOO_SMALL</div><div class="ttdoc">Buffer too small.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00051">error.h:51</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a043f5f30474f70e4bd99046d7dca6433"><div class="ttname"><a href="movtextenc_8c.html#a043f5f30474f70e4bd99046d7dca6433">FONTSIZE_SCALE</a></div><div class="ttdeci">#define FONTSIZE_SCALE(s, fs)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00051">movtextenc.c:51</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_aa3a219d4054f4ba07abc1675c490a074"><div class="ttname"><a href="movtextenc_8c.html#aa3a219d4054f4ba07abc1675c490a074">STYL_BOX</a></div><div class="ttdeci">#define STYL_BOX</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00041">movtextenc.c:41</a></div></div>
<div class="ttc" id="aass_8h_html"><div class="ttname"><a href="ass_8h.html">ass.h</a></div></div>
<div class="ttc" id="aass__split_8c_html_a553de99f07487ca81fdb186b7f23d778"><div class="ttname"><a href="ass__split_8c.html#a553de99f07487ca81fdb186b7f23d778">ff_ass_free_dialog</a></div><div class="ttdeci">void ff_ass_free_dialog(ASSDialog **dialogp)</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8c_source.html#l00432">ass_split.c:432</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a500077d46cf60cb55286404da88de936"><div class="ttname"><a href="movtextenc_8c.html#a500077d46cf60cb55286404da88de936">mov_text_text_cb</a></div><div class="ttdeci">static void mov_text_text_cb(void *priv, const char *text, int len)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00608">movtextenc.c:608</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a9c79eba9ef00c46264d4ae522b532d4d"><div class="ttname"><a href="movtextenc_8c.html#a9c79eba9ef00c46264d4ae522b532d4d">mov_text_style_start</a></div><div class="ttdeci">static int mov_text_style_start(MovTextContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00345">movtextenc.c:345</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a40a82f68137da33db97824edc9573f40"><div class="ttname"><a href="movtextenc_8c.html#a40a82f68137da33db97824edc9573f40">box_types</a></div><div class="ttdeci">static const Box box_types[]</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00160">movtextenc.c:160</a></div></div>
<div class="ttc" id="astruct_a_v_subtitle_html"><div class="ttname"><a href="struct_a_v_subtitle.html">AVSubtitle</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02694">avcodec.h:2694</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga869fd8884d8d29a7a4910d879926d94a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga869fd8884d8d29a7a4910d879926d94a">av_fast_realloc</a></div><div class="ttdeci">void * av_fast_realloc(void *ptr, unsigned int *size, size_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00478">mem.c:478</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a69f679e9b46a8cdf307956491c95d227"><div class="ttname"><a href="struct_mov_text_context.html#a69f679e9b46a8cdf307956491c95d227">MovTextContext::buffer</a></div><div class="ttdeci">AVBPrint buffer</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00082">movtextenc.c:82</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_ad6b749bcf51a6ea3548e539b8e7cf838"><div class="ttname"><a href="movtextenc_8c.html#ad6b749bcf51a6ea3548e539b8e7cf838">mov_text_cleanup</a></div><div class="ttdeci">static void mov_text_cleanup(MovTextContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00099">movtextenc.c:99</a></div></div>
<div class="ttc" id="astruct_style_box_html_a0ccd65364a331e11bb7436b1d107fff8"><div class="ttname"><a href="struct_style_box.html#a0ccd65364a331e11bb7436b1d107fff8">StyleBox::style_flag</a></div><div class="ttdeci">uint8_t style_flag</div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00077">movtextdec.c:77</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a117b4271594156da6a8e45082ab5cab9"><div class="ttname"><a href="movtextenc_8c.html#a117b4271594156da6a8e45082ab5cab9">STYLE_FLAG_UNDERLINE</a></div><div class="ttdeci">#define STYLE_FLAG_UNDERLINE</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00037">movtextenc.c:37</a></div></div>
<div class="ttc" id="astruct_a_s_s_html_a89bb9b31164c39198c49141511144903"><div class="ttname"><a href="struct_a_s_s.html#a89bb9b31164c39198c49141511144903">ASS::script_info</a></div><div class="ttdeci">ASSScriptInfo script_info</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00091">ass_split.h:91</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a6ccad09b4a2a06ae178418fdccf5940d"><div class="ttname"><a href="movtextenc_8c.html#a6ccad09b4a2a06ae178418fdccf5940d">FLAGS</a></div><div class="ttdeci">#define FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00711">movtextenc.c:711</a></div></div>
<div class="ttc" id="astruct_box_html_a1670cac7a1da22c47e0418f697154cf9"><div class="ttname"><a href="struct_box.html#a1670cac7a1da22c47e0418f697154cf9">Box::encode</a></div><div class="ttdeci">void(* encode)(MovTextContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00096">movtextenc.c:96</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="aass__split_8c_html_a47db215ab1d87a7cdfcd0d42131d9fd5"><div class="ttname"><a href="ass__split_8c.html#a47db215ab1d87a7cdfcd0d42131d9fd5">ff_ass_split_dialog2</a></div><div class="ttdeci">ASSDialog * ff_ass_split_dialog2(ASSSplitContext *ctx, const char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8c_source.html#l00444">ass_split.c:444</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a2edcd89b7b5c1b12c29d1161baef9298"><div class="ttname"><a href="struct_mov_text_context.html#a2edcd89b7b5c1b12c29d1161baef9298">MovTextContext::ass_dialog_style</a></div><div class="ttdeci">ASSStyle * ass_dialog_style</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00077">movtextenc.c:77</a></div></div>
<div class="ttc" id="astruct_style_box_html_a570899f9f86b0649e83273187068282c"><div class="ttname"><a href="struct_style_box.html#a570899f9f86b0649e83273187068282c">StyleBox::style_fontID</a></div><div class="ttdeci">uint16_t style_fontID</div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00084">movtextdec.c:84</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab781cbaef6311226481e65a7f1a6d049"><div class="ttname"><a href="struct_a_v_codec_context.html#ab781cbaef6311226481e65a7f1a6d049">AVCodecContext::subtitle_header</a></div><div class="ttdeci">uint8_t * subtitle_header</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02014">avcodec.h:2014</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a7d52f7990836f426544707c983667490"><div class="ttname"><a href="movtextenc_8c.html#a7d52f7990836f426544707c983667490">STYLE_FLAG_ITALIC</a></div><div class="ttdeci">#define STYLE_FLAG_ITALIC</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00036">movtextenc.c:36</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a41431245d5c33a5ef4f2aec9b990b75d"><div class="ttname"><a href="movtextenc_8c.html#a41431245d5c33a5ef4f2aec9b990b75d">HLIT_BOX</a></div><div class="ttdeci">#define HLIT_BOX</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00042">movtextenc.c:42</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_a_s_s_style_html"><div class="ttname"><a href="struct_a_s_s_style.html">ASSStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00039">ass_split.h:39</a></div></div>
<div class="ttc" id="astruct_style_box_html_a8e6692505a293df8b0b0cd46ccfaeeb8"><div class="ttname"><a href="struct_style_box.html#a8e6692505a293df8b0b0cd46ccfaeeb8">StyleBox::style_color</a></div><div class="ttdeci">uint32_t style_color</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00060">movtextenc.c:60</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceafef6fb0a89aaa9a74c24129f380da853"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceafef6fb0a89aaa9a74c24129f380da853">AV_CODEC_ID_MOV_TEXT</a></div><div class="ttdeci">@ AV_CODEC_ID_MOV_TEXT</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00522">codec_id.h:522</a></div></div>
<div class="ttc" id="astruct_a_s_s_style_html_a7a12d2dda189b28275b1266e9f00ad9b"><div class="ttname"><a href="struct_a_s_s_style.html#a7a12d2dda189b28275b1266e9f00ad9b">ASSStyle::font_name</a></div><div class="ttdeci">char * font_name</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00041">ass_split.h:41</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a2feece7d07cfc3e5e50dd581289ef4a4"><div class="ttname"><a href="struct_mov_text_context.html#a2feece7d07cfc3e5e50dd581289ef4a4">MovTextContext::byte_count</a></div><div class="ttdeci">uint16_t byte_count</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00088">movtextenc.c:88</a></div></div>
<div class="ttc" id="astruct_a_s_s_split_context_html"><div class="ttname"><a href="struct_a_s_s_split_context.html">ASSSplitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8c_source.html#l00197">ass_split.c:197</a></div></div>
<div class="ttc" id="astruct_a_s_s_style_html_ad03fa8c33b80c6dd87af784f39dceed3"><div class="ttname"><a href="struct_a_s_s_style.html#ad03fa8c33b80c6dd87af784f39dceed3">ASSStyle::font_size</a></div><div class="ttdeci">int font_size</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00042">ass_split.h:42</a></div></div>
<div class="ttc" id="aass__split_8c_html_a621afc0c86b4ea21a22a967e290ab850"><div class="ttname"><a href="ass__split_8c.html#a621afc0c86b4ea21a22a967e290ab850">ff_ass_split</a></div><div class="ttdeci">ASSSplitContext * ff_ass_split(const char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8c_source.html#l00374">ass_split.c:374</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a02f074e95d0b49710cd7549055b87410"><div class="ttname"><a href="movtextenc_8c.html#a02f074e95d0b49710cd7549055b87410">utf8_strlen</a></div><div class="ttdeci">static uint16_t utf8_strlen(const char *text, int len)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00588">movtextenc.c:588</a></div></div>
<div class="ttc" id="astruct_style_box_html_aaaaae63561d1882bb11b23418202dd82"><div class="ttname"><a href="struct_style_box.html#aaaaae63561d1882bb11b23418202dd82">StyleBox::style_start</a></div><div class="ttdeci">uint16_t style_start</div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00075">movtextdec.c:75</a></div></div>
<div class="ttc" id="astruct_a_s_s_style_html_a37b79ae52c78ce7b60ac1eebe7f9456d"><div class="ttname"><a href="struct_a_s_s_style.html#a37b79ae52c78ce7b60ac1eebe7f9456d">ASSStyle::italic</a></div><div class="ttdeci">int italic</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00048">ass_split.h:48</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a50cb843a557135c67fe4588812a0a689"><div class="ttname"><a href="struct_mov_text_context.html#a50cb843a557135c67fe4588812a0a689">MovTextContext::hlit</a></div><div class="ttdeci">HighlightBox hlit</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00083">movtextenc.c:83</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a090241ede49fff58cdba8d49fc65ae98"><div class="ttname"><a href="movtextenc_8c.html#a090241ede49fff58cdba8d49fc65ae98">mov_text_style_to_flag</a></div><div class="ttdeci">static uint8_t mov_text_style_to_flag(const char style)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00380">movtextenc.c:380</a></div></div>
<div class="ttc" id="abprint_8h_html_a07432f704c49a6fa636197e2aa80bac0"><div class="ttname"><a href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a></div><div class="ttdeci">static int av_bprint_is_complete(const AVBPrint *buf)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8h_source.html#l00185">bprint.h:185</a></div></div>
<div class="ttc" id="astruct_a_s_s_html_a6f6587edbbfc6ef804c61649cec54cc8"><div class="ttname"><a href="struct_a_s_s.html#a6f6587edbbfc6ef804c61649cec54cc8">ASS::styles</a></div><div class="ttdeci">ASSStyle * styles</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00092">ass_split.h:92</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="astruct_a_s_s_style_html_a462ffb3528f52ef0c54211e10745ed14"><div class="ttname"><a href="struct_a_s_s_style.html#a462ffb3528f52ef0c54211e10745ed14">ASSStyle::underline</a></div><div class="ttdeci">int underline</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00049">ass_split.h:49</a></div></div>
<div class="ttc" id="aass__split_8c_html_aedc7be6a5052c23b08c99fc2ea68f428"><div class="ttname"><a href="ass__split_8c.html#aedc7be6a5052c23b08c99fc2ea68f428">ff_ass_split_free</a></div><div class="ttdeci">void ff_ass_split_free(ASSSplitContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8c_source.html#l00481">ass_split.c:481</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a7e56f91fdd7c750baa9ee67952492b7b"><div class="ttname"><a href="movtextenc_8c.html#a7e56f91fdd7c750baa9ee67952492b7b">DEFAULT_STYLE_COLOR</a></div><div class="ttdeci">#define DEFAULT_STYLE_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00047">movtextenc.c:47</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="agroup__lavu__mem__dynarray_html_ga385b582522cedf5a88ce2cf158c396c9"><div class="ttname"><a href="group__lavu__mem__dynarray.html#ga385b582522cedf5a88ce2cf158c396c9">av_dynarray_add</a></div><div class="ttdeci">void av_dynarray_add(void *tab_ptr, int *nb_ptr, void *elem)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00310">mem.c:310</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_ab0ce406386dd53bac61989e586d3dceb"><div class="ttname"><a href="movtextenc_8c.html#ab0ce406386dd53bac61989e586d3dceb">encode_styl</a></div><div class="ttdeci">static void encode_styl(MovTextContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00105">movtextenc.c:105</a></div></div>
<div class="ttc" id="alog_8c_html_a3b4f0685dba79673184dceeecd4ca93f"><div class="ttname"><a href="log_8c.html#a3b4f0685dba79673184dceeecd4ca93f">color</a></div><div class="ttdeci">static const uint32_t color[16+AV_CLASS_CATEGORY_NB]</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00092">log.c:92</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_ad20e64559ed44072e9ef77ebc0427deb"><div class="ttname"><a href="movtextenc_8c.html#ad20e64559ed44072e9ef77ebc0427deb">mov_text_style_set</a></div><div class="ttdeci">static void mov_text_style_set(MovTextContext *s, uint8_t style_flags)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00398">movtextenc.c:398</a></div></div>
<div class="ttc" id="acommon_8h_html_a1e233db224cd0a3079fd4572d1a3d717"><div class="ttname"><a href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a></div><div class="ttdeci">#define MKBETAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00406">common.h:406</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a0ad905194ad8533986f81d09671245ce"><div class="ttname"><a href="struct_mov_text_context.html#a0ad905194ad8533986f81d09671245ce">MovTextContext::style_attributes_temp</a></div><div class="ttdeci">StyleBox style_attributes_temp</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00081">movtextenc.c:81</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="aencode__audio_8c_html_a4883bd84aced552588972551e86d8575"><div class="ttname"><a href="encode__audio_8c.html#a4883bd84aced552588972551e86d8575">encode</a></div><div class="ttdeci">static void encode(AVCodecContext *ctx, AVFrame *frame, AVPacket *pkt, FILE *output)</div><div class="ttdef"><b>Definition:</b> <a href="encode__audio_8c_source.html#l00095">encode_audio.c:95</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_aef63e06ba674f756e783df85f8269859"><div class="ttname"><a href="movtextenc_8c.html#aef63e06ba674f756e783df85f8269859">DEFAULT_STYLE_FONTSIZE</a></div><div class="ttdeci">#define DEFAULT_STYLE_FONTSIZE</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00046">movtextenc.c:46</a></div></div>
<div class="ttc" id="astruct_a_s_s_script_info_html_a2a722856bbff017f8e02a03d6fa8260a"><div class="ttname"><a href="struct_a_s_s_script_info.html#a2a722856bbff017f8e02a03d6fa8260a">ASSScriptInfo::play_res_y</a></div><div class="ttdeci">int play_res_y</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00032">ass_split.h:32</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a130c38e7a0e0f27855381158c9bf5ee2"><div class="ttname"><a href="movtextenc_8c.html#a130c38e7a0e0f27855381158c9bf5ee2">mov_text_encode_close</a></div><div class="ttdeci">static int mov_text_encode_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00168">movtextenc.c:168</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_aca1bdae3ed3061e5910c070ae067a172"><div class="ttname"><a href="movtextenc_8c.html#aca1bdae3ed3061e5910c070ae067a172">find_font_id</a></div><div class="ttdeci">static uint16_t find_font_id(MovTextContext *s, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00497">movtextenc.c:497</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a28bfd062223570d855f4699efe17995f"><div class="ttname"><a href="movtextenc_8c.html#a28bfd062223570d855f4699efe17995f">mov_text_font_name_cb</a></div><div class="ttdeci">static void mov_text_font_name_cb(void *priv, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00518">movtextenc.c:518</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a26d54bb3ed3f397602e5052666725373"><div class="ttname"><a href="struct_mov_text_context.html#a26d54bb3ed3f397602e5052666725373">MovTextContext::text_pos</a></div><div class="ttdeci">uint16_t text_pos</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00087">movtextenc.c:87</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a77ce086f439e4f00e06b8d650d160f62"><div class="ttname"><a href="movtextenc_8c.html#a77ce086f439e4f00e06b8d650d160f62">SIZE_ADD</a></div><div class="ttdeci">#define SIZE_ADD</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00039">movtextenc.c:39</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a5bf15f26ddfc48e5e522501039b5ed27"><div class="ttname"><a href="movtextenc_8c.html#a5bf15f26ddfc48e5e522501039b5ed27">mov_text_callbacks</a></div><div class="ttdeci">static const ASSCodesCallbacks mov_text_callbacks</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00626">movtextenc.c:626</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_aaa46b9a05edf6e4ed7d8688a4738eadc"><div class="ttname"><a href="struct_mov_text_context.html#aaa46b9a05edf6e4ed7d8688a4738eadc">MovTextContext::font_scale_factor</a></div><div class="ttdeci">double font_scale_factor</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00091">movtextenc.c:91</a></div></div>
<div class="ttc" id="aass__split_8c_html_ad37336f52c864376000c369ba3f296cf"><div class="ttname"><a href="ass__split_8c.html#ad37336f52c864376000c369ba3f296cf">ff_ass_style_get</a></div><div class="ttdeci">ASSStyle * ff_ass_style_get(ASSSplitContext *ctx, const char *style)</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8c_source.html#l00589">ass_split.c:589</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a0289a974bbf86f16a0aaf00974e58360"><div class="ttname"><a href="movtextenc_8c.html#a0289a974bbf86f16a0aaf00974e58360">encode_sample_description</a></div><div class="ttdeci">static int encode_sample_description(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00179">movtextenc.c:179</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_aa94582c751cbb761b2b1f1cb5df4f1a4"><div class="ttname"><a href="movtextenc_8c.html#aa94582c751cbb761b2b1f1cb5df4f1a4">STYLE_RECORD_SIZE</a></div><div class="ttdeci">#define STYLE_RECORD_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00038">movtextenc.c:38</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_a_s_s_dialog_html_a5f45069b69564474e85e6eb982ebf584"><div class="ttname"><a href="struct_a_s_s_dialog.html#a5f45069b69564474e85e6eb982ebf584">ASSDialog::style</a></div><div class="ttdeci">char * style</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00076">ass_split.h:76</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a22c01fc2780fe49f7d764b9ccd8a3ab3"><div class="ttname"><a href="movtextenc_8c.html#a22c01fc2780fe49f7d764b9ccd8a3ab3">ff_movtext_encoder</a></div><div class="ttdeci">AVCodec ff_movtext_encoder</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00724">movtextenc.c:724</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab4ca16b0fda02840383d0b6d08a44660"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00048">internal.h:48</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a8ce1c3f919e90e2d2f1238e24bbbd34c"><div class="ttname"><a href="movtextenc_8c.html#a8ce1c3f919e90e2d2f1238e24bbbd34c">STYLE_FLAG_BOLD</a></div><div class="ttdeci">#define STYLE_FLAG_BOLD</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00035">movtextenc.c:35</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a05e960f329df9646ba948d60f614a5ac"><div class="ttname"><a href="struct_mov_text_context.html#a05e960f329df9646ba948d60f614a5ac">MovTextContext::ass_ctx</a></div><div class="ttdeci">ASSSplitContext * ass_ctx</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00076">movtextenc.c:76</a></div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="astruct_style_box_html_a147f559d51c0263bfc77c804bc833ba6"><div class="ttname"><a href="struct_style_box.html#a147f559d51c0263bfc77c804bc833ba6">StyleBox::style_fontsize</a></div><div class="ttdeci">uint8_t style_fontsize</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00059">movtextenc.c:59</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a106798e97c0f6459ed796764474f0760"><div class="ttname"><a href="struct_mov_text_context.html#a106798e97c0f6459ed796764474f0760">MovTextContext::hclr</a></div><div class="ttdeci">HilightcolorBox hclr</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00084">movtextenc.c:84</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a1730c00b03bc3d9bb1366474bb26fe29"><div class="ttname"><a href="movtextenc_8c.html#a1730c00b03bc3d9bb1366474bb26fe29">mov_text_encode_frame</a></div><div class="ttdeci">static int mov_text_encode_frame(AVCodecContext *avctx, unsigned char *buf, int bufsize, const AVSubtitle *sub)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00638">movtextenc.c:638</a></div></div>
<div class="ttc" id="astruct_highlight_box_html"><div class="ttname"><a href="struct_highlight_box.html">HighlightBox</a></div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00087">movtextdec.c:87</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a413fbd64ccadd6e4ee009b8befdc8427"><div class="ttname"><a href="movtextenc_8c.html#a413fbd64ccadd6e4ee009b8befdc8427">encode_hlit</a></div><div class="ttdeci">static void encode_hlit(MovTextContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00133">movtextenc.c:133</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_aba973b395e662e45ef12a13359e6df5b"><div class="ttname"><a href="movtextenc_8c.html#aba973b395e662e45ef12a13359e6df5b">mov_text_new_line_cb</a></div><div class="ttdeci">static void mov_text_new_line_cb(void *priv, int forced)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00618">movtextenc.c:618</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a3efddf3ce4fd2c4c736bbafa91ca4878"><div class="ttname"><a href="movtextenc_8c.html#a3efddf3ce4fd2c4c736bbafa91ca4878">mov_text_end_cb</a></div><div class="ttdeci">static void mov_text_end_cb(void *priv)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00539">movtextenc.c:539</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a384653b347a73f62a08d1e6479e47d00"><div class="ttname"><a href="movtextenc_8c.html#a384653b347a73f62a08d1e6479e47d00">encode_hclr</a></div><div class="ttdeci">static void encode_hclr(MovTextContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00147">movtextenc.c:147</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a8134eb4e2b10bdba57e49126ca2a37e9"><div class="ttname"><a href="movtextenc_8c.html#a8134eb4e2b10bdba57e49126ca2a37e9">BGR_TO_RGB</a></div><div class="ttdeci">#define BGR_TO_RGB(c)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00050">movtextenc.c:50</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abe964316aaaa61967b012efdcced79c4"><div class="ttname"><a href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">AVCodecContext::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00627">avcodec.h:627</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00215">avcodec.h:215</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="astruct_style_box_html_ae231342604f2da1434ca1eac94ca3706"><div class="ttname"><a href="struct_style_box.html#ae231342604f2da1434ca1eac94ca3706">StyleBox::style_end</a></div><div class="ttdeci">uint16_t style_end</div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00076">movtextdec.c:76</a></div></div>
<div class="ttc" id="arematrix__template_8c_html_a4dfdfbb7b69470f1152e022432ee2d45"><div class="ttname"><a href="rematrix__template_8c.html#a4dfdfbb7b69470f1152e022432ee2d45">void</a></div><div class="ttdeci">typedef void(RENAME(mix_any_func_type))</div><div class="ttdef"><b>Definition:</b> <a href="rematrix__template_8c_source.html#l00052">rematrix_template.c:52</a></div></div>
<div class="ttc" id="abprint_8c_html_ab1c28dbff5990dbd37e6c00e3d7c438b"><div class="ttname"><a href="bprint_8c.html#ab1c28dbff5990dbd37e6c00e3d7c438b">av_bprint_clear</a></div><div class="ttdeci">void av_bprint_clear(AVBPrint *buf)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00227">bprint.c:227</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a10257c6d0f974783947e28b61d76ad2a"><div class="ttname"><a href="movtextenc_8c.html#a10257c6d0f974783947e28b61d76ad2a">mov_text_font_size_cb</a></div><div class="ttdeci">static void mov_text_font_size_cb(void *priv, int size)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00534">movtextenc.c:534</a></div></div>
<div class="ttc" id="astruct_a_s_s_style_html_a37798ce14c8aea3dee83d85c7cb1e16b"><div class="ttname"><a href="struct_a_s_s_style.html#a37798ce14c8aea3dee83d85c7cb1e16b">ASSStyle::primary_color</a></div><div class="ttdeci">int primary_color</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00043">ass_split.h:43</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_af9f675d4e6e3ce4574e3155cc35aa7b2"><div class="ttname"><a href="movtextenc_8c.html#af9f675d4e6e3ce4574e3155cc35aa7b2">av_bprint_append_any</a></div><div class="ttdeci">#define av_bprint_append_any(buf, data, size)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00052">movtextenc.c:52</a></div></div>
<div class="ttc" id="astruct_style_box_html"><div class="ttname"><a href="struct_style_box.html">StyleBox</a></div><div class="ttdef"><b>Definition:</b> <a href="movtextdec_8c_source.html#l00074">movtextdec.c:74</a></div></div>
<div class="ttc" id="astruct_a_s_s_style_html_ab27c56bf033abe199fca80d123779cdc"><div class="ttname"><a href="struct_a_s_s_style.html#ab27c56bf033abe199fca80d123779cdc">ASSStyle::back_color</a></div><div class="ttdeci">int back_color</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00046">ass_split.h:46</a></div></div>
<div class="ttc" id="amem_8h_html"><div class="ttname"><a href="mem_8h.html">mem.h</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a76e6c0a36343ccdab79af47edab45b66"><div class="ttname"><a href="movtextenc_8c.html#a76e6c0a36343ccdab79af47edab45b66">mov_text_style_cb</a></div><div class="ttdeci">static void mov_text_style_cb(void *priv, const char style, int close)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00408">movtextenc.c:408</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a3053298ef4268169e67f34b157b3d881"><div class="ttname"><a href="struct_mov_text_context.html#a3053298ef4268169e67f34b157b3d881">MovTextContext::d</a></div><div class="ttdeci">StyleBox d</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00086">movtextenc.c:86</a></div></div>
<div class="ttc" id="ailbcdata_8h_html_a545b8c1c045fcc34b81d3ca822620277"><div class="ttname"><a href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a></div><div class="ttdeci">static const int16_t alpha[]</div><div class="ttdef"><b>Definition:</b> <a href="ilbcdata_8h_source.html#l00055">ilbcdata.h:55</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_aacc4741073e8d2f3e5eefc8bf542916d"><div class="ttname"><a href="movtextenc_8c.html#aacc4741073e8d2f3e5eefc8bf542916d">mov_text_ass_style_set</a></div><div class="ttdeci">static void mov_text_ass_style_set(MovTextContext *s, ASSStyle *style)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00545">movtextenc.c:545</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_ad258ce07417a0e1256bc2f55cba09f9f"><div class="ttname"><a href="movtextenc_8c.html#ad258ce07417a0e1256bc2f55cba09f9f">DEFAULT_STYLE_FLAG</a></div><div class="ttdeci">#define DEFAULT_STYLE_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00048">movtextenc.c:48</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a5b838b5d6da282722e255b49a1731fd4"><div class="ttname"><a href="struct_mov_text_context.html#a5b838b5d6da282722e255b49a1731fd4">MovTextContext::style_attributes</a></div><div class="ttdeci">StyleBox * style_attributes</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00078">movtextenc.c:78</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="aass__split_8c_html_a5d6ed30e565864a6d07a3a7b1665aac1"><div class="ttname"><a href="ass__split_8c.html#a5d6ed30e565864a6d07a3a7b1665aac1">ff_ass_split_override_codes</a></div><div class="ttdeci">int ff_ass_split_override_codes(const ASSCodesCallbacks *callbacks, void *priv, const char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8c_source.html#l00494">ass_split.c:494</a></div></div>
<div class="ttc" id="astruct_a_s_s_style_html_a45926ade9f779562ff36c9af65fe6f40"><div class="ttname"><a href="struct_a_s_s_style.html#a45926ade9f779562ff36c9af65fe6f40">ASSStyle::bold</a></div><div class="ttdeci">int bold</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00047">ass_split.h:47</a></div></div>
<div class="ttc" id="astruct_mov_text_context_html_a4af09fc5b00c0fff1b8d19b6e6dd583c"><div class="ttname"><a href="struct_mov_text_context.html#a4af09fc5b00c0fff1b8d19b6e6dd583c">MovTextContext::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00074">movtextenc.c:74</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_ac725354db736d0249973f05e950fb27e"><div class="ttname"><a href="movtextenc_8c.html#ac725354db736d0249973f05e950fb27e">mov_text_alpha_cb</a></div><div class="ttdeci">static void mov_text_alpha_cb(void *priv, int alpha, int alpha_id)</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00474">movtextenc.c:474</a></div></div>
<div class="ttc" id="astruct_highlight_box_html_ad0595dd2c60c554d8b4a3cdecbad3740"><div class="ttname"><a href="struct_highlight_box.html#ad0595dd2c60c554d8b4a3cdecbad3740">HighlightBox::start</a></div><div class="ttdeci">uint16_t start</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00064">movtextenc.c:64</a></div></div>
<div class="ttc" id="agroup__ass__styles_html_ga96519a890973431f3fb7a3842fbc9a29"><div class="ttname"><a href="group__ass__styles.html#ga96519a890973431f3fb7a3842fbc9a29">ASSCodesCallbacks::text</a></div><div class="ttdeci">void(* text)(void *priv, const char *text, int len)</div><div class="ttdef"><b>Definition:</b> <a href="ass__split_8h_source.html#l00159">ass_split.h:159</a></div></div>
<div class="ttc" id="amovtextenc_8c_html_a68f0fb3802be74974897b6306ffab04d"><div class="ttname"><a href="movtextenc_8c.html#a68f0fb3802be74974897b6306ffab04d">HCLR_BOX</a></div><div class="ttdeci">#define HCLR_BOX</div><div class="ttdef"><b>Definition:</b> <a href="movtextenc_8c_source.html#l00043">movtextenc.c:43</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
