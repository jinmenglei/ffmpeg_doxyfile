<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavformat/dashenc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_5dbf34d3eccfe93a92dd48ea427d25bd.html">libavformat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dashenc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dashenc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * MPEG-DASH ISO BMFF segmenter</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2014 Martin Storsjo</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2018 Akamai Technologies, Inc.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;config.h&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#if HAVE_UNISTD_H</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avutil_8h.html">libavutil/avutil.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mathematics_8h.html">libavutil/mathematics.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parseutils_8h.html">libavutil/parseutils.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rational_8h.html">libavutil/rational.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">libavutil/time.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time__internal_8h.html">libavutil/time_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavformat_2av1_8h.html">av1.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avc_8h.html">avc.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avformat_8h.html">avformat.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avio__internal_8h.html">avio_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hlsplaylist_8h.html">hlsplaylist.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#if CONFIG_HTTP_PROTOCOL</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="http_8h.html">http.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="isom_8h.html">isom.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="os__support_8h.html">os_support.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="url_8h.html">url.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vpcc_8h.html">vpcc.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dash_8h.html">dash.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489ee">   54</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eea5c9e45fdb65106414b3f95684c56f996">   55</a></span>&#160;    <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eea5c9e45fdb65106414b3f95684c56f996">SEGMENT_TYPE_AUTO</a> = 0,</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">   56</a></span>&#160;    <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>,</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">   57</a></span>&#160;    <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">SEGMENT_TYPE_WEBM</a>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaffea95a2e528a9fbb0f9bf88e9658ae1">SEGMENT_TYPE_NB</a></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaffea95a2e528a9fbb0f9bf88e9658ae1">   59</a></span>&#160;} <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">enum</span> {</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">   62</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a> = 0,</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">   63</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a>,</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">   64</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a>,</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">   65</a></span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a>,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5ee7af62f31eaa59198be9469b5b2351">FRAG_TYPE_NB</a></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5ee7af62f31eaa59198be9469b5b2351">   67</a></span>&#160;};</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a8c3b715ea40a7a7b0aad06e7b58ee2bf">   69</a></span>&#160;<span class="preprocessor">#define MPD_PROFILE_DASH 1</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">   70</a></span>&#160;<span class="preprocessor">#define MPD_PROFILE_DVB  2</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_segment.html">   72</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_segment.html">Segment</a> {</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_segment.html#a1aad1835c912804b31a6087d32b7ca7a">   73</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_segment.html#a1aad1835c912804b31a6087d32b7ca7a">file</a>[1024];</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">   74</a></span>&#160;    int64_t <a class="code" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">start_pos</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_segment.html#a62ecc80ee0b39ea748e0b5d70c666ba5">   75</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment.html#a62ecc80ee0b39ea748e0b5d70c666ba5">range_length</a>, <a class="code" href="struct_segment.html#a1e1fdff15d7d4e951015cbe7975778fa">index_length</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">   76</a></span>&#160;    int64_t <a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_segment.html#a03c276ba9d5fab527bab5a76ace15b56">   77</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="struct_segment.html#a03c276ba9d5fab527bab5a76ace15b56">prog_date_time</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">   78</a></span>&#160;    int64_t <a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_segment.html#ac1f774c70036d03e175cb8fba2c4430a">   79</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_segment.html#ac1f774c70036d03e175cb8fba2c4430a">n</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a0f6155040c9af438a8ea0fdaff3a5940">   80</a></span>&#160;} <a class="code" href="dashenc_8c.html#a0f6155040c9af438a8ea0fdaff3a5940">Segment</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html">   82</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_adaptation_set.html">AdaptationSet</a> {</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a636a20acb4f282ec4f4414550ce3ca34">   83</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_adaptation_set.html#a636a20acb4f282ec4f4414550ce3ca34">id</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a611f18e3e83bdd8401515237619b0e7c">   84</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_adaptation_set.html#a611f18e3e83bdd8401515237619b0e7c">descriptor</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a43e2dbe6a783dda02b05c6da469db097">   85</a></span>&#160;    int64_t <a class="code" href="struct_adaptation_set.html#a43e2dbe6a783dda02b05c6da469db097">seg_duration</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a3b32cb579098d34bb212d505d725c6f4">   86</a></span>&#160;    int64_t <a class="code" href="struct_adaptation_set.html#a3b32cb579098d34bb212d505d725c6f4">frag_duration</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">   87</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">frag_type</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a06cecd6c28bd2475315bb431026bfbdd">   89</a></span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="struct_adaptation_set.html#a06cecd6c28bd2475315bb431026bfbdd">metadata</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">   90</a></span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">min_frame_rate</a>, <a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a93fa15287cc03e8e0e816924518757bf">   91</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_adaptation_set.html#a93fa15287cc03e8e0e816924518757bf">ambiguous_frame_rate</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">   92</a></span>&#160;    int64_t <a class="code" href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">max_frag_duration</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#ae826a21ebf9532de5d77dd9e8dc5b8df">   93</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_adaptation_set.html#ae826a21ebf9532de5d77dd9e8dc5b8df">max_width</a>, <a class="code" href="struct_adaptation_set.html#a8cf6ca8f1cd008ed88566b83e9327162">max_height</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a6e8d55d66e89aa297c9ccec682603731">   94</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_adaptation_set.html#a6e8d55d66e89aa297c9ccec682603731">nb_streams</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#ac4ed33827f5bd86e4481cc10ce3dc3ba">   95</a></span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="struct_adaptation_set.html#ac4ed33827f5bd86e4481cc10ce3dc3ba">par</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">   96</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a58c971abe568d93f18de96a1e9eae412">   97</a></span>&#160;} <a class="code" href="dashenc_8c.html#a58c971abe568d93f18de96a1e9eae412">AdaptationSet</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_output_stream.html">OutputStream</a> {</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">  100</a></span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="struct_output_stream.html#af81b52fc5a724691220dd59aecabc5e2">  101</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#af81b52fc5a724691220dd59aecabc5e2">ctx_inited</a>, <a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">  102</a></span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">  103</a></span>&#160;    <a class="code" href="struct_a_v_codec_parser_context.html">AVCodecParserContext</a> *<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="struct_output_stream.html#aabb35ba4106fe93475f60fda1c2520a0">  104</a></span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_output_stream.html#aabb35ba4106fe93475f60fda1c2520a0">parser_avctx</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">  105</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">  106</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>[1024];</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">  107</a></span>&#160;    int64_t <a class="code" href="struct_output_stream.html#a632e8280e0c0b78642482927b30e7cb0">init_start_pos</a>, <a class="code" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">pos</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="struct_output_stream.html#af9e5cd3ddfbd288aa1380c1f10f9c044">  108</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#af9e5cd3ddfbd288aa1380c1f10f9c044">init_range_length</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="struct_output_stream.html#ac4ccfadc5b5b30aad1344f500f870702">  109</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>, <a class="code" href="struct_output_stream.html#ac4ccfadc5b5b30aad1344f500f870702">segments_size</a>, <a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">  110</a></span>&#160;    int64_t <a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">  111</a></span>&#160;    int64_t <a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">  112</a></span>&#160;    int64_t <a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">  113</a></span>&#160;    <a class="code" href="struct_segment.html">Segment</a> **<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">  114</a></span>&#160;    int64_t <a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a>, <a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>, <a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a255c98839ad8249f344867bf688d3be1">  115</a></span>&#160;    int64_t <a class="code" href="struct_output_stream.html#ad49d2f7d669d2b75921bba0ae8c76213">last_dts</a>, <a class="code" href="struct_output_stream.html#a255c98839ad8249f344867bf688d3be1">last_pts</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_output_stream.html#ab20991e6bd2cf53793dc06c73b2895b7">  116</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#ab20991e6bd2cf53793dc06c73b2895b7">last_flags</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">  117</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">  118</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">first_segment_bit_rate</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">  119</a></span>&#160;    <a class="code" href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a> <a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a>;  <span class="comment">/* segment type selected for this particular stream */</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">  120</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a8f6ee511eff4053ee4a1fcaf344187c4">  121</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_output_stream.html#a8f6ee511eff4053ee4a1fcaf344187c4">extension_name</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">  122</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">single_file_name</a>;  <span class="comment">/* file names selected for this particular stream */</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">  123</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">init_seg_name</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">  124</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">media_seg_name</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">  126</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>[100];</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">  127</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">written_len</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">  128</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">filename</a>[1024];</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">  129</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>[1024];</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">  130</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">temp_path</a>[1024];</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">  131</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="struct_output_stream.html#ac7524b9210a82869cf9aaaf2c5de7fb6">  132</a></span>&#160;    <a class="code" href="struct_a_v_producer_reference_time.html">AVProducerReferenceTime</a> <a class="code" href="struct_output_stream.html#ac7524b9210a82869cf9aaaf2c5de7fb6">producer_reference_time</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a5cb4557f1d4f913cc31acd1a4494a123">  133</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_output_stream.html#a5cb4557f1d4f913cc31acd1a4494a123">producer_reference_time_str</a>[100];</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a1ee004c87b36b037ec4d86055b67be34">  134</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#a1ee004c87b36b037ec4d86055b67be34">total_pkt_size</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a9e20b50f6e787ce2428621527014141b">  135</a></span>&#160;    int64_t <a class="code" href="struct_output_stream.html#a9e20b50f6e787ce2428621527014141b">total_pkt_duration</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="struct_output_stream.html#adc72010807aaed53a4794adcd6e216b8">  136</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#adc72010807aaed53a4794adcd6e216b8">muxer_overhead</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">  137</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a262c90c104c49d60d48d65f356fcd402">  138</a></span>&#160;    int64_t <a class="code" href="struct_output_stream.html#a262c90c104c49d60d48d65f356fcd402">gop_size</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">  139</a></span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">sar</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="struct_output_stream.html#a4c861e010defa598ed9cb8a245d6f32e">  140</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_output_stream.html#a4c861e010defa598ed9cb8a245d6f32e">coding_dependency</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a8f49aa35e4150e4b998d7c5a9678c9ac">  141</a></span>&#160;} <a class="code" href="dashenc_8c.html#a8f49aa35e4150e4b998d7c5a9678c9ac">OutputStream</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;  <span class="comment">/* Class for private options. */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a3298ea494382dbe0ee9fb46c444be458">  145</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_d_a_s_h_context.html#a3298ea494382dbe0ee9fb46c444be458">adaptation_sets</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a7cc326f0e322e82b620c76a9312456e2">  146</a></span>&#160;    <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *<a class="code" href="struct_d_a_s_h_context.html#a7cc326f0e322e82b620c76a9312456e2">as</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#afb2a0cf289c4868072ba098fdfd0eb67">  147</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#afb2a0cf289c4868072ba098fdfd0eb67">nb_as</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a795b5c7a1618fad5eff0c5f5452a1d56">  148</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a795b5c7a1618fad5eff0c5f5452a1d56">window_size</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ae4b402883500b46aa41db66c4813e427">  149</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#ae4b402883500b46aa41db66c4813e427">extra_window_size</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">#if FF_API_DASH_MIN_SEG_DURATION</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordtype">int</span> min_seg_duration;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a752e9d04c9f7449bac37812ecacd28f4">  153</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#a752e9d04c9f7449bac37812ecacd28f4">seg_duration</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a5c70d1118cb395920dd88245b429e5b5">  154</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#a5c70d1118cb395920dd88245b429e5b5">frag_duration</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a03c368ca098afd8fdc454ced054468d1">  155</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a03c368ca098afd8fdc454ced054468d1">remove_at_exit</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ac2144d4ba667b90bbf00e3a40db85e1d">  156</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#ac2144d4ba667b90bbf00e3a40db85e1d">use_template</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#aff2c379b7eb94f9c050a5ad9954b7e86">  157</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#aff2c379b7eb94f9c050a5ad9954b7e86">use_timeline</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#afc57bb5df500a945af8427c5107d4f82">  158</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#afc57bb5df500a945af8427c5107d4f82">single_file</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a9df1d2ae144ce1c9048f205c5d4937b7">  159</a></span>&#160;    <a class="code" href="struct_output_stream.html">OutputStream</a> *<a class="code" href="struct_d_a_s_h_context.html#a9df1d2ae144ce1c9048f205c5d4937b7">streams</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a8938519945a8dc08f4e3b0e250dcf724">  160</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a8938519945a8dc08f4e3b0e250dcf724">has_video</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a248d12843c52ebe177cd8abc6f0bf5bf">  161</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#a248d12843c52ebe177cd8abc6f0bf5bf">last_duration</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a50fe7a1f9385bd7537b7a6c80c876ec9">  162</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#a50fe7a1f9385bd7537b7a6c80c876ec9">total_duration</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a609454564a20c16944bcbbb6cb1a55cd">  163</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_d_a_s_h_context.html#aebf0ff39af3e4141445d5a7e4e68de8e">availability_start_time</a>[100];</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a0f80052d322d4f48f2ef941a94e84dc4">  164</a></span>&#160;    time_t <a class="code" href="struct_d_a_s_h_context.html#a0f80052d322d4f48f2ef941a94e84dc4">start_time_s</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a4ed39f9acb28ba4c8ae38d4f1db182d4">  165</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#a4ed39f9acb28ba4c8ae38d4f1db182d4">presentation_time_offset</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#af66114db7e0ab870640338889ae4e8a8">  166</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="struct_d_a_s_h_context.html#af66114db7e0ab870640338889ae4e8a8">dirname</a>[1024];</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a0eea65af4ed3f70e42a9b6908bf0fe00">  167</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_d_a_s_h_context.html#a0eea65af4ed3f70e42a9b6908bf0fe00">single_file_name</a>;  <span class="comment">/* file names as specified in options */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a454da33f7409160f3ec418b75cf317b8">  168</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_d_a_s_h_context.html#a454da33f7409160f3ec418b75cf317b8">init_seg_name</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a968e69369a317de03669ffe40297bdbd">  169</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_d_a_s_h_context.html#a968e69369a317de03669ffe40297bdbd">media_seg_name</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a00c3f89c2b7805283ed5d1b5647e5885">  170</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_d_a_s_h_context.html#a00c3f89c2b7805283ed5d1b5647e5885">utc_timing_url</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ae6e9917b66f9940cf589ac823f5c388c">  171</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_d_a_s_h_context.html#ae6e9917b66f9940cf589ac823f5c388c">method</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a3d9c416f4c24ec889fe4c5b1c31df8c4">  172</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_d_a_s_h_context.html#a3d9c416f4c24ec889fe4c5b1c31df8c4">user_agent</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a446ea5bc1c2e69f216650c3bbc64f25b">  173</a></span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="struct_d_a_s_h_context.html#a446ea5bc1c2e69f216650c3bbc64f25b">http_opts</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ab1aa32be134804320f6bcc7754701792">  174</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#ab1aa32be134804320f6bcc7754701792">hls_playlist</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ae90d6206d935b2362fb823ea9fa418a2">  175</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_d_a_s_h_context.html#ae90d6206d935b2362fb823ea9fa418a2">hls_master_name</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#af50ca57083e6c22190c0156cb601471d">  176</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#af50ca57083e6c22190c0156cb601471d">http_persistent</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a8f74778fa5689feff04825b481fe2ea3">  177</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a8f74778fa5689feff04825b481fe2ea3">master_playlist_created</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a7224ac5c7366ab245c797a24d6527aac">  178</a></span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="struct_d_a_s_h_context.html#a7224ac5c7366ab245c797a24d6527aac">mpd_out</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a83da8af9e7e6f6aeef98130f8b4e2f08">  179</a></span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="struct_d_a_s_h_context.html#a83da8af9e7e6f6aeef98130f8b4e2f08">m3u8_out</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a8e17abfa53a76543379b433c00573b8a">  180</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a8e17abfa53a76543379b433c00573b8a">streaming</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#aa48049f6183dea11c88931f70ec9b5ca">  181</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#aa48049f6183dea11c88931f70ec9b5ca">timeout</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a68ae994508cab96089082a7c35622cd2">  182</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a68ae994508cab96089082a7c35622cd2">index_correction</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#abd50d8071281df543801904ee5882974">  183</a></span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="struct_d_a_s_h_context.html#abd50d8071281df543801904ee5882974">format_options</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a0e5f5833e457cafab73249921e173dbe">  184</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a0e5f5833e457cafab73249921e173dbe">global_sidx</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#aa1e71b6357c1318c4d8376ff79fe9e3f">  185</a></span>&#160;    <a class="code" href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a> <a class="code" href="struct_d_a_s_h_context.html#aa1e71b6357c1318c4d8376ff79fe9e3f">segment_type_option</a>;  <span class="comment">/* segment type as specified in options */</span></div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ae0ce217714d839099b17d5e4305763a2">  186</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#ae0ce217714d839099b17d5e4305763a2">ignore_io_errors</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a3c767efc597211e06178bd57edc3121b">  187</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a3c767efc597211e06178bd57edc3121b">lhls</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ab083ad359b5e6ce5df979fd679935019">  188</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#ab083ad359b5e6ce5df979fd679935019">ldash</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a42887da0e34a867eb3584afc26598e26">  189</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a42887da0e34a867eb3584afc26598e26">master_publish_rate</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a9de4628fc6dd79e98cd79e6a6945f8b9">  190</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a9de4628fc6dd79e98cd79e6a6945f8b9">nr_of_streams_to_flush</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a8ba7100d35674c974dcd8ea41f90cb99">  191</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a8ba7100d35674c974dcd8ea41f90cb99">nr_of_streams_flushed</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ad796c1db27b9d6d89372678a17fb8149">  192</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#ad796c1db27b9d6d89372678a17fb8149">frag_type</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a83da80f2d58f8f02ea6dcf75f1510aa5">  193</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a83da80f2d58f8f02ea6dcf75f1510aa5">write_prft</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#afb7a927b3bd235b16785973f5cfc5956">  194</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#afb7a927b3bd235b16785973f5cfc5956">max_gop_size</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a11ef94cd32899be7ce5e63856cef4997">  195</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#a11ef94cd32899be7ce5e63856cef4997">max_segment_duration</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a435ba61dabf53f10a29b6ea7c396aa8f">  196</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a435ba61dabf53f10a29b6ea7c396aa8f">profile</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a1c25b03a9bc91abdae3589db9a4c17f6">  197</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#a1c25b03a9bc91abdae3589db9a4c17f6">target_latency</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a29fa426e7b66f9025853a035b4e2eb1a">  198</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_d_a_s_h_context.html#a29fa426e7b66f9025853a035b4e2eb1a">target_latency_refid</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#a39a86e2366060fb4768210a03c84175a">  199</a></span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="struct_d_a_s_h_context.html#a39a86e2366060fb4768210a03c84175a">min_playback_rate</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#ae8a97128834968e1f2daa9ab51350e87">  200</a></span>&#160;    <a class="code" href="struct_a_v_rational.html">AVRational</a> <a class="code" href="struct_d_a_s_h_context.html#ae8a97128834968e1f2daa9ab51350e87">max_playback_rate</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="struct_d_a_s_h_context.html#aa9838f47823875f6c2ac88cfdcd1a208">  201</a></span>&#160;    int64_t <a class="code" href="struct_d_a_s_h_context.html#aa9838f47823875f6c2ac88cfdcd1a208">update_period</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a4508044253901fd9af78c59ce784fcdc">  202</a></span>&#160;} <a class="code" href="dashenc_8c.html#a4508044253901fd9af78c59ce784fcdc">DASHContext</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structcodec__string.html">  204</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcodec__string.html">codec_string</a> {</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="structcodec__string.html#a8e72056f2bb10f8ab005586f3b3fc161">  205</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structcodec__string.html#a8e72056f2bb10f8ab005586f3b3fc161">id</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="structcodec__string.html#ae43cfcb3ee8c277018abc25faa9fc608">  206</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcodec__string.html#ae43cfcb3ee8c277018abc25faa9fc608">str</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;} <a class="code" href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a>[] = {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>, <span class="stringliteral">&quot;vp8&quot;</span> },</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>, <span class="stringliteral">&quot;vp9&quot;</span> },</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a>, <span class="stringliteral">&quot;vorbis&quot;</span> },</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a>, <span class="stringliteral">&quot;opus&quot;</span> },</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    { <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00">AV_CODEC_ID_FLAC</a>, <span class="stringliteral">&quot;flac&quot;</span> },</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    { 0, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">  214</a></span>&#160;};</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structformat__string.html">  216</a></span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structformat__string.html">format_string</a> {</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structformat__string.html#adb4c7e0b08117b55bd19572a6b8bbe08">  217</a></span>&#160;    <a class="code" href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a> <a class="code" href="structformat__string.html#adb4c7e0b08117b55bd19572a6b8bbe08">segment_type</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structformat__string.html#aa7b5fdc523ae7124957c6cd6805b0618">  218</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structformat__string.html#aa7b5fdc523ae7124957c6cd6805b0618">str</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;} <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>[] = {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    { <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eea5c9e45fdb65106414b3f95684c56f996">SEGMENT_TYPE_AUTO</a>, <span class="stringliteral">&quot;auto&quot;</span> },</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    { <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>, <span class="stringliteral">&quot;mp4&quot;</span> },</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    { <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">SEGMENT_TYPE_WEBM</a>, <span class="stringliteral">&quot;webm&quot;</span> },</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    { 0, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="dashenc_8c.html#aa91d7b861ec858fa5bf2e63ac44a3199">  224</a></span>&#160;};</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a82ed2f3a79ec70fe586b6f336acc3c6c">  226</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a82ed2f3a79ec70fe586b6f336acc3c6c">dashenc_io_open</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **pb, <span class="keywordtype">char</span> *filename,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                           <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">int</span> http_base_proto = filename ? <a class="code" href="libavformat_2internal_8h.html#a01788f5fa3d955ed9da7ae8e3524e79d">ff_is_http_proto</a>(filename) : 0;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="group__lavu__error.html#ga7ef1e1f3183e34e731185967d416911d">AVERROR_MUXER_NOT_FOUND</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (!*pb || !http_base_proto || !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;http_persistent) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        err = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb, filename, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, <a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#if CONFIG_HTTP_PROTOCOL</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="struct_u_r_l_context.html">URLContext</a> *http_url_context = <a class="code" href="avio__internal_8h.html#a7dc3afa19d96a46786aba239f6052a36">ffio_geturlcontext</a>(*pb);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(http_url_context);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        err = <a class="code" href="http_8c.html#aeaeca746d18be2f77975ab8c60e486cd">ff_http_do_new_request</a>(http_url_context, filename);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a78a4787c2fa5fac1710e5b124ed96f8d">  245</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#a78a4787c2fa5fac1710e5b124ed96f8d">dashenc_io_close</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> **pb, <span class="keywordtype">char</span> *filename) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">int</span> http_base_proto = filename ? <a class="code" href="libavformat_2internal_8h.html#a01788f5fa3d955ed9da7ae8e3524e79d">ff_is_http_proto</a>(filename) : 0;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (!*pb)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (!http_base_proto || !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;http_persistent) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, pb);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="preprocessor">#if CONFIG_HTTP_PROTOCOL</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <a class="code" href="struct_u_r_l_context.html">URLContext</a> *http_url_context = <a class="code" href="avio__internal_8h.html#a7dc3afa19d96a46786aba239f6052a36">ffio_geturlcontext</a>(*pb);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(http_url_context);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a>(*pb);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="avio_8c.html#a03ca8473c9c0f16e3eb0c19fb44823a5">ffurl_shutdown</a>(http_url_context, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a7d5fe8d6e37d4039dd083c8d21edf0f7">  264</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="dashenc_8c.html#a7d5fe8d6e37d4039dd083c8d21edf0f7">get_format_str</a>(<a class="code" href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a> segment_type) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaffea95a2e528a9fbb0f9bf88e9658ae1">SEGMENT_TYPE_NB</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].segment_type == segment_type)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].str;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ab5652db502d5759957dbc68f486842e0">  272</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="dashenc_8c.html#ab5652db502d5759957dbc68f486842e0">get_extension_str</a>(<a class="code" href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>, <span class="keywordtype">int</span> single_file)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;{</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>:  <span class="keywordflow">return</span> single_file ? <span class="stringliteral">&quot;mp4&quot;</span> : <span class="stringliteral">&quot;m4s&quot;</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">SEGMENT_TYPE_WEBM</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;webm&quot;</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ac9fd0a3cf51bddf389c6a965ccda685a">  282</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#ac9fd0a3cf51bddf389c6a965ccda685a">handle_io_open_error</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> err, <span class="keywordtype">char</span> *url) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordtype">char</span> errbuf[<a class="code" href="group__lavu__error.html#ga326c3f741a7adb148cdeaad68eea713d">AV_ERROR_MAX_STRING_SIZE</a>];</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="group__lavu__error.html#ga5792b4a2d18d7d9cb0efbcfc335dce24">av_strerror</a>(err, errbuf, <span class="keyword">sizeof</span>(errbuf));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ignore_io_errors ? <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a> : <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;           <span class="stringliteral">&quot;Unable to open %s for writing: %s\n&quot;</span>, url, errbuf);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ignore_io_errors ? 0 : err;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ae5c8661431d5df6909b73f0a4a06e83c">  291</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a> <a class="code" href="dashenc_8c.html#ae5c8661431d5df6909b73f0a4a06e83c">select_segment_type</a>(<a class="code" href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a> segment_type, <span class="keyword">enum</span> <a class="code" href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a> <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a>)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span> (segment_type == <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eea5c9e45fdb65106414b3f95684c56f996">SEGMENT_TYPE_AUTO</a>) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a> || <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a> ||</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a> || <a class="code" href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            segment_type = <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">SEGMENT_TYPE_WEBM</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            segment_type = <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> segment_type;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a3f64ef9dc0f665673814f3b17a7892bd">  305</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a3f64ef9dc0f665673814f3b17a7892bd">init_segment_types</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">int</span> has_mp4_streams = 0;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <a class="code" href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a> segment_type = <a class="code" href="dashenc_8c.html#ae5c8661431d5df6909b73f0a4a06e83c">select_segment_type</a>(</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;segment_type_option, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_id);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> = segment_type;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a> = <a class="code" href="dashenc_8c.html#a7d5fe8d6e37d4039dd083c8d21edf0f7">get_format_str</a>(segment_type);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Could not select DASH segment type for stream %d\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga7ef1e1f3183e34e731185967d416911d">AVERROR_MUXER_NOT_FOUND</a>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a8f6ee511eff4053ee4a1fcaf344187c4">extension_name</a> = <a class="code" href="dashenc_8c.html#ab5652db502d5759957dbc68f486842e0">get_extension_str</a>(segment_type, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a8f6ee511eff4053ee4a1fcaf344187c4">extension_name</a>) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Could not get extension type for stream %d\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga7ef1e1f3183e34e731185967d416911d">AVERROR_MUXER_NOT_FOUND</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        has_mp4_streams |= segment_type == <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_playlist &amp;&amp; !has_mp4_streams) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;No mp4 streams, disabling HLS manifest generation\n&quot;</span>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;         <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_playlist = 0;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="dashenc_8c.html#acbf0d5dfe062efd0d2e8556528771900">  336</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#acbf0d5dfe062efd0d2e8556528771900">check_file_extension</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *extension) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">char</span> *dot;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (!filename || !extension)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    dot = strrchr(filename, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (dot &amp;&amp; !strcmp(dot + 1, extension))</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="dashenc_8c.html#abef69f8f86086b0eb2b23263497f009c">  346</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#abef69f8f86086b0eb2b23263497f009c">set_vp9_codec_str</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                              <a class="code" href="struct_a_v_rational.html">AVRational</a> *frame_rate, <span class="keywordtype">char</span> *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="struct_v_p_c_c.html">VPCC</a> vpcc;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vpcc_8c.html#af057082b878181097c2244c097d044fa">ff_isom_get_vpcc_features</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, par, frame_rate, &amp;vpcc);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == 0) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="stringliteral">&quot;vp09.%02d.%02d.%02d&quot;</span>,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                    vpcc.<a class="code" href="struct_v_p_c_c.html#a5d06447245dfb57932e9510d4e77c17a">profile</a>, vpcc.<a class="code" href="struct_v_p_c_c.html#aac93b09a55e325529c8482c66b7a548a">level</a>, vpcc.<a class="code" href="struct_v_p_c_c.html#a7564bb7dd9dcf886f113c487835a4013">bitdepth</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="comment">// Default to just vp9 in case of error while finding out profile or level</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find VP9 profile and/or level\n&quot;</span>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="stringliteral">&quot;vp9&quot;</span>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="dashenc_8c.html#aea10363e02de12b0291966b601bbc2ee">  361</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#aea10363e02de12b0291966b601bbc2ee">set_codec_str</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par,</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                          <a class="code" href="struct_a_v_rational.html">AVRational</a> *frame_rate, <span class="keywordtype">char</span> *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;{</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_tag.html">AVCodecTag</a> *tags[2] = { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    uint32_t <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// common Webm codecs are not part of RFC 6381</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structcodec__string.html#a8e72056f2bb10f8ab005586f3b3fc161">id</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">id</span> == par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<span class="keywordtype">id</span> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a>) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <a class="code" href="dashenc_8c.html#abef69f8f86086b0eb2b23263497f009c">set_vp9_codec_str</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, par, frame_rate, <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// for codecs part of RFC 6381</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        tags[0] = <a class="code" href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        tags[0] = <a class="code" href="isom_8c.html#a3e1264ee30ac868bfb81d2830f6a3b52">ff_codec_movaudio_tags</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">codec_tag</a>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> = <a class="code" href="group__lavf__misc.html#ga126917b7ce8b4f05505098b72f4997de">av_codec_get_tag</a>(tags, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; 5)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>[4] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (!strcmp(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="stringliteral">&quot;mp4a&quot;</span>) || !strcmp(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="stringliteral">&quot;mp4v&quot;</span>)) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        uint32_t oti;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        tags[0] = <a class="code" href="isom_8c.html#a53570ebef58f7ee8ac4ae1f6d26432ce">ff_mp4_obj_type</a>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        oti = <a class="code" href="group__lavf__misc.html#ga126917b7ce8b4f05505098b72f4997de">av_codec_get_tag</a>(tags, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">if</span> (oti)</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="stringliteral">&quot;.%02&quot;</span>PRIx32, oti);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;4&#39;</span>, <span class="charliteral">&#39;a&#39;</span>)) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a> &gt;= 2) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="keywordtype">int</span> aot = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>[0] &gt;&gt; 3;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">if</span> (aot == 31)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    aot = ((<a class="code" href="avr32_2intreadwrite_8h.html#a6a4c12ef75a81c72f96410e9d1d8c8e9">AV_RB16</a>(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>) &gt;&gt; 5) &amp; 0x3f) + 32;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="stringliteral">&quot;.%d&quot;</span>, aot);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a> == <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;4&#39;</span>, <span class="charliteral">&#39;v&#39;</span>)) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="comment">// Unimplemented, should output ProfileLevelIndication as a decimal number</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Incomplete RFC 6381 codec string for mp4v\n&quot;</span>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="stringliteral">&quot;avc1&quot;</span>)) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *tmpbuf = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *extradata = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordtype">int</span> extradata_size = par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">if</span> (!extradata_size)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span> (extradata[0] != 1) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a>(&amp;pb) &lt; 0)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="avc_8c.html#a3c387fceac914c5eeffe9e1d58572f22">ff_isom_write_avcc</a>(pb, extradata, extradata_size) &lt; 0) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;pb);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            extradata_size = <a class="code" href="avio_8h.html#a8faed62ce72e7411cbea2356494af8ce">avio_close_dyn_buf</a>(pb, &amp;extradata);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            tmpbuf = extradata;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">if</span> (extradata_size &gt;= 4)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="stringliteral">&quot;.%02x%02x%02x&quot;</span>,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                        extradata[1], extradata[2], extradata[3]);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(tmpbuf);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="stringliteral">&quot;av01&quot;</span>)) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <a class="code" href="struct_a_v1_sequence_parameters.html">AV1SequenceParameters</a> seq;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">if</span> (!par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="av1_8c.html#a1aff34e056e162287ac7d9bb432a21cf">ff_av1_parse_seq_header</a>(&amp;seq, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>) &lt; 0)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="stringliteral">&quot;.%01u.%02u%s.%02u&quot;</span>,</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                    seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a727d503f9dde6c0db23d7fd9ddd02b86">profile</a>, seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a6074ea127e549402eb778689e39efdc6">level</a>, seq.<a class="code" href="struct_a_v1_sequence_parameters.html#ae29070d0b95d67969602d22713476758">tier</a> ? <span class="stringliteral">&quot;H&quot;</span> : <span class="stringliteral">&quot;M&quot;</span>, seq.<a class="code" href="struct_a_v1_sequence_parameters.html#aa18d63218669298f3aa991f906dbc95c">bitdepth</a>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">if</span> (seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a2d65b01410a62b180caee6a9ebcaf64f">color_description_present_flag</a>)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <a class="code" href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="stringliteral">&quot;.%01u.%01u%01u%01u.%02u.%02u.%02u.%01u&quot;</span>,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a05863919aae4616cc219769c71e4a237">monochrome</a>,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                        seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a6cbb6159b11617d08b74767a9cc38bc4">chroma_subsampling_x</a>, seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a81d8c464b8daed16623bfc86d779522a">chroma_subsampling_y</a>, seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a414013bc20a338832ae6246ef5ec9c80">chroma_sample_position</a>,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                        seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a694366c6679d474847cf1f6f1e0082f0">color_primaries</a>, seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a5e464aac38bd3addebe180ae34073e67">transfer_characteristics</a>, seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a889dda1756c5e2ed72ee1d46e0e854a5">matrix_coefficients</a>,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                        seq.<a class="code" href="struct_a_v1_sequence_parameters.html#a4d6a58086622106228fd45137a84d728">color_range</a>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="dashenc_8c.html#aaca3ba4e04340d96aa3ae196952683f5">  457</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#aaca3ba4e04340d96aa3ae196952683f5">flush_dynbuf</a>(<a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="struct_output_stream.html">OutputStream</a> *os, <span class="keywordtype">int</span> *range_length)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;{</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="comment">// flush</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="group__lavf__encoding.html#gaa85cc1774f18f306cd20a40fc50d0b36">av_write_frame</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="comment">// write out to file</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        *range_length = <a class="code" href="avio_8h.html#a8faed62ce72e7411cbea2356494af8ce">avio_close_dyn_buf</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, &amp;<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>, <a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a> + os-&gt;<a class="code" href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">written_len</a>, *range_length - os-&gt;<a class="code" href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">written_len</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">written_len</a> = 0;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="comment">// re-open buffer</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a>(&amp;os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        *range_length = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>) - os-&gt;<a class="code" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">pos</a>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">  486</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">set_http_options</a>(<a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **<a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;method)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(<a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <span class="stringliteral">&quot;method&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;method, 0);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(<a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;http_opts, 0);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;user_agent)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(<a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <span class="stringliteral">&quot;user_agent&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;user_agent, 0);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;http_persistent)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(<a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <span class="stringliteral">&quot;multiple_requests&quot;</span>, 1, 0);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;timeout &gt;= 0)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(<a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>, <span class="stringliteral">&quot;timeout&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;timeout, 0);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="dashenc_8c.html#aafd25899292ac76c13c54082dcd01a6a">  499</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#aafd25899292ac76c13c54082dcd01a6a">get_hls_playlist_name</a>(<span class="keywordtype">char</span> *playlist_name, <span class="keywordtype">int</span> string_size,</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *base_url, <span class="keywordtype">int</span> <span class="keywordtype">id</span>) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">if</span> (base_url)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(playlist_name, string_size, <span class="stringliteral">&quot;%smedia_%d.m3u8&quot;</span>, base_url, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(playlist_name, string_size, <span class="stringliteral">&quot;media_%d.m3u8&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a40c12cf37e61853e531a8782ab49d060">  507</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#a40c12cf37e61853e531a8782ab49d060">get_start_index_number</a>(<a class="code" href="struct_output_stream.html">OutputStream</a> *os, <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                   <span class="keywordtype">int</span> *start_index, <span class="keywordtype">int</span> *start_number) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    *start_index = 0;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    *start_number = 1;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        *start_index  = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>   - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size, 0);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        *start_number = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size, 1);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="dashenc_8c.html#abbfe5ec7a9ebe5c25082bae4e29cf42f">  517</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#abbfe5ec7a9ebe5c25082bae4e29cf42f">write_hls_media_playlist</a>(<a class="code" href="struct_output_stream.html">OutputStream</a> *os, <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>,</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                     <span class="keywordtype">int</span> representation_id, <span class="keywordtype">int</span> <span class="keyword">final</span>,</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                     <span class="keywordtype">char</span> *prefetch_url) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordtype">int</span> timescale = os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[0]-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordtype">char</span> temp_filename_hls[1024];</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordtype">char</span> filename_hls[1024];</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *http_opts = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordtype">int</span> target_duration = 0;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *proto = <a class="code" href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordtype">int</span> use_rename = proto &amp;&amp; !strcmp(proto, <span class="stringliteral">&quot;file&quot;</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, start_index, start_number;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordtype">double</span> prog_date_time = 0;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="dashenc_8c.html#a40c12cf37e61853e531a8782ab49d060">get_start_index_number</a>(os, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, &amp;start_index, &amp;start_number);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_playlist || start_index &gt;= os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> ||</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> != <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="dashenc_8c.html#aafd25899292ac76c13c54082dcd01a6a">get_hls_playlist_name</a>(filename_hls, <span class="keyword">sizeof</span>(filename_hls),</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                          <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, representation_id);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_filename_hls, <span class="keyword">sizeof</span>(temp_filename_hls), use_rename ? <span class="stringliteral">&quot;%s.tmp&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>, filename_hls);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">set_http_options</a>(&amp;http_opts, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a82ed2f3a79ec70fe586b6f336acc3c6c">dashenc_io_open</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, temp_filename_hls, &amp;http_opts);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;http_opts);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="dashenc_8c.html#ac9fd0a3cf51bddf389c6a965ccda685a">handle_io_open_error</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, temp_filename_hls);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = start_index; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <a class="code" href="struct_segment.html">Segment</a> *seg = os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = (double) seg-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a> / timescale;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (target_duration &lt;= <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            target_duration = <a class="code" href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a>(<a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="hlsplaylist_8c.html#a0780b3bc79d1fc9de79c854e0037ef3f">ff_hls_write_playlist_header</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, 6, -1, target_duration,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                 start_number, <a class="code" href="hlsplaylist_8h.html#a5b8341033ad519e80384ddf6dba5f53fa6832e91707d40eaae074166ba2754666">PLAYLIST_TYPE_NONE</a>, 0);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="hlsplaylist_8c.html#a3d77b47dd5225cc0b884e0f2a612d662">ff_hls_write_init_file</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file,</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                           os-&gt;<a class="code" href="struct_output_stream.html#af9e5cd3ddfbd288aa1380c1f10f9c044">init_range_length</a>, os-&gt;<a class="code" href="struct_output_stream.html#a632e8280e0c0b78642482927b30e7cb0">init_start_pos</a>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = start_index; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="struct_segment.html">Segment</a> *seg = os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">if</span> (prog_date_time == 0) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> == 1)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                prog_date_time = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;start_time_s;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                prog_date_time = seg-&gt;<a class="code" href="struct_segment.html#a03c276ba9d5fab527bab5a76ace15b56">prog_date_time</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        seg-&gt;<a class="code" href="struct_segment.html#a03c276ba9d5fab527bab5a76ace15b56">prog_date_time</a> = prog_date_time;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="hlsplaylist_8c.html#a1af72bb8251d908a4d5c796083fbd2be">ff_hls_write_file_entry</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, 0, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file,</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                                (<span class="keywordtype">double</span>) seg-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a> / timescale, 0,</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                seg-&gt;<a class="code" href="struct_segment.html#a62ecc80ee0b39ea748e0b5d70c666ba5">range_length</a>, seg-&gt;<a class="code" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">start_pos</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file ? os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a> : seg-&gt;<a class="code" href="struct_segment.html#a1aad1835c912804b31a6087d32b7ca7a">file</a>,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                &amp;prog_date_time, 0, 0, 0);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;ff_hls_write_file_entry get error\n&quot;</span>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (prefetch_url)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, <span class="stringliteral">&quot;#EXT-X-PREFETCH:%s\n&quot;</span>, prefetch_url);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">final</span>)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <a class="code" href="hlsplaylist_8c.html#adb5448df40a3ddc2ed0239915918db6e">ff_hls_write_end_list</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="dashenc_8c.html#a78a4787c2fa5fac1710e5b124ed96f8d">dashenc_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, temp_filename_hls);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (use_rename)</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <a class="code" href="avio_8c.html#af96f613cbf7f0d32ab56278ca75e4430">ff_rename</a>(temp_filename_hls, filename_hls, os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="dashenc_8c.html#af30107d0caa08b964eac664686f3e497">  596</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#af30107d0caa08b964eac664686f3e497">flush_init_segment</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_output_stream.html">OutputStream</a> *os)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, range_length;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#aaca3ba4e04340d96aa3ae196952683f5">flush_dynbuf</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, os, &amp;range_length);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">pos</a> = os-&gt;<a class="code" href="struct_output_stream.html#af9e5cd3ddfbd288aa1380c1f10f9c044">init_range_length</a> = range_length;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordtype">char</span> filename[1024];</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(filename, <span class="keyword">sizeof</span>(filename), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <a class="code" href="dashenc_8c.html#a78a4787c2fa5fac1710e5b124ed96f8d">dashenc_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>, filename);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a57c8c0c52850faf2ba710e9b4eb55a06">  614</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#a57c8c0c52850faf2ba710e9b4eb55a06">dash_free</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;{</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].metadata);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].descriptor);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as = 0;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams)</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a> &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <a class="code" href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a>(&amp;os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <a class="code" href="avio_8h.html#ad71cada104a5e4365d35d45669ea03ca">avio_close</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <a class="code" href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a>(&amp;os-&gt;<a class="code" href="struct_output_stream.html#aabb35ba4106fe93475f60fda1c2520a0">parser_avctx</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <a class="code" href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a>(os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>; j++)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[j]);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;os-&gt;<a class="code" href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">single_file_name</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;os-&gt;<a class="code" href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">init_seg_name</a>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;os-&gt;<a class="code" href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">media_seg_name</a>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;mpd_out);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a913a3d50f666f07ee969fae626f61644">  655</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#a913a3d50f666f07ee969fae626f61644">output_segment_list</a>(<a class="code" href="struct_output_stream.html">OutputStream</a> *os, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>,</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                                <span class="keywordtype">int</span> representation_id, <span class="keywordtype">int</span> <span class="keyword">final</span>)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;{</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, start_index, start_number;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="dashenc_8c.html#a40c12cf37e61853e531a8782ab49d060">get_start_index_number</a>(os, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, &amp;start_index, &amp;start_number);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_template) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordtype">int</span> timescale = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_timeline ? os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[0]-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> : <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;SegmentTemplate timescale=\&quot;%d\&quot; &quot;</span>, timescale);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_timeline) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;duration=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; &quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a>)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;availabilityTimeOffset=\&quot;%.3f\&quot; &quot;</span>,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                            os-&gt;<a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a> &amp;&amp; !<span class="keyword">final</span>)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;availabilityTimeComplete=\&quot;false\&quot; &quot;</span>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;initialization=\&quot;%s\&quot; media=\&quot;%s\&quot; startNumber=\&quot;%d\&quot;&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">init_seg_name</a>, os-&gt;<a class="code" href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">media_seg_name</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_timeline ? start_number : 1);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;presentation_time_offset)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; presentationTimeOffset=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot;&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;presentation_time_offset);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_timeline) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            int64_t cur_time = 0;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t\t&lt;SegmentTimeline&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = start_index; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>; ) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                <a class="code" href="struct_segment.html">Segment</a> *seg = os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                <span class="keywordtype">int</span> repeat = 0;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t\t\t&lt;S &quot;</span>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == start_index || seg-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a> != cur_time) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    cur_time = seg-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;t=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; &quot;</span>, seg-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;d=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; &quot;</span>, seg-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <span class="keywordflow">while</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + repeat + 1 &lt; os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> &amp;&amp;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                       os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + repeat + 1]-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a> == seg-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a> &amp;&amp;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                       os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + repeat + 1]-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a> == os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + repeat]-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a> + os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + repeat]-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a>)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                    repeat++;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                <span class="keywordflow">if</span> (repeat &gt; 0)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;r=\&quot;%d\&quot; &quot;</span>, repeat);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;/&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> += 1 + repeat;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                cur_time += (1 + repeat) * seg-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t\t&lt;/SegmentTimeline&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;/SegmentTemplate&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;BaseURL&gt;%s&lt;/BaseURL&gt;\n&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;SegmentList timescale=\&quot;%d\&quot; duration=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; startNumber=\&quot;%d\&quot;&gt;\n&quot;</span>, <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>, <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>, os-&gt;<a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a>), start_number);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t\t&lt;Initialization range=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;-%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; /&gt;\n&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a632e8280e0c0b78642482927b30e7cb0">init_start_pos</a>, os-&gt;<a class="code" href="struct_output_stream.html#a632e8280e0c0b78642482927b30e7cb0">init_start_pos</a> + os-&gt;<a class="code" href="struct_output_stream.html#af9e5cd3ddfbd288aa1380c1f10f9c044">init_range_length</a> - 1);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = start_index; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            <a class="code" href="struct_segment.html">Segment</a> *seg = os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t\t&lt;SegmentURL mediaRange=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;-%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; &quot;</span>, seg-&gt;<a class="code" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">start_pos</a>, seg-&gt;<a class="code" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">start_pos</a> + seg-&gt;<a class="code" href="struct_segment.html#a62ecc80ee0b39ea748e0b5d70c666ba5">range_length</a> - 1);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment.html#a1e1fdff15d7d4e951015cbe7975778fa">index_length</a>)</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;indexRange=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;-%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; &quot;</span>, seg-&gt;<a class="code" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">start_pos</a>, seg-&gt;<a class="code" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">start_pos</a> + seg-&gt;<a class="code" href="struct_segment.html#a1e1fdff15d7d4e951015cbe7975778fa">index_length</a> - 1);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;/&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;/SegmentList&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;SegmentList timescale=\&quot;%d\&quot; duration=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; startNumber=\&quot;%d\&quot;&gt;\n&quot;</span>, <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>, <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>, os-&gt;<a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a>), start_number);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t\t&lt;Initialization sourceURL=\&quot;%s\&quot; /&gt;\n&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = start_index; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <a class="code" href="struct_segment.html">Segment</a> *seg = os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t\t&lt;SegmentURL media=\&quot;%s\&quot; /&gt;\n&quot;</span>, seg-&gt;<a class="code" href="struct_segment.html#a1aad1835c912804b31a6087d32b7ca7a">file</a>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;/SegmentList&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;lhls || <span class="keyword">final</span>) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <a class="code" href="dashenc_8c.html#abbfe5ec7a9ebe5c25082bae4e29cf42f">write_hls_media_playlist</a>(os, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, representation_id, <span class="keyword">final</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a0de73e27b7833bfe7861500cf77e1bd8">  730</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="dashenc_8c.html#a0de73e27b7833bfe7861500cf77e1bd8">xmlescape</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordtype">int</span> outlen = strlen(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>)*3/2 + 6;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a> = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, outlen + 1);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = 0;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>)</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">for</span> (; *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>; <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>++) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> + 6 &gt; outlen) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordtype">char</span> *tmp;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            outlen = 2 * outlen + 6;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            tmp = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, outlen + 1);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="keywordflow">if</span> (!tmp) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a> = tmp;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a> == <span class="charliteral">&#39;&amp;&#39;</span>) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            memcpy(&amp;<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>], <span class="stringliteral">&quot;&amp;amp;&quot;</span>, 5);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += 5;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a> == <span class="charliteral">&#39;&lt;&#39;</span>) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            memcpy(&amp;<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>], <span class="stringliteral">&quot;&amp;lt;&quot;</span>, 4);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += 4;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a> == <span class="charliteral">&#39;&gt;&#39;</span>) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            memcpy(&amp;<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>], <span class="stringliteral">&quot;&amp;gt;&quot;</span>, 4);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += 4;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a> == <span class="charliteral">&#39;\&#39;&#39;</span>) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            memcpy(&amp;<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>], <span class="stringliteral">&quot;&amp;apos;&quot;</span>, 6);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += 6;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a> == <span class="charliteral">&#39;\&quot;&#39;</span>) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            memcpy(&amp;<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>], <span class="stringliteral">&quot;&amp;quot;&quot;</span>, 6);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> += 6;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>++] = *<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a00af0dd7724b0559cfdc6c4bff2ce210">  770</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#a00af0dd7724b0559cfdc6c4bff2ce210">write_time</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, int64_t time)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;{</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordtype">int</span> seconds = time / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordtype">int</span> fractions = time % <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordtype">int</span> minutes = seconds / 60;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordtype">int</span> hours = minutes / 60;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    seconds %= 60;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    minutes %= 60;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;PT&quot;</span>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">if</span> (hours)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;%dH&quot;</span>, hours);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (hours || minutes)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;%dM&quot;</span>, minutes);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;%d.%dS&quot;</span>, seconds, fractions / (<a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a> / 10));</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;}</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ade1d77751eaf79e6bce1b782760d7d74">  786</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#ade1d77751eaf79e6bce1b782760d7d74">format_date</a>(<span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, int64_t time_us)</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;{</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keyword">struct </span>tm *ptm, tmbuf;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    int64_t time_ms = time_us / 1000;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keyword">const</span> time_t time_s = time_ms / 1000;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordtype">int</span> millisec = time_ms - (time_s * 1000);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    ptm = <a class="code" href="time__internal_8h.html#a89a61b18d74dbd9e50e0b1d23a1fe57e">gmtime_r</a>(&amp;time_s, &amp;tmbuf);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">if</span> (ptm) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">if</span> (!strftime(buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="stringliteral">&quot;%Y-%m-%dT%H:%M:%S&quot;</span>, ptm)) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            buf[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = strlen(buf);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(buf + <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <span class="stringliteral">&quot;.%03dZ&quot;</span>, millisec);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="dashenc_8c.html#aef29f1f172fb0c9d1c7adf9ce62ef01c">  804</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#aef29f1f172fb0c9d1c7adf9ce62ef01c">write_adaptation_set</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="keywordtype">int</span> as_index,</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                                <span class="keywordtype">int</span> <span class="keyword">final</span>)</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *as = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[as_index];</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *lang, *role;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t&lt;AdaptationSet id=\&quot;%d\&quot; contentType=\&quot;%s\&quot; startWithSAP=\&quot;1\&quot; segmentAlignment=\&quot;true\&quot; bitstreamSwitching=\&quot;true\&quot;&quot;</span>,</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#a636a20acb4f282ec4f4414550ce3ca34">id</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> ? <span class="stringliteral">&quot;video&quot;</span> : <span class="stringliteral">&quot;audio&quot;</span>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp; as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; !as-&gt;<a class="code" href="struct_adaptation_set.html#a93fa15287cc03e8e0e816924518757bf">ambiguous_frame_rate</a> &amp;&amp; <a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(as-&gt;<a class="code" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">min_frame_rate</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>) &lt; 0)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; maxFrameRate=\&quot;%d/%d\&quot;&quot;</span>, as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp; as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; !as-&gt;<a class="code" href="struct_adaptation_set.html#a93fa15287cc03e8e0e816924518757bf">ambiguous_frame_rate</a> &amp;&amp; !<a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(as-&gt;<a class="code" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">min_frame_rate</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>))</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; frameRate=\&quot;%d/%d\&quot;&quot;</span>, as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; maxWidth=\&quot;%d\&quot; maxHeight=\&quot;%d\&quot;&quot;</span>, as-&gt;<a class="code" href="struct_adaptation_set.html#ae826a21ebf9532de5d77dd9e8dc5b8df">max_width</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a8cf6ca8f1cd008ed88566b83e9327162">max_height</a>);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; par=\&quot;%d:%d\&quot;&quot;</span>, as-&gt;<a class="code" href="struct_adaptation_set.html#ac4ed33827f5bd86e4481cc10ce3dc3ba">par</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#ac4ed33827f5bd86e4481cc10ce3dc3ba">par</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    lang = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(as-&gt;<a class="code" href="struct_adaptation_set.html#a06cecd6c28bd2475315bb431026bfbdd">metadata</a>, <span class="stringliteral">&quot;language&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordflow">if</span> (lang)</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; lang=\&quot;%s\&quot;&quot;</span>, lang-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">final</span> &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash &amp;&amp; as-&gt;<a class="code" href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">max_frag_duration</a> &amp;&amp; !(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile &amp; <a class="code" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a>))</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t&lt;Resync dT=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; type=\&quot;0\&quot;/&gt;\n&quot;</span>, as-&gt;<a class="code" href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">max_frag_duration</a>);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a> &gt;= 0)</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t&lt;EssentialProperty id=\&quot;%d\&quot; schemeIdUri=\&quot;http://dashif.org/guidelines/trickmode\&quot; value=\&quot;%d\&quot;/&gt;\n&quot;</span>, as-&gt;<a class="code" href="struct_adaptation_set.html#a636a20acb4f282ec4f4414550ce3ca34">id</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a>);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    role = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(as-&gt;<a class="code" href="struct_adaptation_set.html#a06cecd6c28bd2475315bb431026bfbdd">metadata</a>, <span class="stringliteral">&quot;role&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (role)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t&lt;Role schemeIdUri=\&quot;urn:mpeg:dash:role:2011\&quot; value=\&quot;%s\&quot;/&gt;\n&quot;</span>, role-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a611f18e3e83bdd8401515237619b0e7c">descriptor</a>)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t%s\n&quot;</span>, as-&gt;<a class="code" href="struct_adaptation_set.html#a611f18e3e83bdd8401515237619b0e7c">descriptor</a>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordtype">char</span> bandwidth_str[64] = {<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a> - 1 != as_index)</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a> &gt; 0)</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(bandwidth_str, <span class="keyword">sizeof</span>(bandwidth_str), <span class="stringliteral">&quot; bandwidth=\&quot;%d\&quot;&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">final</span>) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <span class="keywordtype">int</span> average_bit_rate = os-&gt;<a class="code" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">pos</a> * 8 * <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a> / <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;total_duration;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(bandwidth_str, <span class="keyword">sizeof</span>(bandwidth_str), <span class="stringliteral">&quot; bandwidth=\&quot;%d\&quot;&quot;</span>, average_bit_rate);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">first_segment_bit_rate</a> &gt; 0)</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(bandwidth_str, <span class="keyword">sizeof</span>(bandwidth_str), <span class="stringliteral">&quot; bandwidth=\&quot;%d\&quot;&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">first_segment_bit_rate</a>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t&lt;Representation id=\&quot;%d\&quot; mimeType=\&quot;video/%s\&quot; codecs=\&quot;%s\&quot;%s width=\&quot;%d\&quot; height=\&quot;%d\&quot;&quot;</span>,</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>, os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>, bandwidth_str, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;height);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> == <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca886b3191488ef874bf3e94b3d9cec713">AV_FIELD_UNKNOWN</a>)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; scanType=\&quot;unknown\&quot;&quot;</span>);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">field_order</a> != <a class="code" href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2">AV_FIELD_PROGRESSIVE</a>)</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; scanType=\&quot;interlaced\&quot;&quot;</span>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; sar=\&quot;%d:%d\&quot;&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">sar</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, os-&gt;<a class="code" href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">sar</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; <a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(as-&gt;<a class="code" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">min_frame_rate</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>) &lt; 0)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; frameRate=\&quot;%d/%d\&quot;&quot;</span>, st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a> &gt;= 0) {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *tas = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a>];</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                <span class="keywordflow">if</span> (!as-&gt;<a class="code" href="struct_adaptation_set.html#a93fa15287cc03e8e0e816924518757bf">ambiguous_frame_rate</a> &amp;&amp; !tas-&gt;<a class="code" href="struct_adaptation_set.html#a93fa15287cc03e8e0e816924518757bf">ambiguous_frame_rate</a>)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; maxPlayoutRate=\&quot;%d\&quot;&quot;</span>, <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>((<span class="keywordtype">int</span>)<a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(<a class="code" href="group__lavu__math__rational.html#gaffa24e7bd38e12dbac540d8b66461f97">av_div_q</a>(tas-&gt;<a class="code" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">min_frame_rate</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">min_frame_rate</a>)), 1));</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a4c861e010defa598ed9cb8a245d6f32e">coding_dependency</a>)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; codingDependency=\&quot;false\&quot;&quot;</span>);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t&lt;Representation id=\&quot;%d\&quot; mimeType=\&quot;audio/%s\&quot; codecs=\&quot;%s\&quot;%s audioSamplingRate=\&quot;%d\&quot;&gt;\n&quot;</span>,</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>, os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>, bandwidth_str, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;sample_rate);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;AudioChannelConfiguration schemeIdUri=\&quot;urn:mpeg:dash:23003:3:audio_channel_configuration:2011\&quot; value=\&quot;%d\&quot; /&gt;\n&quot;</span>,</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;channels);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">if</span> (!<span class="keyword">final</span> &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a5cb4557f1d4f913cc31acd1a4494a123">producer_reference_time_str</a>[0]) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;ProducerReferenceTime id=\&quot;%d\&quot; inband=\&quot;true\&quot; type=\&quot;%s\&quot; wallClockTime=\&quot;%s\&quot; presentationTime=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot;&gt;\n&quot;</span>,</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, os-&gt;<a class="code" href="struct_output_stream.html#ac7524b9210a82869cf9aaaf2c5de7fb6">producer_reference_time</a>.<a class="code" href="struct_a_v_producer_reference_time.html#a05ccbc7140b41059cccbaa06ad8910f8">flags</a> ? <span class="stringliteral">&quot;captured&quot;</span> : <span class="stringliteral">&quot;encoder&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a5cb4557f1d4f913cc31acd1a4494a123">producer_reference_time_str</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;presentation_time_offset);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t\t&lt;UTCTiming schemeIdUri=\&quot;urn:mpeg:dash:utc:http-xsdate:2014\&quot; value=\&quot;%s\&quot;/&gt;\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;utc_timing_url);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;/ProducerReferenceTime&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span> (!<span class="keyword">final</span> &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a262c90c104c49d60d48d65f356fcd402">gop_size</a> &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> != <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a> &amp;&amp; !(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile &amp; <a class="code" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a>) &amp;&amp;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> != <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a> || os-&gt;<a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a> != os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>))</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t\t&lt;Resync dT=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot; type=\&quot;1\&quot;/&gt;\n&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a262c90c104c49d60d48d65f356fcd402">gop_size</a>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <a class="code" href="dashenc_8c.html#a913a3d50f666f07ee969fae626f61644">output_segment_list</a>(os, <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">final</span>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t\t&lt;/Representation&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t&lt;/AdaptationSet&gt;\n&quot;</span>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a9113b9078abe7dbc21bdee0a78270f06">  893</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a9113b9078abe7dbc21bdee0a78270f06">add_adaptation_set</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> **as, <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordtype">void</span> *mem;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile &amp; <a class="code" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a> &amp;&amp; (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as + 1) &gt; 16) {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;DVB-DASH profile allows a max of 16 Adaptation Sets\n&quot;</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    mem = <a class="code" href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as, <span class="keyword">sizeof</span>(*<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as) * (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as + 1));</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">if</span> (!mem)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as = mem;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    ++<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    *as = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as - 1];</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    memset(*as, 0, <span class="keyword">sizeof</span>(**as));</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    (*as)-&gt;media_type = <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    (*as)-&gt;frag_type = -1;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    (*as)-&gt;trick_idx = -1;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ae172c5a4d2fc0112e52bea1bacff681e">  917</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#ae172c5a4d2fc0112e52bea1bacff681e">adaptation_set_add_stream</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> as_idx, <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *as = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[as_idx - 1];</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Codec type of stream %d doesn&#39;t match AdaptationSet&#39;s media type\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a>) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Stream %d is already assigned to an AdaptationSet\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile &amp; <a class="code" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a> &amp;&amp; (as-&gt;<a class="code" href="struct_adaptation_set.html#a6e8d55d66e89aa297c9ccec682603731">nb_streams</a> + 1) &gt; 16) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;DVB-DASH profile allows a max of 16 Representations per Adaptation Set\n&quot;</span>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a> = as_idx;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    ++as-&gt;<a class="code" href="struct_adaptation_set.html#a6e8d55d66e89aa297c9ccec682603731">nb_streams</a>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; </div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ab07e17f57920b3cef9725945b5f829da">  940</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#ab07e17f57920b3cef9725945b5f829da">parse_adaptation_sets</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;{</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;adaptation_sets;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keyword">enum</span> { new_set, parse_default, parsing_streams, parse_seg_duration, parse_frag_duration } <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *as;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, n, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="comment">// default: one AdaptationSet for each stream</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">if</span> (!p) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a9113b9078abe7dbc21bdee0a78270f06">add_adaptation_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;as, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type)) &lt; 0)</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            as-&gt;<a class="code" href="struct_adaptation_set.html#a636a20acb4f282ec4f4414550ce3ca34">id</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].as_idx = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            ++as-&gt;<a class="code" href="struct_adaptation_set.html#a6e8d55d66e89aa297c9ccec682603731">nb_streams</a>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">// syntax id=0,streams=0,1,2 id=1,streams=3,4 and so on</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// option id=0,descriptor=descriptor_str,streams=0,1,2 and so on</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="comment">// option id=0,seg_duration=2.5,frag_duration=0.5,streams=0,1,2</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="comment">//        id=1,trick_id=0,seg_duration=10,frag_type=none,streams=3 and so on</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="comment">// descriptor is useful to the scheme defined by ISO/IEC 23009-1:2014/Amd.2:2015</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="comment">// descriptor_str should be a self-closing xml tag.</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="comment">// seg_duration and frag_duration have the same syntax as the global options of</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">// the same name, and the former have precedence over them if set.</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = new_set;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">while</span> (*p) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            p++;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> == new_set &amp;&amp; <a class="code" href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a>(p, <span class="stringliteral">&quot;id=&quot;</span>, &amp;p)) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            <span class="keywordtype">char</span> id_str[10], *end_str;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            n = strcspn(p, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(id_str, <span class="keyword">sizeof</span>(id_str), <span class="stringliteral">&quot;%.*s&quot;</span>, n, p);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = strtol(id_str, &amp;end_str, 10);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            <span class="keywordflow">if</span> (id_str == end_str || i &lt; 0 || i &gt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;\&quot;%s\&quot; is not a valid value for an AdaptationSet id\n&quot;</span>, id_str);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a9113b9078abe7dbc21bdee0a78270f06">add_adaptation_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;as, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a>)) &lt; 0)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            as-&gt;<a class="code" href="struct_adaptation_set.html#a636a20acb4f282ec4f4414550ce3ca34">id</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            p += n;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keywordflow">if</span> (*p)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                p++;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = parse_default;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> != new_set &amp;&amp; <a class="code" href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a>(p, <span class="stringliteral">&quot;seg_duration=&quot;</span>, &amp;p)) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = parse_seg_duration;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> != new_set &amp;&amp; <a class="code" href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a>(p, <span class="stringliteral">&quot;frag_duration=&quot;</span>, &amp;p)) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = parse_frag_duration;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> == parse_seg_duration || <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> == parse_frag_duration) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>[32];</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            int64_t usecs = 0;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            n = strcspn(p, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, <span class="keyword">sizeof</span>(<a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>), <span class="stringliteral">&quot;%.*s&quot;</span>, n, p);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            p += n;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="keywordflow">if</span> (*p)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                p++;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a>(&amp;usecs, <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>, 1);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to parse option value \&quot;%s\&quot; as duration\n&quot;</span>, <a class="code" href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">str</a>);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> == parse_seg_duration)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#a43e2dbe6a783dda02b05c6da469db097">seg_duration</a> = usecs;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#a3b32cb579098d34bb212d505d725c6f4">frag_duration</a> = usecs;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = parse_default;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> != new_set &amp;&amp; <a class="code" href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a>(p, <span class="stringliteral">&quot;frag_type=&quot;</span>, &amp;p)) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <span class="keywordtype">char</span> type_str[16];</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            n = strcspn(p, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(type_str, <span class="keyword">sizeof</span>(type_str), <span class="stringliteral">&quot;%.*s&quot;</span>, n, p);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            p += n;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="keywordflow">if</span> (*p)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                p++;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            <span class="keywordflow">if</span> (!strcmp(type_str, <span class="stringliteral">&quot;duration&quot;</span>))</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">frag_type</a> = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(type_str, <span class="stringliteral">&quot;pframes&quot;</span>))</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">frag_type</a> = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a>;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(type_str, <span class="stringliteral">&quot;every_frame&quot;</span>))</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">frag_type</a> = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(type_str, <span class="stringliteral">&quot;none&quot;</span>))</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">frag_type</a> = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to parse option value \&quot;%s\&quot; as fragment type\n&quot;</span>, type_str);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = parse_default;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> != new_set &amp;&amp; <a class="code" href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a>(p, <span class="stringliteral">&quot;descriptor=&quot;</span>, &amp;p)) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            n = strcspn(p, <span class="stringliteral">&quot;&gt;&quot;</span>) + 1; <span class="comment">//followed by one comma, so plus 1</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <span class="keywordflow">if</span> (n &lt; strlen(p)) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#a611f18e3e83bdd8401515237619b0e7c">descriptor</a> = <a class="code" href="group__lavu__mem__funcs.html#gaffde7a717e3a603ed11a998c18d68cad">av_strndup</a>(p, n);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Parse error, descriptor string should be a self-closing xml tag\n&quot;</span>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            p += n;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            <span class="keywordflow">if</span> (*p)</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                p++;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = parse_default;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> != new_set) &amp;&amp; <a class="code" href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a>(p, <span class="stringliteral">&quot;trick_id=&quot;</span>, &amp;p)) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="keywordtype">char</span> trick_id_str[10], *end_str;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            n = strcspn(p, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(trick_id_str, <span class="keyword">sizeof</span>(trick_id_str), <span class="stringliteral">&quot;%.*s&quot;</span>, n, p);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            p += n;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a> = strtol(trick_id_str, &amp;end_str, 10);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="keywordflow">if</span> (trick_id_str == end_str || as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a> &lt; 0)</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <span class="keywordflow">if</span> (*p)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                p++;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = parse_default;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> != new_set) &amp;&amp; <a class="code" href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a>(p, <span class="stringliteral">&quot;streams=&quot;</span>, &amp;p)) { <span class="comment">//descriptor and durations are optional</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = parsing_streams;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> == parsing_streams) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *as = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as - 1];</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <span class="keywordtype">char</span> idx_str[8], *end_str;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            n = strcspn(p, <span class="stringliteral">&quot; ,&quot;</span>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(idx_str, <span class="keyword">sizeof</span>(idx_str), <span class="stringliteral">&quot;%.*s&quot;</span>, n, p);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            p += n;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="comment">// if value is &quot;a&quot; or &quot;v&quot;, map all streams of that type</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a> &amp;&amp; (idx_str[0] == <span class="charliteral">&#39;v&#39;</span> || idx_str[0] == <span class="charliteral">&#39;a&#39;</span>)) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = (idx_str[0] == <span class="charliteral">&#39;v&#39;</span>) ? <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> : <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Map all streams of type %s\n&quot;</span>, idx_str);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type != <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#ae172c5a4d2fc0112e52bea1bacff681e">adaptation_set_add_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)) &lt; 0)</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            } <span class="keywordflow">else</span> { <span class="comment">// select single stream</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = strtol(idx_str, &amp;end_str, 10);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                <span class="keywordflow">if</span> (idx_str == end_str || i &lt; 0 || i &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams) {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Selected stream \&quot;%s\&quot; not found!\n&quot;</span>, idx_str);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Map stream %d\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a>) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                    as-&gt;<a class="code" href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">media_type</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#ae172c5a4d2fc0112e52bea1bacff681e">adaptation_set_add_stream</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)) &lt; 0)</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                <a class="code" href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a> = new_set;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">if</span> (*p)</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                p++;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="comment">// check for unassigned streams</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a>) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Stream %d is not mapped to an AdaptationSet\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="comment">// check references for trick mode AdaptationSet</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        as = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a> &lt; 0)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">for</span> (n = 0; n &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as; n++) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[n].id == as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a>)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        }</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">if</span> (n &gt;= <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;reference AdaptationSet id \&quot;%d\&quot; not found for trick mode AdaptationSet id \&quot;%d\&quot;\n&quot;</span>, as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a>, as-&gt;<a class="code" href="struct_adaptation_set.html#a636a20acb4f282ec4f4414550ce3ca34">id</a>);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;}</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ae8ebee2a174e169617c06c10acb963a9"> 1144</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#ae8ebee2a174e169617c06c10acb963a9">write_manifest</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <span class="keyword">final</span>)</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;{</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordtype">char</span> temp_filename[1024];</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *proto = <a class="code" href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordtype">int</span> use_rename = proto &amp;&amp; !strcmp(proto, <span class="stringliteral">&quot;file&quot;</span>);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> warned_non_file = 0;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *title = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;metadata, <span class="stringliteral">&quot;title&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">if</span> (!use_rename &amp;&amp; !warned_non_file++)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Cannot use rename on non file protocol, this may lead to races and temporary partial files\n&quot;</span>);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_filename, <span class="keyword">sizeof</span>(temp_filename), use_rename ? <span class="stringliteral">&quot;%s.tmp&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">set_http_options</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a82ed2f3a79ec70fe586b6f336acc3c6c">dashenc_io_open</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;mpd_out, temp_filename, &amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dashenc_8c.html#ac9fd0a3cf51bddf389c6a965ccda685a">handle_io_open_error</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, temp_filename);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;mpd_out;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;utf-8\&quot;?&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;&lt;MPD xmlns:xsi=\&quot;http://www.w3.org/2001/XMLSchema-instance\&quot;\n&quot;</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                <span class="stringliteral">&quot;\txmlns=\&quot;urn:mpeg:dash:schema:mpd:2011\&quot;\n&quot;</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="stringliteral">&quot;\txmlns:xlink=\&quot;http://www.w3.org/1999/xlink\&quot;\n&quot;</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                <span class="stringliteral">&quot;\txsi:schemaLocation=\&quot;urn:mpeg:DASH:schema:MPD:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd\&quot;\n&quot;</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                <span class="stringliteral">&quot;\tprofiles=\&quot;&quot;</span>);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile &amp; <a class="code" href="dashenc_8c.html#a8c3b715ea40a7a7b0aad06e7b58ee2bf">MPD_PROFILE_DASH</a>)</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;%s%s&quot;</span>, <span class="stringliteral">&quot;urn:mpeg:dash:profile:isoff-live:2011&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile &amp; <a class="code" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a> ? <span class="stringliteral">&quot;,&quot;</span> : <span class="stringliteral">&quot;\&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile &amp; <a class="code" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a>)</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;         <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;urn:dvb:dash:profile:dvb-dash:2014\&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\ttype=\&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                <span class="keyword">final</span> ? <span class="stringliteral">&quot;static&quot;</span> : <span class="stringliteral">&quot;dynamic&quot;</span>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">final</span>) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\tmediaPresentationDuration=\&quot;&quot;</span>);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="dashenc_8c.html#a00af0dd7724b0559cfdc6c4bff2ce210">write_time</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;total_duration);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        int64_t update_period = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="keywordtype">char</span> now_str[100];</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_template &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_timeline)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            update_period = 500;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;update_period)</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;            update_period = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;update_period;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\tminimumUpdatePeriod=\&quot;PT%&quot;</span>PRId64<span class="stringliteral">&quot;S\&quot;\n&quot;</span>, update_period);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash)</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\tsuggestedPresentationDelay=\&quot;PT%&quot;</span>PRId64<span class="stringliteral">&quot;S\&quot;\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;availability_start_time[0])</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\tavailabilityStartTime=\&quot;%s\&quot;\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;availability_start_time);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <a class="code" href="dashenc_8c.html#ade1d77751eaf79e6bce1b782760d7d74">format_date</a>(now_str, <span class="keyword">sizeof</span>(now_str), <a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>());</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <span class="keywordflow">if</span> (now_str[0])</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\tpublishTime=\&quot;%s\&quot;\n&quot;</span>, now_str);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_template) {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\ttimeShiftBufferDepth=\&quot;&quot;</span>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            <a class="code" href="dashenc_8c.html#a00af0dd7724b0559cfdc6c4bff2ce210">write_time</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration * <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\tmaxSegmentDuration=\&quot;&quot;</span>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <a class="code" href="dashenc_8c.html#a00af0dd7724b0559cfdc6c4bff2ce210">write_time</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_segment_duration);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\tminBufferTime=\&quot;&quot;</span>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="dashenc_8c.html#a00af0dd7724b0559cfdc6c4bff2ce210">write_time</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_gop_size ? <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_gop_size : <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration * 2);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\&quot;&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t&lt;ProgramInformation&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">if</span> (title) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="keywordtype">char</span> *escaped = <a class="code" href="dashenc_8c.html#a0de73e27b7833bfe7861500cf77e1bd8">xmlescape</a>(title-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t&lt;Title&gt;%s&lt;/Title&gt;\n&quot;</span>, escaped);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(escaped);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t&lt;/ProgramInformation&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t&lt;ServiceDescription id=\&quot;0\&quot;&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">if</span> (!<span class="keyword">final</span> &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency_refid &gt;= 0) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t&lt;Latency target=\&quot;%&quot;</span>PRId64<span class="stringliteral">&quot;\&quot;&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency / 1000);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &gt; 1)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot; referenceId=\&quot;%d\&quot;&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency_refid);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;/&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;min_playback_rate, (<a class="code" href="struct_a_v_rational.html">AVRational</a>) {1, 1}) ||</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_playback_rate, (<a class="code" href="struct_a_v_rational.html">AVRational</a>) {1, 1}))</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t\t&lt;PlaybackRate min=\&quot;%.2f\&quot; max=\&quot;%.2f\&quot;/&gt;\n&quot;</span>,</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                    <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;min_playback_rate), <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_playback_rate));</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t&lt;/ServiceDescription&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &gt; 0 &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[0].nb_segments &gt; 0 &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_template) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[0];</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordtype">int</span> start_index = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size, 0);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        int64_t <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[start_index]-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0]-&gt;time_base, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t&lt;Period id=\&quot;0\&quot; start=\&quot;&quot;</span>);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <a class="code" href="dashenc_8c.html#a00af0dd7724b0559cfdc6c4bff2ce210">write_time</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <a class="code" href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a>);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\&quot;&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t&lt;Period id=\&quot;0\&quot; start=\&quot;PT0.0S\&quot;&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nb_as; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#aef29f1f172fb0c9d1c7adf9ce62ef01c">write_adaptation_set</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">final</span>)) &lt; 0)</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t&lt;/Period&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;utc_timing_url)</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;\t&lt;UTCTiming schemeIdUri=\&quot;urn:mpeg:dash:utc:http-xsdate:2014\&quot; value=\&quot;%s\&quot;/&gt;\n&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;utc_timing_url);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, <span class="stringliteral">&quot;&lt;/MPD&gt;\n&quot;</span>);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <a class="code" href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a>(<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <a class="code" href="dashenc_8c.html#a78a4787c2fa5fac1710e5b124ed96f8d">dashenc_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;mpd_out, temp_filename);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span> (use_rename) {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#af96f613cbf7f0d32ab56278ca75e4430">ff_rename</a>(temp_filename, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_playlist) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <span class="keywordtype">char</span> filename_hls[1024];</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *audio_group = <span class="stringliteral">&quot;A1&quot;</span>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <span class="keywordtype">char</span> audio_codec_str[128] = <span class="stringliteral">&quot;\0&quot;</span>;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <span class="keywordtype">int</span> is_default = 1;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="keywordtype">int</span> max_audio_bitrate = 0;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="comment">// Publish master playlist only the configured rate</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;master_playlist_created &amp;&amp; (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;master_publish_rate ||</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;             <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[0].segment_index % <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;master_publish_rate))</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="keywordflow">if</span> (*<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname)</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(filename_hls, <span class="keyword">sizeof</span>(filename_hls), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_master_name);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(filename_hls, <span class="keyword">sizeof</span>(filename_hls), <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_master_name);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(temp_filename, <span class="keyword">sizeof</span>(temp_filename), use_rename ? <span class="stringliteral">&quot;%s.tmp&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>, filename_hls);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <a class="code" href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">set_http_options</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a82ed2f3a79ec70fe586b6f336acc3c6c">dashenc_io_open</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, temp_filename, &amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="dashenc_8c.html#ac9fd0a3cf51bddf389c6a965ccda685a">handle_io_open_error</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, temp_filename);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <a class="code" href="hlsplaylist_8c.html#a04dd2b96146fbafccb8cc296be497e29">ff_hls_write_playlist_version</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, 7);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <span class="keywordtype">char</span> playlist_file[64];</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>)</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> != <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>)</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            <a class="code" href="dashenc_8c.html#aafd25899292ac76c13c54082dcd01a6a">get_hls_playlist_name</a>(playlist_file, <span class="keyword">sizeof</span>(playlist_file), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            <a class="code" href="hlsplaylist_8c.html#a576e3060b16c85bd554b14e41df80ccb">ff_hls_write_audio_rendition</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, (<span class="keywordtype">char</span> *)audio_group,</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                                         playlist_file, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, is_default);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            max_audio_bitrate = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">bit_rate</a> +</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                                      os-&gt;<a class="code" href="struct_output_stream.html#adc72010807aaed53a4794adcd6e216b8">muxer_overhead</a>, max_audio_bitrate);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="group__lavu__string.html#ga827486f333df7bc9a4e7f9bd212ba472">av_strnstr</a>(audio_codec_str, os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>, <span class="keyword">sizeof</span>(audio_codec_str))) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                <span class="keywordflow">if</span> (strlen(audio_codec_str))</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                    <a class="code" href="group__lavu__string.html#ga193877ba459faf314c3d285b6082cf73">av_strlcat</a>(audio_codec_str, <span class="stringliteral">&quot;,&quot;</span>, <span class="keyword">sizeof</span>(audio_codec_str));</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                <a class="code" href="group__lavu__string.html#ga193877ba459faf314c3d285b6082cf73">av_strlcat</a>(audio_codec_str, os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>, <span class="keyword">sizeof</span>(audio_codec_str));</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            }</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            is_default = 0;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            <span class="keywordtype">char</span> playlist_file[64];</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            <span class="keywordtype">char</span> codec_str[128];</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <span class="keywordtype">char</span> *agroup = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <span class="keywordtype">char</span> *codec_str_ptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <span class="keywordtype">int</span> stream_bitrate = os-&gt;<a class="code" href="struct_output_stream.html#adc72010807aaed53a4794adcd6e216b8">muxer_overhead</a>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a> &gt; 0)</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                stream_bitrate += os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">final</span>)</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                stream_bitrate += os-&gt;<a class="code" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">pos</a> * 8 * <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a> / <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;total_duration;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">first_segment_bit_rate</a> &gt; 0)</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                stream_bitrate += os-&gt;<a class="code" href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">first_segment_bit_rate</a>;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> != <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>)</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(codec_str, os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>, <span class="keyword">sizeof</span>(codec_str));</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <span class="keywordflow">if</span> (max_audio_bitrate) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                agroup = (<span class="keywordtype">char</span> *)audio_group;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                stream_bitrate += max_audio_bitrate;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                <a class="code" href="group__lavu__string.html#ga193877ba459faf314c3d285b6082cf73">av_strlcat</a>(codec_str, <span class="stringliteral">&quot;,&quot;</span>, <span class="keyword">sizeof</span>(codec_str));</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                <a class="code" href="group__lavu__string.html#ga193877ba459faf314c3d285b6082cf73">av_strlcat</a>(codec_str, audio_codec_str, <span class="keyword">sizeof</span>(codec_str));</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a> != <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a>) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                codec_str_ptr = codec_str;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            <a class="code" href="dashenc_8c.html#aafd25899292ac76c13c54082dcd01a6a">get_hls_playlist_name</a>(playlist_file, <span class="keyword">sizeof</span>(playlist_file), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            <a class="code" href="hlsplaylist_8c.html#a72be21fd051b432228cae518aeacfc55">ff_hls_write_stream_info</a>(st, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, stream_bitrate,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                     playlist_file, agroup,</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                                     codec_str_ptr, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <a class="code" href="dashenc_8c.html#a78a4787c2fa5fac1710e5b124ed96f8d">dashenc_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;m3u8_out, temp_filename);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">if</span> (use_rename)</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#af96f613cbf7f0d32ab56278ca75e4430">ff_rename</a>(temp_filename, filename_hls, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;master_playlist_created = 1;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;}</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a099be91387a33299c022fa5431fa88f6"> 1352</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a099be91387a33299c022fa5431fa88f6">dict_copy_entry</a>(<a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> **dst, <span class="keyword">const</span> <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>)</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;{</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <a class="code" href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a> *entry = <a class="code" href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">if</span> (entry)</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(dst, <a class="code" href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, entry-&gt;<a class="code" href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">value</a>, <a class="code" href="group__lavu__dict.html#ga8ed4237acfc3d68484301a5d1859936c">AV_DICT_DONT_OVERWRITE</a>);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;}</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a7cf47db9cfa40ccb756290961fbf49a2"> 1360</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a7cf47db9cfa40ccb756290961fbf49a2">dash_init</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;{</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordtype">char</span> *ptr;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordtype">char</span> basename[1024];</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nr_of_streams_to_flush = 0;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file_name)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file = 1;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file)</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_template = 0;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;At least one profile must be enabled.\n&quot;</span>);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="preprocessor">#if FF_API_DASH_MIN_SEG_DURATION</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;min_seg_duration != 5000000) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;The min_seg_duration option is deprecated and will be removed. Please use the -seg_duration\n&quot;</span>);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_duration = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;min_seg_duration;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;lhls &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;strict_std_compliance &gt; <a class="code" href="avcodec_8h.html#a0e9f40024e3b017088ee1c16f25b3910">FF_COMPLIANCE_EXPERIMENTAL</a>) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;               <span class="stringliteral">&quot;LHLS is experimental, Please set -strict experimental in order to enable it.\n&quot;</span>);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga3d2f16ec410d409c19e3547673b8469b">AVERROR_EXPERIMENTAL</a>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;lhls &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming) {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;LHLS option will be ignored as streaming is not enabled\n&quot;</span>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;lhls = 0;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;lhls &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_playlist) {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;LHLS option will be ignored as hls_playlist is not enabled\n&quot;</span>);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;lhls = 0;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;LDash option will be ignored as streaming is not enabled\n&quot;</span>);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash = 0;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Target latency option will be ignored as streaming is not enabled\n&quot;</span>);</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency = 0;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;global_sidx &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Global SIDX option will be ignored as single_file is not enabled\n&quot;</span>);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;global_sidx = 0;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;global_sidx &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Global SIDX option will be ignored as streaming is enabled\n&quot;</span>);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;global_sidx = 0;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;frag_type == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a> &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Changing frag_type from none to every_frame as streaming is enabled\n&quot;</span>);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;frag_type = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    }</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160; </div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft &lt; 0) {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash;</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash)</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Enabling Producer Reference Time element for Low Latency mode\n&quot;</span>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    }</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;utc_timing_url) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Producer Reference Time element option will be ignored as utc_timing_url is not set\n&quot;</span>);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft = 0;</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Producer Reference Time element option will be ignored as streaming is not enabled\n&quot;</span>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft = 0;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160; </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;ldash &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft) {</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Low Latency mode enabled without Producer Reference Time element option! Resulting manifest may not be complaint\n&quot;</span>);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Target latency option will be ignored as Producer Reference Time element will not be written\n&quot;</span>);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency = 0;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_playback_rate, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;min_playback_rate) &lt; 0) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Minimum playback rate value is higer than the Maximum. Both will be ignored\n&quot;</span>);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;min_playback_rate = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_playback_rate = (<a class="code" href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a>) {1, 1};</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    }</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url, <span class="keyword">sizeof</span>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname));</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    ptr = strrchr(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">if</span> (ptr) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(basename, &amp;ptr[1], <span class="keyword">sizeof</span>(basename));</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        ptr[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(basename, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url, <span class="keyword">sizeof</span>(basename));</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160; </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    ptr = strrchr(basename, <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">if</span> (ptr)</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        *ptr = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160; </div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams) * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams)</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#ab07e17f57920b3cef9725945b5f829da">parse_adaptation_sets</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a3f64ef9dc0f665673814f3b17a7892bd">init_segment_types</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *as = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[os-&gt;<a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a> - 1];</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordtype">char</span> filename[1024];</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;bit_rate;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a>) {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;strict_std_compliance &gt;= <a class="code" href="avcodec_8h.html#a5c1eb24858b3a73d6bbe9585d30e971a">FF_COMPLIANCE_STRICT</a> ?</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                        <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a> : <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <span class="stringliteral">&quot;No bit rate set for stream %d\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;strict_std_compliance &gt;= <a class="code" href="avcodec_8h.html#a5c1eb24858b3a73d6bbe9585d30e971a">FF_COMPLIANCE_STRICT</a>)</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="comment">// copy AdaptationSet language and role from stream metadata</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <a class="code" href="dashenc_8c.html#a099be91387a33299c022fa5431fa88f6">dict_copy_entry</a>(&amp;as-&gt;<a class="code" href="struct_adaptation_set.html#a06cecd6c28bd2475315bb431026bfbdd">metadata</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata, <span class="stringliteral">&quot;language&quot;</span>);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <a class="code" href="dashenc_8c.html#a099be91387a33299c022fa5431fa88f6">dict_copy_entry</a>(&amp;as-&gt;<a class="code" href="struct_adaptation_set.html#a06cecd6c28bd2475315bb431026bfbdd">metadata</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;metadata, <span class="stringliteral">&quot;role&quot;</span>);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;init_seg_name) {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">init_seg_name</a> = <a class="code" href="group__lavu__string.html#gaf67c5971eb2a00a02286316d36a88d73">av_strireplace</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;init_seg_name, <span class="stringliteral">&quot;$ext$&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a8f6ee511eff4053ee4a1fcaf344187c4">extension_name</a>);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;            <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">init_seg_name</a>)</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;media_seg_name) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">media_seg_name</a> = <a class="code" href="group__lavu__string.html#gaf67c5971eb2a00a02286316d36a88d73">av_strireplace</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;media_seg_name, <span class="stringliteral">&quot;$ext$&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a8f6ee511eff4053ee4a1fcaf344187c4">extension_name</a>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">media_seg_name</a>)</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file_name) {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">single_file_name</a> = <a class="code" href="group__lavu__string.html#gaf67c5971eb2a00a02286316d36a88d73">av_strireplace</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file_name, <span class="stringliteral">&quot;$ext$&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a8f6ee511eff4053ee4a1fcaf344187c4">extension_name</a>);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">single_file_name</a>)</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> == <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">SEGMENT_TYPE_WEBM</a>) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <span class="keywordflow">if</span> ((!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file &amp;&amp; <a class="code" href="dashenc_8c.html#acbf0d5dfe062efd0d2e8556528771900">check_file_extension</a>(os-&gt;<a class="code" href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">init_seg_name</a>, os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>) != 0) ||</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file &amp;&amp; <a class="code" href="dashenc_8c.html#acbf0d5dfe062efd0d2e8556528771900">check_file_extension</a>(os-&gt;<a class="code" href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">media_seg_name</a>, os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>) != 0) ||</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file &amp;&amp; <a class="code" href="dashenc_8c.html#acbf0d5dfe062efd0d2e8556528771900">check_file_extension</a>(os-&gt;<a class="code" href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">single_file_name</a>, os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>) != 0)) {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                       <span class="stringliteral">&quot;One or many segment file names doesn&#39;t end with .webm. &quot;</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                       <span class="stringliteral">&quot;Override -init_seg_name and/or -media_seg_name and/or &quot;</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                       <span class="stringliteral">&quot;-single_file_name to end with the extension .webm\n&quot;</span>);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming) {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                <span class="comment">// Streaming not supported as matroskaenc buffers internally before writing the output</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;One or more streams in WebM output format. Streaming option will be ignored\n&quot;</span>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming = 0;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="group__lavf__core.html#gac7a91abf2f59648d995894711f070f62">avformat_alloc_context</a>();</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a> = <a class="code" href="group__lavf__encoding.html#ga2020642d84f919764eed55848c9e69da">av_guess_format</a>(os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>)</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga7ef1e1f3183e34e731185967d416911d">AVERROR_MUXER_NOT_FOUND</a>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a5b37acfe4024d92ee510064e80920b40">interrupt_callback</a>    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;interrupt_callback;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a71797838db59ca0682dd2d18b149134e">opaque</a>                = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;opaque;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a88077ea47abd7cd3fefe7828f778a686">io_close</a>              = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_close;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#af3f615ad9ff79fb90f4eb136a1f58065">io_open</a>               = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a5017684cf0a84c990f60c8d50adec144">strict_std_compliance</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;strict_std_compliance;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <span class="keywordflow">if</span> (!(st = <a class="code" href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)))</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        <a class="code" href="codec__par_8h.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;sample_aspect_ratio;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;time_base;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;avg_frame_rate;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a032c7d859883eddc9d87a9e3b2cc3853">avoid_negative_ts</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avoid_negative_ts;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">flags</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160; </div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a> = <a class="code" href="group__lavc__parsing.html#ga0dd9af605377fcbb49fffd982672d377">av_parser_init</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>) {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#aabb35ba4106fe93475f60fda1c2520a0">parser_avctx</a> = <a class="code" href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#aabb35ba4106fe93475f60fda1c2520a0">parser_avctx</a>)</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(os-&gt;<a class="code" href="struct_output_stream.html#aabb35ba4106fe93475f60fda1c2520a0">parser_avctx</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            <span class="comment">// We only want to parse frame headers</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">flags</a> |= <a class="code" href="avcodec_8h.html#a700fb89fb8a00d075c8b7f3375784b90">PARSER_FLAG_COMPLETE_FRAMES</a>;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        }</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">single_file_name</a>)</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                <a class="code" href="dash_8c.html#a7d903057c6d364b8d8842642d4ba89fb">ff_dash_fill_tmpl_params</a>(os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>, <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>), os-&gt;<a class="code" href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">single_file_name</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, 0, os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a>, 0);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>, <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>), <span class="stringliteral">&quot;%s-stream%d.%s&quot;</span>, basename, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, os-&gt;<a class="code" href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">format_name</a>);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <a class="code" href="dash_8c.html#a7d903057c6d364b8d8842642d4ba89fb">ff_dash_fill_tmpl_params</a>(os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>, <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>), os-&gt;<a class="code" href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">init_seg_name</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, 0, os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a>, 0);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(filename, <span class="keyword">sizeof</span>(filename), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <a class="code" href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">set_http_options</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>)) &lt; 0)</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>, filename, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, &amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">url</a> = <a class="code" href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a>(filename);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#ade8a63980569494c99593ebf0d1e891b">avio_open2</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, filename, <a class="code" href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a632e8280e0c0b78642482927b30e7cb0">init_start_pos</a> = 0;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        <a class="code" href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;format_options, 0);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">if</span> (!as-&gt;<a class="code" href="struct_adaptation_set.html#a43e2dbe6a783dda02b05c6da469db097">seg_duration</a>)</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            as-&gt;<a class="code" href="struct_adaptation_set.html#a43e2dbe6a783dda02b05c6da469db097">seg_duration</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_duration;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">if</span> (!as-&gt;<a class="code" href="struct_adaptation_set.html#a3b32cb579098d34bb212d505d725c6f4">frag_duration</a>)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            as-&gt;<a class="code" href="struct_adaptation_set.html#a3b32cb579098d34bb212d505d725c6f4">frag_duration</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;frag_duration;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">frag_type</a> &lt; 0)</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            as-&gt;<a class="code" href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">frag_type</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;frag_type;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a> = as-&gt;<a class="code" href="struct_adaptation_set.html#a43e2dbe6a783dda02b05c6da469db097">seg_duration</a>;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a> = as-&gt;<a class="code" href="struct_adaptation_set.html#a3b32cb579098d34bb212d505d725c6f4">frag_duration</a>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> = as-&gt;<a class="code" href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">frag_type</a>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_segment_duration = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_segment_duration, as-&gt;<a class="code" href="struct_adaptation_set.html#a43e2dbe6a783dda02b05c6da469db097">seg_duration</a>);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;profile &amp; <a class="code" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a> &amp;&amp; (os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a> &gt; 15000000 || os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a> &lt; 960000)) {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Segment duration %&quot;</span>PRId64<span class="stringliteral">&quot; is outside the allowed range for DVB-DASH profile\n&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a> &amp;&amp; !os-&gt;<a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a>) {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;frag_type set to duration for stream %d but no frag_duration set\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming ? <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a> : <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a>;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        }</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a> &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a> &gt; os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>) {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Fragment duration %&quot;</span>PRId64<span class="stringliteral">&quot; is longer than Segment duration %&quot;</span>PRId64<span class="stringliteral">&quot;\n&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a>, os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a> &amp;&amp; (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> || !os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>)) {</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp; !os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>)</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;frag_type set to P-Frame reordering, but no parser found for stream %d\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming ? <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a> : <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a>;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        }</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> != <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a> &amp;&amp; as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a> &lt; 0)</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            <span class="comment">// Set this now if a parser isn&#39;t used</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a4c861e010defa598ed9cb8a245d6f32e">coding_dependency</a> = 1;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> == <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>) {</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming)</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                <span class="comment">// skip_sidx : Reduce bitrate overhead</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                <span class="comment">// skip_trailer : Avoids growing memory usage with time</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;movflags&quot;</span>, <span class="stringliteral">&quot;+dash+delay_moov+skip_sidx+skip_trailer&quot;</span>, <a class="code" href="group__lavu__dict.html#ga64018c01d1e8c44d1d8c03dfb099f2c2">AV_DICT_APPEND</a>);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;global_sidx)</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                    <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;movflags&quot;</span>, <span class="stringliteral">&quot;+dash+delay_moov+global_sidx+skip_trailer&quot;</span>, <a class="code" href="group__lavu__dict.html#ga64018c01d1e8c44d1d8c03dfb099f2c2">AV_DICT_APPEND</a>);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                    <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;movflags&quot;</span>, <span class="stringliteral">&quot;+dash+delay_moov+skip_trailer&quot;</span>, <a class="code" href="group__lavu__dict.html#ga64018c01d1e8c44d1d8c03dfb099f2c2">AV_DICT_APPEND</a>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a>)</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;movflags&quot;</span>, <span class="stringliteral">&quot;+frag_every_frame&quot;</span>, <a class="code" href="group__lavu__dict.html#ga64018c01d1e8c44d1d8c03dfb099f2c2">AV_DICT_APPEND</a>);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;movflags&quot;</span>, <span class="stringliteral">&quot;+frag_custom&quot;</span>, <a class="code" href="group__lavu__dict.html#ga64018c01d1e8c44d1d8c03dfb099f2c2">AV_DICT_APPEND</a>);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a>)</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;frag_duration&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a>, 0);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft)</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;write_prft&quot;</span>, <span class="stringliteral">&quot;wallclock&quot;</span>, 0);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;cluster_time_limit&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_duration / 1000, 0);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;cluster_size_limit&quot;</span>, 5 * 1024 * 1024, 0); <span class="comment">// set a large cluster size limit</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;dash&quot;</span>, 1, 0);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;dash_track_number&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1, 0);</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <a class="code" href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <span class="stringliteral">&quot;live&quot;</span>, 1, 0);</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        }</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__encoding.html#ga169cfa28508e22e138c5b99be8517ea4">avformat_init_output</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, &amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#af81b52fc5a724691220dd59aecabc5e2">ctx_inited</a> = 1;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <a class="code" href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160; </div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Representation %d init segment will be written to: %s\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, filename);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;time_base = st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        <span class="comment">// If the muxer wants to shift timestamps, request to have them shifted</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="comment">// already before being handed to this muxer, so we don&#39;t have mismatches</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <span class="comment">// between the MPD and the actual segments.</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avoid_negative_ts = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a032c7d859883eddc9d87a9e3b2cc3853">avoid_negative_ts</a>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            <a class="code" href="struct_a_v_rational.html">AVRational</a> avg_frame_rate = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;avg_frame_rate;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <a class="code" href="struct_a_v_rational.html">AVRational</a> par;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            <span class="keywordflow">if</span> (avg_frame_rate.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0) {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(avg_frame_rate, as-&gt;<a class="code" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">min_frame_rate</a>) &lt; 0)</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                    as-&gt;<a class="code" href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">min_frame_rate</a> = avg_frame_rate;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a>, avg_frame_rate) &lt; 0)</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                    as-&gt;<a class="code" href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">max_frame_rate</a> = avg_frame_rate;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#a93fa15287cc03e8e0e816924518757bf">ambiguous_frame_rate</a> = 1;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> &gt; as-&gt;<a class="code" href="struct_adaptation_set.html#ae826a21ebf9532de5d77dd9e8dc5b8df">max_width</a>)</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#ae826a21ebf9532de5d77dd9e8dc5b8df">max_width</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> &gt; as-&gt;<a class="code" href="struct_adaptation_set.html#a8cf6ca8f1cd008ed88566b83e9327162">max_height</a>)</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                as-&gt;<a class="code" href="struct_adaptation_set.html#a8cf6ca8f1cd008ed88566b83e9327162">max_height</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                os-&gt;<a class="code" href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">sar</a> = st-&gt;<a class="code" href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">sample_aspect_ratio</a>;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                os-&gt;<a class="code" href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">sar</a> = (<a class="code" href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a>){1,1};</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;par.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>, &amp;par.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                      st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">width</a> * (int64_t)os-&gt;<a class="code" href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">sar</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                      st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">height</a> * (int64_t)os-&gt;<a class="code" href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">sar</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>,</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                      1024 * 1024);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <span class="keywordflow">if</span> (as-&gt;<a class="code" href="struct_adaptation_set.html#ac4ed33827f5bd86e4481cc10ce3dc3ba">par</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; <a class="code" href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a>(par, as-&gt;<a class="code" href="struct_adaptation_set.html#ac4ed33827f5bd86e4481cc10ce3dc3ba">par</a>)) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Conflicting stream aspect ratios values in Adaptation Set %d. Please ensure all adaptation sets have the same aspect ratio\n&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a>);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;            }</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            as-&gt;<a class="code" href="struct_adaptation_set.html#ac4ed33827f5bd86e4481cc10ce3dc3ba">par</a> = par;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;has_video = 1;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        }</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <a class="code" href="dashenc_8c.html#aea10363e02de12b0291966b601bbc2ee">set_codec_str</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>, os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>,</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;                      <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>));</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#ad49d2f7d669d2b75921bba0ae8c76213">last_dts</a> = <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a> = 1;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nr_of_streams_to_flush++;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    }</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160; </div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;has_video &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;seg_duration &lt;= 0) {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;no video stream and no seg duration set\n&quot;</span>);</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    }</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;has_video &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;frag_type == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a>)</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;no video stream and P-frame fragmentation set\n&quot;</span>);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nr_of_streams_flushed = 0;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency_refid = -1;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;}</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160; </div>
<div class="line"><a name="l01721"></a><span class="lineno"><a class="line" href="dashenc_8c.html#abe66472c3ded5c8583a75616ca78de34"> 1721</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#abe66472c3ded5c8583a75616ca78de34">dash_write_header</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;{</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__encoding.html#ga18b7b10bb5b94c4842de18166bc677cb">avformat_write_header</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="comment">// Flush init segment</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <span class="comment">// Only for WebM segment, since for mp4 delay_moov is set and</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="comment">// the init segment is thus flushed after the first packets.</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> == <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">SEGMENT_TYPE_WEBM</a> &amp;&amp;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#af30107d0caa08b964eac664686f3e497">flush_init_segment</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, os)) &lt; 0)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;}</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ac31f915df831e16b2757eea8a1fbe3f8"> 1740</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#ac31f915df831e16b2757eea8a1fbe3f8">add_segment</a>(<a class="code" href="struct_output_stream.html">OutputStream</a> *os, <span class="keyword">const</span> <span class="keywordtype">char</span> *file,</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                       int64_t time, int64_t <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>,</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                       int64_t start_pos, int64_t range_length,</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                       int64_t index_length, <span class="keywordtype">int</span> next_exp_index)</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;{</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <a class="code" href="struct_segment.html">Segment</a> *seg;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> &gt;= os-&gt;<a class="code" href="struct_output_stream.html#ac4ccfadc5b5b30aad1344f500f870702">segments_size</a>) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#ac4ccfadc5b5b30aad1344f500f870702">segments_size</a> = (os-&gt;<a class="code" href="struct_output_stream.html#ac4ccfadc5b5b30aad1344f500f870702">segments_size</a> + 1) * 2;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <span class="keywordflow">if</span> ((err = <a class="code" href="group__lavu__mem__funcs.html#gad8fde0c159ac905909339e082a049cde">av_reallocp_array</a>(&amp;os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>, <span class="keyword">sizeof</span>(*os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>),</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                               os-&gt;<a class="code" href="struct_output_stream.html#ac4ccfadc5b5b30aad1344f500f870702">segments_size</a>)) &lt; 0) {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#ac4ccfadc5b5b30aad1344f500f870702">segments_size</a> = 0;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> = 0;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    seg = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*seg));</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">if</span> (!seg)</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a>(seg-&gt;<a class="code" href="struct_segment.html#a1aad1835c912804b31a6087d32b7ca7a">file</a>, file, <span class="keyword">sizeof</span>(seg-&gt;<a class="code" href="struct_segment.html#a1aad1835c912804b31a6087d32b7ca7a">file</a>));</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    seg-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a> = time;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    seg-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a> = <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">if</span> (seg-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a> &lt; 0) { <span class="comment">// If pts&lt;0, it is expected to be cut away with an edit list</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        seg-&gt;<a class="code" href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">duration</a> += seg-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a>;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        seg-&gt;<a class="code" href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">time</a> = 0;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    }</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    seg-&gt;<a class="code" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">start_pos</a> = start_pos;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    seg-&gt;<a class="code" href="struct_segment.html#a62ecc80ee0b39ea748e0b5d70c666ba5">range_length</a> = range_length;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    seg-&gt;<a class="code" href="struct_segment.html#a1e1fdff15d7d4e951015cbe7975778fa">index_length</a> = index_length;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>++] = seg;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a>++;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="comment">//correcting the segment index if it has fallen behind the expected value</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a> &lt; next_exp_index) {</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Correcting the segment index after file %s: current=%d corrected=%d\n&quot;</span>,</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;               file, os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a>, next_exp_index);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a> = next_exp_index;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    }</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;}</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"><a class="line" href="dashenc_8c.html#abd93a54572245ad31d9b568ad8fb8383"> 1780</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#abd93a54572245ad31d9b568ad8fb8383">write_styp</a>(<a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;{</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <a class="code" href="avio_8h.html#a1f2b9ee1bde6c6982072edbe929b47ea">avio_wb32</a>(pb, 24);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;styp&quot;</span>);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;msdh&quot;</span>);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <a class="code" href="avio_8h.html#a1f2b9ee1bde6c6982072edbe929b47ea">avio_wb32</a>(pb, 0); <span class="comment">/* minor */</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;msdh&quot;</span>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <a class="code" href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a>(pb, <span class="stringliteral">&quot;msix&quot;</span>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;}</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ab02a993684221393d049468a98598809"> 1790</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#ab02a993684221393d049468a98598809">find_index_range</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *full_path,</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                             int64_t <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, <span class="keywordtype">int</span> *index_length)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;{</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[8];</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *pb;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;io_open(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;pb, full_path, <a class="code" href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a>(pb, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, SEEK_SET) != <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;pb);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    }</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a>(pb, buf, 8);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;pb);</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 8)</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(&amp;buf[4]) != <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;x&#39;</span>))</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    *index_length = <a class="code" href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a>(&amp;buf[0]);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;}</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160; </div>
<div class="line"><a name="l01813"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a4425d605a0fccafe11617cfe2d62e9fa"> 1813</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a4425d605a0fccafe11617cfe2d62e9fa">update_stream_extradata</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_output_stream.html">OutputStream</a> *os,</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                                   <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="struct_a_v_rational.html">AVRational</a> *frame_rate)</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;{</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <a class="code" href="struct_a_v_codec_parameters.html">AVCodecParameters</a> *par = os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[0]-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *extradata;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, extradata_size;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keywordflow">if</span> (par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">extradata_size</a>)</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    extradata = <a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a>, &amp;extradata_size);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">if</span> (!extradata_size)</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160; </div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a>(par, extradata_size);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    memcpy(par-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">extradata</a>, extradata, extradata_size);</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <a class="code" href="dashenc_8c.html#aea10363e02de12b0291966b601bbc2ee">set_codec_str</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, par, frame_rate, os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>, <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">codec_str</a>));</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;}</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"><a class="line" href="dashenc_8c.html#adeb189eb23d01d3c091f2be8f1d97db4"> 1838</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#adeb189eb23d01d3c091f2be8f1d97db4">dashenc_delete_file</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">char</span> *filename) {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="keywordtype">int</span> http_base_proto = <a class="code" href="libavformat_2internal_8h.html#a01788f5fa3d955ed9da7ae8e3524e79d">ff_is_http_proto</a>(filename);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordflow">if</span> (http_base_proto) {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        <a class="code" href="struct_a_v_i_o_context.html">AVIOContext</a> *<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *http_opts = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160; </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <a class="code" href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">set_http_options</a>(&amp;http_opts, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        <a class="code" href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a>(&amp;http_opts, <span class="stringliteral">&quot;method&quot;</span>, <span class="stringliteral">&quot;DELETE&quot;</span>, 0);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160; </div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dashenc_8c.html#a82ed2f3a79ec70fe586b6f336acc3c6c">dashenc_io_open</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>, filename, &amp;http_opts) &lt; 0) {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;failed to delete %s\n&quot;</span>, filename);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        }</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160; </div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;http_opts);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        <a class="code" href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a>);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keywordtype">int</span> res = <a class="code" href="avio_8c.html#a5cf1a4a2055dec6bb6b7acd82fcb0d18">avpriv_io_delete</a>(filename);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        <span class="keywordflow">if</span> (res &lt; 0) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            <span class="keywordtype">char</span> errbuf[<a class="code" href="group__lavu__error.html#ga326c3f741a7adb148cdeaad68eea713d">AV_ERROR_MAX_STRING_SIZE</a>];</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;            <a class="code" href="group__lavu__error.html#ga5792b4a2d18d7d9cb0efbcfc335dce24">av_strerror</a>(res, errbuf, <span class="keyword">sizeof</span>(errbuf));</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, (res == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOENT) ? <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a> : <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>), <span class="stringliteral">&quot;failed to delete %s: %s\n&quot;</span>, filename, errbuf);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;}</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a70497c769e4c2dbd9000083fc58cf3ef"> 1865</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a70497c769e4c2dbd9000083fc58cf3ef">dashenc_delete_segment_file</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* file)</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;{</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    AVBPrint buf;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <a class="code" href="bprint_8c.html#a26abc84daea3189592c511fc26067d66">av_bprint_init</a>(&amp;buf, 0, <a class="code" href="bprint_8h.html#a01aefbce0615a828eae24135a9b35c45">AV_BPRINT_SIZE_UNLIMITED</a>);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160; </div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <a class="code" href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a>(&amp;buf, <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, file);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a>(&amp;buf)) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        <a class="code" href="bprint_8c.html#a3fd45f50d9d4f7cc8fed5331a37f47ea">av_bprint_finalize</a>(&amp;buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Out of memory for filename\n&quot;</span>);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160; </div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <a class="code" href="dashenc_8c.html#adeb189eb23d01d3c091f2be8f1d97db4">dashenc_delete_file</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, buf.str);</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160; </div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <a class="code" href="bprint_8c.html#a3fd45f50d9d4f7cc8fed5331a37f47ea">av_bprint_finalize</a>(&amp;buf, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;}</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a9b2bb6f4bca595538e10339ebf09b949"> 1885</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dashenc_8c.html#a9b2bb6f4bca595538e10339ebf09b949">dashenc_delete_media_segments</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_output_stream.html">OutputStream</a> *os, <span class="keywordtype">int</span> remove_count)</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;{</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; remove_count; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <a class="code" href="dashenc_8c.html#a70497c769e4c2dbd9000083fc58cf3ef">dashenc_delete_segment_file</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;<a class="code" href="struct_segment.html#a1aad1835c912804b31a6087d32b7ca7a">file</a>);</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160; </div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <span class="comment">// Delete the segment regardless of whether the file was successfully deleted</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    }</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160; </div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> -= remove_count;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    memmove(os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>, os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a> + remove_count, os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> * <span class="keyword">sizeof</span>(*os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>));</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160; </div>
<div class="line"><a name="l01898"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a75e1d08c33db1c191831598581f534c5"> 1898</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a75e1d08c33db1c191831598581f534c5">dash_flush</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <span class="keyword">final</span>, <span class="keywordtype">int</span> stream)</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;{</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160; </div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *proto = <a class="code" href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="keywordtype">int</span> use_rename = proto &amp;&amp; !strcmp(proto, <span class="stringliteral">&quot;file&quot;</span>);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="keywordtype">int</span> cur_flush_segment_index = 0, next_exp_index = -1;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="keywordflow">if</span> (stream &gt;= 0) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        cur_flush_segment_index = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[stream].segment_index;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160; </div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        <span class="comment">//finding the next segment&#39;s expected index, based on the current pts value</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_template &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_timeline &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;index_correction &amp;&amp;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[stream].last_pts != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[stream].first_pts != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;            int64_t pts_diff = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[stream].last_pts -</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                                            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[stream].first_pts,</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream]-&gt;time_base,</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                                            <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            next_exp_index = (pts_diff / <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[stream].seg_duration) + 1;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    }</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160; </div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="keywordtype">int</span> range_length, index_length = 0;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        int64_t <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160; </div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a>)</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="comment">// Flush the single stream that got a keyframe right now.</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        <span class="comment">// Flush all audio streams as well, in sync with video keyframes,</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        <span class="comment">// but not the other video streams.</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        <span class="keywordflow">if</span> (stream &gt;= 0 &amp;&amp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> != stream) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[stream]-&gt;codecpar-&gt;codec_type != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;codecpar-&gt;codec_type != <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>)</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;            <span class="comment">// Make sure we don&#39;t flush audio streams multiple times, when</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;            <span class="comment">// all video streams are flushed one at a time.</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;has_video &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a> &gt; cur_flush_segment_index)</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160; </div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file)</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>, <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#aaca3ba4e04340d96aa3ae196952683f5">flush_dynbuf</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, os, &amp;range_length);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a> = 0;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file) {</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            <a class="code" href="dashenc_8c.html#ab02a993684221393d049468a98598809">find_index_range</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>, os-&gt;<a class="code" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">pos</a>, &amp;index_length);</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;            <a class="code" href="dashenc_8c.html#a78a4787c2fa5fac1710e5b124ed96f8d">dashenc_io_close</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>, os-&gt;<a class="code" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">temp_path</a>);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            <span class="keywordflow">if</span> (use_rename) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="avio_8c.html#af96f613cbf7f0d32ab56278ca75e4430">ff_rename</a>(os-&gt;<a class="code" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">temp_path</a>, os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>, os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            }</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        }</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a> = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> - os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(os-&gt;<a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a>, <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#adc72010807aaed53a4794adcd6e216b8">muxer_overhead</a> &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> &gt; os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>)</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#adc72010807aaed53a4794adcd6e216b8">muxer_overhead</a> = ((int64_t) (range_length - os-&gt;<a class="code" href="struct_output_stream.html#a1ee004c87b36b037ec4d86055b67be34">total_pkt_size</a>) *</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                                  8 * <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>) / <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a1ee004c87b36b037ec4d86055b67be34">total_pkt_size</a> = 0;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a9e20b50f6e787ce2428621527014141b">total_pkt_duration</a> = 0;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a> &amp;&amp; !os-&gt;<a class="code" href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">first_segment_bit_rate</a>) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">first_segment_bit_rate</a> = (int64_t) range_length * 8 * <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a> / <a class="code" href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        }</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <a class="code" href="dashenc_8c.html#ac31f915df831e16b2757eea8a1fbe3f8">add_segment</a>(os, os-&gt;<a class="code" href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">filename</a>, os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>, os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> - os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>, os-&gt;<a class="code" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">pos</a>, range_length, index_length, next_exp_index);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Representation %d media segment %d written to: %s\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a>, os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160; </div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">pos</a> += range_length;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size) {</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            <span class="keywordtype">int</span> remove_count = os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;window_size - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;extra_window_size;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            <span class="keywordflow">if</span> (remove_count &gt; 0)</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                <a class="code" href="dashenc_8c.html#a9b2bb6f4bca595538e10339ebf09b949">dashenc_delete_media_segments</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, os, remove_count);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;        }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">final</span>) {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;            <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a> &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#af81b52fc5a724691220dd59aecabc5e2">ctx_inited</a>) {</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                int64_t file_size = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                <a class="code" href="group__lavf__encoding.html#ga7f14007e7dc8f481f054b21614dfec13">av_write_trailer</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;global_sidx) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                    <span class="keywordtype">int</span> j, start_index, start_number;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                    int64_t sidx_size = <a class="code" href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>) - file_size;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                    <a class="code" href="dashenc_8c.html#a40c12cf37e61853e531a8782ab49d060">get_start_index_number</a>(os, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, &amp;start_index, &amp;start_number);</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                    <span class="keywordflow">if</span> (start_index &gt;= os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a> ||</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                        os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> != <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>)</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                    os-&gt;<a class="code" href="struct_output_stream.html#af9e5cd3ddfbd288aa1380c1f10f9c044">init_range_length</a> += sidx_size;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                    <span class="keywordflow">for</span> (j = start_index; j &lt; os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>; j++) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                        <a class="code" href="struct_segment.html">Segment</a> *seg = os-&gt;<a class="code" href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">segments</a>[j];</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                        seg-&gt;<a class="code" href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">start_pos</a> += sidx_size;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                    }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                }</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160; </div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            }</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        }</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    }</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0) {</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;has_video &amp;&amp; !<span class="keyword">final</span>) {</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nr_of_streams_flushed++;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nr_of_streams_flushed != <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nr_of_streams_to_flush)</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;nr_of_streams_flushed = 0;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#ae8ebee2a174e169617c06c10acb963a9">write_manifest</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">final</span>);</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;}</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160; </div>
<div class="line"><a name="l02029"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a25636af8d52c828259255292a8328284"> 2029</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#a25636af8d52c828259255292a8328284">dash_parse_prft</a>(<a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;{</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <a class="code" href="struct_a_v_producer_reference_time.html">AVProducerReferenceTime</a> *prft;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordtype">int</span> side_data_size;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160; </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    prft = (<a class="code" href="struct_a_v_producer_reference_time.html">AVProducerReferenceTime</a> *)<a class="code" href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a4586b727ffd024011970432c23187874">AV_PKT_DATA_PRFT</a>, &amp;side_data_size);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordflow">if</span> (!prft || side_data_size != <span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_producer_reference_time.html">AVProducerReferenceTime</a>) || (prft-&gt;<a class="code" href="struct_a_v_producer_reference_time.html#a05ccbc7140b41059cccbaa06ad8910f8">flags</a> &amp;&amp; prft-&gt;<a class="code" href="struct_a_v_producer_reference_time.html#a05ccbc7140b41059cccbaa06ad8910f8">flags</a> != 24)) {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        <span class="comment">// No encoder generated or user provided capture time AVProducerReferenceTime side data. Instead</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <span class="comment">// of letting the mov muxer generate one, do it here so we can also use it for the manifest.</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        prft = (<a class="code" href="struct_a_v_producer_reference_time.html">AVProducerReferenceTime</a> *)<a class="code" href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a4586b727ffd024011970432c23187874">AV_PKT_DATA_PRFT</a>,</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                                                                  <span class="keyword">sizeof</span>(<a class="code" href="struct_a_v_producer_reference_time.html">AVProducerReferenceTime</a>));</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        <span class="keywordflow">if</span> (!prft)</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        prft-&gt;<a class="code" href="struct_a_v_producer_reference_time.html#aa44842dba607b9947fc6e1c1d9638faf">wallclock</a> = <a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>();</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        prft-&gt;<a class="code" href="struct_a_v_producer_reference_time.html#a05ccbc7140b41059cccbaa06ad8910f8">flags</a> = 24;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    }</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#ac7524b9210a82869cf9aaaf2c5de7fb6">producer_reference_time</a> = *prft;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency_refid &lt; 0)</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;target_latency_refid = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;}</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160; </div>
<div class="line"><a name="l02055"></a><span class="lineno"><a class="line" href="dashenc_8c.html#aa7bb49fc68dcbd06085d1eb9da1cbcbc"> 2055</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#aa7bb49fc68dcbd06085d1eb9da1cbcbc">dash_write_packet</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;{</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *as = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[os-&gt;<a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a> - 1];</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    int64_t seg_end_duration, elapsed_duration;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160; </div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a4425d605a0fccafe11617cfe2d62e9fa">update_stream_extradata</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, os, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, &amp;st-&gt;<a class="code" href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">avg_frame_rate</a>);</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="comment">// Fill in a heuristic guess of the packet duration, if none is available.</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="comment">// The mp4 muxer will do something similar (for the last packet in a fragment)</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="comment">// if nothing is set (setting it for the other packets doesn&#39;t hurt).</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="comment">// By setting a nonzero duration here, we can be sure that the mp4 muxer won&#39;t</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="comment">// invoke its heuristic (this doesn&#39;t have to be identical to that algorithm),</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="comment">// so that we know the exact timestamps of fragments.</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#ad49d2f7d669d2b75921bba0ae8c76213">last_dts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> - os-&gt;<a class="code" href="struct_output_stream.html#ad49d2f7d669d2b75921bba0ae8c76213">last_dts</a>;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#ad49d2f7d669d2b75921bba0ae8c76213">last_dts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160; </div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="comment">// If forcing the stream to start at 0, the mp4 muxer will set the start</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="comment">// timestamps to 0. Do the same here, to avoid mismatches in duration/timestamps.</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a> &amp;&amp;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avoid_negative_ts == <a class="code" href="avformat_8h.html#aeb387b52a67154ded3aeee38400f358a">AVFMT_AVOID_NEG_TS_MAKE_ZERO</a>) {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> -= <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>  = 0;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    }</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160; </div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft) {</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a25636af8d52c828259255292a8328284">dash_parse_prft</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>) {</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;    }</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#a255c98839ad8249f344867bf688d3be1">last_pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;availability_start_time[0]) {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        int64_t start_time_us = <a class="code" href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a>();</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;start_time_s = start_time_us / 1000000;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        <a class="code" href="dashenc_8c.html#ade1d77751eaf79e6bce1b782760d7d74">format_date</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;availability_start_time,</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                    <span class="keyword">sizeof</span>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;availability_start_time), start_time_us);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    }</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a>)</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a> = 0;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160; </div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a> &amp;&amp;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        ((os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a> &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a> != os-&gt;<a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a>) ||</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;         (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a> &amp;&amp; <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>))) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <a class="code" href="struct_adaptation_set.html">AdaptationSet</a> *as = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;as[os-&gt;<a class="code" href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">as_idx</a> - 1];</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        int64_t frame_duration = 0;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160; </div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <span class="keywordflow">switch</span> (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a>) {</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a>:</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            frame_duration = os-&gt;<a class="code" href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">frag_duration</a>;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a>:</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;            frame_duration = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        }</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;         os-&gt;<a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a> = ((double) os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a> -</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                                         frame_duration) / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        as-&gt;<a class="code" href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">max_frag_duration</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(frame_duration, as-&gt;<a class="code" href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">max_frag_duration</a>);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    }</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160; </div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_template &amp;&amp; !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_timeline) {</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        elapsed_duration = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> - os-&gt;<a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a>;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        seg_end_duration = (int64_t) os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a> * os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        elapsed_duration = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> - os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        seg_end_duration = os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a> &amp;&amp;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        (os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a> ||</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;         as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a> &gt;= 0)) {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <span class="comment">// Parse the packets only in scenarios where it&#39;s needed</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="group__lavc__parsing.html#ga691ca0258e91f99297e7726f56d8c247">av_parser_parse2</a>(os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>, os-&gt;<a class="code" href="struct_output_stream.html#aabb35ba4106fe93475f60fda1c2520a0">parser_avctx</a>,</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                         &amp;<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, &amp;<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>,</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                         <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">pos</a>);</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; </div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a4c861e010defa598ed9cb8a245d6f32e">coding_dependency</a> |= os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a41702bcd99e8aeab875634fb44bfd741">pict_type</a> != <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    }</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160; </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a> &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a> &amp;&amp;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <a class="code" href="group__lavu__math.html#ga151744358fff630942b926e67e67c415">av_compare_ts</a>(elapsed_duration, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                      seg_end_duration, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>) &gt;= 0) {</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;has_video || st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> - os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>,</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                    <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;total_duration = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> - os-&gt;<a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a>,</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                    st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                    <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160; </div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            <span class="keywordflow">if</span> ((!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_timeline || !<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;use_template) &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a>) {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration &lt; os-&gt;<a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a>*9/10 ||</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration &gt; os-&gt;<a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a>*11/10) {</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;                            <span class="stringliteral">&quot;Segment durations differ too much, enable use_timeline &quot;</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                            <span class="stringliteral">&quot;and use_template, or keep a stricter keyframe interval\n&quot;</span>);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                }</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;            }</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160; </div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;write_prft &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#ac7524b9210a82869cf9aaaf2c5de7fb6">producer_reference_time</a>.<a class="code" href="struct_a_v_producer_reference_time.html#aa44842dba607b9947fc6e1c1d9638faf">wallclock</a> &amp;&amp; !os-&gt;<a class="code" href="struct_output_stream.html#a5cb4557f1d4f913cc31acd1a4494a123">producer_reference_time_str</a>[0])</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;            <a class="code" href="dashenc_8c.html#ade1d77751eaf79e6bce1b782760d7d74">format_date</a>(os-&gt;<a class="code" href="struct_output_stream.html#a5cb4557f1d4f913cc31acd1a4494a123">producer_reference_time_str</a>,</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;                        <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a5cb4557f1d4f913cc31acd1a4494a123">producer_reference_time_str</a>),</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                        os-&gt;<a class="code" href="struct_output_stream.html#ac7524b9210a82869cf9aaaf2c5de7fb6">producer_reference_time</a>.<a class="code" href="struct_a_v_producer_reference_time.html#aa44842dba607b9947fc6e1c1d9638faf">wallclock</a>);</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160; </div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a75e1d08c33db1c191831598581f534c5">dash_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>)) &lt; 0)</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    }</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a>) {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;        <span class="comment">// If we wrote a previous segment, adjust the start time of the segment</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        <span class="comment">// to the end of the previous one (which is the same as the mp4 muxer</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="comment">// does). This avoids gaps in the timeline.</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> != <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a> = os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a>;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    }</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> == <a class="code" href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a>)</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160; </div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">if</span> (st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">codec_type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a> &amp;&amp;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">frag_type</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a> &amp;&amp;</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a>) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        <span class="keywordflow">if</span> ((os-&gt;<a class="code" href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">parser</a>-&gt;<a class="code" href="struct_a_v_codec_parser_context.html#a41702bcd99e8aeab875634fb44bfd741">pict_type</a> == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a> &amp;&amp;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;             st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a8aeefb8cf55cb147f930424c488f9693">video_delay</a> &amp;&amp;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;             !(os-&gt;<a class="code" href="struct_output_stream.html#ab20991e6bd2cf53793dc06c73b2895b7">last_flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>)) ||</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>) {</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__encoding.html#gaa85cc1774f18f306cd20a40fc50d0b36">av_write_frame</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160; </div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;            <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a>) {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                int64_t frag_duration = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(os-&gt;<a class="code" href="struct_output_stream.html#a9e20b50f6e787ce2428621527014141b">total_pkt_duration</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>,</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;                                                     <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                os-&gt;<a class="code" href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">availability_time_offset</a> = ((double) os-&gt;<a class="code" href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">seg_duration</a> -</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                                                 frag_duration) / <a class="code" href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a>;</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;               as-&gt;<a class="code" href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">max_frag_duration</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(frag_duration, as-&gt;<a class="code" href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">max_frag_duration</a>);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;            }</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        }</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160; </div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> &amp; <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a> &amp;&amp; (os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a> || os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>) &amp;&amp; !os-&gt;<a class="code" href="struct_output_stream.html#a262c90c104c49d60d48d65f356fcd402">gop_size</a> &amp;&amp; as-&gt;<a class="code" href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">trick_idx</a> &lt; 0) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a262c90c104c49d60d48d65f356fcd402">gop_size</a> = os-&gt;<a class="code" href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">last_duration</a> + <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(os-&gt;<a class="code" href="struct_output_stream.html#a9e20b50f6e787ce2428621527014141b">total_pkt_duration</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">time_base</a>, <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_gop_size = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;max_gop_size, os-&gt;<a class="code" href="struct_output_stream.html#a262c90c104c49d60d48d65f356fcd402">gop_size</a>);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    }</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160; </div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavformat_2internal_8h.html#a5e5b06d6dc78cbe6112e42f8069b12b5">ff_write_chained</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>, 0, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160; </div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a>++;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#a1ee004c87b36b037ec4d86055b67be34">total_pkt_size</a> += <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#a9e20b50f6e787ce2428621527014141b">total_pkt_duration</a> += <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">duration</a>;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    os-&gt;<a class="code" href="struct_output_stream.html#ab20991e6bd2cf53793dc06c73b2895b7">last_flags</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a>;</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160; </div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <span class="keywordflow">if</span> (!os-&gt;<a class="code" href="struct_output_stream.html#af9e5cd3ddfbd288aa1380c1f10f9c044">init_range_length</a>)</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        <a class="code" href="dashenc_8c.html#af30107d0caa08b964eac664686f3e497">flush_init_segment</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, os);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="comment">//open the output context when the first frame of a segment is ready</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;single_file &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">packets_written</a> == 1) {</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *proto = <a class="code" href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        <span class="keywordtype">int</span> use_rename = proto &amp;&amp; !strcmp(proto, <span class="stringliteral">&quot;file&quot;</span>);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> == <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>)</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;            <a class="code" href="dashenc_8c.html#abd93a54572245ad31d9b568ad8fb8383">write_styp</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">filename</a>[0] = os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>[0] = os-&gt;<a class="code" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">temp_path</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <a class="code" href="dash_8c.html#a7d903057c6d364b8d8842642d4ba89fb">ff_dash_fill_tmpl_params</a>(os-&gt;<a class="code" href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">filename</a>, <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">filename</a>),</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                                 os-&gt;<a class="code" href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">media_seg_name</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>,</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;                                 os-&gt;<a class="code" href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">segment_index</a>, os-&gt;<a class="code" href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">bit_rate</a>, os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>, <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname,</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                 os-&gt;<a class="code" href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">filename</a>);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(os-&gt;<a class="code" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">temp_path</a>, <span class="keyword">sizeof</span>(os-&gt;<a class="code" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">temp_path</a>),</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;                 use_rename ? <span class="stringliteral">&quot;%s.tmp&quot;</span> : <span class="stringliteral">&quot;%s&quot;</span>, os-&gt;<a class="code" href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">full_path</a>);</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <a class="code" href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">set_http_options</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dashenc_8c.html#a82ed2f3a79ec70fe586b6f336acc3c6c">dashenc_io_open</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>, os-&gt;<a class="code" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">temp_path</a>, &amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <a class="code" href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a>(&amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="dashenc_8c.html#ac9fd0a3cf51bddf389c6a965ccda685a">handle_io_open_error</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, os-&gt;<a class="code" href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">temp_path</a>);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;        }</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;lhls) {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;            <span class="keywordtype">char</span> *prefetch_url = use_rename ? <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : os-&gt;<a class="code" href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">filename</a>;</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            <a class="code" href="dashenc_8c.html#abbfe5ec7a9ebe5c25082bae4e29cf42f">write_hls_media_playlist</a>(os, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>, 0, prefetch_url);</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        }</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    }</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160; </div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="comment">//write out the data immediately in streaming mode</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streaming &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> == <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>) {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = 0;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        <a class="code" href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a>(os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="avio_8h.html#af2d626b0d21721fdc91ac20b5664cf5f">avio_get_dyn_buf</a> (os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, &amp;buf);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <span class="keywordflow">if</span> (os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>) {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;            <a class="code" href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a>(os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>, buf + os-&gt;<a class="code" href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">written_len</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> - os-&gt;<a class="code" href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">written_len</a>);</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;            <a class="code" href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a>(os-&gt;<a class="code" href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">out</a>);</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        }</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        os-&gt;<a class="code" href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">written_len</a> = <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160; </div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;}</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160; </div>
<div class="line"><a name="l02273"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ad78730809b7c4c3624bd947125bf74f8"> 2273</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#ad78730809b7c4c3624bd947125bf74f8">dash_write_trailer</a>(<a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;{</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams &gt; 0) {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[0];</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        <span class="comment">// If no segments have been written so far, try to do a crude</span></div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        <span class="comment">// guess of the segment duration</span></div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration)</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;last_duration = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> - os-&gt;<a class="code" href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">start_pts</a>,</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0]-&gt;time_base,</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;                                            <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;total_duration = <a class="code" href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a>(os-&gt;<a class="code" href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">max_pts</a> - os-&gt;<a class="code" href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">first_pts</a>,</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                                         <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[0]-&gt;time_base,</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                                         <a class="code" href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a>);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    }</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <a class="code" href="dashenc_8c.html#a75e1d08c33db1c191831598581f534c5">dash_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1, -1);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;remove_at_exit) {</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nb_streams; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;            <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;            <a class="code" href="dashenc_8c.html#a9b2bb6f4bca595538e10339ebf09b949">dashenc_delete_media_segments</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, os, os-&gt;<a class="code" href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">nb_segments</a>);</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;            <a class="code" href="dashenc_8c.html#a70497c769e4c2dbd9000083fc58cf3ef">dashenc_delete_segment_file</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, os-&gt;<a class="code" href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">initfile</a>);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_playlist &amp;&amp; os-&gt;<a class="code" href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">segment_type</a> == <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a>) {</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;                <span class="keywordtype">char</span> filename[1024];</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                <a class="code" href="dashenc_8c.html#aafd25899292ac76c13c54082dcd01a6a">get_hls_playlist_name</a>(filename, <span class="keyword">sizeof</span>(filename), <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                <a class="code" href="dashenc_8c.html#adeb189eb23d01d3c091f2be8f1d97db4">dashenc_delete_file</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, filename);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            }</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;        }</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        <a class="code" href="dashenc_8c.html#adeb189eb23d01d3c091f2be8f1d97db4">dashenc_delete_file</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;url);</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160; </div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_playlist &amp;&amp; <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;master_playlist_created) {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;            <span class="keywordtype">char</span> filename[1024];</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;            <a class="code" href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a>(filename, <span class="keyword">sizeof</span>(filename), <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;dirname, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;hls_master_name);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;            <a class="code" href="dashenc_8c.html#adeb189eb23d01d3c091f2be8f1d97db4">dashenc_delete_file</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, filename);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        }</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    }</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160; </div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;}</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160; </div>
<div class="line"><a name="l02315"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ac5920b21a6ddd28805a7bfdbb96067f9"> 2315</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dashenc_8c.html#ac5920b21a6ddd28805a7bfdbb96067f9">dash_check_bitstream</a>(<span class="keyword">struct</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;{</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <a class="code" href="struct_d_a_s_h_context.html">DASHContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;priv_data;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <a class="code" href="struct_output_stream.html">OutputStream</a> *os = &amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;streams[avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *oc = os-&gt;<a class="code" href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">ctx</a>;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keywordflow">if</span> (oc-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#a1260d6304f56b67bcc8fa2fb77a7d92f">check_bitstream</a>) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        <a class="code" href="struct_a_v_packet.html">AVPacket</a> <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a> = *avpkt;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> = 0;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = oc-&gt;<a class="code" href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">oformat</a>-&gt;<a class="code" href="struct_a_v_output_format.html#a1260d6304f56b67bcc8fa2fb77a7d92f">check_bitstream</a>(oc, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == 1) {</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;streams[avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a>];</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;            <a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a> = oc-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[0];</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;            st-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a> = <a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a>;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;            <a class="code" href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a>-&gt;<a class="code" href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">internal</a>-&gt;<a class="code" href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">bsfc</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;        }</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    }</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;}</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160; </div>
<div class="line"><a name="l02336"></a><span class="lineno"><a class="line" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261"> 2336</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(DASHContext, x)</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d"> 2337</a></span>&#160;<span class="preprocessor">#define E AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6"> 2338</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    { <span class="stringliteral">&quot;adaptation_sets&quot;</span>, <span class="stringliteral">&quot;Adaptation sets. Syntax: id=0,streams=0,1,2 id=1,streams=3,4 and so on&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(adaptation_sets), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { 0 }, 0, 0, <a class="code" href="opt_8h.html#aba0d5e41287b6fbeae5dd59f643695cc">AV_OPT_FLAG_ENCODING_PARAM</a> },</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    { <span class="stringliteral">&quot;window_size&quot;</span>, <span class="stringliteral">&quot;number of segments kept in the manifest&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(window_size), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 0 }, 0, INT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    { <span class="stringliteral">&quot;extra_window_size&quot;</span>, <span class="stringliteral">&quot;number of segments kept outside of the manifest before removing from disk&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(extra_window_size), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 5 }, 0, INT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="preprocessor">#if FF_API_DASH_MIN_SEG_DURATION</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    { <span class="stringliteral">&quot;min_seg_duration&quot;</span>, <span class="stringliteral">&quot;minimum segment duration (in microseconds) (will be deprecated)&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(min_seg_duration), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 5000000 }, 0, INT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    { <span class="stringliteral">&quot;seg_duration&quot;</span>, <span class="stringliteral">&quot;segment duration (in seconds, fractional value can be set)&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(seg_duration), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, { .i64 = 5000000 }, 0, INT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    { <span class="stringliteral">&quot;frag_duration&quot;</span>, <span class="stringliteral">&quot;fragment duration (in seconds, fractional value can be set)&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(frag_duration), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, { .i64 = 0 }, 0, INT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    { <span class="stringliteral">&quot;frag_type&quot;</span>, <span class="stringliteral">&quot;set type of interval for fragments&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(frag_type), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a> }, 0, <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5ee7af62f31eaa59198be9469b5b2351">FRAG_TYPE_NB</a> - 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;frag_type&quot;</span>},</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    { <span class="stringliteral">&quot;none&quot;</span>, <span class="stringliteral">&quot;one fragment per segment&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a> }, 0, UINT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;frag_type&quot;</span>},</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    { <span class="stringliteral">&quot;every_frame&quot;</span>, <span class="stringliteral">&quot;fragment at every frame&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a> }, 0, UINT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;frag_type&quot;</span>},</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    { <span class="stringliteral">&quot;duration&quot;</span>, <span class="stringliteral">&quot;fragment at specific time intervals&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a> }, 0, UINT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;frag_type&quot;</span>},</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    { <span class="stringliteral">&quot;pframes&quot;</span>, <span class="stringliteral">&quot;fragment at keyframes and following P-Frame reordering (Video only, experimental)&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a> }, 0, UINT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;frag_type&quot;</span>},</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    { <span class="stringliteral">&quot;remove_at_exit&quot;</span>, <span class="stringliteral">&quot;remove all segments when finished&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(remove_at_exit), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    { <span class="stringliteral">&quot;use_template&quot;</span>, <span class="stringliteral">&quot;Use SegmentTemplate instead of SegmentList&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(use_template), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 1 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    { <span class="stringliteral">&quot;use_timeline&quot;</span>, <span class="stringliteral">&quot;Use SegmentTimeline in SegmentTemplate&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(use_timeline), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 1 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    { <span class="stringliteral">&quot;single_file&quot;</span>, <span class="stringliteral">&quot;Store all segments in one file, accessed using byte ranges&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(single_file), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    { <span class="stringliteral">&quot;single_file_name&quot;</span>, <span class="stringliteral">&quot;DASH-templated name to be used for baseURL. Implies storing all segments in one file, accessed using byte ranges&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(single_file_name), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    { <span class="stringliteral">&quot;init_seg_name&quot;</span>, <span class="stringliteral">&quot;DASH-templated name to used for the initialization segment&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(init_seg_name), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <span class="stringliteral">&quot;init-stream$RepresentationID$.$ext$&quot;</span>}, 0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    { <span class="stringliteral">&quot;media_seg_name&quot;</span>, <span class="stringliteral">&quot;DASH-templated name to used for the media segments&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(media_seg_name), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <span class="stringliteral">&quot;chunk-stream$RepresentationID$-$Number%05d$.$ext$&quot;</span>}, 0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    { <span class="stringliteral">&quot;utc_timing_url&quot;</span>, <span class="stringliteral">&quot;URL of the page that will return the UTC timestamp in ISO format&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(utc_timing_url), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { 0 }, 0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    { <span class="stringliteral">&quot;method&quot;</span>, <span class="stringliteral">&quot;set the HTTP method&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(method), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}, 0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    { <span class="stringliteral">&quot;http_user_agent&quot;</span>, <span class="stringliteral">&quot;override User-Agent field in HTTP header&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(user_agent), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>}, 0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    { <span class="stringliteral">&quot;http_persistent&quot;</span>, <span class="stringliteral">&quot;Use persistent HTTP connections&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(http_persistent), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    { <span class="stringliteral">&quot;hls_playlist&quot;</span>, <span class="stringliteral">&quot;Generate HLS playlist files(master.m3u8, media_%d.m3u8)&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(hls_playlist), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    { <span class="stringliteral">&quot;hls_master_name&quot;</span>, <span class="stringliteral">&quot;HLS master playlist name&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(hls_master_name), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, {.str = <span class="stringliteral">&quot;master.m3u8&quot;</span>}, 0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    { <span class="stringliteral">&quot;streaming&quot;</span>, <span class="stringliteral">&quot;Enable/Disable streaming mode of output. Each frame will be moof fragment&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(streaming), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    { <span class="stringliteral">&quot;timeout&quot;</span>, <span class="stringliteral">&quot;set timeout for socket I/O operations&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(timeout), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, { .i64 = -1 }, -1, INT_MAX, .flags = <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    { <span class="stringliteral">&quot;index_correction&quot;</span>, <span class="stringliteral">&quot;Enable/Disable segment index correction logic&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(index_correction), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    { <span class="stringliteral">&quot;format_options&quot;</span>,<span class="stringliteral">&quot;set list of options for the container format (mp4/webm) used for dash&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(format_options), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd">AV_OPT_TYPE_DICT</a>, {.str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},  0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    { <span class="stringliteral">&quot;global_sidx&quot;</span>, <span class="stringliteral">&quot;Write global SIDX atom. Applicable only for single file, mp4 output, non-streaming mode&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(global_sidx), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    { <span class="stringliteral">&quot;dash_segment_type&quot;</span>, <span class="stringliteral">&quot;set dash segment files type&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(segment_type_option), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eea5c9e45fdb65106414b3f95684c56f996">SEGMENT_TYPE_AUTO</a> }, 0, <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaffea95a2e528a9fbb0f9bf88e9658ae1">SEGMENT_TYPE_NB</a> - 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;segment_type&quot;</span>},</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    { <span class="stringliteral">&quot;auto&quot;</span>, <span class="stringliteral">&quot;select segment file format based on codec&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eea5c9e45fdb65106414b3f95684c56f996">SEGMENT_TYPE_AUTO</a> }, 0, UINT_MAX,   <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;segment_type&quot;</span>},</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    { <span class="stringliteral">&quot;mp4&quot;</span>, <span class="stringliteral">&quot;make segment file in ISOBMFF format&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a> }, 0, UINT_MAX,   <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;segment_type&quot;</span>},</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    { <span class="stringliteral">&quot;webm&quot;</span>, <span class="stringliteral">&quot;make segment file in WebM format&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">SEGMENT_TYPE_WEBM</a> }, 0, UINT_MAX,   <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;segment_type&quot;</span>},</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    { <span class="stringliteral">&quot;ignore_io_errors&quot;</span>, <span class="stringliteral">&quot;Ignore IO errors during open and write. Useful for long-duration runs with network output&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(ignore_io_errors), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    { <span class="stringliteral">&quot;lhls&quot;</span>, <span class="stringliteral">&quot;Enable Low-latency HLS(Experimental). Adds #EXT-X-PREFETCH tag with current segment&#39;s URI&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(lhls), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    { <span class="stringliteral">&quot;ldash&quot;</span>, <span class="stringliteral">&quot;Enable Low-latency dash. Constrains the value of a few elements&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(ldash), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    { <span class="stringliteral">&quot;master_m3u8_publish_rate&quot;</span>, <span class="stringliteral">&quot;Publish master playlist every after this many segment intervals&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(master_publish_rate), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 0}, 0, UINT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    { <span class="stringliteral">&quot;write_prft&quot;</span>, <span class="stringliteral">&quot;Write producer reference time element&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(write_prft), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, {.i64 = -1}, -1, 1, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    { <span class="stringliteral">&quot;mpd_profile&quot;</span>, <span class="stringliteral">&quot;Set profiles. Elements and values used in the manifest may be constrained by them&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e">AV_OPT_TYPE_FLAGS</a>, {.i64 = <a class="code" href="dashenc_8c.html#a8c3b715ea40a7a7b0aad06e7b58ee2bf">MPD_PROFILE_DASH</a> }, 0, UINT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;mpd_profile&quot;</span>},</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    { <span class="stringliteral">&quot;dash&quot;</span>, <span class="stringliteral">&quot;MPEG-DASH ISO Base media file format live profile&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="dashenc_8c.html#a8c3b715ea40a7a7b0aad06e7b58ee2bf">MPD_PROFILE_DASH</a> }, 0, UINT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;mpd_profile&quot;</span>},</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    { <span class="stringliteral">&quot;dvb_dash&quot;</span>, <span class="stringliteral">&quot;DVB-DASH profile&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, {.i64 = <a class="code" href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a> }, 0, UINT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>, <span class="stringliteral">&quot;mpd_profile&quot;</span>},</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    { <span class="stringliteral">&quot;http_opts&quot;</span>, <span class="stringliteral">&quot;HTTP protocol options&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(http_opts), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd">AV_OPT_TYPE_DICT</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    { <span class="stringliteral">&quot;target_latency&quot;</span>, <span class="stringliteral">&quot;Set desired target latency for Low-latency dash&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(target_latency), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a>, { .i64 = 0 }, 0, INT_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    { <span class="stringliteral">&quot;min_playback_rate&quot;</span>, <span class="stringliteral">&quot;Set desired minimum playback rate&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(min_playback_rate), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a74ba464440564230a72b95b39593cbfc">AV_OPT_TYPE_RATIONAL</a>, { .dbl = 1.0 }, 0.5, 1.5, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    { <span class="stringliteral">&quot;max_playback_rate&quot;</span>, <span class="stringliteral">&quot;Set desired maximum playback rate&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(max_playback_rate), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a74ba464440564230a72b95b39593cbfc">AV_OPT_TYPE_RATIONAL</a>, { .dbl = 1.0 }, 0.5, 1.5, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a> },</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    { <span class="stringliteral">&quot;update_period&quot;</span>, <span class="stringliteral">&quot;Set the mpd update interval&quot;</span>, <a class="code" href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(update_period), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a>, {.i64 = 0}, 0, INT64_MAX, <a class="code" href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a>},</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;};</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160; </div>
<div class="line"><a name="l02390"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a542fc7e8f157a2457b50bc49e5383e06"> 2390</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="dashenc_8c.html#a542fc7e8f157a2457b50bc49e5383e06">dash_class</a> = {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;dash muxer&quot;</span>,</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    .option     = <a class="code" href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;};</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160; </div>
<div class="line"><a name="l02397"></a><span class="lineno"><a class="line" href="dashenc_8c.html#a06f2b2ee86200f77479e9508c42c0e48"> 2397</a></span>&#160;<a class="code" href="struct_a_v_output_format.html">AVOutputFormat</a> <a class="code" href="dashenc_8c.html#a06f2b2ee86200f77479e9508c42c0e48">ff_dash_muxer</a> = {</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    .<a class="code" href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">name</a>           = <span class="stringliteral">&quot;dash&quot;</span>,</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;DASH Muxer&quot;</span>),</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    .extensions     = <span class="stringliteral">&quot;mpd&quot;</span>,</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="dashenc_8c.html#a4508044253901fd9af78c59ce784fcdc">DASHContext</a>),</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    .audio_codec    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a>,</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    .video_codec    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a>,</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    .<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>          = <a class="code" href="avformat_8h.html#ab203c7b734e9c31b7c37d34f6e2c6aef">AVFMT_GLOBALHEADER</a> | <a class="code" href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a> | <a class="code" href="avformat_8h.html#a886476ebe41f52a2232ee10f97ac11d0">AVFMT_TS_NEGATIVE</a>,</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="dashenc_8c.html#a7cf47db9cfa40ccb756290961fbf49a2">dash_init</a>,</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    .<a class="code" href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a>   = <a class="code" href="dashenc_8c.html#abe66472c3ded5c8583a75616ca78de34">dash_write_header</a>,</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    .<a class="code" href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a>   = <a class="code" href="dashenc_8c.html#aa7bb49fc68dcbd06085d1eb9da1cbcbc">dash_write_packet</a>,</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    .<a class="code" href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a>  = <a class="code" href="dashenc_8c.html#ad78730809b7c4c3624bd947125bf74f8">dash_write_trailer</a>,</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    .deinit         = <a class="code" href="dashenc_8c.html#a57c8c0c52850faf2ba710e9b4eb55a06">dash_free</a>,</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    .<a class="code" href="mux_8c.html#aca5a6c46876cf13e21d43603489665b6">check_bitstream</a> = <a class="code" href="dashenc_8c.html#ac5920b21a6ddd28805a7bfdbb96067f9">dash_check_bitstream</a>,</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    .priv_class     = &amp;<a class="code" href="dashenc_8c.html#a542fc7e8f157a2457b50bc49e5383e06">dash_class</a>,</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_output_stream_html_a1ee004c87b36b037ec4d86055b67be34"><div class="ttname"><a href="struct_output_stream.html#a1ee004c87b36b037ec4d86055b67be34">OutputStream::total_pkt_size</a></div><div class="ttdeci">int total_pkt_size</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00134">dashenc.c:134</a></div></div>
<div class="ttc" id="asignature_8h_html_a12f58149bb2cdab504621ba5b390ef64"><div class="ttname"><a href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a></div><div class="ttdeci">formats</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00048">signature.h:48</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_afb2a0cf289c4868072ba098fdfd0eb67"><div class="ttname"><a href="struct_d_a_s_h_context.html#afb2a0cf289c4868072ba098fdfd0eb67">DASHContext::nb_as</a></div><div class="ttdeci">int nb_as</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00147">dashenc.c:147</a></div></div>
<div class="ttc" id="adashenc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="dashenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02338">dashenc.c:2338</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a9cb8dcfad3b4b444c54ada3c6d9278ef"><div class="ttname"><a href="struct_adaptation_set.html#a9cb8dcfad3b4b444c54ada3c6d9278ef">AdaptationSet::max_frame_rate</a></div><div class="ttdeci">AVRational max_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00090">dashenc.c:90</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ae0ce217714d839099b17d5e4305763a2"><div class="ttname"><a href="struct_d_a_s_h_context.html#ae0ce217714d839099b17d5e4305763a2">DASHContext::ignore_io_errors</a></div><div class="ttdeci">int ignore_io_errors</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00186">dashenc.c:186</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="abprint_8h_html_a01aefbce0615a828eae24135a9b35c45"><div class="ttname"><a href="bprint_8h.html#a01aefbce0615a828eae24135a9b35c45">AV_BPRINT_SIZE_UNLIMITED</a></div><div class="ttdeci">#define AV_BPRINT_SIZE_UNLIMITED</div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a032c7d859883eddc9d87a9e3b2cc3853"><div class="ttname"><a href="struct_a_v_format_context.html#a032c7d859883eddc9d87a9e3b2cc3853">AVFormatContext::avoid_negative_ts</a></div><div class="ttdeci">int avoid_negative_ts</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01566">avformat.h:1566</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ad796c1db27b9d6d89372678a17fb8149"><div class="ttname"><a href="struct_d_a_s_h_context.html#ad796c1db27b9d6d89372678a17fb8149">DASHContext::frag_type</a></div><div class="ttdeci">int frag_type</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00192">dashenc.c:192</a></div></div>
<div class="ttc" id="acheckasm_8c_html_afca6369e091fee815954cf526fbb3887"><div class="ttname"><a href="checkasm_8c.html#afca6369e091fee815954cf526fbb3887">state</a></div><div class="ttdeci">static struct @2 state</div></div>
<div class="ttc" id="agroup__lavu__error_html_ga3d2f16ec410d409c19e3547673b8469b"><div class="ttname"><a href="group__lavu__error.html#ga3d2f16ec410d409c19e3547673b8469b">AVERROR_EXPERIMENTAL</a></div><div class="ttdeci">#define AVERROR_EXPERIMENTAL</div><div class="ttdoc">Requested feature is flagged experimental. Set strict_std_compliance if you really want to use it.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00072">error.h:72</a></div></div>
<div class="ttc" id="asvq3_8c_html_abbb6c7c49508c1ac374683f2d1159e08"><div class="ttname"><a href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00205">svq3.c:205</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a8f6ee511eff4053ee4a1fcaf344187c4"><div class="ttname"><a href="struct_output_stream.html#a8f6ee511eff4053ee4a1fcaf344187c4">OutputStream::extension_name</a></div><div class="ttdeci">const char * extension_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00121">dashenc.c:121</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gadcb0fd3e507d9b58fe78f61f8ad39827"><div class="ttname"><a href="group__lavf__core.html#gadcb0fd3e507d9b58fe78f61f8ad39827">avformat_new_stream</a></div><div class="ttdeci">AVStream * avformat_new_stream(AVFormatContext *s, const AVCodec *c)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04453">utils.c:4453</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a6074ea127e549402eb778689e39efdc6"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a6074ea127e549402eb778689e39efdc6">AV1SequenceParameters::level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00030">av1.h:30</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_ga151744358fff630942b926e67e67c415"><div class="ttname"><a href="group__lavu__math.html#ga151744358fff630942b926e67e67c415">av_compare_ts</a></div><div class="ttdeci">int av_compare_ts(int64_t ts_a, AVRational tb_a, int64_t ts_b, AVRational tb_b)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00147">mathematics.c:147</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a5017684cf0a84c990f60c8d50adec144"><div class="ttname"><a href="struct_a_v_format_context.html#a5017684cf0a84c990f60c8d50adec144">AVFormatContext::strict_std_compliance</a></div><div class="ttdeci">int strict_std_compliance</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01531">avformat.h:1531</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_a356f1e66bcac3a24bfb3accc81bb1f69"><div class="ttname"><a href="avio__internal_8h.html#a356f1e66bcac3a24bfb3accc81bb1f69">ffio_wfourcc</a></div><div class="ttdeci">static av_always_inline void ffio_wfourcc(AVIOContext *pb, const uint8_t *s)</div><div class="ttdef"><b>Definition:</b> <a href="avio__internal_8h_source.html#l00058">avio_internal.h:58</a></div></div>
<div class="ttc" id="abprint_8c_html_a3fd45f50d9d4f7cc8fed5331a37f47ea"><div class="ttname"><a href="bprint_8c.html#a3fd45f50d9d4f7cc8fed5331a37f47ea">av_bprint_finalize</a></div><div class="ttdeci">int av_bprint_finalize(AVBPrint *buf, char **ret_str)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00235">bprint.c:235</a></div></div>
<div class="ttc" id="aavio_8h_html_ad71cada104a5e4365d35d45669ea03ca"><div class="ttname"><a href="avio_8h.html#ad71cada104a5e4365d35d45669ea03ca">avio_close</a></div><div class="ttdeci">int avio_close(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01173">aviobuf.c:1173</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a1277960b5f2b37137fe9b0b5a1ea0beb"><div class="ttname"><a href="tests_2movenc_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00054">movenc.c:54</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a0e9f40024e3b017088ee1c16f25b3910"><div class="ttname"><a href="avcodec_8h.html#a0e9f40024e3b017088ee1c16f25b3910">FF_COMPLIANCE_EXPERIMENTAL</a></div><div class="ttdeci">#define FF_COMPLIANCE_EXPERIMENTAL</div><div class="ttdoc">Allow nonstandardized experimental things.</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01594">avcodec.h:1594</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55bab4a8d05a994824bda70ce7518350af40">FRAG_TYPE_DURATION</a></div><div class="ttdeci">@ FRAG_TYPE_DURATION</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00064">dashenc.c:64</a></div></div>
<div class="ttc" id="abprint_8c_html_a26abc84daea3189592c511fc26067d66"><div class="ttname"><a href="bprint_8c.html#a26abc84daea3189592c511fc26067d66">av_bprint_init</a></div><div class="ttdeci">void av_bprint_init(AVBPrint *buf, unsigned size_init, unsigned size_max)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00069">bprint.c:69</a></div></div>
<div class="ttc" id="aisom_8c_html_a53570ebef58f7ee8ac4ae1f6d26432ce"><div class="ttname"><a href="isom_8c.html#a53570ebef58f7ee8ac4ae1f6d26432ce">ff_mp4_obj_type</a></div><div class="ttdeci">const AVCodecTag ff_mp4_obj_type[]</div><div class="ttdef"><b>Definition:</b> <a href="isom_8c_source.html#l00034">isom.c:34</a></div></div>
<div class="ttc" id="avpcc_8c_html_af057082b878181097c2244c097d044fa"><div class="ttname"><a href="vpcc_8c.html#af057082b878181097c2244c097d044fa">ff_isom_get_vpcc_features</a></div><div class="ttdeci">int ff_isom_get_vpcc_features(AVFormatContext *s, AVCodecParameters *par, AVRational *frame_rate, VPCC *vpcc)</div><div class="ttdef"><b>Definition:</b> <a href="vpcc_8c_source.html#l00116">vpcc.c:116</a></div></div>
<div class="ttc" id="ahlsplaylist_8c_html_adb5448df40a3ddc2ed0239915918db6e"><div class="ttname"><a href="hlsplaylist_8c.html#adb5448df40a3ddc2ed0239915918db6e">ff_hls_write_end_list</a></div><div class="ttdeci">void ff_hls_write_end_list(AVIOContext *out)</div><div class="ttdef"><b>Definition:</b> <a href="hlsplaylist_8c_source.html#l00189">hlsplaylist.c:189</a></div></div>
<div class="ttc" id="astruct_output_stream_html_ace8f8cbf593e7ae462316fba2612a506"><div class="ttname"><a href="struct_output_stream.html#ace8f8cbf593e7ae462316fba2612a506">OutputStream::segment_index</a></div><div class="ttdeci">int segment_index</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00109">dashenc.c:109</a></div></div>
<div class="ttc" id="acommon_8h_html_a19c68e2b5efcbab914d79db1e4fee734"><div class="ttname"><a href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a></div><div class="ttdeci">#define MKTAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00405">common.h:405</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_aa1e71b6357c1318c4d8376ff79fe9e3f"><div class="ttname"><a href="struct_d_a_s_h_context.html#aa1e71b6357c1318c4d8376ff79fe9e3f">DASHContext::segment_type_option</a></div><div class="ttdeci">SegmentType segment_type_option</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00185">dashenc.c:185</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gaffa24e7bd38e12dbac540d8b66461f97"><div class="ttname"><a href="group__lavu__math__rational.html#gaffa24e7bd38e12dbac540d8b66461f97">av_div_q</a></div><div class="ttdeci">AVRational av_div_q(AVRational b, AVRational c)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00088">rational.c:88</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a752e9d04c9f7449bac37812ecacd28f4"><div class="ttname"><a href="struct_d_a_s_h_context.html#a752e9d04c9f7449bac37812ecacd28f4">DASHContext::seg_duration</a></div><div class="ttdeci">int64_t seg_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00153">dashenc.c:153</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a3c767efc597211e06178bd57edc3121b"><div class="ttname"><a href="struct_d_a_s_h_context.html#a3c767efc597211e06178bd57edc3121b">DASHContext::lhls</a></div><div class="ttdeci">int lhls</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00187">dashenc.c:187</a></div></div>
<div class="ttc" id="adashenc_8c_html_a099be91387a33299c022fa5431fa88f6"><div class="ttname"><a href="dashenc_8c.html#a099be91387a33299c022fa5431fa88f6">dict_copy_entry</a></div><div class="ttdeci">static int dict_copy_entry(AVDictionary **dst, const AVDictionary *src, const char *key)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01352">dashenc.c:1352</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a71797838db59ca0682dd2d18b149134e"><div class="ttname"><a href="struct_a_v_format_context.html#a71797838db59ca0682dd2d18b149134e">AVFormatContext::opaque</a></div><div class="ttdeci">void * opaque</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01741">avformat.h:1741</a></div></div>
<div class="ttc" id="adashenc_8c_html_a0f6155040c9af438a8ea0fdaff3a5940"><div class="ttname"><a href="dashenc_8c.html#a0f6155040c9af438a8ea0fdaff3a5940">Segment</a></div><div class="ttdeci">struct Segment Segment</div></div>
<div class="ttc" id="arational_8h_html"><div class="ttname"><a href="rational_8h.html">rational.h</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gafd07a13a4ddaa6015275cad6022d9ee3"><div class="ttname"><a href="group__lavu__time.html#gafd07a13a4ddaa6015275cad6022d9ee3">AV_TIME_BASE_Q</a></div><div class="ttdeci">#define AV_TIME_BASE_Q</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00260">avutil.h:260</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ab1aa32be134804320f6bcc7754701792"><div class="ttname"><a href="struct_d_a_s_h_context.html#ab1aa32be134804320f6bcc7754701792">DASHContext::hls_playlist</a></div><div class="ttdeci">int hls_playlist</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00174">dashenc.c:174</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ac2144d4ba667b90bbf00e3a40db85e1d"><div class="ttname"><a href="struct_d_a_s_h_context.html#ac2144d4ba667b90bbf00e3a40db85e1d">DASHContext::use_template</a></div><div class="ttdeci">int use_template</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00156">dashenc.c:156</a></div></div>
<div class="ttc" id="adashenc_8c_html_abd2708df6d8fd950b83d85b41dc8f5df"><div class="ttname"><a href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a></div><div class="ttdeci">static struct codec_string codecs[]</div></div>
<div class="ttc" id="astruct_a_v_producer_reference_time_html_a05ccbc7140b41059cccbaa06ad8910f8"><div class="ttname"><a href="struct_a_v_producer_reference_time.html#a05ccbc7140b41059cccbaa06ad8910f8">AVProducerReferenceTime::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00503">avcodec.h:503</a></div></div>
<div class="ttc" id="astruct_a_v_i_o_context_html"><div class="ttname"><a href="struct_a_v_i_o_context.html">AVIOContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00161">avio.h:161</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a6ba69bc0fc9e90ef4e1049637fa16e27"><div class="ttname"><a href="struct_output_stream.html#a6ba69bc0fc9e90ef4e1049637fa16e27">OutputStream::out</a></div><div class="ttdeci">AVIOContext * out</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00102">dashenc.c:102</a></div></div>
<div class="ttc" id="astruct_v_p_c_c_html_a5d06447245dfb57932e9510d4e77c17a"><div class="ttname"><a href="struct_v_p_c_c.html#a5d06447245dfb57932e9510d4e77c17a">VPCC::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="vpcc_8h_source.html#l00036">vpcc.h:36</a></div></div>
<div class="ttc" id="adashenc_8c_html_ad77ff2fe83cf242ba044994b75c3cfb7"><div class="ttname"><a href="dashenc_8c.html#ad77ff2fe83cf242ba044994b75c3cfb7">set_http_options</a></div><div class="ttdeci">static void set_http_options(AVDictionary **options, DASHContext *c)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00486">dashenc.c:486</a></div></div>
<div class="ttc" id="adashenc_8c_html_ab07e17f57920b3cef9725945b5f829da"><div class="ttname"><a href="dashenc_8c.html#ab07e17f57920b3cef9725945b5f829da">parse_adaptation_sets</a></div><div class="ttdeci">static int parse_adaptation_sets(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00940">dashenc.c:940</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a04ae03d9e5cea3525cad4b0819b0c069"><div class="ttname"><a href="struct_adaptation_set.html#a04ae03d9e5cea3525cad4b0819b0c069">AdaptationSet::trick_idx</a></div><div class="ttdeci">int trick_idx</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00096">dashenc.c:96</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html"><div class="ttname"><a href="struct_adaptation_set.html">AdaptationSet</a></div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00082">dashenc.c:82</a></div></div>
<div class="ttc" id="adashenc_8c_html_a4425d605a0fccafe11617cfe2d62e9fa"><div class="ttname"><a href="dashenc_8c.html#a4425d605a0fccafe11617cfe2d62e9fa">update_stream_extradata</a></div><div class="ttdeci">static int update_stream_extradata(AVFormatContext *s, OutputStream *os, AVPacket *pkt, AVRational *frame_rate)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01813">dashenc.c:1813</a></div></div>
<div class="ttc" id="astruct_output_stream_html_aabb35ba4106fe93475f60fda1c2520a0"><div class="ttname"><a href="struct_output_stream.html#aabb35ba4106fe93475f60fda1c2520a0">OutputStream::parser_avctx</a></div><div class="ttdeci">AVCodecContext * parser_avctx</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00104">dashenc.c:104</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_aacd2c6f4a09d71ea05bdcc1c2e9d42dd"><div class="ttname"><a href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a></div><div class="ttdeci">mfxU16 profile</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00045">qsvenc.c:45</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a7cc326f0e322e82b620c76a9312456e2"><div class="ttname"><a href="struct_d_a_s_h_context.html#a7cc326f0e322e82b620c76a9312456e2">DASHContext::as</a></div><div class="ttdeci">AdaptationSet * as</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00146">dashenc.c:146</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a255c98839ad8249f344867bf688d3be1"><div class="ttname"><a href="struct_output_stream.html#a255c98839ad8249f344867bf688d3be1">OutputStream::last_pts</a></div><div class="ttdeci">int64_t last_pts</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00115">dashenc.c:115</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a4a9cfe457bcc7f6c4605d5a3e1b1e458"><div class="ttname"><a href="struct_adaptation_set.html#a4a9cfe457bcc7f6c4605d5a3e1b1e458">AdaptationSet::media_type</a></div><div class="ttdeci">enum AVMediaType media_type</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00087">dashenc.c:88</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a446ea5bc1c2e69f216650c3bbc64f25b"><div class="ttname"><a href="struct_d_a_s_h_context.html#a446ea5bc1c2e69f216650c3bbc64f25b">DASHContext::http_opts</a></div><div class="ttdeci">AVDictionary * http_opts</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00173">dashenc.c:173</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a3b32cb579098d34bb212d505d725c6f4"><div class="ttname"><a href="struct_adaptation_set.html#a3b32cb579098d34bb212d505d725c6f4">AdaptationSet::frag_duration</a></div><div class="ttdeci">int64_t frag_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00086">dashenc.c:86</a></div></div>
<div class="ttc" id="adashenc_8c_html_a58c971abe568d93f18de96a1e9eae412"><div class="ttname"><a href="dashenc_8c.html#a58c971abe568d93f18de96a1e9eae412">AdaptationSet</a></div><div class="ttdeci">struct AdaptationSet AdaptationSet</div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a51639f88aef9f4f283f538a0c033fbb8"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a51639f88aef9f4f283f538a0c033fbb8">AVCodecParameters::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00126">codec_par.h:126</a></div></div>
<div class="ttc" id="adashenc_8c_html_aea10363e02de12b0291966b601bbc2ee"><div class="ttname"><a href="dashenc_8c.html#aea10363e02de12b0291966b601bbc2ee">set_codec_str</a></div><div class="ttdeci">static void set_codec_str(AVFormatContext *s, AVCodecParameters *par, AVRational *frame_rate, char *str, int size)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00361">dashenc.c:361</a></div></div>
<div class="ttc" id="adashenc_8c_html_a7cf47db9cfa40ccb756290961fbf49a2"><div class="ttname"><a href="dashenc_8c.html#a7cf47db9cfa40ccb756290961fbf49a2">dash_init</a></div><div class="ttdeci">static int dash_init(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01360">dashenc.c:1360</a></div></div>
<div class="ttc" id="astruct_segment_html_a0a53b6e8a34ca59c33273cb81c5ac98a"><div class="ttname"><a href="struct_segment.html#a0a53b6e8a34ca59c33273cb81c5ac98a">Segment::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00078">dashenc.c:78</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_aebf0ff39af3e4141445d5a7e4e68de8e"><div class="ttname"><a href="struct_d_a_s_h_context.html#aebf0ff39af3e4141445d5a7e4e68de8e">DASHContext::availability_start_time</a></div><div class="ttdeci">uint64_t availability_start_time</div><div class="ttdef"><b>Definition:</b> <a href="dashdec_8c_source.html#l00135">dashdec.c:135</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a6a4c12ef75a81c72f96410e9d1d8c8e9"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a6a4c12ef75a81c72f96410e9d1d8c8e9">AV_RB16</a></div><div class="ttdeci">#define AV_RB16</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00053">intreadwrite.h:53</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a2e3a2fc47ae688f28cc4abe59452a032">AV_OPT_TYPE_DURATION</a></div><div class="ttdeci">@ AV_OPT_TYPE_DURATION</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00239">opt.h:239</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga64018c01d1e8c44d1d8c03dfb099f2c2"><div class="ttname"><a href="group__lavu__dict.html#ga64018c01d1e8c44d1d8c03dfb099f2c2">AV_DICT_APPEND</a></div><div class="ttdeci">#define AV_DICT_APPEND</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00078">dict.h:77</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a2fd4ad1878aba8b2280c6f0ab5056fb7"><div class="ttname"><a href="struct_output_stream.html#a2fd4ad1878aba8b2280c6f0ab5056fb7">OutputStream::frag_duration</a></div><div class="ttdeci">int64_t frag_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00111">dashenc.c:111</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html"><div class="ttname"><a href="struct_a_v_dictionary_entry.html">AVDictionaryEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="adashenc_8c_html_a8f49aa35e4150e4b998d7c5a9678c9ac"><div class="ttname"><a href="dashenc_8c.html#a8f49aa35e4150e4b998d7c5a9678c9ac">OutputStream</a></div><div class="ttdeci">struct OutputStream OutputStream</div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a1c25b03a9bc91abdae3589db9a4c17f6"><div class="ttname"><a href="struct_d_a_s_h_context.html#a1c25b03a9bc91abdae3589db9a4c17f6">DASHContext::target_latency</a></div><div class="ttdeci">int64_t target_latency</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00197">dashenc.c:197</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ae4b402883500b46aa41db66c4813e427"><div class="ttname"><a href="struct_d_a_s_h_context.html#ae4b402883500b46aa41db66c4813e427">DASHContext::extra_window_size</a></div><div class="ttdeci">int extra_window_size</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00149">dashenc.c:149</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a8aadbf5463cc38cfb2c72a53621cd13f"><div class="ttname"><a href="struct_adaptation_set.html#a8aadbf5463cc38cfb2c72a53621cd13f">AdaptationSet::max_frag_duration</a></div><div class="ttdeci">int64_t max_frag_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00092">dashenc.c:92</a></div></div>
<div class="ttc" id="ahlsplaylist_8h_html_a5b8341033ad519e80384ddf6dba5f53fa6832e91707d40eaae074166ba2754666"><div class="ttname"><a href="hlsplaylist_8h.html#a5b8341033ad519e80384ddf6dba5f53fa6832e91707d40eaae074166ba2754666">PLAYLIST_TYPE_NONE</a></div><div class="ttdeci">@ PLAYLIST_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="hlsplaylist_8h_source.html#l00033">hlsplaylist.h:33</a></div></div>
<div class="ttc" id="amathematics_8h_html"><div class="ttname"><a href="mathematics_8h.html">mathematics.h</a></div></div>
<div class="ttc" id="adashenc_8c_html_a78a4787c2fa5fac1710e5b124ed96f8d"><div class="ttname"><a href="dashenc_8c.html#a78a4787c2fa5fac1710e5b124ed96f8d">dashenc_io_close</a></div><div class="ttdeci">static void dashenc_io_close(AVFormatContext *s, AVIOContext **pb, char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00245">dashenc.c:245</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a7224ac5c7366ab245c797a24d6527aac"><div class="ttname"><a href="struct_d_a_s_h_context.html#a7224ac5c7366ab245c797a24d6527aac">DASHContext::mpd_out</a></div><div class="ttdeci">AVIOContext * mpd_out</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00178">dashenc.c:178</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceabab880efbebbd91d3817debef9e4dc00">AV_CODEC_ID_FLAC</a></div><div class="ttdeci">@ AV_CODEC_ID_FLAC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00430">codec_id.h:430</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a33d2c41adcf62d80ea69ecde72717384"><div class="ttname"><a href="struct_output_stream.html#a33d2c41adcf62d80ea69ecde72717384">OutputStream::nb_segments</a></div><div class="ttdeci">int nb_segments</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00109">dashenc.c:109</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga169cfa28508e22e138c5b99be8517ea4"><div class="ttname"><a href="group__lavf__encoding.html#ga169cfa28508e22e138c5b99be8517ea4">avformat_init_output</a></div><div class="ttdeci">av_warn_unused_result int avformat_init_output(AVFormatContext *s, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l00485">mux.c:485</a></div></div>
<div class="ttc" id="astructcodec__string_html_ae43cfcb3ee8c277018abc25faa9fc608"><div class="ttname"><a href="structcodec__string.html#ae43cfcb3ee8c277018abc25faa9fc608">codec_string::str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00206">dashenc.c:206</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a1e8165f136f65eed08495418d2f4da2c"><div class="ttname"><a href="struct_output_stream.html#a1e8165f136f65eed08495418d2f4da2c">OutputStream::media_seg_name</a></div><div class="ttdeci">const char * media_seg_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00124">dashenc.c:124</a></div></div>
<div class="ttc" id="astruct_segment_html_a1aad1835c912804b31a6087d32b7ca7a"><div class="ttname"><a href="struct_segment.html#a1aad1835c912804b31a6087d32b7ca7a">Segment::file</a></div><div class="ttdeci">char file[1024]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00073">dashenc.c:73</a></div></div>
<div class="ttc" id="adashenc_8c_html_a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be"><div class="ttname"><a href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaf31c1aca781fb3f1471e095a572c48be">SEGMENT_TYPE_MP4</a></div><div class="ttdeci">@ SEGMENT_TYPE_MP4</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00056">dashenc.c:56</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a74ba464440564230a72b95b39593cbfc"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a74ba464440564230a72b95b39593cbfc">AV_OPT_TYPE_RATIONAL</a></div><div class="ttdeci">@ AV_OPT_TYPE_RATIONAL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00230">opt.h:230</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a435ba61dabf53f10a29b6ea7c396aa8f"><div class="ttname"><a href="struct_d_a_s_h_context.html#a435ba61dabf53f10a29b6ea7c396aa8f">DASHContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00196">dashenc.c:196</a></div></div>
<div class="ttc" id="aavstring_8c_html_a98e5858f933c6e6be64f03a76e22b272"><div class="ttname"><a href="avstring_8c.html#a98e5858f933c6e6be64f03a76e22b272">av_strlcatf</a></div><div class="ttdeci">size_t av_strlcatf(char *dst, size_t size, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00101">avstring.c:101</a></div></div>
<div class="ttc" id="avaapi__transcode_8c_html_a3e44252189bdae5212c5d1171bcd7cf4"><div class="ttname"><a href="vaapi__transcode_8c.html#a3e44252189bdae5212c5d1171bcd7cf4">ost</a></div><div class="ttdeci">static AVStream * ost</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__transcode_8c_source.html#l00045">vaapi_transcode.c:45</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a632e8280e0c0b78642482927b30e7cb0"><div class="ttname"><a href="struct_output_stream.html#a632e8280e0c0b78642482927b30e7cb0">OutputStream::init_start_pos</a></div><div class="ttdeci">int64_t init_start_pos</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00107">dashenc.c:107</a></div></div>
<div class="ttc" id="aavio_8h_html_af2d626b0d21721fdc91ac20b5664cf5f"><div class="ttname"><a href="avio_8h.html#af2d626b0d21721fdc91ac20b5664cf5f">avio_get_dyn_buf</a></div><div class="ttdeci">int avio_get_dyn_buf(AVIOContext *s, uint8_t **pbuffer)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01395">aviobuf.c:1395</a></div></div>
<div class="ttc" id="aos__support_8h_html"><div class="ttname"><a href="os__support_8h.html">os_support.h</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="astruct_v_p_c_c_html_a7564bb7dd9dcf886f113c487835a4013"><div class="ttname"><a href="struct_v_p_c_c.html#a7564bb7dd9dcf886f113c487835a4013">VPCC::bitdepth</a></div><div class="ttdeci">int bitdepth</div><div class="ttdef"><b>Definition:</b> <a href="vpcc_8h_source.html#l00038">vpcc.h:38</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9befe0b86412646017afb0051d144d13"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9befe0b86412646017afb0051d144d13">AVCodecParameters::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00074">codec_par.h:74</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="ahlsplaylist_8h_html"><div class="ttname"><a href="hlsplaylist_8h.html">hlsplaylist.h</a></div></div>
<div class="ttc" id="adashenc_8c_html_a9113b9078abe7dbc21bdee0a78270f06"><div class="ttname"><a href="dashenc_8c.html#a9113b9078abe7dbc21bdee0a78270f06">add_adaptation_set</a></div><div class="ttdeci">static int add_adaptation_set(AVFormatContext *s, AdaptationSet **as, enum AVMediaType type)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00893">dashenc.c:893</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a4d6a58086622106228fd45137a84d728"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a4d6a58086622106228fd45137a84d728">AV1SequenceParameters::color_range</a></div><div class="ttdeci">uint8_t color_range</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00041">av1.h:41</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a83da8af9e7e6f6aeef98130f8b4e2f08"><div class="ttname"><a href="struct_d_a_s_h_context.html#a83da8af9e7e6f6aeef98130f8b4e2f08">DASHContext::m3u8_out</a></div><div class="ttdeci">AVIOContext * m3u8_out</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00179">dashenc.c:179</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga2020642d84f919764eed55848c9e69da"><div class="ttname"><a href="group__lavf__encoding.html#ga2020642d84f919764eed55848c9e69da">av_guess_format</a></div><div class="ttdeci">ff_const59 AVOutputFormat * av_guess_format(const char *short_name, const char *filename, const char *mime_type)</div><div class="ttdef"><b>Definition:</b> <a href="format_8c_source.html#l00051">format.c:51</a></div></div>
<div class="ttc" id="astruct_output_stream_html_adc72010807aaed53a4794adcd6e216b8"><div class="ttname"><a href="struct_output_stream.html#adc72010807aaed53a4794adcd6e216b8">OutputStream::muxer_overhead</a></div><div class="ttdeci">int muxer_overhead</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00136">dashenc.c:136</a></div></div>
<div class="ttc" id="adashenc_8c_html_a45f8c604b4008a278fe9bde5156489eea5c9e45fdb65106414b3f95684c56f996"><div class="ttname"><a href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eea5c9e45fdb65106414b3f95684c56f996">SEGMENT_TYPE_AUTO</a></div><div class="ttdeci">@ SEGMENT_TYPE_AUTO</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00055">dashenc.c:55</a></div></div>
<div class="ttc" id="aavio_8h_html_ade8a63980569494c99593ebf0d1e891b"><div class="ttname"><a href="avio_8h.html#ade8a63980569494c99593ebf0d1e891b">avio_open2</a></div><div class="ttdeci">int avio_open2(AVIOContext **s, const char *url, int flags, const AVIOInterruptCB *int_cb, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01167">aviobuf.c:1167</a></div></div>
<div class="ttc" id="astruct_output_stream_html_abed33434f65c32d7988ee9181f13dc3d"><div class="ttname"><a href="struct_output_stream.html#abed33434f65c32d7988ee9181f13dc3d">OutputStream::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00107">dashenc.c:107</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01034">avformat.h:1034</a></div></div>
<div class="ttc" id="ahlsplaylist_8c_html_a0780b3bc79d1fc9de79c854e0037ef3f"><div class="ttname"><a href="hlsplaylist_8c.html#a0780b3bc79d1fc9de79c854e0037ef3f">ff_hls_write_playlist_header</a></div><div class="ttdeci">void ff_hls_write_playlist_header(AVIOContext *out, int version, int allowcache, int target_duration, int64_t sequence, uint32_t playlist_type, int iframe_mode)</div><div class="ttdef"><b>Definition:</b> <a href="hlsplaylist_8c_source.html#l00098">hlsplaylist.c:98</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a611f18e3e83bdd8401515237619b0e7c"><div class="ttname"><a href="struct_adaptation_set.html#a611f18e3e83bdd8401515237619b0e7c">AdaptationSet::descriptor</a></div><div class="ttdeci">char * descriptor</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00084">dashenc.c:84</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga5792b4a2d18d7d9cb0efbcfc335dce24"><div class="ttname"><a href="group__lavu__error.html#ga5792b4a2d18d7d9cb0efbcfc335dce24">av_strerror</a></div><div class="ttdeci">int av_strerror(int errnum, char *errbuf, size_t errbuf_size)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00105">error.c:105</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a32379cc371463b235d54235d4af06a15"><div class="ttname"><a href="struct_a_v_format_context.html#a32379cc371463b235d54235d4af06a15">AVFormatContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01354">avformat.h:1354</a></div></div>
<div class="ttc" id="adashenc_8c_html_a9b2bb6f4bca595538e10339ebf09b949"><div class="ttname"><a href="dashenc_8c.html#a9b2bb6f4bca595538e10339ebf09b949">dashenc_delete_media_segments</a></div><div class="ttdeci">static void dashenc_delete_media_segments(AVFormatContext *s, OutputStream *os, int remove_count)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01885">dashenc.c:1885</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a968e69369a317de03669ffe40297bdbd"><div class="ttname"><a href="struct_d_a_s_h_context.html#a968e69369a317de03669ffe40297bdbd">DASHContext::media_seg_name</a></div><div class="ttdeci">const char * media_seg_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00169">dashenc.c:169</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_affa1e8145c048ef48b6a3c8c5ca9bcb2"><div class="ttname"><a href="struct_adaptation_set.html#affa1e8145c048ef48b6a3c8c5ca9bcb2">AdaptationSet::frag_type</a></div><div class="ttdeci">int frag_type</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00087">dashenc.c:87</a></div></div>
<div class="ttc" id="atime__internal_8h_html_a89a61b18d74dbd9e50e0b1d23a1fe57e"><div class="ttname"><a href="time__internal_8h.html#a89a61b18d74dbd9e50e0b1d23a1fe57e">gmtime_r</a></div><div class="ttdeci">#define gmtime_r</div><div class="ttdef"><b>Definition:</b> <a href="time__internal_8h_source.html#l00034">time_internal.h:34</a></div></div>
<div class="ttc" id="astruct_v_p_c_c_html_aac93b09a55e325529c8482c66b7a548a"><div class="ttname"><a href="struct_v_p_c_c.html#aac93b09a55e325529c8482c66b7a548a">VPCC::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="vpcc_8h_source.html#l00037">vpcc.h:37</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a68ae994508cab96089082a7c35622cd2"><div class="ttname"><a href="struct_d_a_s_h_context.html#a68ae994508cab96089082a7c35622cd2">DASHContext::index_correction</a></div><div class="ttdeci">int index_correction</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00182">dashenc.c:182</a></div></div>
<div class="ttc" id="adashenc_8c_html_a70497c769e4c2dbd9000083fc58cf3ef"><div class="ttname"><a href="dashenc_8c.html#a70497c769e4c2dbd9000083fc58cf3ef">dashenc_delete_segment_file</a></div><div class="ttdeci">static int dashenc_delete_segment_file(AVFormatContext *s, const char *file)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01865">dashenc.c:1865</a></div></div>
<div class="ttc" id="aavio_8h_html_a63157a668f29b8f5a89f00bc24838b8e"><div class="ttname"><a href="avio_8h.html#a63157a668f29b8f5a89f00bc24838b8e">avio_tell</a></div><div class="ttdeci">static av_always_inline int64_t avio_tell(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00557">avio.h:557</a></div></div>
<div class="ttc" id="ahlsplaylist_8c_html_a576e3060b16c85bd554b14e41df80ccb"><div class="ttname"><a href="hlsplaylist_8c.html#a576e3060b16c85bd554b14e41df80ccb">ff_hls_write_audio_rendition</a></div><div class="ttdeci">void ff_hls_write_audio_rendition(AVIOContext *out, const char *agroup, const char *filename, const char *language, int name_id, int is_default)</div><div class="ttdef"><b>Definition:</b> <a href="hlsplaylist_8c_source.html#l00039">hlsplaylist.c:39</a></div></div>
<div class="ttc" id="astructformat__string_html_aa7b5fdc523ae7124957c6cd6805b0618"><div class="ttname"><a href="structformat__string.html#aa7b5fdc523ae7124957c6cd6805b0618">format_string::str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00218">dashenc.c:218</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a5268fcf4ae8ed27edef54f836b926d93"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a5268fcf4ae8ed27edef54f836b926d93">AVCodecParameters::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00089">codec_par.h:89</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_ae29070d0b95d67969602d22713476758"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#ae29070d0b95d67969602d22713476758">AV1SequenceParameters::tier</a></div><div class="ttdeci">uint8_t tier</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00031">av1.h:31</a></div></div>
<div class="ttc" id="aavformat_8h_html_aeb387b52a67154ded3aeee38400f358a"><div class="ttname"><a href="avformat_8h.html#aeb387b52a67154ded3aeee38400f358a">AVFMT_AVOID_NEG_TS_MAKE_ZERO</a></div><div class="ttdeci">#define AVFMT_AVOID_NEG_TS_MAKE_ZERO</div><div class="ttdoc">Shift timestamps so that they start at 0.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01569">avformat.h:1569</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="agroup__lavc__parsing_html_ga0dd9af605377fcbb49fffd982672d377"><div class="ttname"><a href="group__lavc__parsing.html#ga0dd9af605377fcbb49fffd982672d377">av_parser_init</a></div><div class="ttdeci">AVCodecParserContext * av_parser_init(int codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="parser_8c_source.html#l00034">parser.c:34</a></div></div>
<div class="ttc" id="adashenc_8c_html_ac31f915df831e16b2757eea8a1fbe3f8"><div class="ttname"><a href="dashenc_8c.html#ac31f915df831e16b2757eea8a1fbe3f8">add_segment</a></div><div class="ttdeci">static int add_segment(OutputStream *os, const char *file, int64_t time, int64_t duration, int64_t start_pos, int64_t range_length, int64_t index_length, int next_exp_index)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01740">dashenc.c:1740</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a0a0f568cbaf90c99b8be7548049309a1"><div class="ttname"><a href="struct_output_stream.html#a0a0f568cbaf90c99b8be7548049309a1">OutputStream::parser</a></div><div class="ttdeci">AVCodecParserContext * parser</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00103">dashenc.c:103</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a83da80f2d58f8f02ea6dcf75f1510aa5"><div class="ttname"><a href="struct_d_a_s_h_context.html#a83da80f2d58f8f02ea6dcf75f1510aa5">DASHContext::write_prft</a></div><div class="ttdeci">int write_prft</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00193">dashenc.c:193</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_ae495a86ddec02af7d5a2805beba9ac9f"><div class="ttname"><a href="struct_a_v_stream.html#ae495a86ddec02af7d5a2805beba9ac9f">AVStream::internal</a></div><div class="ttdeci">AVStreamInternal * internal</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01108">avformat.h:1108</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga4fd9c0b8e663cf3d55e89fbc6ce71602"><div class="ttname"><a href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a></div><div class="ttdeci">int av_reduce(int *dst_num, int *dst_den, int64_t num, int64_t den, int64_t max)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00035">rational.c:35</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a0f80052d322d4f48f2ef941a94e84dc4"><div class="ttname"><a href="struct_d_a_s_h_context.html#a0f80052d322d4f48f2ef941a94e84dc4">DASHContext::start_time_s</a></div><div class="ttdeci">time_t start_time_s</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00164">dashenc.c:164</a></div></div>
<div class="ttc" id="aavio_8c_html_af96f613cbf7f0d32ab56278ca75e4430"><div class="ttname"><a href="avio_8c.html#af96f613cbf7f0d32ab56278ca75e4430">ff_rename</a></div><div class="ttdeci">int ff_rename(const char *url_src, const char *url_dst, void *logctx)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00673">avio.c:673</a></div></div>
<div class="ttc" id="avpcc_8h_html"><div class="ttname"><a href="vpcc_8h.html">vpcc.h</a></div></div>
<div class="ttc" id="adashenc_8c_html_aafd25899292ac76c13c54082dcd01a6a"><div class="ttname"><a href="dashenc_8c.html#aafd25899292ac76c13c54082dcd01a6a">get_hls_playlist_name</a></div><div class="ttdeci">static void get_hls_playlist_name(char *playlist_name, int string_size, const char *base_url, int id)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00499">dashenc.c:499</a></div></div>
<div class="ttc" id="adashenc_8c_html_a00af0dd7724b0559cfdc6c4bff2ce210"><div class="ttname"><a href="dashenc_8c.html#a00af0dd7724b0559cfdc6c4bff2ce210">write_time</a></div><div class="ttdeci">static void write_time(AVIOContext *out, int64_t time)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00770">dashenc.c:770</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a553207ec9fff43c9e10492cbfde6fdef"><div class="ttname"><a href="struct_output_stream.html#a553207ec9fff43c9e10492cbfde6fdef">OutputStream::first_segment_bit_rate</a></div><div class="ttdeci">int first_segment_bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00118">dashenc.c:118</a></div></div>
<div class="ttc" id="astruct_output_stream_html_af9e5cd3ddfbd288aa1380c1f10f9c044"><div class="ttname"><a href="struct_output_stream.html#af9e5cd3ddfbd288aa1380c1f10f9c044">OutputStream::init_range_length</a></div><div class="ttdeci">int init_range_length</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00108">dashenc.c:108</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a4ed39f9acb28ba4c8ae38d4f1db182d4"><div class="ttname"><a href="struct_d_a_s_h_context.html#a4ed39f9acb28ba4c8ae38d4f1db182d4">DASHContext::presentation_time_offset</a></div><div class="ttdeci">int64_t presentation_time_offset</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00165">dashenc.c:165</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a3298ea494382dbe0ee9fb46c444be458"><div class="ttname"><a href="struct_d_a_s_h_context.html#a3298ea494382dbe0ee9fb46c444be458">DASHContext::adaptation_sets</a></div><div class="ttdeci">char * adaptation_sets</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00145">dashenc.c:145</a></div></div>
<div class="ttc" id="aavio_8h_html_a8faed62ce72e7411cbea2356494af8ce"><div class="ttname"><a href="avio_8h.html#a8faed62ce72e7411cbea2356494af8ce">avio_close_dyn_buf</a></div><div class="ttdeci">int avio_close_dyn_buf(AVIOContext *s, uint8_t **pbuffer)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01428">aviobuf.c:1428</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a0d1cb9b5a32b00fb6edc81ea3aae2a49"><div class="ttname"><a href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">AVPacket::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00365">packet.h:365</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga74bb2298daa9cd0b5f1d0b2c1c3e26bb"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga74bb2298daa9cd0b5f1d0b2c1c3e26bb">av_realloc</a></div><div class="ttdeci">void * av_realloc(void *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00134">mem.c:134</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="atablegen_8h_html_acb2450405534f2af2557e0d2487c09dc"><div class="ttname"><a href="tablegen_8h.html#acb2450405534f2af2557e0d2487c09dc">lrint</a></div><div class="ttdeci">#define lrint</div><div class="ttdef"><b>Definition:</b> <a href="tablegen_8h_source.html#l00053">tablegen.h:53</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a9db755451f14e2bf590d4b85d82b32e6"><div class="ttname"><a href="struct_a_v_stream.html#a9db755451f14e2bf590d4b85d82b32e6">AVStream::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00898">avformat.h:898</a></div></div>
<div class="ttc" id="adashenc_8c_html_a07484107e6d9fdf38b53edf631d6511d"><div class="ttname"><a href="dashenc_8c.html#a07484107e6d9fdf38b53edf631d6511d">E</a></div><div class="ttdeci">#define E</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02337">dashenc.c:2337</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a2d65b01410a62b180caee6a9ebcaf64f"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a2d65b01410a62b180caee6a9ebcaf64f">AV1SequenceParameters::color_description_present_flag</a></div><div class="ttdeci">uint8_t color_description_present_flag</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00037">av1.h:37</a></div></div>
<div class="ttc" id="adashenc_8c_html_a40c12cf37e61853e531a8782ab49d060"><div class="ttname"><a href="dashenc_8c.html#a40c12cf37e61853e531a8782ab49d060">get_start_index_number</a></div><div class="ttdeci">static void get_start_index_number(OutputStream *os, DASHContext *c, int *start_index, int *start_number)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00507">dashenc.c:507</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a89ca2a8631ced53bab3352cd20df5292"><div class="ttname"><a href="struct_output_stream.html#a89ca2a8631ced53bab3352cd20df5292">OutputStream::start_pts</a></div><div class="ttdeci">int64_t start_pts</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00114">dashenc.c:114</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a5e5b06d6dc78cbe6112e42f8069b12b5"><div class="ttname"><a href="libavformat_2internal_8h.html#a5e5b06d6dc78cbe6112e42f8069b12b5">ff_write_chained</a></div><div class="ttdeci">int ff_write_chained(AVFormatContext *dst, int dst_stream, AVPacket *pkt, AVFormatContext *src, int interleave)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01305">mux.c:1305</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a1f342e4e3615abc9314684ce6b4819c0"><div class="ttname"><a href="tests_2movenc_8c.html#a1f342e4e3615abc9314684ce6b4819c0">duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00063">movenc.c:63</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a060002ff641fb6c358517df941e9c4c5"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a060002ff641fb6c358517df941e9c4c5">AVCodecParameters::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00078">codec_par.h:78</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gae67f143237b2cb2936c9b147aa6dfde3"><div class="ttname"><a href="group__lavu__dict.html#gae67f143237b2cb2936c9b147aa6dfde3">av_dict_get</a></div><div class="ttdeci">AVDictionaryEntry * av_dict_get(const AVDictionary *m, const char *key, const AVDictionaryEntry *prev, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00040">dict.c:40</a></div></div>
<div class="ttc" id="aavio_8h_html_adb5259ad07633518173eaa47fe6575e2"><div class="ttname"><a href="avio_8h.html#adb5259ad07633518173eaa47fe6575e2">avio_open_dyn_buf</a></div><div class="ttdeci">int avio_open_dyn_buf(AVIOContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01383">aviobuf.c:1383</a></div></div>
<div class="ttc" id="astruct_segment_html_a1e1fdff15d7d4e951015cbe7975778fa"><div class="ttname"><a href="struct_segment.html#a1e1fdff15d7d4e951015cbe7975778fa">Segment::index_length</a></div><div class="ttdeci">int index_length</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00075">dashenc.c:75</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae80afec6f26df6607eaacf39b561c315"><div class="ttname"><a href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a></div><div class="ttdeci">AVCodecContext * avcodec_alloc_context3(const AVCodec *codec)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00172">options.c:172</a></div></div>
<div class="ttc" id="astructformat__string_html_adb4c7e0b08117b55bd19572a6b8bbe08"><div class="ttname"><a href="structformat__string.html#adb4c7e0b08117b55bd19572a6b8bbe08">format_string::segment_type</a></div><div class="ttdeci">SegmentType segment_type</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00217">dashenc.c:217</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="adashenc_8c_html_a45f8c604b4008a278fe9bde5156489ee"><div class="ttname"><a href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a></div><div class="ttdeci">SegmentType</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00054">dashenc.c:54</a></div></div>
<div class="ttc" id="aopt_8h_html_aba0d5e41287b6fbeae5dd59f643695cc"><div class="ttname"><a href="opt_8h.html#aba0d5e41287b6fbeae5dd59f643695cc">AV_OPT_FLAG_ENCODING_PARAM</a></div><div class="ttdeci">#define AV_OPT_FLAG_ENCODING_PARAM</div><div class="ttdoc">a generic parameter which can be set by the user for muxing or encoding</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00278">opt.h:278</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html"><div class="ttname"><a href="struct_a_v_codec_parser_context.html">AVCodecParserContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03353">avcodec.h:3353</a></div></div>
<div class="ttc" id="astruct_a_v_dictionary_entry_html_aa38678f2cad36f120d42e56449c5edb4"><div class="ttname"><a href="struct_a_v_dictionary_entry.html#aa38678f2cad36f120d42e56449c5edb4">AVDictionaryEntry::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00083">dict.h:83</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a0eea65af4ed3f70e42a9b6908bf0fe00"><div class="ttname"><a href="struct_d_a_s_h_context.html#a0eea65af4ed3f70e42a9b6908bf0fe00">DASHContext::single_file_name</a></div><div class="ttdeci">const char * single_file_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00167">dashenc.c:167</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_afb7a927b3bd235b16785973f5cfc5956"><div class="ttname"><a href="struct_d_a_s_h_context.html#afb7a927b3bd235b16785973f5cfc5956">DASHContext::max_gop_size</a></div><div class="ttdeci">int64_t max_gop_size</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00194">dashenc.c:194</a></div></div>
<div class="ttc" id="astruct_segment_html_a0c944d991bfe54750d8ba3d6a6c7b157"><div class="ttname"><a href="struct_segment.html#a0c944d991bfe54750d8ba3d6a6c7b157">Segment::time</a></div><div class="ttdeci">int64_t time</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00076">dashenc.c:76</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a6cbb6159b11617d08b74767a9cc38bc4"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a6cbb6159b11617d08b74767a9cc38bc4">AV1SequenceParameters::chroma_subsampling_x</a></div><div class="ttdeci">uint8_t chroma_subsampling_x</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00034">av1.h:34</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaedab7fb3a1647fbdc114ad0447105c72">AV_CODEC_ID_VP9</a></div><div class="ttdeci">@ AV_CODEC_ID_VP9</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00217">codec_id.h:217</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9f76f2475ef24ff4c9771dd53072d040"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">AVCodecParameters::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:60</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga935dbbf6bde8dfe5fa7ddb1da582eb07"><div class="ttname"><a href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a></div><div class="ttdeci">static double av_q2d(AVRational a)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00104">rational.h:104</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a727d503f9dde6c0db23d7fd9ddd02b86"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a727d503f9dde6c0db23d7fd9ddd02b86">AV1SequenceParameters::profile</a></div><div class="ttdeci">uint8_t profile</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00029">av1.h:29</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba5ee7af62f31eaa59198be9469b5b2351"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba5ee7af62f31eaa59198be9469b5b2351">FRAG_TYPE_NB</a></div><div class="ttdeci">@ FRAG_TYPE_NB</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00067">dashenc.c:66</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_ab6cc0e73ffbec72c438413c6c6a4e326"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#ab6cc0e73ffbec72c438413c6c6a4e326">AVCodecParserContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03386">avcodec.h:3386</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a94d540a5b928da813ff94d9367a1078a">AV_OPT_TYPE_INT64</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT64</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00226">opt.h:226</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="adashenc_8c_html_ac5920b21a6ddd28805a7bfdbb96067f9"><div class="ttname"><a href="dashenc_8c.html#ac5920b21a6ddd28805a7bfdbb96067f9">dash_check_bitstream</a></div><div class="ttdeci">static int dash_check_bitstream(struct AVFormatContext *s, const AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02315">dashenc.c:2315</a></div></div>
<div class="ttc" id="aavio_8h_html_a5c9308f296545a8f3b7687d277a6dabc"><div class="ttname"><a href="avio_8h.html#a5c9308f296545a8f3b7687d277a6dabc">AVIO_FLAG_WRITE</a></div><div class="ttdeci">#define AVIO_FLAG_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00675">avio.h:675</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca886b3191488ef874bf3e94b3d9cec713"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca886b3191488ef874bf3e94b3d9cec713">AV_FIELD_UNKNOWN</a></div><div class="ttdeci">@ AV_FIELD_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00037">codec_par.h:37</a></div></div>
<div class="ttc" id="astruct_v_p_c_c_html"><div class="ttname"><a href="struct_v_p_c_c.html">VPCC</a></div><div class="ttdef"><b>Definition:</b> <a href="vpcc_8h_source.html#l00035">vpcc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a6cc5dab144c2ad0df16a102c16fea128"><div class="ttname"><a href="struct_output_stream.html#a6cc5dab144c2ad0df16a102c16fea128">OutputStream::temp_path</a></div><div class="ttdeci">char temp_path[1024]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00130">dashenc.c:130</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a5c70d1118cb395920dd88245b429e5b5"><div class="ttname"><a href="struct_d_a_s_h_context.html#a5c70d1118cb395920dd88245b429e5b5">DASHContext::frag_duration</a></div><div class="ttdeci">int64_t frag_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00154">dashenc.c:154</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_a01788f5fa3d955ed9da7ae8e3524e79d"><div class="ttname"><a href="libavformat_2internal_8h.html#a01788f5fa3d955ed9da7ae8e3524e79d">ff_is_http_proto</a></div><div class="ttdeci">int ff_is_http_proto(char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05625">utils.c:5625</a></div></div>
<div class="ttc" id="agroup__lavu__math_html_gaf02994a8bbeaa91d4757df179cbe567f"><div class="ttname"><a href="group__lavu__math.html#gaf02994a8bbeaa91d4757df179cbe567f">av_rescale_q</a></div><div class="ttdeci">int64_t av_rescale_q(int64_t a, AVRational bq, AVRational cq)</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8c_source.html#l00142">mathematics.c:142</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ae6e9917b66f9940cf589ac823f5c388c"><div class="ttname"><a href="struct_d_a_s_h_context.html#ae6e9917b66f9940cf589ac823f5c388c">DASHContext::method</a></div><div class="ttdeci">const char * method</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00171">dashenc.c:171</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a73bde0a37f3b1efc839f11295bfbf42a"><div class="ttname"><a href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">AVPacket::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00356">packet.h:356</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a6e8d55d66e89aa297c9ccec682603731"><div class="ttname"><a href="struct_adaptation_set.html#a6e8d55d66e89aa297c9ccec682603731">AdaptationSet::nb_streams</a></div><div class="ttdeci">int nb_streams</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00094">dashenc.c:94</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a42887da0e34a867eb3584afc26598e26"><div class="ttname"><a href="struct_d_a_s_h_context.html#a42887da0e34a867eb3584afc26598e26">DASHContext::master_publish_rate</a></div><div class="ttdeci">int master_publish_rate</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00189">dashenc.c:189</a></div></div>
<div class="ttc" id="avaapi__decode_8c_html_a0fd12851a78b80080e277db30411728d"><div class="ttname"><a href="vaapi__decode_8c.html#a0fd12851a78b80080e277db30411728d">codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__decode_8c_source.html#l00239">vaapi_decode.c:369</a></div></div>
<div class="ttc" id="ahwcontext__opencl_8c_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="hwcontext__opencl_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a></div><div class="ttdeci">const char * key</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext__opencl_8c_source.html#l00168">hwcontext_opencl.c:168</a></div></div>
<div class="ttc" id="adashenc_8c_html_adeb189eb23d01d3c091f2be8f1d97db4"><div class="ttname"><a href="dashenc_8c.html#adeb189eb23d01d3c091f2be8f1d97db4">dashenc_delete_file</a></div><div class="ttdeci">static void dashenc_delete_file(AVFormatContext *s, char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01838">dashenc.c:1838</a></div></div>
<div class="ttc" id="adashenc_8c_html_ae8ebee2a174e169617c06c10acb963a9"><div class="ttname"><a href="dashenc_8c.html#ae8ebee2a174e169617c06c10acb963a9">write_manifest</a></div><div class="ttdeci">static int write_manifest(AVFormatContext *s, int final)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01144">dashenc.c:1144</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97a4586b727ffd024011970432c23187874"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97a4586b727ffd024011970432c23187874">AV_PKT_DATA_PRFT</a></div><div class="ttdeci">@ AV_PKT_DATA_PRFT</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00268">packet.h:268</a></div></div>
<div class="ttc" id="adashenc_8c_html_a06f2b2ee86200f77479e9508c42c0e48"><div class="ttname"><a href="dashenc_8c.html#a06f2b2ee86200f77479e9508c42c0e48">ff_dash_muxer</a></div><div class="ttdeci">AVOutputFormat ff_dash_muxer</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02397">dashenc.c:2397</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a></div><div class="ttdeci">@ AV_CODEC_ID_H264</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00076">codec_id.h:76</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac59f9714ac34774b43b3797c80b06c68"><div class="ttname"><a href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a></div><div class="ttdeci">uint8_t * av_packet_new_side_data(AVPacket *pkt, enum AVPacketSideDataType type, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00332">avpacket.c:332</a></div></div>
<div class="ttc" id="astruct_a_v_producer_reference_time_html"><div class="ttname"><a href="struct_a_v_producer_reference_time.html">AVProducerReferenceTime</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00498">avcodec.h:498</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga18b7b10bb5b94c4842de18166bc677cb"><div class="ttname"><a href="group__lavf__encoding.html#ga18b7b10bb5b94c4842de18166bc677cb">avformat_write_header</a></div><div class="ttdeci">av_warn_unused_result int avformat_write_header(AVFormatContext *s, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l00505">mux.c:505</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_af50ca57083e6c22190c0156cb601471d"><div class="ttname"><a href="struct_d_a_s_h_context.html#af50ca57083e6c22190c0156cb601471d">DASHContext::http_persistent</a></div><div class="ttdeci">int http_persistent</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00176">dashenc.c:176</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga77a800026abd6dc2f4ac1e0ad7e3e999"><div class="ttname"><a href="group__lavc__packet.html#ga77a800026abd6dc2f4ac1e0ad7e3e999">av_packet_get_side_data</a></div><div class="ttdeci">uint8_t * av_packet_get_side_data(const AVPacket *pkt, enum AVPacketSideDataType type, int *size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00353">avpacket.c:353</a></div></div>
<div class="ttc" id="atime__internal_8h_html"><div class="ttname"><a href="time__internal_8h.html">time_internal.h</a></div></div>
<div class="ttc" id="ahttp_8c_html_aeaeca746d18be2f77975ab8c60e486cd"><div class="ttname"><a href="http_8c.html#aeaeca746d18be2f77975ab8c60e486cd">ff_http_do_new_request</a></div><div class="ttdeci">int ff_http_do_new_request(URLContext *h, const char *uri)</div><div class="ttdef"><b>Definition:</b> <a href="http_8c_source.html#l00333">http.c:333</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="aavio_8h_html_ad88b866a118c17c95663f7782b2e8946"><div class="ttname"><a href="avio_8h.html#ad88b866a118c17c95663f7782b2e8946">avio_flush</a></div><div class="ttdeci">void avio_flush(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00245">aviobuf.c:245</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a913a6856b071a5b7142ad9132fa6dfc5"><div class="ttname"><a href="struct_output_stream.html#a913a6856b071a5b7142ad9132fa6dfc5">OutputStream::availability_time_offset</a></div><div class="ttdeci">double availability_time_offset</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00131">dashenc.c:131</a></div></div>
<div class="ttc" id="adashenc_8c_html_a4508044253901fd9af78c59ce784fcdc"><div class="ttname"><a href="dashenc_8c.html#a4508044253901fd9af78c59ce784fcdc">DASHContext</a></div><div class="ttdeci">struct DASHContext DASHContext</div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga6eff035c271caa5a533987a1e00ad43e"><div class="ttname"><a href="group__lavu__math__rational.html#ga6eff035c271caa5a533987a1e00ad43e">AVRational</a></div><div class="ttdeci">struct AVRational AVRational</div></div>
<div class="ttc" id="atests_2movenc_8c_html_af540b728145b614e34c4e10930354b93"><div class="ttname"><a href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a></div><div class="ttdeci">AVDictionary * opts</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00050">movenc.c:50</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_aff2c379b7eb94f9c050a5ad9954b7e86"><div class="ttname"><a href="struct_d_a_s_h_context.html#aff2c379b7eb94f9c050a5ad9954b7e86">DASHContext::use_timeline</a></div><div class="ttdeci">int use_timeline</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00157">dashenc.c:157</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_af3f615ad9ff79fb90f4eb136a1f58065"><div class="ttname"><a href="struct_a_v_format_context.html#af3f615ad9ff79fb90f4eb136a1f58065">AVFormatContext::io_open</a></div><div class="ttdeci">int(* io_open)(struct AVFormatContext *s, AVIOContext **pb, const char *url, int flags, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01817">avformat.h:1817</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="adashenc_8c_html_a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696"><div class="ttname"><a href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaef79474072adeacf31f14ba9641f8696">SEGMENT_TYPE_WEBM</a></div><div class="ttdeci">@ SEGMENT_TYPE_WEBM</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00057">dashenc.c:57</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_afc57bb5df500a945af8427c5107d4f82"><div class="ttname"><a href="struct_d_a_s_h_context.html#afc57bb5df500a945af8427c5107d4f82">DASHContext::single_file</a></div><div class="ttdeci">int single_file</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00158">dashenc.c:158</a></div></div>
<div class="ttc" id="adashenc_8c_html_aa7bb49fc68dcbd06085d1eb9da1cbcbc"><div class="ttname"><a href="dashenc_8c.html#aa7bb49fc68dcbd06085d1eb9da1cbcbc">dash_write_packet</a></div><div class="ttdeci">static int dash_write_packet(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02055">dashenc.c:2055</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_ae826a21ebf9532de5d77dd9e8dc5b8df"><div class="ttname"><a href="struct_adaptation_set.html#ae826a21ebf9532de5d77dd9e8dc5b8df">AdaptationSet::max_width</a></div><div class="ttdeci">int max_width</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00093">dashenc.c:93</a></div></div>
<div class="ttc" id="aisom_8h_html"><div class="ttname"><a href="isom_8h.html">isom.h</a></div></div>
<div class="ttc" id="astruct_output_stream_html_acc5427da4501a44ef0bdb643063dcee3"><div class="ttname"><a href="struct_output_stream.html#acc5427da4501a44ef0bdb643063dcee3">OutputStream::first_pts</a></div><div class="ttdeci">int64_t first_pts</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg_8h_source.html#l00460">ffmpeg.h:460</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a9de4628fc6dd79e98cd79e6a6945f8b9"><div class="ttname"><a href="struct_d_a_s_h_context.html#a9de4628fc6dd79e98cd79e6a6945f8b9">DASHContext::nr_of_streams_to_flush</a></div><div class="ttdeci">int nr_of_streams_to_flush</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00190">dashenc.c:190</a></div></div>
<div class="ttc" id="av4l2enc_8c_html_a4f80c0767194e6e297d2952ed1e75ccc"><div class="ttname"><a href="v4l2enc_8c.html#a4f80c0767194e6e297d2952ed1e75ccc">write_trailer</a></div><div class="ttdeci">static int write_trailer(AVFormatContext *s1)</div><div class="ttdef"><b>Definition:</b> <a href="v4l2enc_8c_source.html#l00098">v4l2enc.c:98</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a241ff12eb684c4fc6d843fddf175f8b6"><div class="ttname"><a href="struct_output_stream.html#a241ff12eb684c4fc6d843fddf175f8b6">OutputStream::codec_str</a></div><div class="ttdeci">char codec_str[100]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00126">dashenc.c:126</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_ac4ed33827f5bd86e4481cc10ce3dc3ba"><div class="ttname"><a href="struct_adaptation_set.html#ac4ed33827f5bd86e4481cc10ce3dc3ba">AdaptationSet::par</a></div><div class="ttdeci">AVRational par</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00095">dashenc.c:95</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaf869d0829ed607cec3a4a02a1c7026b3"><div class="ttname"><a href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a></div><div class="ttdeci">void avcodec_free_context(AVCodecContext **avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00187">options.c:187</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_gaf67c5971eb2a00a02286316d36a88d73"><div class="ttname"><a href="group__lavu__string.html#gaf67c5971eb2a00a02286316d36a88d73">av_strireplace</a></div><div class="ttdeci">char * av_strireplace(const char *str, const char *from, const char *to)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00237">avstring.c:237</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_af66114db7e0ab870640338889ae4e8a8"><div class="ttname"><a href="struct_d_a_s_h_context.html#af66114db7e0ab870640338889ae4e8a8">DASHContext::dirname</a></div><div class="ttdeci">char dirname[1024]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00166">dashenc.c:166</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a3f19c60ac6da237cd10e4d97150c118e"><div class="ttname"><a href="struct_a_v_stream.html#a3f19c60ac6da237cd10e4d97150c118e">AVStream::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00931">avformat.h:931</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444aed6f0d8e5b8f3edcaea01c15ab43aefd">AV_OPT_TYPE_DICT</a></div><div class="ttdeci">@ AV_OPT_TYPE_DICT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00232">opt.h:232</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a248d12843c52ebe177cd8abc6f0bf5bf"><div class="ttname"><a href="struct_d_a_s_h_context.html#a248d12843c52ebe177cd8abc6f0bf5bf">DASHContext::last_duration</a></div><div class="ttdeci">int64_t last_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00161">dashenc.c:161</a></div></div>
<div class="ttc" id="astruct_segment_html_ac1f774c70036d03e175cb8fba2c4430a"><div class="ttname"><a href="struct_segment.html#ac1f774c70036d03e175cb8fba2c4430a">Segment::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00079">dashenc.c:79</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="aavio_8c_html_a03ca8473c9c0f16e3eb0c19fb44823a5"><div class="ttname"><a href="avio_8c.html#a03ca8473c9c0f16e3eb0c19fb44823a5">ffurl_shutdown</a></div><div class="ttdeci">int ffurl_shutdown(URLContext *h, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00659">avio.c:659</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="aavc_8h_html"><div class="ttname"><a href="avc_8h.html">avc.h</a></div></div>
<div class="ttc" id="aparseutils_8h_html"><div class="ttname"><a href="parseutils_8h.html">parseutils.h</a></div></div>
<div class="ttc" id="adashenc_8c_html_af30107d0caa08b964eac664686f3e497"><div class="ttname"><a href="dashenc_8c.html#af30107d0caa08b964eac664686f3e497">flush_init_segment</a></div><div class="ttdeci">static int flush_init_segment(AVFormatContext *s, OutputStream *os)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00596">dashenc.c:596</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a9df1d2ae144ce1c9048f205c5d4937b7"><div class="ttname"><a href="struct_d_a_s_h_context.html#a9df1d2ae144ce1c9048f205c5d4937b7">DASHContext::streams</a></div><div class="ttdeci">OutputStream * streams</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00159">dashenc.c:159</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a57401dc8e998979c753bb3105b01ad1e"><div class="ttname"><a href="struct_output_stream.html#a57401dc8e998979c753bb3105b01ad1e">OutputStream::ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00100">dashenc.c:100</a></div></div>
<div class="ttc" id="adashenc_8c_html_ae5c8661431d5df6909b73f0a4a06e83c"><div class="ttname"><a href="dashenc_8c.html#ae5c8661431d5df6909b73f0a4a06e83c">select_segment_type</a></div><div class="ttdeci">static SegmentType select_segment_type(SegmentType segment_type, enum AVCodecID codec_id)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00291">dashenc.c:291</a></div></div>
<div class="ttc" id="aparseutils_8c_html_a98590feafe82e074f61f38c8faaa4cef"><div class="ttname"><a href="parseutils_8c.html#a98590feafe82e074f61f38c8faaa4cef">av_parse_time</a></div><div class="ttdeci">int av_parse_time(int64_t *timeval, const char *timestr, int duration)</div><div class="ttdef"><b>Definition:</b> <a href="parseutils_8c_source.html#l00587">parseutils.c:587</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga8ed4237acfc3d68484301a5d1859936c"><div class="ttname"><a href="group__lavu__dict.html#ga8ed4237acfc3d68484301a5d1859936c">AV_DICT_DONT_OVERWRITE</a></div><div class="ttdeci">#define AV_DICT_DONT_OVERWRITE</div><div class="ttdoc">Don't overwrite existing entries.</div><div class="ttdef"><b>Definition:</b> <a href="dict_8h_source.html#l00076">dict.h:76</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parser_context_html_a41702bcd99e8aeab875634fb44bfd741"><div class="ttname"><a href="struct_a_v_codec_parser_context.html#a41702bcd99e8aeab875634fb44bfd741">AVCodecParserContext::pict_type</a></div><div class="ttdeci">int pict_type</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03361">avcodec.h:3361</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_gaa85cc1774f18f306cd20a40fc50d0b36"><div class="ttname"><a href="group__lavf__encoding.html#gaa85cc1774f18f306cd20a40fc50d0b36">av_write_frame</a></div><div class="ttdeci">int av_write_frame(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01190">mux.c:1190</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html"><div class="ttname"><a href="struct_d_a_s_h_context.html">DASHContext</a></div><div class="ttdef"><b>Definition:</b> <a href="dashdec_8c_source.html#l00121">dashdec.c:121</a></div></div>
<div class="ttc" id="astructformat__string_html"><div class="ttname"><a href="structformat__string.html">format_string</a></div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00216">dashenc.c:216</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a236265133da1ecd6375e5e7c405020a0"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a236265133da1ecd6375e5e7c405020a0">AV_RB32</a></div><div class="ttdeci">#define AV_RB32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00130">intreadwrite.h:130</a></div></div>
<div class="ttc" id="astructcodec__string_html_a8e72056f2bb10f8ab005586f3b3fc161"><div class="ttname"><a href="structcodec__string.html#a8e72056f2bb10f8ab005586f3b3fc161">codec_string::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00205">dashenc.c:205</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a8aeefb8cf55cb147f930424c488f9693"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a8aeefb8cf55cb147f930424c488f9693">AVCodecParameters::video_delay</a></div><div class="ttdeci">int video_delay</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00155">codec_par.h:155</a></div></div>
<div class="ttc" id="abprint_8h_html_a07432f704c49a6fa636197e2aa80bac0"><div class="ttname"><a href="bprint_8h.html#a07432f704c49a6fa636197e2aa80bac0">av_bprint_is_complete</a></div><div class="ttdeci">static int av_bprint_is_complete(const AVBPrint *buf)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8h_source.html#l00185">bprint.h:185</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a946e1e9b89eeeae4cab8a833b482c1ad"><div class="ttname"><a href="struct_a_v_stream.html#a946e1e9b89eeeae4cab8a833b482c1ad">AVStream::avg_frame_rate</a></div><div class="ttdeci">AVRational avg_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00942">avformat.h:942</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaadca229ad2c20e060a14fec08a5cc7ce"><div class="ttname"><a href="group__lavc__core.html#gaadca229ad2c20e060a14fec08a5cc7ce">AVCodecID</a></div><div class="ttdeci">AVCodecID</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00046">codec_id.h:46</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9b6f7d220d100ba73defab295623356b"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9b6f7d220d100ba73defab295623356b">AVCodecParameters::codec_tag</a></div><div class="ttdeci">uint32_t codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00064">codec_par.h:64</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a1b1a9154b4595efefd40bce76d90b4dd"><div class="ttname"><a href="struct_output_stream.html#a1b1a9154b4595efefd40bce76d90b4dd">OutputStream::last_duration</a></div><div class="ttdeci">int64_t last_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00112">dashenc.c:112</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaadba4b5a087e2b6bf2acdd1b5aebb988">AV_CODEC_ID_AAC</a></div><div class="ttdeci">@ AV_CODEC_ID_AAC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00420">codec_id.h:420</a></div></div>
<div class="ttc" id="adashenc_8c_html_a8c3b715ea40a7a7b0aad06e7b58ee2bf"><div class="ttname"><a href="dashenc_8c.html#a8c3b715ea40a7a7b0aad06e7b58ee2bf">MPD_PROFILE_DASH</a></div><div class="ttdeci">#define MPD_PROFILE_DASH</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00069">dashenc.c:69</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a5d27a9eec7a76b06c6bcca772b4dcc5f"><div class="ttname"><a href="struct_output_stream.html#a5d27a9eec7a76b06c6bcca772b4dcc5f">OutputStream::sar</a></div><div class="ttdeci">AVRational sar</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00139">dashenc.c:139</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba777eb31209706b817a8f70f206ff5b9d">FRAG_TYPE_PFRAMES</a></div><div class="ttdeci">@ FRAG_TYPE_PFRAMES</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00065">dashenc.c:65</a></div></div>
<div class="ttc" id="aisom_8c_html_a49f1e7625dcea066fdb0273f29980f1d"><div class="ttname"><a href="isom_8c.html#a49f1e7625dcea066fdb0273f29980f1d">ff_codec_movvideo_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_movvideo_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="isom_8c_source.html#l00075">isom.c:75</a></div></div>
<div class="ttc" id="ahlsplaylist_8c_html_a04dd2b96146fbafccb8cc296be497e29"><div class="ttname"><a href="hlsplaylist_8c.html#a04dd2b96146fbafccb8cc296be497e29">ff_hls_write_playlist_version</a></div><div class="ttdeci">void ff_hls_write_playlist_version(AVIOContext *out, int version)</div><div class="ttdef"><b>Definition:</b> <a href="hlsplaylist_8c_source.html#l00031">hlsplaylist.c:31</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a1ec57ee84f19cf65d00eaa4d2a2253ce"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a1ec57ee84f19cf65d00eaa4d2a2253ce">AVCodecParameters::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00127">codec_par.h:127</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a889dda1756c5e2ed72ee1d46e0e854a5"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a889dda1756c5e2ed72ee1d46e0e854a5">AV1SequenceParameters::matrix_coefficients</a></div><div class="ttdeci">uint8_t matrix_coefficients</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00040">av1.h:40</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baf65568d9f8706e85afbd7f0a2a1e42c7">FRAG_TYPE_NONE</a></div><div class="ttdeci">@ FRAG_TYPE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00062">dashenc.c:62</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_ga9a84bba4713dfced21a1a56163be1f48"><div class="ttname"><a href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a></div><div class="ttdeci">AVMediaType</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00199">avutil.h:199</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a262c90c104c49d60d48d65f356fcd402"><div class="ttname"><a href="struct_output_stream.html#a262c90c104c49d60d48d65f356fcd402">OutputStream::gop_size</a></div><div class="ttdeci">int64_t gop_size</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00138">dashenc.c:138</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gac7a91abf2f59648d995894711f070f62"><div class="ttname"><a href="group__lavf__core.html#gac7a91abf2f59648d995894711f070f62">avformat_alloc_context</a></div><div class="ttdeci">AVFormatContext * avformat_alloc_context(void)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2options_8c_source.html#l00211">options.c:211</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_ga126917b7ce8b4f05505098b72f4997de"><div class="ttname"><a href="group__lavf__misc.html#ga126917b7ce8b4f05505098b72f4997de">av_codec_get_tag</a></div><div class="ttdeci">unsigned int av_codec_get_tag(const struct AVCodecTag *const *tags, enum AVCodecID id)</div></div>
<div class="ttc" id="aavc_8c_html_a3c387fceac914c5eeffe9e1d58572f22"><div class="ttname"><a href="avc_8c.html#a3c387fceac914c5eeffe9e1d58572f22">ff_isom_write_avcc</a></div><div class="ttdeci">int ff_isom_write_avcc(AVIOContext *pb, const uint8_t *data, int len)</div><div class="ttdef"><b>Definition:</b> <a href="avc_8c_source.html#l00108">avc.c:108</a></div></div>
<div class="ttc" id="astruct_output_stream_html_af81b52fc5a724691220dd59aecabc5e2"><div class="ttname"><a href="struct_output_stream.html#af81b52fc5a724691220dd59aecabc5e2">OutputStream::ctx_inited</a></div><div class="ttdeci">int ctx_inited</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00101">dashenc.c:101</a></div></div>
<div class="ttc" id="astruct_output_stream_html_ad49d2f7d669d2b75921bba0ae8c76213"><div class="ttname"><a href="struct_output_stream.html#ad49d2f7d669d2b75921bba0ae8c76213">OutputStream::last_dts</a></div><div class="ttdeci">int64_t last_dts</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00115">dashenc.c:115</a></div></div>
<div class="ttc" id="astruct_output_stream_html_ad85624b9f831e33636accdc9818288d4"><div class="ttname"><a href="struct_output_stream.html#ad85624b9f831e33636accdc9818288d4">OutputStream::segment_type</a></div><div class="ttdeci">SegmentType segment_type</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00119">dashenc.c:119</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a5c1eb24858b3a73d6bbe9585d30e971a"><div class="ttname"><a href="avcodec_8h.html#a5c1eb24858b3a73d6bbe9585d30e971a">FF_COMPLIANCE_STRICT</a></div><div class="ttdeci">#define FF_COMPLIANCE_STRICT</div><div class="ttdoc">Strictly conform to all the things in the spec no matter what consequences.</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01591">avcodec.h:1591</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a81d8c464b8daed16623bfc86d779522a"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a81d8c464b8daed16623bfc86d779522a">AV1SequenceParameters::chroma_subsampling_y</a></div><div class="ttdeci">uint8_t chroma_subsampling_y</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00035">av1.h:35</a></div></div>
<div class="ttc" id="affplay_8c_html_aff091f79e1f4daabe108ee1262892f9f"><div class="ttname"><a href="ffplay_8c.html#aff091f79e1f4daabe108ee1262892f9f">start_time</a></div><div class="ttdeci">static int64_t start_time</div><div class="ttdef"><b>Definition:</b> <a href="ffplay_8c_source.html#l00332">ffplay.c:332</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html">AV1SequenceParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00028">av1.h:28</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_ga2eaefe702f95f619ea6f2d08afa01be1"><div class="ttname"><a href="group__lavu__time.html#ga2eaefe702f95f619ea6f2d08afa01be1">AV_NOPTS_VALUE</a></div><div class="ttdeci">#define AV_NOPTS_VALUE</div><div class="ttdoc">Undefined timestamp value.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00248">avutil.h:248</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a4c861e010defa598ed9cb8a245d6f32e"><div class="ttname"><a href="struct_output_stream.html#a4c861e010defa598ed9cb8a245d6f32e">OutputStream::coding_dependency</a></div><div class="ttdeci">int coding_dependency</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00140">dashenc.c:140</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a9e20b50f6e787ce2428621527014141b"><div class="ttname"><a href="struct_output_stream.html#a9e20b50f6e787ce2428621527014141b">OutputStream::total_pkt_duration</a></div><div class="ttdeci">int64_t total_pkt_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00135">dashenc.c:135</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a0ec8f3c0cd4fb4f04bc48aa4e3a09e91"><div class="ttname"><a href="struct_output_stream.html#a0ec8f3c0cd4fb4f04bc48aa4e3a09e91">OutputStream::init_seg_name</a></div><div class="ttdeci">const char * init_seg_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00123">dashenc.c:123</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a2f575e4767a607ac20ac259bdadc91f3"><div class="ttname"><a href="struct_output_stream.html#a2f575e4767a607ac20ac259bdadc91f3">OutputStream::packets_written</a></div><div class="ttdeci">int packets_written</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00105">dashenc.c:105</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaf41ed5e8d7cf14b25f02f5738d9ab117">AV_CODEC_ID_OPUS</a></div><div class="ttdeci">@ AV_CODEC_ID_OPUS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00478">codec_id.h:478</a></div></div>
<div class="ttc" id="aavformat_8h_html_a752cce390d480521919aa5d8be24ac0b"><div class="ttname"><a href="avformat_8h.html#a752cce390d480521919aa5d8be24ac0b">AVFMT_NOFILE</a></div><div class="ttdeci">#define AVFMT_NOFILE</div><div class="ttdoc">Demuxer will use avio_open, no opened file should be provided by the caller.</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00458">avformat.h:458</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00362">packet.h:362</a></div></div>
<div class="ttc" id="ahlsplaylist_8c_html_a3d77b47dd5225cc0b884e0f2a612d662"><div class="ttname"><a href="hlsplaylist_8c.html#a3d77b47dd5225cc0b884e0f2a612d662">ff_hls_write_init_file</a></div><div class="ttdeci">void ff_hls_write_init_file(AVIOContext *out, const char *filename, int byterange_mode, int64_t size, int64_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="hlsplaylist_8c_source.html#l00122">hlsplaylist.c:122</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48afdadbd6c4f612c59f6b6c7c6f84fd347">AVMEDIA_TYPE_UNKNOWN</a></div><div class="ttdeci">@ AVMEDIA_TYPE_UNKNOWN</div><div class="ttdoc">Usually treated as AVMEDIA_TYPE_DATA.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00200">avutil.h:200</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a3d9c416f4c24ec889fe4c5b1c31df8c4"><div class="ttname"><a href="struct_d_a_s_h_context.html#a3d9c416f4c24ec889fe4c5b1c31df8c4">DASHContext::user_agent</a></div><div class="ttdeci">const char * user_agent</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00172">dashenc.c:172</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="apgssubdec_8c_html_a45f8c604b4008a278fe9bde5156489ee"><div class="ttname"><a href="pgssubdec_8c.html#a45f8c604b4008a278fe9bde5156489ee">SegmentType</a></div><div class="ttdeci">SegmentType</div><div class="ttdef"><b>Definition:</b> <a href="pgssubdec_8c_source.html#l00041">pgssubdec.c:41</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_a1260d6304f56b67bcc8fa2fb77a7d92f"><div class="ttname"><a href="struct_a_v_output_format.html#a1260d6304f56b67bcc8fa2fb77a7d92f">AVOutputFormat::check_bitstream</a></div><div class="ttdeci">int(* check_bitstream)(struct AVFormatContext *, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00628">avformat.h:628</a></div></div>
<div class="ttc" id="adashenc_8c_html_abef69f8f86086b0eb2b23263497f009c"><div class="ttname"><a href="dashenc_8c.html#abef69f8f86086b0eb2b23263497f009c">set_vp9_codec_str</a></div><div class="ttdeci">static void set_vp9_codec_str(AVFormatContext *s, AVCodecParameters *par, AVRational *frame_rate, char *str, int size)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00346">dashenc.c:346</a></div></div>
<div class="ttc" id="aavio_8c_html_a5cf1a4a2055dec6bb6b7acd82fcb0d18"><div class="ttname"><a href="avio_8c.html#a5cf1a4a2055dec6bb6b7acd82fcb0d18">avpriv_io_delete</a></div><div class="ttdeci">int avpriv_io_delete(const char *url)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00523">avio.c:523</a></div></div>
<div class="ttc" id="aavio_8h_html_acc3626afc6aa3964b75d02811457164e"><div class="ttname"><a href="avio_8h.html#acc3626afc6aa3964b75d02811457164e">avio_write</a></div><div class="ttdeci">void avio_write(AVIOContext *s, const unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00225">aviobuf.c:225</a></div></div>
<div class="ttc" id="aavio_8h_html_a1f2b9ee1bde6c6982072edbe929b47ea"><div class="ttname"><a href="avio_8h.html#a1f2b9ee1bde6c6982072edbe929b47ea">avio_wb32</a></div><div class="ttdeci">void avio_wb32(AVIOContext *s, unsigned int val)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00387">aviobuf.c:387</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a651c97cb2dcd2241d42f0062a0bbd4e3"><div class="ttname"><a href="struct_a_v_format_context.html#a651c97cb2dcd2241d42f0062a0bbd4e3">AVFormatContext::url</a></div><div class="ttdeci">char * url</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01319">avformat.h:1319</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gad8fde0c159ac905909339e082a049cde"><div class="ttname"><a href="group__lavu__mem__funcs.html#gad8fde0c159ac905909339e082a049cde">av_reallocp_array</a></div><div class="ttdeci">int av_reallocp_array(void *ptr, size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00206">mem.c:206</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a979e897c5ae0f2831567647c9f142594"><div class="ttname"><a href="struct_output_stream.html#a979e897c5ae0f2831567647c9f142594">OutputStream::bit_rate</a></div><div class="ttdeci">int bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00117">dashenc.c:117</a></div></div>
<div class="ttc" id="astruct_segment_html_a8e9dcb7be96520e0ec6e63595cf288de"><div class="ttname"><a href="struct_segment.html#a8e9dcb7be96520e0ec6e63595cf288de">Segment::start_pos</a></div><div class="ttdeci">int64_t start_pos</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00074">dashenc.c:74</a></div></div>
<div class="ttc" id="astruct_segment_html"><div class="ttname"><a href="struct_segment.html">Segment</a></div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00072">dashenc.c:72</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga1bafd682b1fbb90e48a4cc3814b820f7"><div class="ttname"><a href="group__lavu__dict.html#ga1bafd682b1fbb90e48a4cc3814b820f7">av_dict_free</a></div><div class="ttdeci">void av_dict_free(AVDictionary **pm)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00203">dict.c:203</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a608c1ee0ac70b638e5d48c5bdb9933d9"><div class="ttname"><a href="struct_output_stream.html#a608c1ee0ac70b638e5d48c5bdb9933d9">OutputStream::written_len</a></div><div class="ttdeci">int written_len</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00127">dashenc.c:127</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga6135a12628e2b6a63c8d3d9b3a742b06"><div class="ttname"><a href="group__lavu__string.html#ga6135a12628e2b6a63c8d3d9b3a742b06">av_strstart</a></div><div class="ttdeci">int av_strstart(const char *str, const char *pfx, const char **ptr)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00034">avstring.c:34</a></div></div>
<div class="ttc" id="adashenc_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="dashenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02336">dashenc.c:2336</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a8ba7100d35674c974dcd8ea41f90cb99"><div class="ttname"><a href="struct_d_a_s_h_context.html#a8ba7100d35674c974dcd8ea41f90cb99">DASHContext::nr_of_streams_flushed</a></div><div class="ttdeci">int nr_of_streams_flushed</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00191">dashenc.c:191</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ab083ad359b5e6ce5df979fd679935019"><div class="ttname"><a href="struct_d_a_s_h_context.html#ab083ad359b5e6ce5df979fd679935019">DASHContext::ldash</a></div><div class="ttdeci">int ldash</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00188">dashenc.c:188</a></div></div>
<div class="ttc" id="astruct_segment_html_a62ecc80ee0b39ea748e0b5d70c666ba5"><div class="ttname"><a href="struct_segment.html#a62ecc80ee0b39ea748e0b5d70c666ba5">Segment::range_length</a></div><div class="ttdeci">int range_length</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00075">dashenc.c:75</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_aa9838f47823875f6c2ac88cfdcd1a208"><div class="ttname"><a href="struct_d_a_s_h_context.html#aa9838f47823875f6c2ac88cfdcd1a208">DASHContext::update_period</a></div><div class="ttdeci">int64_t update_period</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00201">dashenc.c:201</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_ab5793d8195cf4789dfb3913b7a693903"><div class="ttname"><a href="struct_a_v_packet.html#ab5793d8195cf4789dfb3913b7a693903">AVPacket::pos</a></div><div class="ttdeci">int64_t pos</div><div class="ttdoc">byte position in stream, -1 if unknown</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00383">packet.h:383</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a3dc5213bcaaed2117974c51cb2c76a33"><div class="ttname"><a href="struct_output_stream.html#a3dc5213bcaaed2117974c51cb2c76a33">OutputStream::max_pts</a></div><div class="ttdeci">int64_t max_pts</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00114">dashenc.c:114</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a0a32c2a024753c1505e5545bb3402f87"><div class="ttname"><a href="struct_adaptation_set.html#a0a32c2a024753c1505e5545bb3402f87">AdaptationSet::min_frame_rate</a></div><div class="ttdeci">AVRational min_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00090">dashenc.c:90</a></div></div>
<div class="ttc" id="adashenc_8c_html_aaca3ba4e04340d96aa3ae196952683f5"><div class="ttname"><a href="dashenc_8c.html#aaca3ba4e04340d96aa3ae196952683f5">flush_dynbuf</a></div><div class="ttdeci">static int flush_dynbuf(DASHContext *c, OutputStream *os, int *range_length)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00457">dashenc.c:457</a></div></div>
<div class="ttc" id="astruct_a_v_producer_reference_time_html_aa44842dba607b9947fc6e1c1d9638faf"><div class="ttname"><a href="struct_a_v_producer_reference_time.html#aa44842dba607b9947fc6e1c1d9638faf">AVProducerReferenceTime::wallclock</a></div><div class="ttdeci">int64_t wallclock</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00502">avcodec.h:502</a></div></div>
<div class="ttc" id="affmpeg_8c_html_a8507683cee9accbbda79588659abcea8"><div class="ttname"><a href="ffmpeg_8c.html#a8507683cee9accbbda79588659abcea8">write_packet</a></div><div class="ttdeci">static void write_packet(OutputFile *of, AVPacket *pkt, OutputStream *ost, int unqueue)</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg_8c_source.html#l00703">ffmpeg.c:703</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a80c85e67fc4cc0277f9958ae3ecf676f"><div class="ttname"><a href="struct_output_stream.html#a80c85e67fc4cc0277f9958ae3ecf676f">OutputStream::format_name</a></div><div class="ttdeci">const char * format_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00120">dashenc.c:120</a></div></div>
<div class="ttc" id="adashenc_8c_html_a7d5fe8d6e37d4039dd083c8d21edf0f7"><div class="ttname"><a href="dashenc_8c.html#a7d5fe8d6e37d4039dd083c8d21edf0f7">get_format_str</a></div><div class="ttdeci">static const char * get_format_str(SegmentType segment_type)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00264">dashenc.c:264</a></div></div>
<div class="ttc" id="agroup__lavf__encoding_html_ga7f14007e7dc8f481f054b21614dfec13"><div class="ttname"><a href="group__lavf__encoding.html#ga7f14007e7dc8f481f054b21614dfec13">av_write_trailer</a></div><div class="ttdeci">int av_write_trailer(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01251">mux.c:1251</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a7ea46e61c666f21e7e770dc14e7e36e5"><div class="ttname"><a href="struct_a_v_format_context.html#a7ea46e61c666f21e7e770dc14e7e36e5">AVFormatContext::oformat</a></div><div class="ttdeci">ff_const59 struct AVOutputFormat * oformat</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01242">avformat.h:1242</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_acfefb6b6cf21e87a0dcbd1a547ba2348"><div class="ttname"><a href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">AVFormatContext::streams</a></div><div class="ttdeci">AVStream ** streams</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01291">avformat.h:1291</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="aavformat_8h_html_ab203c7b734e9c31b7c37d34f6e2c6aef"><div class="ttname"><a href="avformat_8h.html#ab203c7b734e9c31b7c37d34f6e2c6aef">AVFMT_GLOBALHEADER</a></div><div class="ttdeci">#define AVFMT_GLOBALHEADER</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00461">avformat.h:461</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a700fb89fb8a00d075c8b7f3375784b90"><div class="ttname"><a href="avcodec_8h.html#a700fb89fb8a00d075c8b7f3375784b90">PARSER_FLAG_COMPLETE_FRAMES</a></div><div class="ttdeci">#define PARSER_FLAG_COMPLETE_FRAMES</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l03387">avcodec.h:3387</a></div></div>
<div class="ttc" id="aavio__internal_8h_html"><div class="ttname"><a href="avio__internal_8h.html">avio_internal.h</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a9aad44bed0c244bb2f4d3e7296b2946a"><div class="ttname"><a href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a></div><div class="ttdeci">#define AV_WL32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00290">intreadwrite.h:290</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ae8a97128834968e1f2daa9ab51350e87"><div class="ttname"><a href="struct_d_a_s_h_context.html#ae8a97128834968e1f2daa9ab51350e87">DASHContext::max_playback_rate</a></div><div class="ttdeci">AVRational max_playback_rate</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00200">dashenc.c:200</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a5e464aac38bd3addebe180ae34073e67"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a5e464aac38bd3addebe180ae34073e67">AV1SequenceParameters::transfer_characteristics</a></div><div class="ttdeci">uint8_t transfer_characteristics</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00039">av1.h:39</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga7ef1e1f3183e34e731185967d416911d"><div class="ttname"><a href="group__lavu__error.html#ga7ef1e1f3183e34e731185967d416911d">AVERROR_MUXER_NOT_FOUND</a></div><div class="ttdeci">#define AVERROR_MUXER_NOT_FOUND</div><div class="ttdoc">Muxer not found.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00060">error.h:60</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a00c3f89c2b7805283ed5d1b5647e5885"><div class="ttname"><a href="struct_d_a_s_h_context.html#a00c3f89c2b7805283ed5d1b5647e5885">DASHContext::utc_timing_url</a></div><div class="ttdeci">const char * utc_timing_url</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00170">dashenc.c:170</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gac7b282f51540ca7a99416a3ba6ee0d16"><div class="ttname"><a href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a></div><div class="ttdeci">int avcodec_parameters_to_context(AVCodecContext *codec, const AVCodecParameters *par)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02152">utils.c:2152</a></div></div>
<div class="ttc" id="agroup__lavu__time_html_gaa11ed202b70e1f52bac809811a910e2a"><div class="ttname"><a href="group__lavu__time.html#gaa11ed202b70e1f52bac809811a910e2a">AV_TIME_BASE</a></div><div class="ttdeci">#define AV_TIME_BASE</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00254">avutil.h:254</a></div></div>
<div class="ttc" id="adashenc_8c_html_ab02a993684221393d049468a98598809"><div class="ttname"><a href="dashenc_8c.html#ab02a993684221393d049468a98598809">find_index_range</a></div><div class="ttdeci">static void find_index_range(AVFormatContext *s, const char *full_path, int64_t pos, int *index_length)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01790">dashenc.c:1790</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_aa48049f6183dea11c88931f70ec9b5ca"><div class="ttname"><a href="struct_d_a_s_h_context.html#aa48049f6183dea11c88931f70ec9b5ca">DASHContext::timeout</a></div><div class="ttdeci">int64_t timeout</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00181">dashenc.c:181</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a722d6735d8f0775f7c1dcd57d9f7a0b0"><div class="ttname"><a href="struct_output_stream.html#a722d6735d8f0775f7c1dcd57d9f7a0b0">OutputStream::as_idx</a></div><div class="ttdeci">int as_idx</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00101">dashenc.c:101</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7ceaa3e19a45b81bb602a4a37a4221274a20">AV_CODEC_ID_HEVC</a></div><div class="ttdeci">@ AV_CODEC_ID_HEVC</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00223">codec_id.h:223</a></div></div>
<div class="ttc" id="aurl_8h_html"><div class="ttname"><a href="url_8h.html">url.h</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a03c368ca098afd8fdc454ced054468d1"><div class="ttname"><a href="struct_d_a_s_h_context.html#a03c368ca098afd8fdc454ced054468d1">DASHContext::remove_at_exit</a></div><div class="ttdeci">int remove_at_exit</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00155">dashenc.c:155</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a50fe7a1f9385bd7537b7a6c80c876ec9"><div class="ttname"><a href="struct_d_a_s_h_context.html#a50fe7a1f9385bd7537b7a6c80c876ec9">DASHContext::total_duration</a></div><div class="ttdeci">int64_t total_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00162">dashenc.c:162</a></div></div>
<div class="ttc" id="adashenc_8c_html_a71823f60cf9b051c608ffdae5033e5f3"><div class="ttname"><a href="dashenc_8c.html#a71823f60cf9b051c608ffdae5033e5f3">MPD_PROFILE_DVB</a></div><div class="ttdeci">#define MPD_PROFILE_DVB</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00070">dashenc.c:70</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a0e5f5833e457cafab73249921e173dbe"><div class="ttname"><a href="struct_d_a_s_h_context.html#a0e5f5833e457cafab73249921e173dbe">DASHContext::global_sidx</a></div><div class="ttdeci">int global_sidx</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00184">dashenc.c:184</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a88077ea47abd7cd3fefe7828f778a686"><div class="ttname"><a href="struct_a_v_format_context.html#a88077ea47abd7cd3fefe7828f778a686">AVFormatContext::io_close</a></div><div class="ttdeci">void(* io_close)(struct AVFormatContext *s, AVIOContext *pb)</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01823">avformat.h:1823</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html"><div class="ttname"><a href="struct_a_v_codec_parameters.html">AVCodecParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00052">codec_par.h:52</a></div></div>
<div class="ttc" id="astruct_output_stream_html_ab3c48601fc5f432a1af0c854a09e923b"><div class="ttname"><a href="struct_output_stream.html#ab3c48601fc5f432a1af0c854a09e923b">OutputStream::seg_duration</a></div><div class="ttdeci">int64_t seg_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00110">dashenc.c:110</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a29fa426e7b66f9025853a035b4e2eb1a"><div class="ttname"><a href="struct_d_a_s_h_context.html#a29fa426e7b66f9025853a035b4e2eb1a">DASHContext::target_latency_refid</a></div><div class="ttdeci">int target_latency_refid</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00198">dashenc.c:198</a></div></div>
<div class="ttc" id="aavformat_8h_html_a886476ebe41f52a2232ee10f97ac11d0"><div class="ttname"><a href="avformat_8h.html#a886476ebe41f52a2232ee10f97ac11d0">AVFMT_TS_NEGATIVE</a></div><div class="ttdeci">#define AVFMT_TS_NEGATIVE</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00482">avformat.h:475</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_gaa440bf42ede128219a571ae4ce0f90b8"><div class="ttname"><a href="group__lavu__math__rational.html#gaa440bf42ede128219a571ae4ce0f90b8">av_cmp_q</a></div><div class="ttdeci">static int av_cmp_q(AVRational a, AVRational b)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00089">rational.h:89</a></div></div>
<div class="ttc" id="aav1_8c_html_a1aff34e056e162287ac7d9bb432a21cf"><div class="ttname"><a href="av1_8c.html#a1aff34e056e162287ac7d9bb432a21cf">ff_av1_parse_seq_header</a></div><div class="ttdeci">int ff_av1_parse_seq_header(AV1SequenceParameters *seq, const uint8_t *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="av1_8c_source.html#l00334">av1.c:334</a></div></div>
<div class="ttc" id="amovenc_8c_html_a1c50fcd1195659821729f52af8f3bb7d"><div class="ttname"><a href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a></div><div class="ttdeci">uint32_t tag</div><div class="ttdef"><b>Definition:</b> <a href="movenc_8c_source.html#l01597">movenc.c:1597</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_a0e53694570a3310ab083ee4eb157b114"><div class="ttname"><a href="avio__internal_8h.html#a0e53694570a3310ab083ee4eb157b114">ffio_free_dyn_buf</a></div><div class="ttdeci">void ffio_free_dyn_buf(AVIOContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l01458">aviobuf.c:1458</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="ahlsplaylist_8c_html_a1af72bb8251d908a4d5c796083fbd2be"><div class="ttname"><a href="hlsplaylist_8c.html#a1af72bb8251d908a4d5c796083fbd2be">ff_hls_write_file_entry</a></div><div class="ttdeci">int ff_hls_write_file_entry(AVIOContext *out, int insert_discont, int byterange_mode, double duration, int round_duration, int64_t size, int64_t pos, const char *baseurl, const char *filename, double *prog_date_time, int64_t video_keyframe_size, int64_t video_keyframe_pos, int iframe_mode)</div><div class="ttdef"><b>Definition:</b> <a href="hlsplaylist_8c_source.html#l00132">hlsplaylist.c:132</a></div></div>
<div class="ttc" id="adashenc_8c_html_aef29f1f172fb0c9d1c7adf9ce62ef01c"><div class="ttname"><a href="dashenc_8c.html#aef29f1f172fb0c9d1c7adf9ce62ef01c">write_adaptation_set</a></div><div class="ttdeci">static int write_adaptation_set(AVFormatContext *s, AVIOContext *out, int as_index, int final)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00804">dashenc.c:804</a></div></div>
<div class="ttc" id="astruct_segment_html_a03c276ba9d5fab527bab5a76ace15b56"><div class="ttname"><a href="struct_segment.html#a03c276ba9d5fab527bab5a76ace15b56">Segment::prog_date_time</a></div><div class="ttdeci">double prog_date_time</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00077">dashenc.c:77</a></div></div>
<div class="ttc" id="aavio_8h_html_a03e23bf0144030961c34e803c71f614f"><div class="ttname"><a href="avio_8h.html#a03e23bf0144030961c34e803c71f614f">avio_seek</a></div><div class="ttdeci">int64_t avio_seek(AVIOContext *s, int64_t offset, int whence)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00253">aviobuf.c:253</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a1e7324262b6b78522e52064daaa7bc87"><div class="ttname"><a href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">AVFormatContext::pb</a></div><div class="ttdeci">AVIOContext * pb</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01265">avformat.h:1265</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga193877ba459faf314c3d285b6082cf73"><div class="ttname"><a href="group__lavu__string.html#ga193877ba459faf314c3d285b6082cf73">av_strlcat</a></div><div class="ttdeci">size_t av_strlcat(char *dst, const char *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00093">avstring.c:93</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga827486f333df7bc9a4e7f9bd212ba472"><div class="ttname"><a href="group__lavu__string.html#ga827486f333df7bc9a4e7f9bd212ba472">av_strnstr</a></div><div class="ttdeci">char * av_strnstr(const char *haystack, const char *needle, size_t hay_length)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00069">avstring.c:69</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="abprint_8c_html_a123a83f3ad2f3c370ed18592d0299fd6"><div class="ttname"><a href="bprint_8c.html#a123a83f3ad2f3c370ed18592d0299fd6">av_bprintf</a></div><div class="ttdeci">void av_bprintf(AVBPrint *buf, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="bprint_8c_source.html#l00094">bprint.c:94</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga326c3f741a7adb148cdeaad68eea713d"><div class="ttname"><a href="group__lavu__error.html#ga326c3f741a7adb148cdeaad68eea713d">AV_ERROR_MAX_STRING_SIZE</a></div><div class="ttdeci">#define AV_ERROR_MAX_STRING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00083">error.h:83</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="adashenc_8c_html_ae172c5a4d2fc0112e52bea1bacff681e"><div class="ttname"><a href="dashenc_8c.html#ae172c5a4d2fc0112e52bea1bacff681e">adaptation_set_add_stream</a></div><div class="ttdeci">static int adaptation_set_add_stream(AVFormatContext *s, int as_idx, int i)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00917">dashenc.c:917</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_ae90d6206d935b2362fb823ea9fa418a2"><div class="ttname"><a href="struct_d_a_s_h_context.html#ae90d6206d935b2362fb823ea9fa418a2">DASHContext::hls_master_name</a></div><div class="ttdeci">const char * hls_master_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00175">dashenc.c:175</a></div></div>
<div class="ttc" id="adashenc_8c_html_a45f8c604b4008a278fe9bde5156489eeaffea95a2e528a9fbb0f9bf88e9658ae1"><div class="ttname"><a href="dashenc_8c.html#a45f8c604b4008a278fe9bde5156489eeaffea95a2e528a9fbb0f9bf88e9658ae1">SEGMENT_TYPE_NB</a></div><div class="ttdeci">@ SEGMENT_TYPE_NB</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00059">dashenc.c:58</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a43e2dbe6a783dda02b05c6da469db097"><div class="ttname"><a href="struct_adaptation_set.html#a43e2dbe6a783dda02b05c6da469db097">AdaptationSet::seg_duration</a></div><div class="ttdeci">int64_t seg_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00085">dashenc.c:85</a></div></div>
<div class="ttc" id="aavio_8h_html_a79127cec97b09a308b549253119ff38f"><div class="ttname"><a href="avio_8h.html#a79127cec97b09a308b549253119ff38f">avio_printf</a></div><div class="ttdeci">int avio_printf(AVIOContext *s, const char *fmt,...) av_printf_format(2</div></div>
<div class="ttc" id="adashenc_8c_html_abe66472c3ded5c8583a75616ca78de34"><div class="ttname"><a href="dashenc_8c.html#abe66472c3ded5c8583a75616ca78de34">dash_write_header</a></div><div class="ttdeci">static int dash_write_header(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01721">dashenc.c:1721</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a3bd99ef661070b80313036afb701f2da"><div class="ttname"><a href="struct_output_stream.html#a3bd99ef661070b80313036afb701f2da">OutputStream::full_path</a></div><div class="ttdeci">char full_path[1024]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00129">dashenc.c:129</a></div></div>
<div class="ttc" id="adashenc_8c_html_abd93a54572245ad31d9b568ad8fb8383"><div class="ttname"><a href="dashenc_8c.html#abd93a54572245ad31d9b568ad8fb8383">write_styp</a></div><div class="ttdeci">static void write_styp(AVIOContext *pb)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01780">dashenc.c:1780</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a68e1f98d408da784504839082199d9a0"><div class="ttname"><a href="struct_output_stream.html#a68e1f98d408da784504839082199d9a0">OutputStream::frag_type</a></div><div class="ttdeci">int frag_type</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00137">dashenc.c:137</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a6d02e640ccc12c783841ce51d09b9fa7"><div class="ttname"><a href="codec__par_8h.html#a6d02e640ccc12c783841ce51d09b9fa7">avcodec_parameters_copy</a></div><div class="ttdeci">int avcodec_parameters_copy(AVCodecParameters *dst, const AVCodecParameters *src)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02077">utils.c:2077</a></div></div>
<div class="ttc" id="adashenc_8c_html_a82ed2f3a79ec70fe586b6f336acc3c6c"><div class="ttname"><a href="dashenc_8c.html#a82ed2f3a79ec70fe586b6f336acc3c6c">dashenc_io_open</a></div><div class="ttdeci">static int dashenc_io_open(AVFormatContext *s, AVIOContext **pb, char *filename, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00226">dashenc.c:226</a></div></div>
<div class="ttc" id="astruct_output_stream_html_ac7524b9210a82869cf9aaaf2c5de7fb6"><div class="ttname"><a href="struct_output_stream.html#ac7524b9210a82869cf9aaaf2c5de7fb6">OutputStream::producer_reference_time</a></div><div class="ttdeci">AVProducerReferenceTime producer_reference_time</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00132">dashenc.c:132</a></div></div>
<div class="ttc" id="adashenc_8c_html_ab5652db502d5759957dbc68f486842e0"><div class="ttname"><a href="dashenc_8c.html#ab5652db502d5759957dbc68f486842e0">get_extension_str</a></div><div class="ttdeci">static const char * get_extension_str(SegmentType type, int single_file)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00272">dashenc.c:272</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_ace46e41b9bd6cac88fb7109ffd657f9a"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a></div><div class="ttdeci">#define AV_RL32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00146">intreadwrite.h:146</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ab5bf43ceeffd5c440d539ae2ed025827"><div class="ttname"><a href="filter__design_8txt.html#ab5bf43ceeffd5c440d539ae2ed025827">buffer</a></div><div class="ttdeci">the frame and frame reference mechanism is intended to as much as expensive copies of that data while still allowing the filters to produce correct results The data is stored in buffers represented by AVFrame structures Several references can point to the same frame buffer</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00049">filter_design.txt:49</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a44c129ef973c964d6881b36cda8e5136"><div class="ttname"><a href="struct_output_stream.html#a44c129ef973c964d6881b36cda8e5136">OutputStream::filename</a></div><div class="ttdeci">char filename[1024]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00128">dashenc.c:128</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a></div><div class="ttdeci">@ AV_PKT_DATA_NEW_EXTRADATA</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00055">packet.h:55</a></div></div>
<div class="ttc" id="ahlsplaylist_8c_html_a72be21fd051b432228cae518aeacfc55"><div class="ttname"><a href="hlsplaylist_8c.html#a72be21fd051b432228cae518aeacfc55">ff_hls_write_stream_info</a></div><div class="ttdeci">void ff_hls_write_stream_info(AVStream *st, AVIOContext *out, int bandwidth, const char *filename, const char *agroup, const char *codecs, const char *ccgroup, const char *sgroup)</div><div class="ttdef"><b>Definition:</b> <a href="hlsplaylist_8c_source.html#l00069">hlsplaylist.c:69</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a8938519945a8dc08f4e3b0e250dcf724"><div class="ttname"><a href="struct_d_a_s_h_context.html#a8938519945a8dc08f4e3b0e250dcf724">DASHContext::has_video</a></div><div class="ttdeci">int has_video</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00160">dashenc.c:160</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a8e17abfa53a76543379b433c00573b8a"><div class="ttname"><a href="struct_d_a_s_h_context.html#a8e17abfa53a76543379b433c00573b8a">DASHContext::streaming</a></div><div class="ttdeci">int streaming</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00180">dashenc.c:180</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html"><div class="ttname"><a href="struct_a_v_format_context.html">AVFormatContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01223">avformat.h:1223</a></div></div>
<div class="ttc" id="agroup__lavf__core_html_gac2990b13b68e831a408fce8e1d0d6445"><div class="ttname"><a href="group__lavf__core.html#gac2990b13b68e831a408fce8e1d0d6445">avformat_free_context</a></div><div class="ttdeci">void avformat_free_context(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04382">utils.c:4382</a></div></div>
<div class="ttc" id="aavio_8h_html_abb4e58439be0bff0dc2e2974ee5fb6a3"><div class="ttname"><a href="avio_8h.html#abb4e58439be0bff0dc2e2974ee5fb6a3">avio_read</a></div><div class="ttdeci">int avio_read(AVIOContext *s, unsigned char *buf, int size)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00637">aviobuf.c:637</a></div></div>
<div class="ttc" id="adashenc_8c_html_ade1d77751eaf79e6bce1b782760d7d74"><div class="ttname"><a href="dashenc_8c.html#ade1d77751eaf79e6bce1b782760d7d74">format_date</a></div><div class="ttdeci">static void format_date(char *buf, int size, int64_t time_us)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00786">dashenc.c:786</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a694366c6679d474847cf1f6f1e0082f0"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a694366c6679d474847cf1f6f1e0082f0">AV1SequenceParameters::color_primaries</a></div><div class="ttdeci">uint8_t color_primaries</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00038">av1.h:38</a></div></div>
<div class="ttc" id="astruct_u_r_l_context_html"><div class="ttname"><a href="struct_u_r_l_context.html">URLContext</a></div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00038">url.h:38</a></div></div>
<div class="ttc" id="adashenc_8c_html_ad78730809b7c4c3624bd947125bf74f8"><div class="ttname"><a href="dashenc_8c.html#ad78730809b7c4c3624bd947125bf74f8">dash_write_trailer</a></div><div class="ttdeci">static int dash_write_trailer(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02273">dashenc.c:2273</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a11ef94cd32899be7ce5e63856cef4997"><div class="ttname"><a href="struct_d_a_s_h_context.html#a11ef94cd32899be7ce5e63856cef4997">DASHContext::max_segment_duration</a></div><div class="ttdeci">int64_t max_segment_duration</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00195">dashenc.c:195</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a39a86e2366060fb4768210a03c84175a"><div class="ttname"><a href="struct_d_a_s_h_context.html#a39a86e2366060fb4768210a03c84175a">DASHContext::min_playback_rate</a></div><div class="ttdeci">AVRational min_playback_rate</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00199">dashenc.c:199</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a05863919aae4616cc219769c71e4a237"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a05863919aae4616cc219769c71e4a237">AV1SequenceParameters::monochrome</a></div><div class="ttdeci">uint8_t monochrome</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00033">av1.h:33</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a454da33f7409160f3ec418b75cf317b8"><div class="ttname"><a href="struct_d_a_s_h_context.html#a454da33f7409160f3ec418b75cf317b8">DASHContext::init_seg_name</a></div><div class="ttdeci">const char * init_seg_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00168">dashenc.c:168</a></div></div>
<div class="ttc" id="adashenc_8c_html_abbfe5ec7a9ebe5c25082bae4e29cf42f"><div class="ttname"><a href="dashenc_8c.html#abbfe5ec7a9ebe5c25082bae4e29cf42f">write_hls_media_playlist</a></div><div class="ttdeci">static void write_hls_media_playlist(OutputStream *os, AVFormatContext *s, int representation_id, int final, char *prefetch_url)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00517">dashenc.c:517</a></div></div>
<div class="ttc" id="atime_8c_html_aebf7f9c94187487c31d26fa3da816468"><div class="ttname"><a href="time_8c.html#aebf7f9c94187487c31d26fa3da816468">av_gettime</a></div><div class="ttdeci">int64_t av_gettime(void)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00039">time.c:39</a></div></div>
<div class="ttc" id="astruct_output_stream_html_ab20991e6bd2cf53793dc06c73b2895b7"><div class="ttname"><a href="struct_output_stream.html#ab20991e6bd2cf53793dc06c73b2895b7">OutputStream::last_flags</a></div><div class="ttdeci">int last_flags</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00116">dashenc.c:116</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_gafd013a88620b2da7d497b083f6ea7d29"><div class="ttname"><a href="group__lavu__dict.html#gafd013a88620b2da7d497b083f6ea7d29">av_dict_set_int</a></div><div class="ttdeci">int av_dict_set_int(AVDictionary **pm, const char *key, int64_t value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00147">dict.c:147</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_adb8463bd54e90ac181f7edc0944252de"><div class="ttname"><a href="libavformat_2internal_8h.html#adb8463bd54e90ac181f7edc0944252de">ff_format_io_close</a></div><div class="ttdeci">void ff_format_io_close(AVFormatContext *s, AVIOContext **pb)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l05618">utils.c:5618</a></div></div>
<div class="ttc" id="aavio_8h_html_a21e61cb486bd1588eb7f775998cf8c77"><div class="ttname"><a href="avio_8h.html#a21e61cb486bd1588eb7f775998cf8c77">AVIO_FLAG_READ</a></div><div class="ttdeci">#define AVIO_FLAG_READ</div><div class="ttdef"><b>Definition:</b> <a href="avio_8h_source.html#l00674">avio.h:674</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga7c352f4cff02184f005323691375fea9"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga7c352f4cff02184f005323691375fea9">av_strdup</a></div><div class="ttdeci">char * av_strdup(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00253">mem.c:253</a></div></div>
<div class="ttc" id="adashenc_8c_html_a913a3d50f666f07ee969fae626f61644"><div class="ttname"><a href="dashenc_8c.html#a913a3d50f666f07ee969fae626f61644">output_segment_list</a></div><div class="ttdeci">static void output_segment_list(OutputStream *os, AVIOContext *out, AVFormatContext *s, int representation_id, int final)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00655">dashenc.c:655</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a9d28ad9b9c4c452a826a84a341e5cda3"><div class="ttname"><a href="struct_output_stream.html#a9d28ad9b9c4c452a826a84a341e5cda3">OutputStream::initfile</a></div><div class="ttdeci">char initfile[1024]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00106">dashenc.c:106</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_P</div><div class="ttdoc">Predicted.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00275">avutil.h:275</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="agroup__lavc__parsing_html_ga691ca0258e91f99297e7726f56d8c247"><div class="ttname"><a href="group__lavc__parsing.html#ga691ca0258e91f99297e7726f56d8c247">av_parser_parse2</a></div><div class="ttdeci">int av_parser_parse2(AVCodecParserContext *s, AVCodecContext *avctx, uint8_t **poutbuf, int *poutbuf_size, const uint8_t *buf, int buf_size, int64_t pts, int64_t dts, int64_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="parser_8c_source.html#l00120">parser.c:120</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba46992728614331588a72de6cf5476663">FRAG_TYPE_EVERY_FRAME</a></div><div class="ttdeci">@ FRAG_TYPE_EVERY_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00063">dashenc.c:63</a></div></div>
<div class="ttc" id="aavutil_8h_html"><div class="ttname"><a href="avutil_8h.html">avutil.h</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_abd50d8071281df543801904ee5882974"><div class="ttname"><a href="struct_d_a_s_h_context.html#abd50d8071281df543801904ee5882974">DASHContext::format_options</a></div><div class="ttdeci">AVDictionary * format_options</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00183">dashenc.c:183</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="acodec__par_8h_html_a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2"><div class="ttname"><a href="codec__par_8h.html#a957ef25581a6b3c98589817b1cbed02ca9165cfa953463411e28670a9d06af2e2">AV_FIELD_PROGRESSIVE</a></div><div class="ttdeci">@ AV_FIELD_PROGRESSIVE</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00038">codec_par.h:38</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html"><div class="ttname"><a href="struct_a_v_stream.html">AVStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00869">avformat.h:869</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html_ac3abc5f47f3465b6b7eec89c9476351c"><div class="ttname"><a href="struct_a_v_output_format.html#ac3abc5f47f3465b6b7eec89c9476351c">AVOutputFormat::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00491">avformat.h:491</a></div></div>
<div class="ttc" id="astruct_output_stream_html_aef07a3a0d4449d4621d44d001cb5126c"><div class="ttname"><a href="struct_output_stream.html#aef07a3a0d4449d4621d44d001cb5126c">OutputStream::segments</a></div><div class="ttdeci">Segment ** segments</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00113">dashenc.c:113</a></div></div>
<div class="ttc" id="astruct_output_stream_html_a5cb4557f1d4f913cc31acd1a4494a123"><div class="ttname"><a href="struct_output_stream.html#a5cb4557f1d4f913cc31acd1a4494a123">OutputStream::producer_reference_time_str</a></div><div class="ttdeci">char producer_reference_time_str[100]</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00133">dashenc.c:133</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a8f74778fa5689feff04825b481fe2ea3"><div class="ttname"><a href="struct_d_a_s_h_context.html#a8f74778fa5689feff04825b481fe2ea3">DASHContext::master_playlist_created</a></div><div class="ttdeci">int master_playlist_created</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00177">dashenc.c:177</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a58369c3a8a986935b572df5aa6361ce2"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a58369c3a8a986935b572df5aa6361ce2">AVCodecParameters::codec_type</a></div><div class="ttdeci">enum AVMediaType codec_type</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:56</a></div></div>
<div class="ttc" id="adashenc_8c_html_ac9fd0a3cf51bddf389c6a965ccda685a"><div class="ttname"><a href="dashenc_8c.html#ac9fd0a3cf51bddf389c6a965ccda685a">handle_io_open_error</a></div><div class="ttdeci">static int handle_io_open_error(AVFormatContext *s, int err, char *url)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00282">dashenc.c:282</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="adashenc_8c_html_a75e1d08c33db1c191831598581f534c5"><div class="ttname"><a href="dashenc_8c.html#a75e1d08c33db1c191831598581f534c5">dash_flush</a></div><div class="ttdeci">static int dash_flush(AVFormatContext *s, int final, int stream)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l01898">dashenc.c:1898</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a5b37acfe4024d92ee510064e80920b40"><div class="ttname"><a href="struct_a_v_format_context.html#a5b37acfe4024d92ee510064e80920b40">AVFormatContext::interrupt_callback</a></div><div class="ttdeci">AVIOInterruptCB interrupt_callback</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01501">avformat.h:1501</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a153946872548cd56132907b93f05f9aa"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a153946872548cd56132907b93f05f9aa">AVCodecParameters::field_order</a></div><div class="ttdeci">enum AVFieldOrder field_order</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00136">codec_par.h:141</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a93fa15287cc03e8e0e816924518757bf"><div class="ttname"><a href="struct_adaptation_set.html#a93fa15287cc03e8e0e816924518757bf">AdaptationSet::ambiguous_frame_rate</a></div><div class="ttdeci">int ambiguous_frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00091">dashenc.c:91</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="adash_8c_html_a7d903057c6d364b8d8842642d4ba89fb"><div class="ttname"><a href="dash_8c.html#a7d903057c6d364b8d8842642d4ba89fb">ff_dash_fill_tmpl_params</a></div><div class="ttdeci">void ff_dash_fill_tmpl_params(char *dst, size_t buffer_size, const char *template, int rep_id, int number, int bit_rate, int64_t time)</div><div class="ttdef"><b>Definition:</b> <a href="dash_8c_source.html#l00096">dash.c:96</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga8d9c2de72b310cef8e6a28c9cd3acbbe"><div class="ttname"><a href="group__lavu__dict.html#ga8d9c2de72b310cef8e6a28c9cd3acbbe">av_dict_set</a></div><div class="ttdeci">int av_dict_set(AVDictionary **pm, const char *key, const char *value, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00070">dict.c:70</a></div></div>
<div class="ttc" id="agroup__lavu__dict_html_ga59a6372b124b306e3a2233723c5cdc78"><div class="ttname"><a href="group__lavu__dict.html#ga59a6372b124b306e3a2233723c5cdc78">av_dict_copy</a></div><div class="ttdeci">int av_dict_copy(AVDictionary **dst, const AVDictionary *src, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00217">dict.c:217</a></div></div>
<div class="ttc" id="astruct_a_v_stream_internal_html_ae325fff950b722fc370518c3a4da949e"><div class="ttname"><a href="struct_a_v_stream_internal.html#ae325fff950b722fc370518c3a4da949e">AVStreamInternal::bsfc</a></div><div class="ttdeci">AVBSFContext * bsfc</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00159">internal.h:159</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a622e758be29fd500aed0ffdc069550f7"><div class="ttname"><a href="struct_a_v_packet.html#a622e758be29fd500aed0ffdc069550f7">AVPacket::duration</a></div><div class="ttdeci">int64_t duration</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00381">packet.h:381</a></div></div>
<div class="ttc" id="astruct_output_stream_html"><div class="ttname"><a href="struct_output_stream.html">OutputStream</a></div><div class="ttdef"><b>Definition:</b> <a href="muxing_8c_source.html#l00053">muxing.c:53</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a06cecd6c28bd2475315bb431026bfbdd"><div class="ttname"><a href="struct_adaptation_set.html#a06cecd6c28bd2475315bb431026bfbdd">AdaptationSet::metadata</a></div><div class="ttdeci">AVDictionary * metadata</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00089">dashenc.c:89</a></div></div>
<div class="ttc" id="aavio_8c_html_a612d7e4aede364861a728c18383714c2"><div class="ttname"><a href="avio_8c.html#a612d7e4aede364861a728c18383714c2">avio_find_protocol_name</a></div><div class="ttdeci">const char * avio_find_protocol_name(const char *url)</div><div class="ttdef"><b>Definition:</b> <a href="avio_8c_source.html#l00475">avio.c:475</a></div></div>
<div class="ttc" id="astructcodec__string_html"><div class="ttname"><a href="structcodec__string.html">codec_string</a></div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00204">dashenc.c:204</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a7aaeee142b88a3078ddc57c644b49a7e">AV_OPT_TYPE_FLAGS</a></div><div class="ttdeci">@ AV_OPT_TYPE_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00224">opt.h:224</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_aa18d63218669298f3aa991f906dbc95c"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#aa18d63218669298f3aa991f906dbc95c">AV1SequenceParameters::bitdepth</a></div><div class="ttdeci">uint8_t bitdepth</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00032">av1.h:32</a></div></div>
<div class="ttc" id="anamespaceconvert__header_html_ae1e061c0db8a47f53e1f3de5e371872e"><div class="ttname"><a href="namespaceconvert__header.html#ae1e061c0db8a47f53e1f3de5e371872e">convert_header.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="convert__header_8py_source.html#l00020">convert_header.py:20</a></div></div>
<div class="ttc" id="adashenc_8c_html_acbf0d5dfe062efd0d2e8556528771900"><div class="ttname"><a href="dashenc_8c.html#acbf0d5dfe062efd0d2e8556528771900">check_file_extension</a></div><div class="ttdeci">static int check_file_extension(const char *filename, const char *extension)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00336">dashenc.c:336</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a></div><div class="ttdeci">@ AV_CODEC_ID_VP8</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00189">codec_id.h:189</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="adashenc_8c_html_a25636af8d52c828259255292a8328284"><div class="ttname"><a href="dashenc_8c.html#a25636af8d52c828259255292a8328284">dash_parse_prft</a></div><div class="ttdeci">static int dash_parse_prft(DASHContext *c, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02029">dashenc.c:2029</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga716447ae73b612bcf3a405b9b4608f6c"><div class="ttname"><a href="group__lavu__string.html#ga716447ae73b612bcf3a405b9b4608f6c">av_strlcpy</a></div><div class="ttdeci">size_t av_strlcpy(char *dst, const char *src, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00083">avstring.c:83</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="aisom_8c_html_a3e1264ee30ac868bfb81d2830f6a3b52"><div class="ttname"><a href="isom_8c.html#a3e1264ee30ac868bfb81d2830f6a3b52">ff_codec_movaudio_tags</a></div><div class="ttdeci">const AVCodecTag ff_codec_movaudio_tags[]</div><div class="ttdef"><b>Definition:</b> <a href="isom_8c_source.html#l00324">isom.c:324</a></div></div>
<div class="ttc" id="adashenc_8c_html_a542fc7e8f157a2457b50bc49e5383e06"><div class="ttname"><a href="dashenc_8c.html#a542fc7e8f157a2457b50bc49e5383e06">dash_class</a></div><div class="ttdeci">static const AVClass dash_class</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l02390">dashenc.c:2390</a></div></div>
<div class="ttc" id="alibavformat_2av1_8h_html"><div class="ttname"><a href="libavformat_2av1_8h.html">av1.h</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a></div><div class="ttdeci">@ AV_CODEC_ID_VORBIS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00423">codec_id.h:423</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a636a20acb4f282ec4f4414550ce3ca34"><div class="ttname"><a href="struct_adaptation_set.html#a636a20acb4f282ec4f4414550ce3ca34">AdaptationSet::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00083">dashenc.c:83</a></div></div>
<div class="ttc" id="adash_8h_html"><div class="ttname"><a href="dash_8h.html">dash.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_tag_html"><div class="ttname"><a href="struct_a_v_codec_tag.html">AVCodecTag</a></div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2internal_8h_source.html#l00042">internal.h:42</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a></div><div class="ttdeci">@ AV_OPT_TYPE_STRING</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00229">opt.h:229</a></div></div>
<div class="ttc" id="astruct_a_v1_sequence_parameters_html_a414013bc20a338832ae6246ef5ec9c80"><div class="ttname"><a href="struct_a_v1_sequence_parameters.html#a414013bc20a338832ae6246ef5ec9c80">AV1SequenceParameters::chroma_sample_position</a></div><div class="ttdeci">uint8_t chroma_sample_position</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2av1_8h_source.html#l00036">av1.h:36</a></div></div>
<div class="ttc" id="affv1enc_8c_html_a5ba88be0a987de9abb6091eb8e167e09"><div class="ttname"><a href="ffv1enc_8c.html#a5ba88be0a987de9abb6091eb8e167e09">write_header</a></div><div class="ttdeci">static void write_header(FFV1Context *f)</div><div class="ttdef"><b>Definition:</b> <a href="ffv1enc_8c_source.html#l00346">ffv1enc.c:346</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaffde7a717e3a603ed11a998c18d68cad"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaffde7a717e3a603ed11a998c18d68cad">av_strndup</a></div><div class="ttdeci">char * av_strndup(const char *s, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00265">mem.c:265</a></div></div>
<div class="ttc" id="ahttp_8h_html"><div class="ttname"><a href="http_8h.html">http.h</a></div></div>
<div class="ttc" id="amux_8c_html_aca5a6c46876cf13e21d43603489665b6"><div class="ttname"><a href="mux_8c.html#aca5a6c46876cf13e21d43603489665b6">check_bitstream</a></div><div class="ttdeci">static int check_bitstream(AVFormatContext *s, AVStream *st, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="mux_8c_source.html#l01075">mux.c:1075</a></div></div>
<div class="ttc" id="astruct_output_stream_html_aa72d339ab81010f2831a678b1e1408f6"><div class="ttname"><a href="struct_output_stream.html#aa72d339ab81010f2831a678b1e1408f6">OutputStream::single_file_name</a></div><div class="ttdeci">const char * single_file_name</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00122">dashenc.c:122</a></div></div>
<div class="ttc" id="adashenc_8c_html_a57c8c0c52850faf2ba710e9b4eb55a06"><div class="ttname"><a href="dashenc_8c.html#a57c8c0c52850faf2ba710e9b4eb55a06">dash_free</a></div><div class="ttdeci">static void dash_free(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00614">dashenc.c:614</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="asnprintf_8h_html_aa367b75c5aed883fef5befbdf04835a4"><div class="ttname"><a href="snprintf_8h.html#aa367b75c5aed883fef5befbdf04835a4">snprintf</a></div><div class="ttdeci">#define snprintf</div><div class="ttdef"><b>Definition:</b> <a href="snprintf_8h_source.html#l00034">snprintf.h:34</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="astruct_output_stream_html_ac4ccfadc5b5b30aad1344f500f870702"><div class="ttname"><a href="struct_output_stream.html#ac4ccfadc5b5b30aad1344f500f870702">OutputStream::segments_size</a></div><div class="ttdeci">int segments_size</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00109">dashenc.c:109</a></div></div>
<div class="ttc" id="aavio__internal_8h_html_a7dc3afa19d96a46786aba239f6052a36"><div class="ttname"><a href="avio__internal_8h.html#a7dc3afa19d96a46786aba239f6052a36">ffio_geturlcontext</a></div><div class="ttdeci">URLContext * ffio_geturlcontext(AVIOContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="aviobuf_8c_source.html#l00983">aviobuf.c:983</a></div></div>
<div class="ttc" id="astruct_a_v_output_format_html"><div class="ttname"><a href="struct_a_v_output_format.html">AVOutputFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00490">avformat.h:490</a></div></div>
<div class="ttc" id="astruct_d_a_s_h_context_html_a795b5c7a1618fad5eff0c5f5452a1d56"><div class="ttname"><a href="struct_d_a_s_h_context.html#a795b5c7a1618fad5eff0c5f5452a1d56">DASHContext::window_size</a></div><div class="ttdeci">int window_size</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00148">dashenc.c:148</a></div></div>
<div class="ttc" id="astruct_adaptation_set_html_a8cf6ca8f1cd008ed88566b83e9327162"><div class="ttname"><a href="struct_adaptation_set.html#a8cf6ca8f1cd008ed88566b83e9327162">AdaptationSet::max_height</a></div><div class="ttdeci">int max_height</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00093">dashenc.c:93</a></div></div>
<div class="ttc" id="adashenc_8c_html_a3f64ef9dc0f665673814f3b17a7892bd"><div class="ttname"><a href="dashenc_8c.html#a3f64ef9dc0f665673814f3b17a7892bd">init_segment_types</a></div><div class="ttdeci">static int init_segment_types(AVFormatContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00305">dashenc.c:305</a></div></div>
<div class="ttc" id="agroup__lavc__parsing_html_ga325e84c53b8c0dfcb2d933d126f76dd7"><div class="ttname"><a href="group__lavc__parsing.html#ga325e84c53b8c0dfcb2d933d126f76dd7">av_parser_close</a></div><div class="ttdeci">void av_parser_close(AVCodecParserContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="parser_8c_source.html#l00224">parser.c:224</a></div></div>
<div class="ttc" id="adashenc_8c_html_a0de73e27b7833bfe7861500cf77e1bd8"><div class="ttname"><a href="dashenc_8c.html#a0de73e27b7833bfe7861500cf77e1bd8">xmlescape</a></div><div class="ttdeci">static char * xmlescape(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="dashenc_8c_source.html#l00730">dashenc.c:730</a></div></div>
<div class="ttc" id="alibavformat_2internal_8h_html_abd46f5a4eb066239eb76f4bac1281e1d"><div class="ttname"><a href="libavformat_2internal_8h.html#abd46f5a4eb066239eb76f4bac1281e1d">ff_alloc_extradata</a></div><div class="ttdeci">int ff_alloc_extradata(AVCodecParameters *par, int size)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03260">utils.c:3260</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
