<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/pngenc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">pngenc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pngenc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * PNG image format</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2003 Fabrice Bellard</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lossless__videoencdsp_8h.html">lossless_videoencdsp.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="png_8h.html">png.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="apng_8h.html">apng.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="crc_8h.html">libavutil/crc.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libm_8h.html">libavutil/libm.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="color__utils_8h.html">libavutil/color_utils.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2stereo3d_8h.html">libavutil/stereo3d.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;zlib.h&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">   38</a></span>&#160;<span class="preprocessor">#define IOBUF_SIZE 4096</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="struct_a_p_n_g_fctl_chunk.html">   40</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="struct_a_p_n_g_fctl_chunk.html#adb71dbed8fb5aae78e6883d7927068da">   41</a></span>&#160;    uint32_t <a class="code" href="struct_a_p_n_g_fctl_chunk.html#adb71dbed8fb5aae78e6883d7927068da">sequence_number</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_a_p_n_g_fctl_chunk.html#a3d67bac7d3cd340e8bce63fac54a3d83">   42</a></span>&#160;    uint32_t <a class="code" href="struct_a_p_n_g_fctl_chunk.html#a3d67bac7d3cd340e8bce63fac54a3d83">width</a>, <a class="code" href="struct_a_p_n_g_fctl_chunk.html#a4615da6c9552dffbdedac6f634950c7b">height</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="struct_a_p_n_g_fctl_chunk.html#a0f9f4d038fef220dcce159975b26533c">   43</a></span>&#160;    uint32_t <a class="code" href="struct_a_p_n_g_fctl_chunk.html#a066844a8f70525cd90b257e27b65856f">x_offset</a>, <a class="code" href="struct_a_p_n_g_fctl_chunk.html#a0f9f4d038fef220dcce159975b26533c">y_offset</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="struct_a_p_n_g_fctl_chunk.html#a56bdf8e7cf3bb81474a325d04a254fe0">   44</a></span>&#160;    uint16_t <a class="code" href="struct_a_p_n_g_fctl_chunk.html#a56bdf8e7cf3bb81474a325d04a254fe0">delay_num</a>, <a class="code" href="struct_a_p_n_g_fctl_chunk.html#a3daaa1333d5907d8a0a2034307dbb70f">delay_den</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_a_p_n_g_fctl_chunk.html#afa341400a732032c72f8757dfedbc1bd">   45</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_a_p_n_g_fctl_chunk.html#afa341400a732032c72f8757dfedbc1bd">dispose_op</a>, <a class="code" href="struct_a_p_n_g_fctl_chunk.html#add8c57c0d366359dabcf82337fbc9619">blend_op</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a4f508fbeaddc58871c7a31bf1a3c3282">   46</a></span>&#160;} <a class="code" href="pngenc_8c.html#a4f508fbeaddc58871c7a31bf1a3c3282">APNGFctlChunk</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html">   48</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> {</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#af8ca15fad0ce1a947a0b2524a9758bb3">   49</a></span>&#160;    <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#aeb0139ef4e0368963471cbb514a94d7a">   50</a></span>&#160;    <a class="code" href="struct_l_l_vid_enc_d_s_p_context.html">LLVidEncDSPContext</a> <a class="code" href="struct_p_n_g_enc_context.html#aeb0139ef4e0368963471cbb514a94d7a">llvidencdsp</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a8db2a8d856ff3b8d648e80f990c5b249">   52</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_p_n_g_enc_context.html#a8db2a8d856ff3b8d648e80f990c5b249">bytestream</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#ae2f4465fdbd9a01c75259ae240682602">   53</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_p_n_g_enc_context.html#ae2f4465fdbd9a01c75259ae240682602">bytestream_start</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a1f484828b556aa4764626f97f6b9be0f">   54</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_p_n_g_enc_context.html#a1f484828b556aa4764626f97f6b9be0f">bytestream_end</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a102cd3db8682b2b9ec226df83df6c9b7">   56</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#a102cd3db8682b2b9ec226df83df6c9b7">filter_type</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a71510e52c1c3f493dd13c2ca6862784d">   58</a></span>&#160;    z_stream <a class="code" href="struct_p_n_g_enc_context.html#a71510e52c1c3f493dd13c2ca6862784d">zstream</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a97d104f29e5ccc112e7ec881d48f0331">   59</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_p_n_g_enc_context.html#a97d104f29e5ccc112e7ec881d48f0331">buf</a>[<a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a>];</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#ae244285998d42e22b8be8a9fc5b6cd37">   60</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#ae244285998d42e22b8be8a9fc5b6cd37">dpi</a>;                     </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a3aa2faabe0d933c19bce4d7c525e5cc7">   61</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#a3aa2faabe0d933c19bce4d7c525e5cc7">dpm</a>;                     </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a6b6b98c6833d2020c596af75bd6f5c63">   63</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#a6b6b98c6833d2020c596af75bd6f5c63">is_progressive</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a2c75228ecee8ffe40fa3e3f20aefd4de">   64</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#a2c75228ecee8ffe40fa3e3f20aefd4de">bit_depth</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#acdc246522fddae1e07b52d3f817ad9f3">   65</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#acdc246522fddae1e07b52d3f817ad9f3">color_type</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a02a28475b9312472bbb0ed34a4ebc400">   66</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#a02a28475b9312472bbb0ed34a4ebc400">bits_per_pixel</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// APNG</span></div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a0432e5dad91abdf1f7fd8ae62e5d22bc">   69</a></span>&#160;    uint32_t <a class="code" href="struct_p_n_g_enc_context.html#a0432e5dad91abdf1f7fd8ae62e5d22bc">palette_checksum</a>;   <span class="comment">// Used to ensure a single unique palette</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#afcbb855b4d19a25824aa5da4c26dab1b">   70</a></span>&#160;    uint32_t <a class="code" href="struct_p_n_g_enc_context.html#afcbb855b4d19a25824aa5da4c26dab1b">sequence_number</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#ad86c53b84981e4d2644745e4c7d93ef0">   71</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#ad86c53b84981e4d2644745e4c7d93ef0">extra_data_updated</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#ae252a5a96a4afebc28d594b3295f06a8">   72</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_p_n_g_enc_context.html#ae252a5a96a4afebc28d594b3295f06a8">extra_data</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a985aaaab6346c8377f03bd485605f412">   73</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_p_n_g_enc_context.html#a985aaaab6346c8377f03bd485605f412">extra_data_size</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#adb6a85f130b379977e394f0f51688c07">   75</a></span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="struct_p_n_g_enc_context.html#adb6a85f130b379977e394f0f51688c07">prev_frame</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a240aeaec2b2fee28af8be686981e499f">   76</a></span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="struct_p_n_g_enc_context.html#a240aeaec2b2fee28af8be686981e499f">last_frame</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#ae44e4938a2e1f160dbd4ac0410ea5533">   77</a></span>&#160;    <a class="code" href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a> <a class="code" href="struct_p_n_g_enc_context.html#ae44e4938a2e1f160dbd4ac0410ea5533">last_frame_fctl</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a238cbae5c6d945419af9caa4979cd80e">   78</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_p_n_g_enc_context.html#a238cbae5c6d945419af9caa4979cd80e">last_frame_packet</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="struct_p_n_g_enc_context.html#a7388cd2459384e2aea9148db84ef2a55">   79</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="struct_p_n_g_enc_context.html#a7388cd2459384e2aea9148db84ef2a55">last_frame_packet_size</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a2231d5187c3959c781910dd47d76d8a5">   80</a></span>&#160;} <a class="code" href="pngenc_8c.html#a2231d5187c3959c781910dd47d76d8a5">PNGEncContext</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="pngenc_8c.html#aebd019e4ba56fd84009082ce165f5535">   82</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="pngenc_8c.html#aebd019e4ba56fd84009082ce165f5535">png_get_interlaced_row</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst, <span class="keywordtype">int</span> row_size,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                   <span class="keywordtype">int</span> bits_per_pixel, <span class="keywordtype">int</span> <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">int</span> x, <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>, dst_x, j, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, bpp;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *d;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> masks[] = {0x80, 0x08, 0x88, 0x22, 0xaa, 0x55, 0xff};</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> = masks[<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>];</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">switch</span> (bits_per_pixel) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        memset(dst, 0, row_size);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        dst_x = 0;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            j = (x &amp; 7);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> &lt;&lt; j) &amp; 0x80) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[x &gt;&gt; 3] &gt;&gt; (7 - j)) &amp; 1;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                dst[dst_x &gt;&gt; 3] |= <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> &lt;&lt; (7 - (dst_x &amp; 7));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                dst_x++;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        bpp = bits_per_pixel &gt;&gt; 3;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        d = dst;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            j = x &amp; 7;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> &lt;&lt; j) &amp; 0x80) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                memcpy(d, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, bpp);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                d += bpp;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> += bpp;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="pngenc_8c.html#ab73cbbdad0b75ad5cb5bc0770ea1275c">  121</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="pngenc_8c.html#ab73cbbdad0b75ad5cb5bc0770ea1275c">sub_png_paeth_prediction</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *top,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                     <span class="keywordtype">int</span> <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>, <span class="keywordtype">int</span> bpp)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, p, pa, pb, pc;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - bpp];</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> = top[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = top[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - bpp];</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        p  = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        pc = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> - <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        pa = <a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(p);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        pb = <a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(pc);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        pc = <a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>(p + pc);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">if</span> (pa &lt;= pb &amp;&amp; pa &lt;= pc)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            p = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pb &lt;= pc)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            p = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            p = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        dst[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - p;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a164f865eb90701b15b5c6799bca06922">  149</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="pngenc_8c.html#a164f865eb90701b15b5c6799bca06922">sub_left_prediction</a>(<a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <span class="keywordtype">int</span> bpp, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a> = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> + bpp;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *src2 = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">int</span> x, unaligned_w;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    memcpy(dst, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, bpp);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    dst += bpp;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= bpp;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    unaligned_w = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(32 - bpp, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">for</span> (x = 0; x &lt; unaligned_w; x++)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        *dst++ = *<a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a>++ - *src2++;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> -= unaligned_w;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;llvidencdsp.diff_bytes(dst, <a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a>, src2, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a0672e9111947cbc5c3b4eca74cce9ca9">  165</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="pngenc_8c.html#a0672e9111947cbc5c3b4eca74cce9ca9">png_filter_row</a>(<a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst, <span class="keywordtype">int</span> filter_type,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                           <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *top, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> bpp)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">switch</span> (filter_type) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="png_8h.html#ae210fa408b148787fdde8c586c68d217">PNG_FILTER_VALUE_NONE</a>:</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        memcpy(dst, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="png_8h.html#afab0135bc6f6796c3f8e393bb6166d29">PNG_FILTER_VALUE_SUB</a>:</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="pngenc_8c.html#a164f865eb90701b15b5c6799bca06922">sub_left_prediction</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, dst, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, bpp, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="png_8h.html#a9d32a597e359a02b0d9fc106c11a2b7f">PNG_FILTER_VALUE_UP</a>:</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>-&gt;llvidencdsp.diff_bytes(dst, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, top, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="png_8h.html#a85d5ed71ae02e5ae5bc70a25fc72a490">PNG_FILTER_VALUE_AVG</a>:</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; bpp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            dst[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - (top[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;&gt; 1);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">for</span> (; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            dst[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - ((<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - bpp] + top[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &gt;&gt; 1);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="png_8h.html#adcc2fbd448e0baacdcf335d1e5fde150">PNG_FILTER_VALUE_PAETH</a>:</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; bpp; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            dst[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - top[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="pngenc_8c.html#ab73cbbdad0b75ad5cb5bc0770ea1275c">sub_png_paeth_prediction</a>(dst + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, top + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, bpp);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a258ad479ec69b6cd783136224d51ddfa">  194</a></span>&#160;<span class="keyword">static</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="pngenc_8c.html#a258ad479ec69b6cd783136224d51ddfa">png_choose_filter</a>(<a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                  <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *top, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> bpp)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter_type;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(bpp || !<a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (!top &amp;&amp; <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a> = <a class="code" href="png_8h.html#afab0135bc6f6796c3f8e393bb6166d29">PNG_FILTER_VALUE_SUB</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a> == <a class="code" href="png_8h.html#a420a5ee4df8e5fdb0ace2413829876b0">PNG_FILTER_VALUE_MIXED</a>) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordtype">int</span> cost, bcost = INT_MAX;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf1 = dst, *buf2 = dst + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + 16;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a> = 0; <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a> &lt; 5; <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>++) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <a class="code" href="pngenc_8c.html#a0672e9111947cbc5c3b4eca74cce9ca9">png_filter_row</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, buf1 + 1, <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, top, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, bpp);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            buf1[0] = <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            cost = 0;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                cost += <a class="code" href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a>((int8_t) buf1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">if</span> (cost &lt; bcost) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                bcost = cost;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *, buf1, buf2);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">return</span> buf2;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="pngenc_8c.html#a0672e9111947cbc5c3b4eca74cce9ca9">png_filter_row</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dst + 1, <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, top, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, bpp);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        dst[0] = <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">return</span> dst;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">  224</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, uint32_t <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                            <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> length)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">const</span> <a class="code" href="group__lavu__crc32.html#gad7b1134679f68f2d4a52edaf1441e38f">AVCRC</a> *crc_table = <a class="code" href="group__lavu__crc32.html#gabb35ea72fdeee2645e4e57cae225ac2b">av_crc_get_table</a>(<a class="code" href="group__lavu__crc32.html#ggab7717a9f1179a5ac8516982f9f2997d2aa43f268d15303373c90287522a4d4752">AV_CRC_32_IEEE_LE</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    uint32_t crc = ~0<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> tagbuf[4];</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    bytestream_put_be32(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, length);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a>(tagbuf, <a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    crc = <a class="code" href="group__lavu__crc32.html#gae0feb73f66306494315f07de7ab57f80">av_crc</a>(crc_table, crc, tagbuf, 4);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    bytestream_put_be32(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="bfin_2bswap_8h.html#a9b3255993c3a688d63f61455099472f1">av_bswap32</a>(<a class="code" href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a>));</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (length &gt; 0) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        crc = <a class="code" href="group__lavu__crc32.html#gae0feb73f66306494315f07de7ab57f80">av_crc</a>(crc_table, crc, buf, length);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        memcpy(*<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, buf, length);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> += length;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    bytestream_put_be32(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, ~crc);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="pngenc_8c.html#ab8734bfe7a9129e1c8c28f4a70067504">  243</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="pngenc_8c.html#ab8734bfe7a9129e1c8c28f4a70067504">png_write_image_data</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx,</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> length)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">const</span> <a class="code" href="group__lavu__crc32.html#gad7b1134679f68f2d4a52edaf1441e38f">AVCRC</a> *crc_table = <a class="code" href="group__lavu__crc32.html#gabb35ea72fdeee2645e4e57cae225ac2b">av_crc_get_table</a>(<a class="code" href="group__lavu__crc32.html#ggab7717a9f1179a5ac8516982f9f2997d2aa43f268d15303373c90287522a4d4752">AV_CRC_32_IEEE_LE</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    uint32_t crc = ~0<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea13651c88d4a774a1012b40f6087b5fb9">AV_CODEC_ID_PNG</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9e5a25a530d01c04491216c368a1a04a">frame_number</a> == 0) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;D&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;T&#39;</span>), buf, length);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, length + 4);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a>(<span class="charliteral">&#39;f&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;T&#39;</span>));</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sequence_number);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    crc = <a class="code" href="group__lavu__crc32.html#gae0feb73f66306494315f07de7ab57f80">av_crc</a>(crc_table, crc, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream - 8, 8);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    crc = <a class="code" href="group__lavu__crc32.html#gae0feb73f66306494315f07de7ab57f80">av_crc</a>(crc_table, crc, buf, length);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, buf, length);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream += length;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, ~crc);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    ++<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sequence_number;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">/* XXX: do filtering */</span></div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="pngenc_8c.html#ab46c2e47fa710beabd7dcd16ac2ee878">  271</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#ab46c2e47fa710beabd7dcd16ac2ee878">png_write_row</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.avail_in = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.next_in  = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.avail_in &gt; 0) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vf__neighbor_8c.html#a1f78459fa485dc0caa8aeb3223b68443">deflate</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream, Z_NO_FLUSH);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> != Z_OK)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.avail_out == 0) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream &gt; <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a> + 100)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <a class="code" href="pngenc_8c.html#ab8734bfe7a9129e1c8c28f4a70067504">png_write_image_data</a>(avctx, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.avail_out = <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.next_out  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">  292</a></span>&#160;<span class="preprocessor">#define AV_WB32_PNG(buf, n) AV_WB32(buf, lrint((n) * 100000))</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a8e78f4cabe7a8aa348795e1ed5425191">  293</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#a8e78f4cabe7a8aa348795e1ed5425191">png_get_chrm</a>(<span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7">AVColorPrimaries</a> prim,  <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">double</span> rx, ry, gx, gy, bx, by, wx = 0.3127, wy = 0.3290;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">switch</span> (prim) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a4f1c38f3e06cd2c49b28046bbf3a4cbd">AVCOL_PRI_BT709</a>:</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            rx = 0.640; ry = 0.330;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            gx = 0.300; gy = 0.600;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            bx = 0.150; by = 0.060;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7ae5d6b90d4f36ac68f3a5ef347d930cc9">AVCOL_PRI_BT470M</a>:</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            rx = 0.670; ry = 0.330;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            gx = 0.210; gy = 0.710;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            bx = 0.140; by = 0.080;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            wx = 0.310; wy = 0.316;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a1aeb4f44414c396b28b3f392313e50ae">AVCOL_PRI_BT470BG</a>:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            rx = 0.640; ry = 0.330;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            gx = 0.290; gy = 0.600;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            bx = 0.150; by = 0.060;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7ad882a69d6c7cf33fa22a5717c63baf19">AVCOL_PRI_SMPTE170M</a>:</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a768f96c1362405b45b87fd3d6bc0c586">AVCOL_PRI_SMPTE240M</a>:</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            rx = 0.630; ry = 0.340;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            gx = 0.310; gy = 0.595;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            bx = 0.155; by = 0.070;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7adee9de223d6a8683fd2177b43444404c">AVCOL_PRI_BT2020</a>:</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            rx = 0.708; ry = 0.292;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            gx = 0.170; gy = 0.797;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            bx = 0.131; by = 0.046;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf     , wx); <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf + 4 , wy);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf + 8 , rx); <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf + 12, ry);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf + 16, gx); <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf + 20, gy);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf + 24, bx); <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf + 28, by);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="pngenc_8c.html#aa6071b65eedaea7be8754cd0037ab73e">  335</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#aa6071b65eedaea7be8754cd0037ab73e">png_get_gama</a>(<span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6">AVColorTransferCharacteristic</a> trc, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">double</span> gamma = <a class="code" href="color__utils_8c.html#a658280423976900b500b09d6c8e5daa5">avpriv_get_gamma_from_trc</a>(trc);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (gamma &lt;= 1e-6)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a>(buf, 1.0 / gamma);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a4541e50494c56e74dcb3158c7f14cd6c">  345</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#a4541e50494c56e74dcb3158c7f14cd6c">encode_headers</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *pict)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="struct_a_v_frame_side_data.html">AVFrameSideData</a> *side_data;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">/* write png header */</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf + 4, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[8]  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[9]  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[10] = 0; <span class="comment">/* compression type */</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[11] = 0; <span class="comment">/* filter type */</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[12] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_progressive; <span class="comment">/* interlace type */</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;D&#39;</span>, <span class="charliteral">&#39;R&#39;</span>), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 13);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">/* write physical information */</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpm) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpm);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf + 4, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpm);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[8] = 1; <span class="comment">/* unit specifier is meter */</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf + 4, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[8] = 0; <span class="comment">/* unit specifier is unknown */</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;Y&#39;</span>, <span class="charliteral">&#39;s&#39;</span>), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 9);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">/* write stereoscopic information */</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    side_data = <a class="code" href="group__lavu__frame.html#gadec0efb470b1eead6a979333d9deca0c">av_frame_get_side_data</a>(pict, <a class="code" href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bcacec681d6146e8bd4c61b2e1cc88354a8">AV_FRAME_DATA_STEREO3D</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (side_data) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="struct_a_v_stereo3_d.html">AVStereo3D</a> *stereo3d = (<a class="code" href="struct_a_v_stereo3_d.html">AVStereo3D</a> *)side_data-&gt;<a class="code" href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">data</a>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        switch (stereo3d-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a052514d0376a94e58e3eb9db3db2a7ce">type</a>) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6aaa1ee993fc27f99269c536c51b0b5f3c">AV_STEREO3D_SIDEBYSIDE</a>:</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[0] = ((stereo3d-&gt;<a class="code" href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">flags</a> &amp; <a class="code" href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a>) == 0) ? 1 : 0;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;T&#39;</span>, <span class="charliteral">&#39;E&#39;</span>, <span class="charliteral">&#39;R&#39;</span>), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 1);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a276701c16077443c9526dd28da8001a7">AV_STEREO3D_2D</a>:</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Only side-by-side stereo3d flag can be defined within sTER chunk\n&quot;</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">/* write colorspace information */</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (pict-&gt;<a class="code" href="struct_a_v_frame.html#a59a3f830494f2ed1133103a1bc9481e7">color_primaries</a> == <a class="code" href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a4f1c38f3e06cd2c49b28046bbf3a4cbd">AVCOL_PRI_BT709</a> &amp;&amp;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        pict-&gt;<a class="code" href="struct_a_v_frame.html#ab09abb126e3922bc1d010cf044087939">color_trc</a> == <a class="code" href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6adcce194982c0e7d70d57f9ddbc604545">AVCOL_TRC_IEC61966_2_1</a>) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf[0] = 1; <span class="comment">/* rendering intent, relative colorimetric by default */</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;G&#39;</span>, <span class="charliteral">&#39;B&#39;</span>), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 1);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="pngenc_8c.html#a8e78f4cabe7a8aa348795e1ed5425191">png_get_chrm</a>(pict-&gt;<a class="code" href="struct_a_v_frame.html#a59a3f830494f2ed1133103a1bc9481e7">color_primaries</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf))</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;M&#39;</span>), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 32);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="pngenc_8c.html#aa6071b65eedaea7be8754cd0037ab73e">png_get_gama</a>(pict-&gt;<a class="code" href="struct_a_v_frame.html#ab09abb126e3922bc1d010cf044087939">color_trc</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf))</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;g&#39;</span>, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;M&#39;</span>, <span class="charliteral">&#39;A&#39;</span>), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 4);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">/* put the palette if needed */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type == <a class="code" href="png_8h.html#ad9cb748ce20baa72dea5fb1c5d900414">PNG_COLOR_TYPE_PALETTE</a>) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordtype">int</span> has_alpha, <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        uint32_t *palette;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr, *alpha_ptr;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        palette   = (uint32_t *)pict-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[1];</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        ptr       = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        alpha_ptr = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf + 256 * 3;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        has_alpha = 0;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 256; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            v     = palette[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> = v &gt;&gt; 24;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> != 0xff)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                has_alpha = 1;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            *alpha_ptr++ = <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            bytestream_put_be24(&amp;ptr, v);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                        <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;P&#39;</span>, <span class="charliteral">&#39;L&#39;</span>, <span class="charliteral">&#39;T&#39;</span>, <span class="charliteral">&#39;E&#39;</span>), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 256 * 3);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">if</span> (has_alpha) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream,</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                            <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;S&#39;</span>), <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf + 256 * 3, 256);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a843c0080e32159bb0ea2a1f65eb5c3d4">  431</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#a843c0080e32159bb0ea2a1f65eb5c3d4">encode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *pict)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>       = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<span class="keyword">const</span> p = pict;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordtype">int</span> y, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordtype">int</span> row_size, pass_row_size;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr, *top, *crow_buf, *crow;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *crow_base       = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *progressive_buf = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *top_buf         = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    row_size = (pict-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a> * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel + 7) &gt;&gt; 3;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    crow_base = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>((row_size + 32) &lt;&lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter_type == <a class="code" href="png_8h.html#a420a5ee4df8e5fdb0ace2413829876b0">PNG_FILTER_VALUE_MIXED</a>));</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span> (!crow_base) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">goto</span> the_end;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">// pixel data should be aligned, but there&#39;s a control byte before it</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    crow_buf = crow_base + 15;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_progressive) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        progressive_buf = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(row_size + 1);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        top_buf = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(row_size + 1);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">if</span> (!progressive_buf || !top_buf) {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">goto</span> the_end;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">/* put each row */</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.avail_out = <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.next_out  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_progressive) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a> = 0; <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a> &lt; <a class="code" href="png_8h.html#affec760a710ce3b6a2439af75c87eaa4">NB_PASSES</a>; <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>++) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="comment">/* NOTE: a pass is completely omitted if no pixels would be</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">             * output */</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            pass_row_size = <a class="code" href="png_8c.html#ae309b627bee1aad3c6ca1346eca6e977">ff_png_pass_row_size</a>(<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel, pict-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">if</span> (pass_row_size &gt; 0) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                top = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                <span class="keywordflow">for</span> (y = 0; y &lt; pict-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>; y++)</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="png_8c.html#a747404f173438ee98ffdaf639d50d007">ff_png_pass_ymask</a>[<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>] &lt;&lt; (y &amp; 7)) &amp; 0x80) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        ptr = p-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0] + y * p-&gt;<a class="code" href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0];</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *, progressive_buf, top_buf);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        <a class="code" href="pngenc_8c.html#aebd019e4ba56fd84009082ce165f5535">png_get_interlaced_row</a>(progressive_buf, pass_row_size,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel, <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                               ptr, pict-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                        crow = <a class="code" href="pngenc_8c.html#a258ad479ec69b6cd783136224d51ddfa">png_choose_filter</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, crow_buf, progressive_buf,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                                 top, pass_row_size, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel &gt;&gt; 3);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        <a class="code" href="pngenc_8c.html#ab46c2e47fa710beabd7dcd16ac2ee878">png_write_row</a>(avctx, crow, pass_row_size + 1);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        top = progressive_buf;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        top = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; pict-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>; y++) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            ptr = p-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0] + y * p-&gt;<a class="code" href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0];</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            crow = <a class="code" href="pngenc_8c.html#a258ad479ec69b6cd783136224d51ddfa">png_choose_filter</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, crow_buf, ptr, top,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                     row_size, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel &gt;&gt; 3);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <a class="code" href="pngenc_8c.html#ab46c2e47fa710beabd7dcd16ac2ee878">png_write_row</a>(avctx, crow, row_size + 1);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            top = ptr;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">/* compress last bytes */</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vf__neighbor_8c.html#a1f78459fa485dc0caa8aeb3223b68443">deflate</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream, Z_FINISH);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == Z_OK || <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == Z_STREAM_END) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.avail_out;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> &gt; 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream &gt; <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> + 100) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <a class="code" href="pngenc_8c.html#ab8734bfe7a9129e1c8c28f4a70067504">png_write_image_data</a>(avctx, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.avail_out = <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.next_out  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == Z_STREAM_END)</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = -1;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="keywordflow">goto</span> the_end;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;the_end:</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;crow_base);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;progressive_buf);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;top_buf);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    deflateReset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;}</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a81a8b0b01437807b4236d7e6f448c99e">  524</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#a81a8b0b01437807b4236d7e6f448c99e">encode_png</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                      <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *pict, <span class="keywordtype">int</span> *got_packet)</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordtype">int</span> enc_row_size;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordtype">size_t</span> max_packet_size;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    enc_row_size    = deflateBound(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream, (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a> * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel + 7) &gt;&gt; 3);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    max_packet_size =</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="group__lavc__encoding.html#ga4fde50e2cad4cf3d66d882a7078aeab4">AV_INPUT_BUFFER_MIN_SIZE</a> + <span class="comment">// headers</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> * (</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            enc_row_size +</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            12 * (((int64_t)enc_row_size + <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a> - 1) / <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a>) <span class="comment">// IDAT * ceil(enc_row_size / IOBUF_SIZE)</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        );</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (max_packet_size &gt; INT_MAX)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a>(avctx, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, max_packet_size, 0);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_start =</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream       = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_end   = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="intreadwrite_8h.html#afd2d38dbc4338142d73bbd42c59ac186">AV_WB64</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="png_8h.html#a97ff27448a333bda8931dc523f65b642">PNGSIG</a>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream += 8;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="pngenc_8c.html#a4541e50494c56e74dcb3158c7f14cd6c">encode_headers</a>(avctx, pict);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="pngenc_8c.html#a843c0080e32159bb0ea2a1f65eb5c3d4">encode_frame</a>(avctx, pict);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;E&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;D&#39;</span>), <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_start;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    *got_packet = 1;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a86b93b8a6cd32e0d0e7051e99eed441a">  569</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#a86b93b8a6cd32e0d0e7051e99eed441a">apng_do_inverse_blend</a>(<a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>,</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                  <a class="code" href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a> *fctl_chunk, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> bpp)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// output: background, input: foreground</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// output the image such that when blended with the background, will produce the foreground</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> leftmost_x = <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;width;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rightmost_x = 0;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> topmost_y = <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;height;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bottommost_y = 0;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mlpenc_8c.html#a9a371bcc72d6998885cffaf64a0ad0d2">input_data</a> = <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;data[0];</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a> = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;data[0];</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    ptrdiff_t input_linesize = <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;linesize[0];</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    ptrdiff_t output_linesize = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;linesize[0];</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// Find bounding box of changes</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;height; ++y) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;width; ++x) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">if</span> (!memcmp(<a class="code" href="mlpenc_8c.html#a9a371bcc72d6998885cffaf64a0ad0d2">input_data</a> + bpp * x, <a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a> + bpp * x, bpp))</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">if</span> (x &lt; leftmost_x)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                leftmost_x = x;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">if</span> (x &gt;= rightmost_x)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                rightmost_x = x + 1;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="keywordflow">if</span> (y &lt; topmost_y)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                topmost_y = y;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <span class="keywordflow">if</span> (y &gt;= bottommost_y)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                bottommost_y = y + 1;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="mlpenc_8c.html#a9a371bcc72d6998885cffaf64a0ad0d2">input_data</a> += input_linesize;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a> += output_linesize;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (leftmost_x == <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;width &amp;&amp; rightmost_x == 0) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="comment">// Empty frame</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="comment">// APNG does not support empty frames, so we make it a 1x1 frame</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        leftmost_x = topmost_y = 0;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        rightmost_x = bottommost_y = 1;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// Do actual inverse blending</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#add8c57c0d366359dabcf82337fbc9619">blend_op</a> == <a class="code" href="apng_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a927d4751ccfd457cbabeb365eaa053b2">APNG_BLEND_OP_SOURCE</a>) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a> = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;data[0];</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">for</span> (y = topmost_y; y &lt; bottommost_y; ++y) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            memcpy(<a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a>,</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                   <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;data[0] + input_linesize * y + bpp * leftmost_x,</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                   bpp * (rightmost_x - leftmost_x));</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a> += output_linesize;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// APNG_BLEND_OP_OVER</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordtype">size_t</span> transparent_palette_index;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        uint32_t *palette;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;format) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a6165b87961e2c51dbd9cbbca8d1d84bc">AV_PIX_FMT_RGBA64BE</a>:</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a15383ccaf12d25fa27f18628a438162e">AV_PIX_FMT_YA16BE</a>:</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a7ffbd399b88a48196e3cba416eec4dac">AV_PIX_FMT_RGBA</a>:</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a3c1bce55e2ee040a7b4534ed763c22bf">AV_PIX_FMT_GRAY8A</a>:</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>:</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            palette = (uint32_t*)<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;data[1];</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (transparent_palette_index = 0; transparent_palette_index &lt; 256; ++transparent_palette_index)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keywordflow">if</span> (palette[transparent_palette_index] &gt;&gt; 24 == 0)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="comment">// No alpha, so blending not possible</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keywordflow">for</span> (y = topmost_y; y &lt; bottommost_y; ++y) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *foreground = <a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;data[0] + input_linesize * y + bpp * leftmost_x;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *background = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;data[0] + output_linesize * y + bpp * leftmost_x;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            <a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a> = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;data[0] + output_linesize * (y - topmost_y);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="keywordflow">for</span> (x = leftmost_x; x &lt; rightmost_x; ++x, foreground += bpp, background += bpp, <a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a> += bpp) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">if</span> (!memcmp(foreground, background, bpp)) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;format == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                        <span class="keywordflow">if</span> (transparent_palette_index == 256) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                            <span class="comment">// Need fully transparent colour, but none exists</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                        }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                        *<a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a> = transparent_palette_index;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                        memset(<a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a>, 0, bpp);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="comment">// Check for special alpha values, since full inverse</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="comment">// alpha-on-alpha blending is rarely possible, and when</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                <span class="comment">// possible, doesn&#39;t compress much better than</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <span class="comment">// APNG_BLEND_OP_SOURCE blending</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">switch</span> (<a class="code" href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a>-&gt;format) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a6165b87961e2c51dbd9cbbca8d1d84bc">AV_PIX_FMT_RGBA64BE</a>:</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    <span class="keywordflow">if</span> (((uint16_t*)foreground)[3] == 0xffff ||</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                        ((uint16_t*)background)[3] == 0)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a15383ccaf12d25fa27f18628a438162e">AV_PIX_FMT_YA16BE</a>:</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    <span class="keywordflow">if</span> (((uint16_t*)foreground)[1] == 0xffff ||</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        ((uint16_t*)background)[1] == 0)</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a7ffbd399b88a48196e3cba416eec4dac">AV_PIX_FMT_RGBA</a>:</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    <span class="keywordflow">if</span> (foreground[3] == 0xff || background[3] == 0)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a3c1bce55e2ee040a7b4534ed763c22bf">AV_PIX_FMT_GRAY8A</a>:</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    <span class="keywordflow">if</span> (foreground[1] == 0xff || background[1] == 0)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>:</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                    <span class="keywordflow">if</span> (palette[*foreground] &gt;&gt; 24 == 0xff ||</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                        palette[*background] &gt;&gt; 24 == 0)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                memmove(<a class="code" href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a>, foreground, bpp);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;width = rightmost_x - leftmost_x;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;height = bottommost_y - topmost_y;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a3d67bac7d3cd340e8bce63fac54a3d83">width</a> = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;width;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a4615da6c9552dffbdedac6f634950c7b">height</a> = <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>-&gt;height;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a066844a8f70525cd90b257e27b65856f">x_offset</a> = leftmost_x;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a0f9f4d038fef220dcce159975b26533c">y_offset</a> = topmost_y;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a0a6c4d5ce1880400ff8f6b962e211cf3">  712</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#a0a6c4d5ce1880400ff8f6b962e211cf3">apng_encode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *pict,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                             <a class="code" href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a> *best_fctl_chunk, <a class="code" href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a> *best_last_fctl_chunk)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;{</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a>* diffFrame;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> bpp = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel + 7) &gt;&gt; 3;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *original_bytestream, *original_bytestream_end;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *temp_bytestream = 0, *temp_bytestream_end;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    uint32_t best_sequence_number;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *best_bytestream;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordtype">size_t</span> best_bytestream_size = SIZE_MAX;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a> last_fctl_chunk = *best_last_fctl_chunk;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a> fctl_chunk = *best_fctl_chunk;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9e5a25a530d01c04491216c368a1a04a">frame_number</a> == 0) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        best_fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a3d67bac7d3cd340e8bce63fac54a3d83">width</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        best_fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a4615da6c9552dffbdedac6f634950c7b">height</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        best_fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a066844a8f70525cd90b257e27b65856f">x_offset</a> = 0;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        best_fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a0f9f4d038fef220dcce159975b26533c">y_offset</a> = 0;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        best_fctl_chunk-&gt;<a class="code" href="struct_a_p_n_g_fctl_chunk.html#add8c57c0d366359dabcf82337fbc9619">blend_op</a> = <a class="code" href="apng_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a927d4751ccfd457cbabeb365eaa053b2">APNG_BLEND_OP_SOURCE</a>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="pngenc_8c.html#a843c0080e32159bb0ea2a1f65eb5c3d4">encode_frame</a>(avctx, pict);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    diffFrame = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">if</span> (!diffFrame)</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__frame.html#ga6b1acbfa82c79bf7fd78d868572f0ceb">av_frame_get_buffer</a>(diffFrame, 0)) &lt; 0)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    original_bytestream = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    original_bytestream_end = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_end;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    temp_bytestream = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(original_bytestream_end - original_bytestream);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (!temp_bytestream) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    temp_bytestream_end = temp_bytestream + (original_bytestream_end - original_bytestream);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">for</span> (last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#afa341400a732032c72f8757dfedbc1bd">dispose_op</a> = 0; last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#afa341400a732032c72f8757dfedbc1bd">dispose_op</a> &lt; 3; ++last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#afa341400a732032c72f8757dfedbc1bd">dispose_op</a>) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="comment">// 0: APNG_DISPOSE_OP_NONE</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="comment">// 1: APNG_DISPOSE_OP_BACKGROUND</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="comment">// 2: APNG_DISPOSE_OP_PREVIOUS</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="keywordflow">for</span> (fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#add8c57c0d366359dabcf82337fbc9619">blend_op</a> = 0; fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#add8c57c0d366359dabcf82337fbc9619">blend_op</a> &lt; 2; ++fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#add8c57c0d366359dabcf82337fbc9619">blend_op</a>) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="comment">// 0: APNG_BLEND_OP_SOURCE</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="comment">// 1: APNG_BLEND_OP_OVER</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            uint32_t original_sequence_number = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sequence_number, sequence_number;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *bytestream_start = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordtype">size_t</span> bytestream_size;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="comment">// Do disposal</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <span class="keywordflow">if</span> (last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#afa341400a732032c72f8757dfedbc1bd">dispose_op</a> != <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baa5961749381aec3e9a13d5c6309835c5">APNG_DISPOSE_OP_PREVIOUS</a>) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__frame.html#gaec4e92f6e1e75ffaf76e07586fb0c9ed">av_frame_copy</a>(diffFrame, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                <span class="keywordflow">if</span> (last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#afa341400a732032c72f8757dfedbc1bd">dispose_op</a> == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba66ec8a0784325928991e8001ef9d27a8">APNG_DISPOSE_OP_BACKGROUND</a>) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                    <span class="keywordflow">for</span> (y = last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a0f9f4d038fef220dcce159975b26533c">y_offset</a>; y &lt; last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a0f9f4d038fef220dcce159975b26533c">y_offset</a> + last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a4615da6c9552dffbdedac6f634950c7b">height</a>; ++y) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                        <span class="keywordtype">size_t</span> row_start = diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0] * y + bpp * last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a066844a8f70525cd90b257e27b65856f">x_offset</a>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                        memset(diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0] + row_start, 0, bpp * last_fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a3d67bac7d3cd340e8bce63fac54a3d83">width</a>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                diffFrame-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a> = pict-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__frame.html#gaec4e92f6e1e75ffaf76e07586fb0c9ed">av_frame_copy</a>(diffFrame, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <span class="comment">// Do inverse blending</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="pngenc_8c.html#a86b93b8a6cd32e0d0e7051e99eed441a">apng_do_inverse_blend</a>(diffFrame, pict, &amp;fctl_chunk, bpp) &lt; 0)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <span class="comment">// Do encoding</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="pngenc_8c.html#a843c0080e32159bb0ea2a1f65eb5c3d4">encode_frame</a>(avctx, diffFrame);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            sequence_number = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sequence_number;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sequence_number = original_sequence_number;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            bytestream_size = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream - bytestream_start;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream = bytestream_start;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            <span class="keywordflow">if</span> (bytestream_size &lt; best_bytestream_size) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                *best_fctl_chunk = fctl_chunk;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                *best_last_fctl_chunk = last_fctl_chunk;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                best_sequence_number = sequence_number;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                best_bytestream = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                best_bytestream_size = bytestream_size;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                <span class="keywordflow">if</span> (best_bytestream == original_bytestream) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream = temp_bytestream;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_end = temp_bytestream_end;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream = original_bytestream;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_end = original_bytestream_end;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sequence_number = best_sequence_number;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream = original_bytestream + best_bytestream_size;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_end = original_bytestream_end;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (best_bytestream != original_bytestream)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        memcpy(original_bytestream, best_bytestream, best_bytestream_size);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;temp_bytestream);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;diffFrame);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;}</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a0a90cf36e87b1857943e62270ca7eb7a">  841</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#a0a90cf36e87b1857943e62270ca7eb7a">encode_apng</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                       <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *pict, <span class="keywordtype">int</span> *got_packet)</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordtype">int</span> enc_row_size;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">size_t</span> max_packet_size;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a> fctl_chunk = {0};</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (pict &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">codec_id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea21362c401630027757e02c301e44ff4f">AV_CODEC_ID_APNG</a> &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type == <a class="code" href="png_8h.html#ad9cb748ce20baa72dea5fb1c5d900414">PNG_COLOR_TYPE_PALETTE</a>) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        uint32_t <a class="code" href="tests_2adler32_8c.html#aa4a4ec4e17257f17b6efac777b468700">checksum</a> = ~<a class="code" href="group__lavu__crc32.html#gae0feb73f66306494315f07de7ab57f80">av_crc</a>(<a class="code" href="group__lavu__crc32.html#gabb35ea72fdeee2645e4e57cae225ac2b">av_crc_get_table</a>(<a class="code" href="group__lavu__crc32.html#ggab7717a9f1179a5ac8516982f9f2997d2aa43f268d15303373c90287522a4d4752">AV_CRC_32_IEEE_LE</a>), ~0<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>, pict-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[1], 256 * <span class="keyword">sizeof</span>(uint32_t));</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9e5a25a530d01c04491216c368a1a04a">frame_number</a> == 0) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;palette_checksum = <a class="code" href="tests_2adler32_8c.html#aa4a4ec4e17257f17b6efac777b468700">checksum</a>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="tests_2adler32_8c.html#aa4a4ec4e17257f17b6efac777b468700">checksum</a> != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;palette_checksum) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                   <span class="stringliteral">&quot;Input contains more than one unique palette. APNG does not support multiple palettes.\n&quot;</span>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    enc_row_size    = deflateBound(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream, (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a> * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel + 7) &gt;&gt; 3);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    max_packet_size =</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <a class="code" href="group__lavc__encoding.html#ga4fde50e2cad4cf3d66d882a7078aeab4">AV_INPUT_BUFFER_MIN_SIZE</a> + <span class="comment">// headers</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> * (</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            enc_row_size +</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            (4 + 12) * (((int64_t)enc_row_size + <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a> - 1) / <a class="code" href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a>) <span class="comment">// fdAT * ceil(enc_row_size / IOBUF_SIZE)</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        );</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">if</span> (max_packet_size &gt; INT_MAX)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9e5a25a530d01c04491216c368a1a04a">frame_number</a> == 0) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="keywordflow">if</span> (!pict)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="group__lavc__encoding.html#ga4fde50e2cad4cf3d66d882a7078aeab4">AV_INPUT_BUFFER_MIN_SIZE</a>);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="pngenc_8c.html#a4541e50494c56e74dcb3158c7f14cd6c">encode_headers</a>(avctx, pict);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data_size = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_packet = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(max_packet_size);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_packet)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame) {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a>(avctx, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, max_packet_size, 0);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        memcpy(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_packet, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_packet_size);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_packet_size;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">dts</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame-&gt;pts;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">if</span> (pict) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_start =</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream       = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_packet;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_end   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream + max_packet_size;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="comment">// We&#39;re encoding the frame first, so we have to do a bit of shuffling around</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="comment">// to have the image data write to the correct place in the buffer</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#adb71dbed8fb5aae78e6883d7927068da">sequence_number</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sequence_number;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        ++<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sequence_number;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream += 26 + 12;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="pngenc_8c.html#a0a6c4d5ce1880400ff8f6b962e211cf3">apng_encode_frame</a>(avctx, pict, &amp;fctl_chunk, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a56bdf8e7cf3bb81474a325d04a254fe0">delay_num</a> = 0; <span class="comment">// delay filled in during muxing</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        fctl_chunk.<a class="code" href="struct_a_p_n_g_fctl_chunk.html#a3daaa1333d5907d8a0a2034307dbb70f">delay_den</a> = 0;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.dispose_op = <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba6406a28903761220eb0cc958ea705ae6">APNG_DISPOSE_OP_NONE</a>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>* last_fctl_chunk_start = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> buf[26];</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data_updated) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *side_data = <a class="code" href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data_size);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordflow">if</span> (!side_data)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            memcpy(side_data, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data_size);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data_updated = 1;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(buf + 0, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.sequence_number);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(buf + 4, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.width);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(buf + 8, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.height);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(buf + 12, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.x_offset);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(buf + 16, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.y_offset);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(buf + 20, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.delay_num);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(buf + 22, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.delay_den);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        buf[24] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.dispose_op;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        buf[25] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.blend_op;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <a class="code" href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a>(&amp;last_fctl_chunk_start, <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;f&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;T&#39;</span>, <span class="charliteral">&#39;L&#39;</span>), buf, 26);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        *got_packet = 1;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (pict) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.dispose_op != <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baa5961749381aec3e9a13d5c6309835c5">APNG_DISPOSE_OP_PREVIOUS</a>) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame-&gt;format = pict-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame-&gt;width = pict-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame-&gt;height = pict-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__frame.html#ga6b1acbfa82c79bf7fd78d868572f0ceb">av_frame_get_buffer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame, 0)) &lt; 0)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="comment">// Do disposal, but not blending</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <a class="code" href="group__lavu__frame.html#gaec4e92f6e1e75ffaf76e07586fb0c9ed">av_frame_copy</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.dispose_op == <a class="code" href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba66ec8a0784325928991e8001ef9d27a8">APNG_DISPOSE_OP_BACKGROUND</a>) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                uint32_t y;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> bpp = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel + 7) &gt;&gt; 3;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <span class="keywordflow">for</span> (y = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.y_offset; y &lt; s-&gt;last_frame_fctl.y_offset + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.height; ++y) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    <span class="keywordtype">size_t</span> row_start = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame-&gt;linesize[0] * y + bpp * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.x_offset;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame-&gt;data[0] + row_start, 0, bpp * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl.width);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <a class="code" href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame, (<a class="code" href="struct_a_v_frame.html">AVFrame</a>*)pict);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_fctl = fctl_chunk;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_packet_size = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bytestream_start;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;}</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a06e9b962d214fbc2c6b818b2581a917e">  989</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#a06e9b962d214fbc2c6b818b2581a917e">png_enc_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;{</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordtype">int</span> compression_level;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a7ffbd399b88a48196e3cba416eec4dac">AV_PIX_FMT_RGBA</a>:</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> = 32;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a>:</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> = 24;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a>:</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> = 0x28;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a23615b27fdc5f8602d17dea500129a5b">AV_PIX_FMT_MONOBLACK</a>:</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> = 1;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>:</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">bits_per_coded_sample</a> = 8;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="preprocessor">#if FF_API_CODED_FRAME</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a> = <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">key_frame</a> = 1;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="lossless__videoencdsp_8c.html#ab16ae1cd2f4e11152a388fdfe31bc8fb">ff_llvidencdsp_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;llvidencdsp);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="preprocessor">#if FF_API_PRIVATE_OPT</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1056b0254d029240958ac60e6110cc1">prediction_method</a>)</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter_type = av_clip(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1056b0254d029240958ac60e6110cc1">prediction_method</a>,</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                                 <a class="code" href="png_8h.html#ae210fa408b148787fdde8c586c68d217">PNG_FILTER_VALUE_NONE</a>,</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                                 <a class="code" href="png_8h.html#a420a5ee4df8e5fdb0ace2413829876b0">PNG_FILTER_VALUE_MIXED</a>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a23615b27fdc5f8602d17dea500129a5b">AV_PIX_FMT_MONOBLACK</a>)</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter_type = <a class="code" href="png_8h.html#ae210fa408b148787fdde8c586c68d217">PNG_FILTER_VALUE_NONE</a>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpi &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpm) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Only one of &#39;dpi&#39; or &#39;dpm&#39; options should be set\n&quot;</span>);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpi) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpm = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dpi * 10000 / 254;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;is_progressive = !!(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga502225f65e2092fbc45945247892cb0f">AV_CODEC_FLAG_INTERLACED_DCT</a>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a6165b87961e2c51dbd9cbbca8d1d84bc">AV_PIX_FMT_RGBA64BE</a>:</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth = 16;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#a60d8d104ff1904a7366a90afdd75c949">PNG_COLOR_TYPE_RGB_ALPHA</a>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a5048d993177d03abcf21c1b1019f842a">AV_PIX_FMT_RGB48BE</a>:</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth = 16;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#a30350690cac2ef450ec14447793a5a28">PNG_COLOR_TYPE_RGB</a>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a7ffbd399b88a48196e3cba416eec4dac">AV_PIX_FMT_RGBA</a>:</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth  = 8;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#a60d8d104ff1904a7366a90afdd75c949">PNG_COLOR_TYPE_RGB_ALPHA</a>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a>:</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth  = 8;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#a30350690cac2ef450ec14447793a5a28">PNG_COLOR_TYPE_RGB</a>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a050ff8817d7c3f34891b4bf0fcf4ad48">AV_PIX_FMT_GRAY16BE</a>:</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth  = 16;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#ac679619ad9d3f2c46c2b69fe65bd19f1">PNG_COLOR_TYPE_GRAY</a>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a>:</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth  = 8;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#ac679619ad9d3f2c46c2b69fe65bd19f1">PNG_COLOR_TYPE_GRAY</a>;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a3c1bce55e2ee040a7b4534ed763c22bf">AV_PIX_FMT_GRAY8A</a>:</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth = 8;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#a6f7f3931c163838e2bc3132de2cd4391">PNG_COLOR_TYPE_GRAY_ALPHA</a>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a15383ccaf12d25fa27f18628a438162e">AV_PIX_FMT_YA16BE</a>:</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth = 16;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#a6f7f3931c163838e2bc3132de2cd4391">PNG_COLOR_TYPE_GRAY_ALPHA</a>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a23615b27fdc5f8602d17dea500129a5b">AV_PIX_FMT_MONOBLACK</a>:</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth  = 1;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#ac679619ad9d3f2c46c2b69fe65bd19f1">PNG_COLOR_TYPE_GRAY</a>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>:</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth  = 8;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type = <a class="code" href="png_8h.html#ad9cb748ce20baa72dea5fb1c5d900414">PNG_COLOR_TYPE_PALETTE</a>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bits_per_pixel = <a class="code" href="png_8c.html#af54afb2d249e24a1dc412fc4ca85e837">ff_png_get_nb_channels</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;color_type) * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_depth;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.zalloc = <a class="code" href="png_8c.html#af7fa17ebbe5e05df27b689c18ea3ef49">ff_png_zalloc</a>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.zfree  = <a class="code" href="png_8c.html#afb608c760b3d477f1afad29f7c59d2ed">ff_png_zfree</a>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream.opaque = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    compression_level = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa401ca663644caa51ede1889659c23d6">compression_level</a> == <a class="code" href="avcodec_8h.html#a6787143040c08e5c1da558371a732425">FF_COMPRESSION_DEFAULT</a></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                      ? Z_DEFAULT_COMPRESSION</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                      : av_clip(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa401ca663644caa51ede1889659c23d6">compression_level</a>, 0, 9);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordflow">if</span> (deflateInit2(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream, compression_level, Z_DEFLATED, 15, 8, Z_DEFAULT_STRATEGY) != Z_OK)</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;}</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="pngenc_8c.html#ab4c744df1f49936bc8070bc57afc00dd"> 1098</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="pngenc_8c.html#ab4c744df1f49936bc8070bc57afc00dd">png_enc_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;{</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="struct_p_n_g_enc_context.html">PNGEncContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    deflateEnd(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;zstream);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;last_frame_packet);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;extra_data_size = 0;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;}</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160; </div>
<div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="pngenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261"> 1111</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(PNGEncContext, x)</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6"> 1112</a></span>&#160;<span class="preprocessor">#define VE AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6"> 1113</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="pngenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    {<span class="stringliteral">&quot;dpi&quot;</span>, <span class="stringliteral">&quot;Set image resolution (in dots per inch)&quot;</span>,  <a class="code" href="pngenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(dpi), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 0}, 0, 0x10000, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    {<span class="stringliteral">&quot;dpm&quot;</span>, <span class="stringliteral">&quot;Set image resolution (in dots per meter)&quot;</span>, <a class="code" href="pngenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(dpm), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, {.i64 = 0}, 0, 0x10000, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>},</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    { <span class="stringliteral">&quot;pred&quot;</span>, <span class="stringliteral">&quot;Prediction method&quot;</span>, <a class="code" href="pngenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(filter_type), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = <a class="code" href="png_8h.html#ae210fa408b148787fdde8c586c68d217">PNG_FILTER_VALUE_NONE</a> }, <a class="code" href="png_8h.html#ae210fa408b148787fdde8c586c68d217">PNG_FILTER_VALUE_NONE</a>, <a class="code" href="png_8h.html#a420a5ee4df8e5fdb0ace2413829876b0">PNG_FILTER_VALUE_MIXED</a>, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span> },</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        { <span class="stringliteral">&quot;none&quot;</span>,  <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="png_8h.html#ae210fa408b148787fdde8c586c68d217">PNG_FILTER_VALUE_NONE</a> },  INT_MIN, INT_MAX, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span> },</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        { <span class="stringliteral">&quot;sub&quot;</span>,   <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="png_8h.html#afab0135bc6f6796c3f8e393bb6166d29">PNG_FILTER_VALUE_SUB</a> },   INT_MIN, INT_MAX, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span> },</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        { <span class="stringliteral">&quot;up&quot;</span>,    <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="png_8h.html#a9d32a597e359a02b0d9fc106c11a2b7f">PNG_FILTER_VALUE_UP</a> },    INT_MIN, INT_MAX, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span> },</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        { <span class="stringliteral">&quot;avg&quot;</span>,   <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="png_8h.html#a85d5ed71ae02e5ae5bc70a25fc72a490">PNG_FILTER_VALUE_AVG</a> },   INT_MIN, INT_MAX, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span> },</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        { <span class="stringliteral">&quot;paeth&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="png_8h.html#adcc2fbd448e0baacdcf335d1e5fde150">PNG_FILTER_VALUE_PAETH</a> }, INT_MIN, INT_MAX, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span> },</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        { <span class="stringliteral">&quot;mixed&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="png_8h.html#a420a5ee4df8e5fdb0ace2413829876b0">PNG_FILTER_VALUE_MIXED</a> }, INT_MIN, INT_MAX, <a class="code" href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span> },</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>},</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;};</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a97d41df4d73f685f566b4ec624b87b05"> 1126</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="pngenc_8c.html#a97d41df4d73f685f566b4ec624b87b05">pngenc_class</a> = {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;PNG encoder&quot;</span>,</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    .option     = <a class="code" href="pngenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;};</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a0f1b70e890aa35646c4a1f3901c5ca18"> 1133</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="pngenc_8c.html#a0f1b70e890aa35646c4a1f3901c5ca18">apngenc_class</a> = {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;APNG encoder&quot;</span>,</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    .option     = <a class="code" href="pngenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;};</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"><a class="line" href="pngenc_8c.html#a19ef4aecd3d9b52e03e495c2b39434b2"> 1140</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="pngenc_8c.html#a19ef4aecd3d9b52e03e495c2b39434b2">ff_png_encoder</a> = {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;png&quot;</span>,</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;PNG (Portable Network Graphics) image&quot;</span>),</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea13651c88d4a774a1012b40f6087b5fb9">AV_CODEC_ID_PNG</a>,</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="pngenc_8c.html#a2231d5187c3959c781910dd47d76d8a5">PNGEncContext</a>),</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="pngenc_8c.html#a06e9b962d214fbc2c6b818b2581a917e">png_enc_init</a>,</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    .close          = <a class="code" href="pngenc_8c.html#ab4c744df1f49936bc8070bc57afc00dd">png_enc_close</a>,</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    .encode2        = <a class="code" href="pngenc_8c.html#a81a8b0b01437807b4236d7e6f448c99e">encode_png</a>,</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a>,</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a7ffbd399b88a48196e3cba416eec4dac">AV_PIX_FMT_RGBA</a>,</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a5048d993177d03abcf21c1b1019f842a">AV_PIX_FMT_RGB48BE</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a6165b87961e2c51dbd9cbbca8d1d84bc">AV_PIX_FMT_RGBA64BE</a>,</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>,</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a3c1bce55e2ee040a7b4534ed763c22bf">AV_PIX_FMT_GRAY8A</a>,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a050ff8817d7c3f34891b4bf0fcf4ad48">AV_PIX_FMT_GRAY16BE</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a15383ccaf12d25fa27f18628a438162e">AV_PIX_FMT_YA16BE</a>,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a23615b27fdc5f8602d17dea500129a5b">AV_PIX_FMT_MONOBLACK</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    },</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    .priv_class     = &amp;<a class="code" href="pngenc_8c.html#a97d41df4d73f685f566b4ec624b87b05">pngenc_class</a>,</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;};</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"><a class="line" href="pngenc_8c.html#ab8c69d96e399047b8347e69227e068dc"> 1161</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="pngenc_8c.html#ab8c69d96e399047b8347e69227e068dc">ff_apng_encoder</a> = {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;apng&quot;</span>,</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;APNG (Animated Portable Network Graphics) image&quot;</span>),</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea21362c401630027757e02c301e44ff4f">AV_CODEC_ID_APNG</a>,</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="pngenc_8c.html#a2231d5187c3959c781910dd47d76d8a5">PNGEncContext</a>),</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="pngenc_8c.html#a06e9b962d214fbc2c6b818b2581a917e">png_enc_init</a>,</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    .close          = <a class="code" href="pngenc_8c.html#ab4c744df1f49936bc8070bc57afc00dd">png_enc_close</a>,</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    .encode2        = <a class="code" href="pngenc_8c.html#a0a90cf36e87b1857943e62270ca7eb7a">encode_apng</a>,</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a>,</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a7ffbd399b88a48196e3cba416eec4dac">AV_PIX_FMT_RGBA</a>,</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a5048d993177d03abcf21c1b1019f842a">AV_PIX_FMT_RGB48BE</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a6165b87961e2c51dbd9cbbca8d1d84bc">AV_PIX_FMT_RGBA64BE</a>,</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>,</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a3c1bce55e2ee040a7b4534ed763c22bf">AV_PIX_FMT_GRAY8A</a>,</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a050ff8817d7c3f34891b4bf0fcf4ad48">AV_PIX_FMT_GRAY16BE</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a15383ccaf12d25fa27f18628a438162e">AV_PIX_FMT_YA16BE</a>,</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a23615b27fdc5f8602d17dea500129a5b">AV_PIX_FMT_MONOBLACK</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    },</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    .priv_class     = &amp;<a class="code" href="pngenc_8c.html#a0f1b70e890aa35646c4a1f3901c5ca18">apngenc_class</a>,</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astruct_a_v_frame_html_af9920fc3fbfa347b8943ae461b50d18b"><div class="ttname"><a href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">AVFrame::pict_type</a></div><div class="ttdeci">enum AVPictureType pict_type</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:391</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_aa6ef004d10669ab4ee062367a014ea33"><div class="ttname"><a href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_ENABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00085">internal.h:85</a></div></div>
<div class="ttc" id="apngenc_8c_html_a843c0080e32159bb0ea2a1f65eb5c3d4"><div class="ttname"><a href="pngenc_8c.html#a843c0080e32159bb0ea2a1f65eb5c3d4">encode_frame</a></div><div class="ttdeci">static int encode_frame(AVCodecContext *avctx, const AVFrame *pict)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00431">pngenc.c:431</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_ae4d1eaaee02fc6c4672f59dcf7255286"><div class="ttname"><a href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a></div><div class="ttdeci">#define AV_WB16(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00245">intreadwrite.h:245</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_ab09abb126e3922bc1d010cf044087939"><div class="ttname"><a href="struct_a_v_frame.html#ab09abb126e3922bc1d010cf044087939">AVFrame::color_trc</a></div><div class="ttdeci">enum AVColorTransferCharacteristic color_trc</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00545">frame.h:556</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a3aa2faabe0d933c19bce4d7c525e5cc7"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a3aa2faabe0d933c19bce4d7c525e5cc7">PNGEncContext::dpm</a></div><div class="ttdeci">int dpm</div><div class="ttdoc">Physical pixel density, in dots per meter, if set.</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00061">pngenc.c:61</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_ae252a5a96a4afebc28d594b3295f06a8"><div class="ttname"><a href="struct_p_n_g_enc_context.html#ae252a5a96a4afebc28d594b3295f06a8">PNGEncContext::extra_data</a></div><div class="ttdeci">uint8_t * extra_data</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00072">pngenc.c:72</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad4791ea14975f098b649db7fcd731ce6"><div class="ttname"><a href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6">AVColorTransferCharacteristic</a></div><div class="ttdeci">AVColorTransferCharacteristic</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00483">pixfmt.h:483</a></div></div>
<div class="ttc" id="alibm_8h_html"><div class="ttname"><a href="libm_8h.html">libm.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_adc5f65d6099fd8339c1580c091777223"><div class="ttname"><a href="struct_a_v_codec_context.html#adc5f65d6099fd8339c1580c091777223">AVCodecContext::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:536</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_ad86c53b84981e4d2644745e4c7d93ef0"><div class="ttname"><a href="struct_p_n_g_enc_context.html#ad86c53b84981e4d2644745e4c7d93ef0">PNGEncContext::extra_data_updated</a></div><div class="ttdeci">int extra_data_updated</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00071">pngenc.c:71</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga6b1acbfa82c79bf7fd78d868572f0ceb"><div class="ttname"><a href="group__lavu__frame.html#ga6b1acbfa82c79bf7fd78d868572f0ceb">av_frame_get_buffer</a></div><div class="ttdeci">int av_frame_get_buffer(AVFrame *frame, int align)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00337">frame.c:337</a></div></div>
<div class="ttc" id="acommon_8h_html_a09a0bb7d8fcfac416de7a5fe7fd8b0f1"><div class="ttname"><a href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a></div><div class="ttdeci">#define FFSWAP(type, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00099">common.h:99</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gadec0efb470b1eead6a979333d9deca0c"><div class="ttname"><a href="group__lavu__frame.html#gadec0efb470b1eead6a979333d9deca0c">av_frame_get_side_data</a></div><div class="ttdeci">AVFrameSideData * av_frame_get_side_data(const AVFrame *frame, enum AVFrameSideDataType type)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00738">frame.c:738</a></div></div>
<div class="ttc" id="apngenc_8c_html_ae200051ae71d1fd9bd2cb16393111d95"><div class="ttname"><a href="pngenc_8c.html#ae200051ae71d1fd9bd2cb16393111d95">AV_WB32_PNG</a></div><div class="ttdeci">#define AV_WB32_PNG(buf, n)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00292">pngenc.c:292</a></div></div>
<div class="ttc" id="agroup__lavu__crc32_html_gad7b1134679f68f2d4a52edaf1441e38f"><div class="ttname"><a href="group__lavu__crc32.html#gad7b1134679f68f2d4a52edaf1441e38f">AVCRC</a></div><div class="ttdeci">uint32_t AVCRC</div><div class="ttdef"><b>Definition:</b> <a href="crc_8h_source.html#l00047">crc.h:47</a></div></div>
<div class="ttc" id="apngenc_8c_html_a8e78f4cabe7a8aa348795e1ed5425191"><div class="ttname"><a href="pngenc_8c.html#a8e78f4cabe7a8aa348795e1ed5425191">png_get_chrm</a></div><div class="ttdeci">static int png_get_chrm(enum AVColorPrimaries prim, uint8_t *buf)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00293">pngenc.c:293</a></div></div>
<div class="ttc" id="acommon_8h_html_a19c68e2b5efcbab914d79db1e4fee734"><div class="ttname"><a href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a></div><div class="ttdeci">#define MKTAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00405">common.h:405</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a59a3f830494f2ed1133103a1bc9481e7"><div class="ttname"><a href="struct_a_v_frame.html#a59a3f830494f2ed1133103a1bc9481e7">AVFrame::color_primaries</a></div><div class="ttdeci">enum AVColorPrimaries color_primaries</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00545">frame.h:554</a></div></div>
<div class="ttc" id="apng_8c_html_af54afb2d249e24a1dc412fc4ca85e837"><div class="ttname"><a href="png_8c.html#af54afb2d249e24a1dc412fc4ca85e837">ff_png_get_nb_channels</a></div><div class="ttdeci">int ff_png_get_nb_channels(int color_type)</div><div class="ttdef"><b>Definition:</b> <a href="png_8c_source.html#l00049">png.c:49</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5a2bc090d586303b25c642e3315d8671"><div class="ttname"><a href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">AVCodecContext::coded_frame</a></div><div class="ttdeci">attribute_deprecated AVFrame * coded_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01776">avcodec.h:1776</a></div></div>
<div class="ttc" id="apngenc_8c_html_a19ef4aecd3d9b52e03e495c2b39434b2"><div class="ttname"><a href="pngenc_8c.html#a19ef4aecd3d9b52e03e495c2b39434b2">ff_png_encoder</a></div><div class="ttdeci">AVCodec ff_png_encoder</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l01140">pngenc.c:1140</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55baa5961749381aec3e9a13d5c6309835c5"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55baa5961749381aec3e9a13d5c6309835c5">APNG_DISPOSE_OP_PREVIOUS</a></div><div class="ttdeci">@ APNG_DISPOSE_OP_PREVIOUS</div><div class="ttdef"><b>Definition:</b> <a href="apng_8h_source.html#l00033">apng.h:33</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_aa4e1c6357e04ee6960702c705448a76a"><div class="ttname"><a href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a></div><div class="ttdeci">filter_frame For filters that do not use the this method is called when a frame is pushed to the filter s input It can be called at any time except in a reentrant way If the input frame is enough to produce output</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00225">filter_design.txt:225</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_add8c57c0d366359dabcf82337fbc9619"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#add8c57c0d366359dabcf82337fbc9619">APNGFctlChunk::blend_op</a></div><div class="ttdeci">uint8_t blend_op</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00045">pngenc.c:45</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga979d73f3228814aee56aeca0636e37cc"><div class="ttname"><a href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a></div><div class="ttdeci">void av_frame_free(AVFrame **frame)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00203">frame.c:203</a></div></div>
<div class="ttc" id="apngenc_8c_html_a0a6c4d5ce1880400ff8f6b962e211cf3"><div class="ttname"><a href="pngenc_8c.html#a0a6c4d5ce1880400ff8f6b962e211cf3">apng_encode_frame</a></div><div class="ttdeci">static int apng_encode_frame(AVCodecContext *avctx, const AVFrame *pict, APNGFctlChunk *best_fctl_chunk, APNGFctlChunk *best_last_fctl_chunk)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00712">pngenc.c:712</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a6165b87961e2c51dbd9cbbca8d1d84bc"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a6165b87961e2c51dbd9cbbca8d1d84bc">AV_PIX_FMT_RGBA64BE</a></div><div class="ttdeci">@ AV_PIX_FMT_RGBA64BE</div><div class="ttdoc">packed RGBA 16:16:16:16, 64bpp, 16R, 16G, 16B, 16A, the 2-byte value for each R/G/B/A component is st...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00205">pixfmt.h:205</a></div></div>
<div class="ttc" id="apng_8h_html_a420a5ee4df8e5fdb0ace2413829876b0"><div class="ttname"><a href="png_8h.html#a420a5ee4df8e5fdb0ace2413829876b0">PNG_FILTER_VALUE_MIXED</a></div><div class="ttdeci">#define PNG_FILTER_VALUE_MIXED</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00043">png.h:43</a></div></div>
<div class="ttc" id="allviddspenc_8c_html_aba9ed0487b0aa23eba534648df8384c0"><div class="ttname"><a href="llviddspenc_8c.html#aba9ed0487b0aa23eba534648df8384c0">w</a></div><div class="ttdeci">uint8_t w</div><div class="ttdef"><b>Definition:</b> <a href="llviddspenc_8c_source.html#l00038">llviddspenc.c:38</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a9e5a25a530d01c04491216c368a1a04a"><div class="ttname"><a href="struct_a_v_codec_context.html#a9e5a25a530d01c04491216c368a1a04a">AVCodecContext::frame_number</a></div><div class="ttdeci">int frame_number</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01217">avcodec.h:1217</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba66ec8a0784325928991e8001ef9d27a8"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba66ec8a0784325928991e8001ef9d27a8">APNG_DISPOSE_OP_BACKGROUND</a></div><div class="ttdeci">@ APNG_DISPOSE_OP_BACKGROUND</div><div class="ttdef"><b>Definition:</b> <a href="apng_8h_source.html#l00032">apng.h:32</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_afd2d38dbc4338142d73bbd42c59ac186"><div class="ttname"><a href="intreadwrite_8h.html#afd2d38dbc4338142d73bbd42c59ac186">AV_WB64</a></div><div class="ttdeci">#define AV_WB64(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00311">intreadwrite.h:311</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a8db2a8d856ff3b8d648e80f990c5b249"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a8db2a8d856ff3b8d648e80f990c5b249">PNGEncContext::bytestream</a></div><div class="ttdeci">uint8_t * bytestream</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00052">pngenc.c:52</a></div></div>
<div class="ttc" id="apngenc_8c_html_ab46c2e47fa710beabd7dcd16ac2ee878"><div class="ttname"><a href="pngenc_8c.html#ab46c2e47fa710beabd7dcd16ac2ee878">png_write_row</a></div><div class="ttdeci">static int png_write_row(AVCodecContext *avctx, const uint8_t *data, int size)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00271">pngenc.c:271</a></div></div>
<div class="ttc" id="alibavcodec_2mlpdec_8c_html_aa55a4f0012620e21a4e2d1814d5033cb"><div class="ttname"><a href="libavcodec_2mlpdec_8c.html#aa55a4f0012620e21a4e2d1814d5033cb">output_data</a></div><div class="ttdeci">static int output_data(MLPDecodeContext *m, unsigned int substr, AVFrame *frame, int *got_frame_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2mlpdec_8c_source.html#l01062">mlpdec.c:1062</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a97d104f29e5ccc112e7ec881d48f0331"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a97d104f29e5ccc112e7ec881d48f0331">PNGEncContext::buf</a></div><div class="ttdeci">uint8_t buf[IOBUF_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00059">pngenc.c:59</a></div></div>
<div class="ttc" id="apngenc_8c_html_aa6071b65eedaea7be8754cd0037ab73e"><div class="ttname"><a href="pngenc_8c.html#aa6071b65eedaea7be8754cd0037ab73e">png_get_gama</a></div><div class="ttdeci">static int png_get_gama(enum AVColorTransferCharacteristic trc, uint8_t *buf)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00335">pngenc.c:335</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7">AVColorPrimaries</a></div><div class="ttdeci">AVColorPrimaries</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00458">pixfmt.h:458</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea21362c401630027757e02c301e44ff4f"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea21362c401630027757e02c301e44ff4f">AV_CODEC_ID_APNG</a></div><div class="ttdeci">@ AV_CODEC_ID_APNG</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00261">codec_id.h:261</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_ae244285998d42e22b8be8a9fc5b6cd37"><div class="ttname"><a href="struct_p_n_g_enc_context.html#ae244285998d42e22b8be8a9fc5b6cd37">PNGEncContext::dpi</a></div><div class="ttdeci">int dpi</div><div class="ttdoc">Physical pixel density, in dots per inch, if set.</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00060">pngenc.c:60</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a6787143040c08e5c1da558371a732425"><div class="ttname"><a href="avcodec_8h.html#a6787143040c08e5c1da558371a732425">FF_COMPRESSION_DEFAULT</a></div><div class="ttdeci">#define FF_COMPRESSION_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00599">avcodec.h:599</a></div></div>
<div class="ttc" id="apng_8c_html_afb608c760b3d477f1afad29f7c59d2ed"><div class="ttname"><a href="png_8c.html#afb608c760b3d477f1afad29f7c59d2ed">ff_png_zfree</a></div><div class="ttdeci">void ff_png_zfree(void *opaque, void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="png_8c_source.html#l00044">png.c:44</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="apng_8h_html_affec760a710ce3b6a2439af75c87eaa4"><div class="ttname"><a href="png_8h.html#affec760a710ce3b6a2439af75c87eaa4">NB_PASSES</a></div><div class="ttdeci">#define NB_PASSES</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00045">png.h:45</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a3649a81e8414a193d685a6eee06ce902"><div class="ttname"><a href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">AVFrame::key_frame</a></div><div class="ttdeci">int key_frame</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:386</a></div></div>
<div class="ttc" id="acrc_8h_html"><div class="ttname"><a href="crc_8h.html">crc.h</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html"><div class="ttname"><a href="struct_p_n_g_enc_context.html">PNGEncContext</a></div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00048">pngenc.c:48</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a050ff8817d7c3f34891b4bf0fcf4ad48"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a050ff8817d7c3f34891b4bf0fcf4ad48">AV_PIX_FMT_GRAY16BE</a></div><div class="ttdeci">@ AV_PIX_FMT_GRAY16BE</div><div class="ttdoc">Y , 16bpp, big-endian.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00097">pixfmt.h:97</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6aaa1ee993fc27f99269c536c51b0b5f3c"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6aaa1ee993fc27f99269c536c51b0b5f3c">AV_STEREO3D_SIDEBYSIDE</a></div><div class="ttdeci">@ AV_STEREO3D_SIDEBYSIDE</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00067">stereo3d.h:67</a></div></div>
<div class="ttc" id="astruct_a_v_stereo3_d_html"><div class="ttname"><a href="struct_a_v_stereo3_d.html">AVStereo3D</a></div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00176">stereo3d.h:176</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad4791ea14975f098b649db7fcd731ce6adcce194982c0e7d70d57f9ddbc604545"><div class="ttname"><a href="pixfmt_8h.html#ad4791ea14975f098b649db7fcd731ce6adcce194982c0e7d70d57f9ddbc604545">AVCOL_TRC_IEC61966_2_1</a></div><div class="ttdeci">@ AVCOL_TRC_IEC61966_2_1</div><div class="ttdoc">IEC 61966-2-1 (sRGB or sYCC)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00497">pixfmt.h:497</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="apng_8c_html_ae309b627bee1aad3c6ca1346eca6e977"><div class="ttname"><a href="png_8c.html#ae309b627bee1aad3c6ca1346eca6e977">ff_png_pass_row_size</a></div><div class="ttdeci">int ff_png_pass_row_size(int pass, int bits_per_pixel, int width)</div><div class="ttdef"><b>Definition:</b> <a href="png_8c_source.html#l00062">png.c:62</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_a56bdf8e7cf3bb81474a325d04a254fe0"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#a56bdf8e7cf3bb81474a325d04a254fe0">APNGFctlChunk::delay_num</a></div><div class="ttdeci">uint16_t delay_num</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00044">pngenc.c:44</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_adb71dbed8fb5aae78e6883d7927068da"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#adb71dbed8fb5aae78e6883d7927068da">APNGFctlChunk::sequence_number</a></div><div class="ttdeci">uint32_t sequence_number</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00041">pngenc.c:41</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_gga12fe9672eeaeb8980960faa96d2fcee6a276701c16077443c9526dd28da8001a7"><div class="ttname"><a href="group__lavu__video__stereo3d.html#gga12fe9672eeaeb8980960faa96d2fcee6a276701c16077443c9526dd28da8001a7">AV_STEREO3D_2D</a></div><div class="ttdeci">@ AV_STEREO3D_2D</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00055">stereo3d.h:55</a></div></div>
<div class="ttc" id="acolor__utils_8c_html_a658280423976900b500b09d6c8e5daa5"><div class="ttname"><a href="color__utils_8c.html#a658280423976900b500b09d6c8e5daa5">avpriv_get_gamma_from_trc</a></div><div class="ttdeci">double avpriv_get_gamma_from_trc(enum AVColorTransferCharacteristic trc)</div><div class="ttdef"><b>Definition:</b> <a href="color__utils_8c_source.html#l00028">color_utils.c:28</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_a3daaa1333d5907d8a0a2034307dbb70f"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#a3daaa1333d5907d8a0a2034307dbb70f">APNGFctlChunk::delay_den</a></div><div class="ttdeci">uint16_t delay_den</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00044">pngenc.c:44</a></div></div>
<div class="ttc" id="apngenc_8c_html_a81a8b0b01437807b4236d7e6f448c99e"><div class="ttname"><a href="pngenc_8c.html#a81a8b0b01437807b4236d7e6f448c99e">encode_png</a></div><div class="ttdeci">static int encode_png(AVCodecContext *avctx, AVPacket *pkt, const AVFrame *pict, int *got_packet)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00524">pngenc.c:524</a></div></div>
<div class="ttc" id="apng_8h_html_a60d8d104ff1904a7366a90afdd75c949"><div class="ttname"><a href="png_8h.html#a60d8d104ff1904a7366a90afdd75c949">PNG_COLOR_TYPE_RGB_ALPHA</a></div><div class="ttdeci">#define PNG_COLOR_TYPE_RGB_ALPHA</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00034">png.h:34</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a0432e5dad91abdf1f7fd8ae62e5d22bc"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a0432e5dad91abdf1f7fd8ae62e5d22bc">PNGEncContext::palette_checksum</a></div><div class="ttdeci">uint32_t palette_checksum</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00069">pngenc.c:69</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga502225f65e2092fbc45945247892cb0f"><div class="ttname"><a href="group__lavc__core.html#ga502225f65e2092fbc45945247892cb0f">AV_CODEC_FLAG_INTERLACED_DCT</a></div><div class="ttdeci">#define AV_CODEC_FLAG_INTERLACED_DCT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00321">avcodec.h:321</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gac700017c5270c79c1e1befdeeb008b2f"><div class="ttname"><a href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a></div><div class="ttdeci">AVFrame * av_frame_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00190">frame.c:190</a></div></div>
<div class="ttc" id="abfin_2bswap_8h_html_a9b3255993c3a688d63f61455099472f1"><div class="ttname"><a href="bfin_2bswap_8h.html#a9b3255993c3a688d63f61455099472f1">av_bswap32</a></div><div class="ttdeci">#define av_bswap32</div><div class="ttdef"><b>Definition:</b> <a href="bfin_2bswap_8h_source.html#l00033">bswap.h:33</a></div></div>
<div class="ttc" id="acolor__utils_8h_html"><div class="ttname"><a href="color__utils_8h.html">color_utils.h</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a36097280ddfe8ebfc825d0f98fd00621"><div class="ttname"><a href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a></div><div class="ttdeci">#define AV_WB32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00273">intreadwrite.h:273</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="apngenc_8c_html_a0a90cf36e87b1857943e62270ca7eb7a"><div class="ttname"><a href="pngenc_8c.html#a0a90cf36e87b1857943e62270ca7eb7a">encode_apng</a></div><div class="ttdeci">static int encode_apng(AVCodecContext *avctx, AVPacket *pkt, const AVFrame *pict, int *got_packet)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00841">pngenc.c:841</a></div></div>
<div class="ttc" id="alzw_8c_html_a450ea4ae52aeb4ca6e2fabf02c695153"><div class="ttname"><a href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a></div><div class="ttdeci">static const uint16_t mask[17]</div><div class="ttdef"><b>Definition:</b> <a href="lzw_8c_source.html#l00038">lzw.c:38</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_a3d67bac7d3cd340e8bce63fac54a3d83"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#a3d67bac7d3cd340e8bce63fac54a3d83">APNGFctlChunk::width</a></div><div class="ttdeci">uint32_t width</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00042">pngenc.c:42</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="alibavutil_2stereo3d_8h_html"><div class="ttname"><a href="libavutil_2stereo3d_8h.html">stereo3d.h</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_adb6a85f130b379977e394f0f51688c07"><div class="ttname"><a href="struct_p_n_g_enc_context.html#adb6a85f130b379977e394f0f51688c07">PNGEncContext::prev_frame</a></div><div class="ttdeci">AVFrame * prev_frame</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00075">pngenc.c:75</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="apngenc_8c_html_a0672e9111947cbc5c3b4eca74cce9ca9"><div class="ttname"><a href="pngenc_8c.html#a0672e9111947cbc5c3b4eca74cce9ca9">png_filter_row</a></div><div class="ttdeci">static void png_filter_row(PNGEncContext *c, uint8_t *dst, int filter_type, uint8_t *src, uint8_t *top, int size, int bpp)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00165">pngenc.c:165</a></div></div>
<div class="ttc" id="apngenc_8c_html_a31f1bcf01b109da5d369cf42b4e69aaf"><div class="ttname"><a href="pngenc_8c.html#a31f1bcf01b109da5d369cf42b4e69aaf">png_write_chunk</a></div><div class="ttdeci">static void png_write_chunk(uint8_t **f, uint32_t tag, const uint8_t *buf, int length)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00224">pngenc.c:224</a></div></div>
<div class="ttc" id="apng_8h_html_a30350690cac2ef450ec14447793a5a28"><div class="ttname"><a href="png_8h.html#a30350690cac2ef450ec14447793a5a28">PNG_COLOR_TYPE_RGB</a></div><div class="ttdeci">#define PNG_COLOR_TYPE_RGB</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00033">png.h:33</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00162">libkvazaar.c:300</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5252d34fbce300228d4dbda19a8c3293"><div class="ttname"><a href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">AVCodecContext::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00905">avcodec.h:905</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="agroup__lavc__encoding_html_ga4fde50e2cad4cf3d66d882a7078aeab4"><div class="ttname"><a href="group__lavc__encoding.html#ga4fde50e2cad4cf3d66d882a7078aeab4">AV_INPUT_BUFFER_MIN_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_MIN_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00222">avcodec.h:222</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a73bde0a37f3b1efc839f11295bfbf42a"><div class="ttname"><a href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">AVPacket::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00356">packet.h:356</a></div></div>
<div class="ttc" id="apngenc_8c_html_ab8734bfe7a9129e1c8c28f4a70067504"><div class="ttname"><a href="pngenc_8c.html#ab8734bfe7a9129e1c8c28f4a70067504">png_write_image_data</a></div><div class="ttdeci">static void png_write_image_data(AVCodecContext *avctx, const uint8_t *buf, int length)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00243">pngenc.c:243</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7a768f96c1362405b45b87fd3d6bc0c586"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a768f96c1362405b45b87fd3d6bc0c586">AVCOL_PRI_SMPTE240M</a></div><div class="ttdeci">@ AVCOL_PRI_SMPTE240M</div><div class="ttdoc">functionally identical to above</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00467">pixfmt.h:467</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="afft__template_8c_html_a9f2587d1070b8924b276ba83988d3667"><div class="ttname"><a href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a></div><div class="ttdeci">#define pass</div><div class="ttdef"><b>Definition:</b> <a href="fft__template_8c_source.html#l00619">fft_template.c:619</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac59f9714ac34774b43b3797c80b06c68"><div class="ttname"><a href="group__lavc__packet.html#gac59f9714ac34774b43b3797c80b06c68">av_packet_new_side_data</a></div><div class="ttdeci">uint8_t * av_packet_new_side_data(AVPacket *pkt, enum AVPacketSideDataType type, int size)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00332">avpacket.c:332</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a7ffbd399b88a48196e3cba416eec4dac"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a7ffbd399b88a48196e3cba416eec4dac">AV_PIX_FMT_RGBA</a></div><div class="ttdeci">@ AV_PIX_FMT_RGBA</div><div class="ttdoc">packed RGBA 8:8:8:8, 32bpp, RGBARGBA...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00093">pixfmt.h:93</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7a1aeb4f44414c396b28b3f392313e50ae"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a1aeb4f44414c396b28b3f392313e50ae">AVCOL_PRI_BT470BG</a></div><div class="ttdeci">@ AVCOL_PRI_BT470BG</div><div class="ttdoc">also ITU-R BT601-6 625 / ITU-R BT1358 625 / ITU-R BT1700 625 PAL &amp; SECAM</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00465">pixfmt.h:465</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7ad882a69d6c7cf33fa22a5717c63baf19"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7ad882a69d6c7cf33fa22a5717c63baf19">AVCOL_PRI_SMPTE170M</a></div><div class="ttdeci">@ AVCOL_PRI_SMPTE170M</div><div class="ttdoc">also ITU-R BT601-6 525 / ITU-R BT1358 525 / ITU-R BT1700 NTSC</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00466">pixfmt.h:466</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea13651c88d4a774a1012b40f6087b5fb9"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea13651c88d4a774a1012b40f6087b5fb9">AV_CODEC_ID_PNG</a></div><div class="ttdeci">@ AV_CODEC_ID_PNG</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00110">codec_id.h:110</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae21e6310b40920cd61f54e9c320d8e6c"><div class="ttname"><a href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_FRAME_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00106">codec.h:106</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a3c1bce55e2ee040a7b4534ed763c22bf"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a3c1bce55e2ee040a7b4534ed763c22bf">AV_PIX_FMT_GRAY8A</a></div><div class="ttdeci">@ AV_PIX_FMT_GRAY8A</div><div class="ttdoc">alias for AV_PIX_FMT_YA8</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00146">pixfmt.h:146</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="aapng_8h_html"><div class="ttname"><a href="apng_8h.html">apng.h</a></div></div>
<div class="ttc" id="apngenc_8c_html_ac7fc090cede7c1c5a36bbedc3e561e2e"><div class="ttname"><a href="pngenc_8c.html#ac7fc090cede7c1c5a36bbedc3e561e2e">IOBUF_SIZE</a></div><div class="ttdeci">#define IOBUF_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00038">pngenc.c:38</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a23615b27fdc5f8602d17dea500129a5b"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a23615b27fdc5f8602d17dea500129a5b">AV_PIX_FMT_MONOBLACK</a></div><div class="ttdeci">@ AV_PIX_FMT_MONOBLACK</div><div class="ttdoc">Y , 1bpp, 0 is black, 1 is white, in each byte pixels are ordered from the msb to the lsb.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00076">pixfmt.h:76</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7a4f1c38f3e06cd2c49b28046bbf3a4cbd"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7a4f1c38f3e06cd2c49b28046bbf3a4cbd">AVCOL_PRI_BT709</a></div><div class="ttdeci">@ AVCOL_PRI_BT709</div><div class="ttdoc">also ITU-R BT1361 / IEC 61966-2-4 / SMPTE RP177 Annex B</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00460">pixfmt.h:460</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="apngenc_8c_html_a86b93b8a6cd32e0d0e7051e99eed441a"><div class="ttname"><a href="pngenc_8c.html#a86b93b8a6cd32e0d0e7051e99eed441a">apng_do_inverse_blend</a></div><div class="ttdeci">static int apng_do_inverse_blend(AVFrame *output, const AVFrame *input, APNGFctlChunk *fctl_chunk, uint8_t bpp)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00569">pngenc.c:569</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="apngenc_8c_html_ab4c744df1f49936bc8070bc57afc00dd"><div class="ttname"><a href="pngenc_8c.html#ab4c744df1f49936bc8070bc57afc00dd">png_enc_close</a></div><div class="ttdeci">static av_cold int png_enc_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l01098">pngenc.c:1098</a></div></div>
<div class="ttc" id="apng_8h_html_ac679619ad9d3f2c46c2b69fe65bd19f1"><div class="ttname"><a href="png_8h.html#ac679619ad9d3f2c46c2b69fe65bd19f1">PNG_COLOR_TYPE_GRAY</a></div><div class="ttdeci">#define PNG_COLOR_TYPE_GRAY</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00031">png.h:31</a></div></div>
<div class="ttc" id="avf__neighbor_8c_html_a1f78459fa485dc0caa8aeb3223b68443"><div class="ttname"><a href="vf__neighbor_8c.html#a1f78459fa485dc0caa8aeb3223b68443">deflate</a></div><div class="ttdeci">static void deflate(uint8_t *dst, const uint8_t *p1, int width, int threshold, const uint8_t *coordinates[], int coord, int maxc)</div><div class="ttdef"><b>Definition:</b> <a href="vf__neighbor_8c_source.html#l00165">vf_neighbor.c:165</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_a3aa069ac3980707dae1e0530f50d59e4"><div class="ttname"><a href="cuda__runtime_8h.html#a3aa069ac3980707dae1e0530f50d59e4">abs</a></div><div class="ttdeci">#define abs(x)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00035">cuda_runtime.h:35</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_a066844a8f70525cd90b257e27b65856f"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#a066844a8f70525cd90b257e27b65856f">APNGFctlChunk::x_offset</a></div><div class="ttdeci">uint32_t x_offset</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00043">pngenc.c:43</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a></div><div class="ttdeci">@ AV_PIX_FMT_GRAY8</div><div class="ttdoc">Y , 8bpp.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00074">pixfmt.h:74</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_acdc246522fddae1e07b52d3f817ad9f3"><div class="ttname"><a href="struct_p_n_g_enc_context.html#acdc246522fddae1e07b52d3f817ad9f3">PNGEncContext::color_type</a></div><div class="ttdeci">int color_type</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00065">pngenc.c:65</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_afcbb855b4d19a25824aa5da4c26dab1b"><div class="ttname"><a href="struct_p_n_g_enc_context.html#afcbb855b4d19a25824aa5da4c26dab1b">PNGEncContext::sequence_number</a></div><div class="ttdeci">uint32_t sequence_number</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00070">pngenc.c:70</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="apng_8c_html_a747404f173438ee98ffdaf639d50d007"><div class="ttname"><a href="png_8c.html#a747404f173438ee98ffdaf639d50d007">ff_png_pass_ymask</a></div><div class="ttdeci">const uint8_t ff_png_pass_ymask[NB_PASSES]</div><div class="ttdef"><b>Definition:</b> <a href="png_8c_source.html#l00025">png.c:25</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_ae44e4938a2e1f160dbd4ac0410ea5533"><div class="ttname"><a href="struct_p_n_g_enc_context.html#ae44e4938a2e1f160dbd4ac0410ea5533">PNGEncContext::last_frame_fctl</a></div><div class="ttdeci">APNGFctlChunk last_frame_fctl</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00077">pngenc.c:77</a></div></div>
<div class="ttc" id="alossless__videoencdsp_8c_html_ab16ae1cd2f4e11152a388fdfe31bc8fb"><div class="ttname"><a href="lossless__videoencdsp_8c.html#ab16ae1cd2f4e11152a388fdfe31bc8fb">ff_llvidencdsp_init</a></div><div class="ttdeci">av_cold void ff_llvidencdsp_init(LLVidEncDSPContext *c)</div><div class="ttdef"><b>Definition:</b> <a href="lossless__videoencdsp_8c_source.html#l00091">lossless_videoencdsp.c:91</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a3f89733f429c98ba5bc64373fb0a3f13"><div class="ttname"><a href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">AVFrame::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00366">frame.h:366</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7adee9de223d6a8683fd2177b43444404c"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7adee9de223d6a8683fd2177b43444404c">AVCOL_PRI_BT2020</a></div><div class="ttdeci">@ AVCOL_PRI_BT2020</div><div class="ttdoc">ITU-R BT2020.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00469">pixfmt.h:469</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a02a28475b9312472bbb0ed34a4ebc400"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a02a28475b9312472bbb0ed34a4ebc400">PNGEncContext::bits_per_pixel</a></div><div class="ttdeci">int bits_per_pixel</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00066">pngenc.c:66</a></div></div>
<div class="ttc" id="apng_8h_html_ae210fa408b148787fdde8c586c68d217"><div class="ttname"><a href="png_8h.html#ae210fa408b148787fdde8c586c68d217">PNG_FILTER_VALUE_NONE</a></div><div class="ttdeci">#define PNG_FILTER_VALUE_NONE</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00038">png.h:38</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a71510e52c1c3f493dd13c2ca6862784d"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a71510e52c1c3f493dd13c2ca6862784d">PNGEncContext::zstream</a></div><div class="ttdeci">z_stream zstream</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00058">pngenc.c:58</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1056b0254d029240958ac60e6110cc1"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1056b0254d029240958ac60e6110cc1">AVCodecContext::prediction_method</a></div><div class="ttdeci">attribute_deprecated int prediction_method</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00885">avcodec.h:885</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a></div><div class="ttdeci">@ AV_PIX_FMT_RGB24</div><div class="ttdoc">packed RGB 8:8:8, 24bpp, RGBRGB...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00068">pixfmt.h:68</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a238cbae5c6d945419af9caa4979cd80e"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a238cbae5c6d945419af9caa4979cd80e">PNGEncContext::last_frame_packet</a></div><div class="ttdeci">uint8_t * last_frame_packet</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00078">pngenc.c:78</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga88b0ecbc4eb3453eef3fbefa3bddeb7c"><div class="ttname"><a href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a></div><div class="ttdeci">int av_frame_ref(AVFrame *dst, const AVFrame *src)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00443">frame.c:443</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_a4615da6c9552dffbdedac6f634950c7b"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#a4615da6c9552dffbdedac6f634950c7b">APNGFctlChunk::height</a></div><div class="ttdeci">uint32_t height</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00042">pngenc.c:42</a></div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html"><div class="ttname"><a href="struct_a_v_frame_side_data.html">AVFrameSideData</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00214">frame.h:214</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gaec4e92f6e1e75ffaf76e07586fb0c9ed"><div class="ttname"><a href="group__lavu__frame.html#gaec4e92f6e1e75ffaf76e07586fb0c9ed">av_frame_copy</a></div><div class="ttdeci">int av_frame_copy(AVFrame *dst, const AVFrame *src)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00799">frame.c:799</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a15383ccaf12d25fa27f18628a438162e"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a15383ccaf12d25fa27f18628a438162e">AV_PIX_FMT_YA16BE</a></div><div class="ttdeci">@ AV_PIX_FMT_YA16BE</div><div class="ttdoc">16 bits gray, 16 bits alpha (big-endian)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00212">pixfmt.h:212</a></div></div>
<div class="ttc" id="apng_8h_html_a85d5ed71ae02e5ae5bc70a25fc72a490"><div class="ttname"><a href="png_8h.html#a85d5ed71ae02e5ae5bc70a25fc72a490">PNG_FILTER_VALUE_AVG</a></div><div class="ttdeci">#define PNG_FILTER_VALUE_AVG</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00041">png.h:41</a></div></div>
<div class="ttc" id="astruct_a_v_stereo3_d_html_a9e74d14d6b5dddcd6126da075558f102"><div class="ttname"><a href="struct_a_v_stereo3_d.html#a9e74d14d6b5dddcd6126da075558f102">AVStereo3D::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00185">stereo3d.h:185</a></div></div>
<div class="ttc" id="acommon_8h_html_a1e233db224cd0a3079fd4572d1a3d717"><div class="ttname"><a href="common_8h.html#a1e233db224cd0a3079fd4572d1a3d717">MKBETAG</a></div><div class="ttdeci">#define MKBETAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00406">common.h:406</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00606">avcodec.h:606</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a85dbbd306b44b02390cd91c45e6a0f76"><div class="ttname"><a href="struct_a_v_packet.html#a85dbbd306b44b02390cd91c45e6a0f76">AVPacket::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00362">packet.h:362</a></div></div>
<div class="ttc" id="apng_8h_html_adcc2fbd448e0baacdcf335d1e5fde150"><div class="ttname"><a href="png_8h.html#adcc2fbd448e0baacdcf335d1e5fde150">PNG_FILTER_VALUE_PAETH</a></div><div class="ttdeci">#define PNG_FILTER_VALUE_PAETH</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00042">png.h:42</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="apngenc_8c_html_ab8c69d96e399047b8347e69227e068dc"><div class="ttname"><a href="pngenc_8c.html#ab8c69d96e399047b8347e69227e068dc">ff_apng_encoder</a></div><div class="ttdeci">AVCodec ff_apng_encoder</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l01161">pngenc.c:1161</a></div></div>
<div class="ttc" id="apng_8h_html_a9d32a597e359a02b0d9fc106c11a2b7f"><div class="ttname"><a href="png_8h.html#a9d32a597e359a02b0d9fc106c11a2b7f">PNG_FILTER_VALUE_UP</a></div><div class="ttdeci">#define PNG_FILTER_VALUE_UP</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00040">png.h:40</a></div></div>
<div class="ttc" id="apngenc_8c_html_a258ad479ec69b6cd783136224d51ddfa"><div class="ttname"><a href="pngenc_8c.html#a258ad479ec69b6cd783136224d51ddfa">png_choose_filter</a></div><div class="ttdeci">static uint8_t * png_choose_filter(PNGEncContext *s, uint8_t *dst, uint8_t *src, uint8_t *top, int size, int bpp)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00194">pngenc.c:194</a></div></div>
<div class="ttc" id="astruct_a_v_frame_side_data_html_a76937ad48652a5a0cc4bff65fc6c886e"><div class="ttname"><a href="struct_a_v_frame_side_data.html#a76937ad48652a5a0cc4bff65fc6c886e">AVFrameSideData::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00216">frame.h:216</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_aeb0139ef4e0368963471cbb514a94d7a"><div class="ttname"><a href="struct_p_n_g_enc_context.html#aeb0139ef4e0368963471cbb514a94d7a">PNGEncContext::llvidencdsp</a></div><div class="ttdeci">LLVidEncDSPContext llvidencdsp</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00050">pngenc.c:50</a></div></div>
<div class="ttc" id="agroup__lavu__crc32_html_gabb35ea72fdeee2645e4e57cae225ac2b"><div class="ttname"><a href="group__lavu__crc32.html#gabb35ea72fdeee2645e4e57cae225ac2b">av_crc_get_table</a></div><div class="ttdeci">const AVCRC * av_crc_get_table(AVCRCId crc_id)</div><div class="ttdef"><b>Definition:</b> <a href="crc_8c_source.html#l00374">crc.c:374</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html">APNGFctlChunk</a></div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00040">pngenc.c:40</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_aa52bfc6605f6a3059a0c3226cc0f6567"><div class="ttname"><a href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">AVFrame::linesize</a></div><div class="ttdeci">int linesize[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00339">frame.h:339</a></div></div>
<div class="ttc" id="apngenc_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="pngenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l01111">pngenc.c:1111</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a240aeaec2b2fee28af8be686981e499f"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a240aeaec2b2fee28af8be686981e499f">PNGEncContext::last_frame</a></div><div class="ttdeci">AVFrame * last_frame</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00076">pngenc.c:76</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1e71ce60cedd5f3b6811714a9f7f9e0a"><div class="ttname"><a href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">AVFrame::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00366">frame.h:366</a></div></div>
<div class="ttc" id="agroup__lavu__video__stereo3d_html_ga5cca86880e9be72c89bca1c7a41eec99"><div class="ttname"><a href="group__lavu__video__stereo3d.html#ga5cca86880e9be72c89bca1c7a41eec99">AV_STEREO3D_FLAG_INVERT</a></div><div class="ttdeci">#define AV_STEREO3D_FLAG_INVERT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00167">stereo3d.h:167</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a877535c3b6ffdf230bce90c82c597d17"><div class="ttname"><a href="filter__design_8txt.html#a877535c3b6ffdf230bce90c82c597d17">input</a></div><div class="ttdeci">and forward the test the status of outputs and forward it to the corresponding return FFERROR_NOT_READY If the filters stores internally one or a few frame for some input</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00172">filter_design.txt:172</a></div></div>
<div class="ttc" id="apng_8h_html_a97ff27448a333bda8931dc523f65b642"><div class="ttname"><a href="png_8h.html#a97ff27448a333bda8931dc523f65b642">PNGSIG</a></div><div class="ttdeci">#define PNGSIG</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00047">png.h:47</a></div></div>
<div class="ttc" id="amlpenc_8c_html_a9a371bcc72d6998885cffaf64a0ad0d2"><div class="ttname"><a href="mlpenc_8c.html#a9a371bcc72d6998885cffaf64a0ad0d2">input_data</a></div><div class="ttdeci">static void input_data(MLPEncodeContext *ctx, void *samples)</div><div class="ttdef"><b>Definition:</b> <a href="mlpenc_8c_source.html#l01276">mlpenc.c:1276</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_ae2f4465fdbd9a01c75259ae240682602"><div class="ttname"><a href="struct_p_n_g_enc_context.html#ae2f4465fdbd9a01c75259ae240682602">PNGEncContext::bytestream_start</a></div><div class="ttdeci">uint8_t * bytestream_start</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00053">pngenc.c:53</a></div></div>
<div class="ttc" id="alossless__videoencdsp_8h_html"><div class="ttname"><a href="lossless__videoencdsp_8h.html">lossless_videoencdsp.h</a></div></div>
<div class="ttc" id="atests_2checkasm_2h264pred_8c_html_a631c6befc8ec221896734437f964a631"><div class="ttname"><a href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a></div><div class="ttdeci">#define src1</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2h264pred_8c_source.html#l00139">h264pred.c:139</a></div></div>
<div class="ttc" id="apng_8h_html_afab0135bc6f6796c3f8e393bb6166d29"><div class="ttname"><a href="png_8h.html#afab0135bc6f6796c3f8e393bb6166d29">PNG_FILTER_VALUE_SUB</a></div><div class="ttdeci">#define PNG_FILTER_VALUE_SUB</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00039">png.h:39</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a1f484828b556aa4764626f97f6b9be0f"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a1f484828b556aa4764626f97f6b9be0f">PNGEncContext::bytestream_end</a></div><div class="ttdeci">uint8_t * bytestream_end</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00054">pngenc.c:54</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a5048d993177d03abcf21c1b1019f842a"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a5048d993177d03abcf21c1b1019f842a">AV_PIX_FMT_RGB48BE</a></div><div class="ttdeci">@ AV_PIX_FMT_RGB48BE</div><div class="ttdoc">packed RGB 16:16:16, 48bpp, 16R, 16G, 16B, the 2-byte value for each R/G/B component is stored as big...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00102">pixfmt.h:102</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a9aad44bed0c244bb2f4d3e7296b2946a"><div class="ttname"><a href="intreadwrite_8h.html#a9aad44bed0c244bb2f4d3e7296b2946a">AV_WL32</a></div><div class="ttdeci">#define AV_WL32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00290">intreadwrite.h:290</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="apngenc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="pngenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l01113">pngenc.c:1113</a></div></div>
<div class="ttc" id="apngenc_8c_html_a2231d5187c3959c781910dd47d76d8a5"><div class="ttname"><a href="pngenc_8c.html#a2231d5187c3959c781910dd47d76d8a5">PNGEncContext</a></div><div class="ttdeci">struct PNGEncContext PNGEncContext</div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_a0f9f4d038fef220dcce159975b26533c"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#a0f9f4d038fef220dcce159975b26533c">APNGFctlChunk::y_offset</a></div><div class="ttdeci">uint32_t y_offset</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00043">pngenc.c:43</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ggae01fa7e427274293aacdf2adc17076bcacec681d6146e8bd4c61b2e1cc88354a8"><div class="ttname"><a href="group__lavu__frame.html#ggae01fa7e427274293aacdf2adc17076bcacec681d6146e8bd4c61b2e1cc88354a8">AV_FRAME_DATA_STEREO3D</a></div><div class="ttdeci">@ AV_FRAME_DATA_STEREO3D</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00063">frame.h:63</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga0a2b687f9c1c5ed0089b01fd61227108"><div class="ttname"><a href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a></div><div class="ttdeci">void av_frame_unref(AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00553">frame.c:553</a></div></div>
<div class="ttc" id="apng_8c_html_af7fa17ebbe5e05df27b689c18ea3ef49"><div class="ttname"><a href="png_8c.html#af7fa17ebbe5e05df27b689c18ea3ef49">ff_png_zalloc</a></div><div class="ttdeci">void * ff_png_zalloc(void *opaque, unsigned int items, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="png_8c_source.html#l00039">png.c:39</a></div></div>
<div class="ttc" id="apngenc_8c_html_a0f1b70e890aa35646c4a1f3901c5ca18"><div class="ttname"><a href="pngenc_8c.html#a0f1b70e890aa35646c4a1f3901c5ca18">apngenc_class</a></div><div class="ttdeci">static const AVClass apngenc_class</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l01133">pngenc.c:1133</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="apngenc_8c_html_a164f865eb90701b15b5c6799bca06922"><div class="ttname"><a href="pngenc_8c.html#a164f865eb90701b15b5c6799bca06922">sub_left_prediction</a></div><div class="ttdeci">static void sub_left_prediction(PNGEncContext *c, uint8_t *dst, const uint8_t *src, int bpp, int size)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00149">pngenc.c:149</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a6b6b98c6833d2020c596af75bd6f5c63"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a6b6b98c6833d2020c596af75bd6f5c63">PNGEncContext::is_progressive</a></div><div class="ttdeci">int is_progressive</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00063">pngenc.c:63</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a></div><div class="ttdeci">@ AV_PIX_FMT_PAL8</div><div class="ttdoc">8 bits with AV_PIX_FMT_RGB32 palette</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00077">pixfmt.h:77</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ad384ee5a840bafd73daef08e6d9cafe7ae5d6b90d4f36ac68f3a5ef347d930cc9"><div class="ttname"><a href="pixfmt_8h.html#ad384ee5a840bafd73daef08e6d9cafe7ae5d6b90d4f36ac68f3a5ef347d930cc9">AVCOL_PRI_BT470M</a></div><div class="ttdeci">@ AVCOL_PRI_BT470M</div><div class="ttdoc">also FCC Title 47 Code of Federal Regulations 73.682 (a)(20)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00463">pixfmt.h:463</a></div></div>
<div class="ttc" id="amovenc_8c_html_a1c50fcd1195659821729f52af8f3bb7d"><div class="ttname"><a href="movenc_8c.html#a1c50fcd1195659821729f52af8f3bb7d">tag</a></div><div class="ttdeci">uint32_t tag</div><div class="ttdef"><b>Definition:</b> <a href="movenc_8c_source.html#l01597">movenc.c:1597</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="asiprdata_8h_html_a3cce87604695942e930d8853d9cad953"><div class="ttname"><a href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a></div><div class="ttdeci">static const float pred[4]</div><div class="ttdef"><b>Definition:</b> <a href="siprdata_8h_source.html#l00259">siprdata.h:259</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="aapng_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a927d4751ccfd457cbabeb365eaa053b2"><div class="ttname"><a href="apng_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a927d4751ccfd457cbabeb365eaa053b2">APNG_BLEND_OP_SOURCE</a></div><div class="ttdeci">@ APNG_BLEND_OP_SOURCE</div><div class="ttdef"><b>Definition:</b> <a href="apng_8h_source.html#l00037">apng.h:37</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aa401ca663644caa51ede1889659c23d6"><div class="ttname"><a href="struct_a_v_codec_context.html#aa401ca663644caa51ede1889659c23d6">AVCodecContext::compression_level</a></div><div class="ttdeci">int compression_level</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00598">avcodec.h:598</a></div></div>
<div class="ttc" id="astruct_a_v_stereo3_d_html_a052514d0376a94e58e3eb9db3db2a7ce"><div class="ttname"><a href="struct_a_v_stereo3_d.html#a052514d0376a94e58e3eb9db3db2a7ce">AVStereo3D::type</a></div><div class="ttdeci">enum AVStereo3DType type</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2stereo3d_8h_source.html#l00226">stereo3d.h:180</a></div></div>
<div class="ttc" id="atests_2adler32_8c_html_aa4a4ec4e17257f17b6efac777b468700"><div class="ttname"><a href="tests_2adler32_8c.html#aa4a4ec4e17257f17b6efac777b468700">checksum</a></div><div class="ttdeci">static volatile int checksum</div><div class="ttdef"><b>Definition:</b> <a href="tests_2adler32_8c_source.html#l00030">adler32.c:30</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a7388cd2459384e2aea9148db84ef2a55"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a7388cd2459384e2aea9148db84ef2a55">PNGEncContext::last_frame_packet_size</a></div><div class="ttdeci">size_t last_frame_packet_size</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00079">pngenc.c:79</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1d0f65014a8d1bf78cec8cbed2304992"><div class="ttname"><a href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">AVFrame::data</a></div><div class="ttdeci">uint8_t * data[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00322">frame.h:322</a></div></div>
<div class="ttc" id="astruct_l_l_vid_enc_d_s_p_context_html"><div class="ttname"><a href="struct_l_l_vid_enc_d_s_p_context.html">LLVidEncDSPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="lossless__videoencdsp_8h_source.html#l00026">lossless_videoencdsp.h:26</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a2c75228ecee8ffe40fa3e3f20aefd4de"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a2c75228ecee8ffe40fa3e3f20aefd4de">PNGEncContext::bit_depth</a></div><div class="ttdeci">int bit_depth</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00064">pngenc.c:64</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_aed14fa772ce46881020fd1545c86432c"><div class="ttname"><a href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">AVFrame::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00381">frame.h:381</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5273a8cf73ef598d632c6eee1379d5ad"><div class="ttname"><a href="struct_a_v_codec_context.html#a5273a8cf73ef598d632c6eee1379d5ad">AVCodecContext::bits_per_coded_sample</a></div><div class="ttdeci">int bits_per_coded_sample</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01750">avcodec.h:1750</a></div></div>
<div class="ttc" id="agroup__lavu__crc32_html_gae0feb73f66306494315f07de7ab57f80"><div class="ttname"><a href="group__lavu__crc32.html#gae0feb73f66306494315f07de7ab57f80">av_crc</a></div><div class="ttdeci">uint32_t av_crc(const AVCRC *ctx, uint32_t crc, const uint8_t *buffer, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="crc_8c_source.html#l00392">crc.c:392</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a"><div class="ttname"><a href="group__lavc__packet.html#gga9a80bfcacc586b483a973272800edb97ad353d4a7841087354593a97bef92841a">AV_PKT_DATA_NEW_EXTRADATA</a></div><div class="ttdeci">@ AV_PKT_DATA_NEW_EXTRADATA</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00055">packet.h:55</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="apngenc_8c_html_aebd019e4ba56fd84009082ce165f5535"><div class="ttname"><a href="pngenc_8c.html#aebd019e4ba56fd84009082ce165f5535">png_get_interlaced_row</a></div><div class="ttdeci">static void png_get_interlaced_row(uint8_t *dst, int row_size, int bits_per_pixel, int pass, const uint8_t *src, int width)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00082">pngenc.c:82</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga3f55f5bcfbb12e06c7cb1195028855e6"><div class="ttname"><a href="group__lavc__core.html#ga3f55f5bcfbb12e06c7cb1195028855e6">AV_CODEC_CAP_DELAY</a></div><div class="ttdeci">#define AV_CODEC_CAP_DELAY</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00075">codec.h:75</a></div></div>
<div class="ttc" id="astruct_a_p_n_g_fctl_chunk_html_afa341400a732032c72f8757dfedbc1bd"><div class="ttname"><a href="struct_a_p_n_g_fctl_chunk.html#afa341400a732032c72f8757dfedbc1bd">APNGFctlChunk::dispose_op</a></div><div class="ttdeci">uint8_t dispose_op</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00045">pngenc.c:45</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5837cafc419c2b5ecdb1dfa330675d13"><div class="ttname"><a href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_DISABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00084">internal.h:84</a></div></div>
<div class="ttc" id="agroup__lavu__crc32_html_ggab7717a9f1179a5ac8516982f9f2997d2aa43f268d15303373c90287522a4d4752"><div class="ttname"><a href="group__lavu__crc32.html#ggab7717a9f1179a5ac8516982f9f2997d2aa43f268d15303373c90287522a4d4752">AV_CRC_32_IEEE_LE</a></div><div class="ttdeci">@ AV_CRC_32_IEEE_LE</div><div class="ttdef"><b>Definition:</b> <a href="crc_8h_source.html#l00054">crc.h:54</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="apngenc_8c_html_a06e9b962d214fbc2c6b818b2581a917e"><div class="ttname"><a href="pngenc_8c.html#a06e9b962d214fbc2c6b818b2581a917e">png_enc_init</a></div><div class="ttdeci">static av_cold int png_enc_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00989">pngenc.c:989</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:736</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="ailbcdata_8h_html_a545b8c1c045fcc34b81d3ca822620277"><div class="ttname"><a href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a></div><div class="ttdeci">static const int16_t alpha[]</div><div class="ttdef"><b>Definition:</b> <a href="ilbcdata_8h_source.html#l00055">ilbcdata.h:55</a></div></div>
<div class="ttc" id="apng_8h_html"><div class="ttname"><a href="png_8h.html">png.h</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="apngenc_8c_html_a4f508fbeaddc58871c7a31bf1a3c3282"><div class="ttname"><a href="pngenc_8c.html#a4f508fbeaddc58871c7a31bf1a3c3282">APNGFctlChunk</a></div><div class="ttdeci">struct APNGFctlChunk APNGFctlChunk</div></div>
<div class="ttc" id="agroup__avoptions_html_gga06fc87d81c62e9abb8790b6e5713c55ba6406a28903761220eb0cc958ea705ae6"><div class="ttname"><a href="group__avoptions.html#gga06fc87d81c62e9abb8790b6e5713c55ba6406a28903761220eb0cc958ea705ae6">APNG_DISPOSE_OP_NONE</a></div><div class="ttdeci">@ APNG_DISPOSE_OP_NONE</div><div class="ttdef"><b>Definition:</b> <a href="apng_8h_source.html#l00031">apng.h:31</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="apngenc_8c_html_ab73cbbdad0b75ad5cb5bc0770ea1275c"><div class="ttname"><a href="pngenc_8c.html#ab73cbbdad0b75ad5cb5bc0770ea1275c">sub_png_paeth_prediction</a></div><div class="ttdeci">static void sub_png_paeth_prediction(uint8_t *dst, uint8_t *src, uint8_t *top, int w, int bpp)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00121">pngenc.c:121</a></div></div>
<div class="ttc" id="apng_8h_html_a6f7f3931c163838e2bc3132de2cd4391"><div class="ttname"><a href="png_8h.html#a6f7f3931c163838e2bc3132de2cd4391">PNG_COLOR_TYPE_GRAY_ALPHA</a></div><div class="ttdeci">#define PNG_COLOR_TYPE_GRAY_ALPHA</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00035">png.h:35</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a102cd3db8682b2b9ec226df83df6c9b7"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a102cd3db8682b2b9ec226df83df6c9b7">PNGEncContext::filter_type</a></div><div class="ttdeci">int filter_type</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00056">pngenc.c:56</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="aencode_8c_html_a699df1216e8d9d57959f99508e9aadf6"><div class="ttname"><a href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a></div><div class="ttdeci">int ff_alloc_packet2(AVCodecContext *avctx, AVPacket *avpkt, int64_t size, int64_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="encode_8c_source.html#l00033">encode.c:33</a></div></div>
<div class="ttc" id="astruct_p_n_g_enc_context_html_a985aaaab6346c8377f03bd485605f412"><div class="ttname"><a href="struct_p_n_g_enc_context.html#a985aaaab6346c8377f03bd485605f412">PNGEncContext::extra_data_size</a></div><div class="ttdeci">int extra_data_size</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00073">pngenc.c:73</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="apngenc_8c_html_a3dcf4acb9f7d9c57f43802a9a1ac4ee6"><div class="ttname"><a href="pngenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a></div><div class="ttdeci">#define VE</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l01112">pngenc.c:1112</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="apngenc_8c_html_a4541e50494c56e74dcb3158c7f14cd6c"><div class="ttname"><a href="pngenc_8c.html#a4541e50494c56e74dcb3158c7f14cd6c">encode_headers</a></div><div class="ttdeci">static int encode_headers(AVCodecContext *avctx, const AVFrame *pict)</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l00345">pngenc.c:345</a></div></div>
<div class="ttc" id="apng_8h_html_ad9cb748ce20baa72dea5fb1c5d900414"><div class="ttname"><a href="png_8h.html#ad9cb748ce20baa72dea5fb1c5d900414">PNG_COLOR_TYPE_PALETTE</a></div><div class="ttdeci">#define PNG_COLOR_TYPE_PALETTE</div><div class="ttdef"><b>Definition:</b> <a href="png_8h_source.html#l00032">png.h:32</a></div></div>
<div class="ttc" id="apngenc_8c_html_a97d41df4d73f685f566b4ec624b87b05"><div class="ttname"><a href="pngenc_8c.html#a97d41df4d73f685f566b4ec624b87b05">pngenc_class</a></div><div class="ttdeci">static const AVClass pngenc_class</div><div class="ttdef"><b>Definition:</b> <a href="pngenc_8c_source.html#l01126">pngenc.c:1126</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
