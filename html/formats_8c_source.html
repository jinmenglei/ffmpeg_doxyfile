<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavfilter/formats.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_e1bd69597e95623f2084619f16269321.html">libavfilter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">formats.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="formats_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Filter layer - format negotiation</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2007 Bobby Bingham</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="channel__layout_8h.html">libavutil/channel_layout.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">libavutil/common.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="eval_8h.html">libavutil/eval.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixdesc_8h.html">libavutil/pixdesc.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avfilter_8h.html">avfilter.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="formats_8h.html">formats.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">   31</a></span>&#160;<span class="preprocessor">#define KNOWN(l) (!FF_LAYOUT2COUNT(l)) </span><span class="comment">/* for readability */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="formats_8c.html#a2f5a289077898d68060d54fe3a6ca229">   36</a></span>&#160;<span class="preprocessor">#define MERGE_REF(ret, a, fmts, type, fail_statement)                      \</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">do {                                                                       \</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">    type ***tmp;                                                           \</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">    int i;                                                                 \</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">                                                                           \</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">    if (!(tmp = av_realloc_array(ret-&gt;refs, ret-&gt;refcount + a-&gt;refcount,   \</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">                                 sizeof(*tmp))))                           \</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">        { fail_statement }                                                 \</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">    ret-&gt;refs = tmp;                                                       \</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">                                                                           \</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">    for (i = 0; i &lt; a-&gt;refcount; i ++) {                                   \</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">        ret-&gt;refs[ret-&gt;refcount] = a-&gt;refs[i];                             \</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">        *ret-&gt;refs[ret-&gt;refcount++] = ret;                                 \</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">    }                                                                      \</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">                                                                           \</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">    av_freep(&amp;a-&gt;refs);                                                    \</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">    av_freep(&amp;a-&gt;fmts);                                                    \</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">    av_freep(&amp;a);                                                          \</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="formats_8c.html#a56bd9562ace7847bba0640ba0ef4d729">   63</a></span>&#160;<span class="preprocessor">#define MERGE_FORMATS(a, b, fmts, nb, type, check, empty_allowed)          \</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">do {                                                                       \</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">    int i, j, k = 0, skip = 0;                                             \</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">                                                                           \</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">    if (empty_allowed) {                                                   \</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">        if (!a-&gt;nb || !b-&gt;nb) {                                            \</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">            if (check)                                                     \</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">                return 1;                                                  \</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">            if (!a-&gt;nb)                                                    \</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">                FFSWAP(type *, a, b);                                      \</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">            skip = 1;                                                      \</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">        }                                                                  \</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">    }                                                                      \</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">    if (!skip) {                                                           \</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">        for (i = 0; i &lt; a-&gt;nb; i++)                                        \</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">            for (j = 0; j &lt; b-&gt;nb; j++)                                    \</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">                if (a-&gt;fmts[i] == b-&gt;fmts[j]) {                            \</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">                    if (check)                                             \</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">                        return 1;                                          \</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">                    a-&gt;fmts[k++] = a-&gt;fmts[i];                             \</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">                    break;                                                 \</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">                }                                                          \</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">        </span><span class="comment">/* Check that there was at least one common format.                \</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">         * Notice that both a and b are unchanged if not. */</span><span class="preprocessor">               \</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">        if (!k)                                                            \</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">            return 0;                                                      \</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">        av_assert2(!check);                                                \</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">        a-&gt;nb = k;                                                         \</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">    }                                                                      \</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">                                                                           \</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">    MERGE_REF(a, b, fmts, type, return AVERROR(ENOMEM););                  \</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="formats_8c.html#a12dc23d7e42d26c0d0669b057e9eb6a0">   95</a></span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a12dc23d7e42d26c0d0669b057e9eb6a0">merge_formats_internal</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                  <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>, <span class="keywordtype">int</span> <a class="code" href="motion__est__template_8c.html#a40438455fc080d9ad486536517907cf6">check</a>)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">int</span> alpha1=0, alpha2=0;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">int</span> chroma1=0, chroma2=0;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> == <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">/* Do not lose chroma or alpha in merging.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">       It happens if both lists have formats with chroma (resp. alpha), but</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">       the only formats in common do not have it (e.g. YUV+gray vs.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">       RGB+gray): in that case, the merging would select the gray format,</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">       possibly causing a lossy conversion elsewhere in the graph.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">       To avoid that, pretend that there are no common formats to force the</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">       insertion of a conversion filter. */</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;nb_formats; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nb_formats; j++) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keyword">const</span> <a class="code" href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a> *adesc = <a class="code" href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;formats[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <span class="keyword">const</span> <a class="code" href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a> *bdesc = <a class="code" href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;formats[j]);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                alpha2 |= adesc-&gt;<a class="code" href="struct_a_v_pix_fmt_descriptor.html#a5047d1e6b045f637345dbc305bf4357d">flags</a> &amp; bdesc-&gt;<a class="code" href="struct_a_v_pix_fmt_descriptor.html#a5047d1e6b045f637345dbc305bf4357d">flags</a> &amp; <a class="code" href="pixdesc_8h.html#a06924ef0ebf07d8742ff8994e3a948bf">AV_PIX_FMT_FLAG_ALPHA</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                chroma2|= adesc-&gt;<a class="code" href="struct_a_v_pix_fmt_descriptor.html#ae83de203f97288c9f4070212a5eac5de">nb_components</a> &gt; 1 &amp;&amp; bdesc-&gt;<a class="code" href="struct_a_v_pix_fmt_descriptor.html#ae83de203f97288c9f4070212a5eac5de">nb_components</a> &gt; 1;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;formats[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;formats[j]) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    alpha1 |= adesc-&gt;<a class="code" href="struct_a_v_pix_fmt_descriptor.html#a5047d1e6b045f637345dbc305bf4357d">flags</a> &amp; <a class="code" href="pixdesc_8h.html#a06924ef0ebf07d8742ff8994e3a948bf">AV_PIX_FMT_FLAG_ALPHA</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    chroma1|= adesc-&gt;<a class="code" href="struct_a_v_pix_fmt_descriptor.html#ae83de203f97288c9f4070212a5eac5de">nb_components</a> &gt; 1;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// If chroma or alpha can be lost through merging then do not merge</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (alpha2 &gt; alpha1 || chroma2 &gt; chroma1)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="formats_8c.html#a56bd9562ace7847bba0640ba0ef4d729">MERGE_FORMATS</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>, nb_formats, <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a>, <a class="code" href="motion__est__template_8c.html#a40438455fc080d9ad486536517907cf6">check</a>, 0);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="formats_8h.html#a4eb03e8d2340d2c22e9813bbf7b211d4">  134</a></span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a4eb03e8d2340d2c22e9813bbf7b211d4">ff_can_merge_formats</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                         <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="formats_8c.html#a12dc23d7e42d26c0d0669b057e9eb6a0">merge_formats_internal</a>((<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *)<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                  (<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *)<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>, 1);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="formats_8h.html#a89ddebc07f3d3a366ae22a58cdf93f02">  141</a></span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a89ddebc07f3d3a366ae22a58cdf93f02">ff_merge_formats</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                     <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;refcount &amp;&amp; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;refcount);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="formats_8c.html#a12dc23d7e42d26c0d0669b057e9eb6a0">merge_formats_internal</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>, 0);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="formats_8c.html#af0d0da46cfbfaad3c30d602a3e148ae4">  148</a></span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="formats_8c.html#af0d0da46cfbfaad3c30d602a3e148ae4">merge_samplerates_internal</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                      <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <span class="keywordtype">int</span> <a class="code" href="motion__est__template_8c.html#a40438455fc080d9ad486536517907cf6">check</a>)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> == <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="formats_8c.html#a56bd9562ace7847bba0640ba0ef4d729">MERGE_FORMATS</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>, nb_formats, <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a>, <a class="code" href="motion__est__template_8c.html#a40438455fc080d9ad486536517907cf6">check</a>, 1);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="formats_8h.html#a02cae2a5a61b917f5616f8aedb8257d0">  157</a></span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a02cae2a5a61b917f5616f8aedb8257d0">ff_can_merge_samplerates</a>(<span class="keyword">const</span> <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="formats_8c.html#af0d0da46cfbfaad3c30d602a3e148ae4">merge_samplerates_internal</a>((<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *)<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, (<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *)<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, 1);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="formats_8h.html#a0489bc9d88a9c4b425ec77a2547cab99">  162</a></span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a0489bc9d88a9c4b425ec77a2547cab99">ff_merge_samplerates</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;refcount &amp;&amp; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;refcount);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="formats_8c.html#af0d0da46cfbfaad3c30d602a3e148ae4">merge_samplerates_internal</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, 0);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="formats_8h.html#af6035dac08d655f1b439dab29ab45d25">  168</a></span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#af6035dac08d655f1b439dab29ab45d25">ff_merge_channel_layouts</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                             <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    uint64_t *<a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">unsigned</span> a_all = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;all_layouts + <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;all_counts;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">unsigned</span> b_all = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;all_layouts + <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;all_counts;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">int</span> ret_max, ret_nb = 0, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;refcount &amp;&amp; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;refcount);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> == <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">/* Put the most generic set in a, to avoid doing everything twice */</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span> (a_all &lt; b_all) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *, <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<span class="keywordtype">unsigned</span>, a_all, b_all);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (a_all) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> (a_all == 1 &amp;&amp; !b_all) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="comment">/* keep only known layouts in b; works also for b_all = 1 */</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = j = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nb_channel_layouts; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts[j++] = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="comment">/* Not optimal: the unknown layouts of b may become known after</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">               another merge. */</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <span class="keywordflow">if</span> (!j)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nb_channel_layouts = j;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="formats_8c.html#a2f5a289077898d68060d54fe3a6ca229">MERGE_REF</a>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>, <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a>, <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM););</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    ret_max = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;nb_channel_layouts + <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nb_channel_layouts;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a> = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(ret_max, <span class="keyword">sizeof</span>(*<a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>))))</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">/* a[known] intersect b[known] */</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;nb_channel_layouts; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nb_channel_layouts; j++) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts[j]) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>[ret_nb++] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts[j] = 0;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">/* 1st round: a[known] intersect b[generic]</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">       2nd round: a[generic] intersect b[known] */</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a> = 0; <a class="code" href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a> &lt; 2; <a class="code" href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a>++) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;nb_channel_layouts; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            uint64_t fmt = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], bfmt;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">if</span> (!fmt || !<a class="code" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a>(fmt))</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            bfmt = <a class="code" href="formats_8h.html#a6ce6ec854bafc1fb0d6391c018cd8f91">FF_COUNT2LAYOUT</a>(<a class="code" href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a>(fmt));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nb_channel_layouts; j++)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts[j] == bfmt)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>[ret_nb++] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="comment">/* 1st round: swap to prepare 2nd round; 2nd round: put it back */</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *, <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">/* a[generic] intersect b[generic] */</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;nb_channel_layouts; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]))</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nb_channel_layouts; j++)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts[j])</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>[ret_nb++] = <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;channel_layouts[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (!ret_nb) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>-&gt;refcount &gt; <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;refcount)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *, <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="formats_8c.html#a2f5a289077898d68060d54fe3a6ca229">MERGE_REF</a>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>, <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>, <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a>,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;              { <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>); <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM); });</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;channel_layouts    = <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>-&gt;nb_channel_layouts = ret_nb;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="libavfilter_2internal_8h.html#a3e064bc5337435524a2d39dcdf2c9df6">  257</a></span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a3e064bc5337435524a2d39dcdf2c9df6">ff_fmt_is_in</a>(<span class="keywordtype">int</span> fmt, <span class="keyword">const</span> <span class="keywordtype">int</span> *fmts)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> *p;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">for</span> (p = fmts; *p != -1; p++) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">if</span> (fmt == *p)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="formats_8c.html#a4edfaafba1bed71aa09040c0c8c6e16e">  268</a></span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">#define MAKE_FORMAT_LIST(type, field, count_field)                      \</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="preprocessor">    type *formats;                                                      \</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">    int count = 0;                                                      \</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor">    if (fmts)                                                           \</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="preprocessor">        for (count = 0; fmts[count] != -1; count++)                     \</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">            ;                                                           \</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">    formats = av_mallocz(sizeof(*formats));                             \</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">    if (!formats)                                                       \</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">        return NULL;                                                    \</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">    formats-&gt;count_field = count;                                       \</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">    if (count) {                                                        \</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">        formats-&gt;field = av_malloc_array(count, sizeof(*formats-&gt;field));      \</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">        if (!formats-&gt;field) {                                          \</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">            av_freep(&amp;formats);                                         \</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">            return NULL;                                                \</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">        }                                                               \</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="formats_8h.html#abeef1435dd65b3b51bd797542e42798d">  286</a></span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="formats_8c.html#a43e709e9689273a94a5edc40d1cb5aed">ff_make_format_list</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> *fmts)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="formats_8c.html#a4edfaafba1bed71aa09040c0c8c6e16e">MAKE_FORMAT_LIST</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a>, <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>, nb_formats);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">while</span> (count--)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;formats[count] = fmts[count];</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="formats_8h.html#a72f98b2e44c55e239b8614895dcc287f">  295</a></span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="formats_8c.html#a814d307408aa91b45ec6f56381ac73fa">ff_make_format64_list</a>(<span class="keyword">const</span> int64_t *fmts)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="formats_8c.html#a4edfaafba1bed71aa09040c0c8c6e16e">MAKE_FORMAT_LIST</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a>,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                     <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>, nb_channel_layouts);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (count)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        memcpy(<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;channel_layouts, fmts,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;               <span class="keyword">sizeof</span>(*<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;channel_layouts) * count);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="formats_8h.html#a499ef2ae5a64e6c97aa9a5feb182a92f">  307</a></span>&#160;<span class="preprocessor">#if LIBAVFILTER_VERSION_MAJOR &lt; 8</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="formats_8c.html#a499ef2ae5a64e6c97aa9a5feb182a92f">avfilter_make_format64_list</a>(<span class="keyword">const</span> int64_t *fmts)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="formats_8c.html#a814d307408aa91b45ec6f56381ac73fa">ff_make_format64_list</a>(fmts);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="formats_8c.html#a15b5ccf806de2e5b86969ff3f0a5da81">  313</a></span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#define ADD_FORMAT(f, fmt, unref_fn, type, list, nb)        \</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">do {                                                        \</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">    type *fmts;                                             \</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="preprocessor">                                                            \</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="preprocessor">    if (!(*f) &amp;&amp; !(*f = av_mallocz(sizeof(**f)))) {         \</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">        return AVERROR(ENOMEM);                             \</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">    }                                                       \</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">                                                            \</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">    fmts = av_realloc_array((*f)-&gt;list, (*f)-&gt;nb + 1,       \</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">                            sizeof(*(*f)-&gt;list));           \</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">    if (!fmts) {                                            \</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">        unref_fn(f);                                        \</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">        return AVERROR(ENOMEM);                             \</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">    }                                                       \</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">                                                            \</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">    (*f)-&gt;list = fmts;                                      \</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">    (*f)-&gt;list[(*f)-&gt;nb++] = fmt;                           \</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="formats_8h.html#a7b15d84a2b0e9155448efd29921ba556">  332</a></span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a40ae574a1c8df79ef09a5638aec4bc25">ff_add_format</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> **avff, int64_t fmt)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="formats_8c.html#a15b5ccf806de2e5b86969ff3f0a5da81">ADD_FORMAT</a>(avff, fmt, <a class="code" href="formats_8c.html#aa075f5d6239fcd0e18c2b064726bacc4">ff_formats_unref</a>, <span class="keywordtype">int</span>, <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>, nb_formats);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="formats_8h.html#a23345159133349ce1322ad8402d4695a">  338</a></span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a0eadfcd358eb96c358859165ace6be1a">ff_add_channel_layout</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> **l, uint64_t channel_layout)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(!(*l &amp;&amp; (*l)-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a158aa680fe3bdf08dcba211c0dca0a6a">all_layouts</a>));</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="formats_8c.html#a15b5ccf806de2e5b86969ff3f0a5da81">ADD_FORMAT</a>(l, channel_layout, <a class="code" href="formats_8c.html#a4284707a4c81ef4fee209ce9ed9caa4a">ff_channel_layouts_unref</a>, uint64_t, <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>, nb_channel_layouts);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="formats_8h.html#a63c81b52e7cb2c239fb97a70c43f090c">  345</a></span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="formats_8c.html#a1d43c505dcdb80296bceb0e4fa038ecf">ff_all_formats</a>(<span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a> *<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">while</span> ((<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> = <a class="code" href="pixdesc_8c.html#a110de37b82f3a2602d5c6a3e4babc7a8">av_pix_fmt_desc_next</a>(<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>))) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="formats_8c.html#a40ae574a1c8df79ef09a5638aec4bc25">ff_add_format</a>(&amp;<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="pixdesc_8c.html#a01dfb93fb0e28e789922e9199a4fdb14">av_pix_fmt_desc_get_id</a>(<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>)) &lt; 0)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> fmt = 0;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a>(fmt)) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="formats_8c.html#a40ae574a1c8df79ef09a5638aec4bc25">ff_add_format</a>(&amp;<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, fmt) &lt; 0)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            fmt++;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="formats_8h.html#abd1ad4915741382a939102fd14d2d4c4">  367</a></span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a058978c2faa2d0487628929e537a1f17">ff_formats_pixdesc_filter</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> **rfmts, <span class="keywordtype">unsigned</span> want, <span class="keywordtype">unsigned</span> rej)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordtype">unsigned</span> nb_formats, fmt, <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        nb_formats = 0;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">for</span> (fmt = 0;; fmt++) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="keyword">const</span> <a class="code" href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a> *<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a> = <a class="code" href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a>(fmt);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> = <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;flags;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">if</span> (!(<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;flags &amp; <a class="code" href="pixdesc_8h.html#a76f6211b2404231bd7d206ebf4ae46f6">AV_PIX_FMT_FLAG_HWACCEL</a>) &amp;&amp;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                !(<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;flags &amp; <a class="code" href="pixdesc_8h.html#ab2dcf0e479980cad6c8477d5a53a3638">AV_PIX_FMT_FLAG_PLANAR</a>) &amp;&amp;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                (<a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_w || <a class="code" href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a>-&gt;log2_chroma_h))</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> |= <a class="code" href="formats_8h.html#a6a2884b52a653517f3a159210d5a8ede">FF_PIX_FMT_FLAG_SW_FLAT_SUB</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a> &amp; (want | rej)) != want)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;formats[nb_formats] = fmt;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            nb_formats++;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;nb_formats == nb_formats);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            *rfmts = <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>));</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;nb_formats = nb_formats;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">if</span> (nb_formats) {</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;formats = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(nb_formats, <span class="keyword">sizeof</span>(*<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;formats));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>-&gt;formats) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="formats_8h.html#a4ebe918e518d906d4be3a376633986a5">  408</a></span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="formats_8c.html#a0ee404f2c0503bf2858e38510d647b56">ff_planar_sample_fmts</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordtype">int</span> fmt;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">for</span> (fmt = 0; <a class="code" href="group__lavu__sampfmts.html#ga0c3c218e1dd570ad4917c69a35a6c77d">av_get_bytes_per_sample</a>(fmt)&gt;0; fmt++)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__sampfmts.html#ga06ba8a64dc4382c422789a5d0b6bf592">av_sample_fmt_is_planar</a>(fmt))</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="formats_8c.html#a40ae574a1c8df79ef09a5638aec4bc25">ff_add_format</a>(&amp;<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, fmt) &lt; 0)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="formats_8h.html#a3bfcd1f6ee2ce7ad09e2ba454dfb6a59">  421</a></span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="formats_8c.html#af5bf4cb581071246591047404a835180">ff_all_samplerates</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="formats_8h.html#afbe67c3081f39b6a9833bfa4ec7839b6">  427</a></span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="formats_8c.html#a5a4f52dd68781b777dabe9a99d2c40d3">ff_all_channel_layouts</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>-&gt;all_layouts = 1;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="formats_8h.html#a768f0cd27bf54254e89075cb194fce45">  436</a></span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="formats_8c.html#a0240c2f7c2d17a64d10082cd36376453">ff_all_channel_counts</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>-&gt;all_layouts = <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>-&gt;all_counts = 1;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="formats_8c.html#abc1b9710afadc94824b02088570cd2f1">  445</a></span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#define FORMATS_REF(f, ref, unref_fn)                                           \</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">    void *tmp;                                                                  \</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">                                                                                \</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="preprocessor">    if (!f)                                                                     \</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">        return AVERROR(ENOMEM);                                                 \</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">                                                                                \</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">    tmp = av_realloc_array(f-&gt;refs, sizeof(*f-&gt;refs), f-&gt;refcount + 1);         \</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="preprocessor">    if (!tmp) {                                                                 \</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">        unref_fn(&amp;f);                                                           \</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="preprocessor">        return AVERROR(ENOMEM);                                                 \</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">    }                                                                           \</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="preprocessor">    f-&gt;refs = tmp;                                                              \</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="preprocessor">    f-&gt;refs[f-&gt;refcount++] = ref;                                               \</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">    *ref = f;                                                                   \</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">    return 0</span></div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="formats_8h.html#a8b3d8630b264953349fcc832fae0cba1">  461</a></span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#ad16f483787a1ff7e6176d4fde06b5365">ff_channel_layouts_ref</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> **<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>)</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;{</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="formats_8c.html#abc1b9710afadc94824b02088570cd2f1">FORMATS_REF</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, <a class="code" href="formats_8c.html#a4284707a4c81ef4fee209ce9ed9caa4a">ff_channel_layouts_unref</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="formats_8h.html#afbebc69eda43eef98a6c5890cee25d76">  466</a></span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a198dce1c59fe449fc4c34cf3c86fba15">ff_formats_ref</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> **<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="formats_8c.html#abc1b9710afadc94824b02088570cd2f1">FORMATS_REF</a>(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, <a class="code" href="formats_8c.html#aa075f5d6239fcd0e18c2b064726bacc4">ff_formats_unref</a>);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="formats_8c.html#ac9728f0698d4498e95cb08aa25ce3391">  471</a></span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="preprocessor">#define FIND_REF_INDEX(ref, idx)            \</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="preprocessor">do {                                        \</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="preprocessor">    int i;                                  \</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="preprocessor">    for (i = 0; i &lt; (*ref)-&gt;refcount; i ++) \</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="preprocessor">        if((*ref)-&gt;refs[i] == ref) {        \</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="preprocessor">            idx = i;                        \</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="preprocessor">            break;                          \</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="preprocessor">        }                                   \</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="formats_8c.html#ac8be2734dc5db768d2bdf52189ba9d73">  481</a></span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="preprocessor">#define FORMATS_UNREF(ref, list)                                   \</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="preprocessor">do {                                                               \</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor">    int idx = -1;                                                  \</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="preprocessor">                                                                   \</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="preprocessor">    if (!*ref)                                                     \</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">        return;                                                    \</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor">                                                                   \</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="preprocessor">    FIND_REF_INDEX(ref, idx);                                      \</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">                                                                   \</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor">    if (idx &gt;= 0) {                                                \</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">        memmove((*ref)-&gt;refs + idx, (*ref)-&gt;refs + idx + 1,        \</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="preprocessor">            sizeof(*(*ref)-&gt;refs) * ((*ref)-&gt;refcount - idx - 1)); \</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="preprocessor">        --(*ref)-&gt;refcount;                                        \</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="preprocessor">    }                                                              \</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">    if (!(*ref)-&gt;refcount) {                                       \</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor">        av_free((*ref)-&gt;list);                                     \</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="preprocessor">        av_free((*ref)-&gt;refs);                                     \</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">        av_free(*ref);                                             \</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="preprocessor">    }                                                              \</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">    *ref = NULL;                                                   \</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="formats_8h.html#aa075f5d6239fcd0e18c2b064726bacc4">  503</a></span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="keywordtype">void</span> <a class="code" href="formats_8c.html#aa075f5d6239fcd0e18c2b064726bacc4">ff_formats_unref</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> **<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>)</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="formats_8c.html#ac8be2734dc5db768d2bdf52189ba9d73">FORMATS_UNREF</a>(<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="formats_8h.html#a4284707a4c81ef4fee209ce9ed9caa4a">  508</a></span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="keywordtype">void</span> <a class="code" href="formats_8c.html#a4284707a4c81ef4fee209ce9ed9caa4a">ff_channel_layouts_unref</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> **<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="formats_8c.html#ac8be2734dc5db768d2bdf52189ba9d73">FORMATS_UNREF</a>(<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="formats_8c.html#a1e3267b3164d4a60f07d5f1b51ffaaf3">  513</a></span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor">#define FORMATS_CHANGEREF(oldref, newref)       \</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">do {                                            \</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">    int idx = -1;                               \</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="preprocessor">                                                \</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">    FIND_REF_INDEX(oldref, idx);                \</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">                                                \</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="preprocessor">    if (idx &gt;= 0) {                             \</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">        (*oldref)-&gt;refs[idx] = newref;          \</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="preprocessor">        *newref = *oldref;                      \</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="preprocessor">        *oldref = NULL;                         \</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="preprocessor">    }                                           \</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="preprocessor">} while (0)</span></div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="formats_8h.html#a0bc1063dff347b37a3d24e5b5e4107f7">  526</a></span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="keywordtype">void</span> <a class="code" href="formats_8c.html#a0bc1063dff347b37a3d24e5b5e4107f7">ff_channel_layouts_changeref</a>(<a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> **oldref,</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                                  <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> **newref)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;{</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <a class="code" href="formats_8c.html#a1e3267b3164d4a60f07d5f1b51ffaaf3">FORMATS_CHANGEREF</a>(oldref, newref);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="formats_8h.html#ab0b8b4a4184dbad7cde3c147d7db78c6">  532</a></span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="keywordtype">void</span> <a class="code" href="formats_8c.html#ab0b8b4a4184dbad7cde3c147d7db78c6">ff_formats_changeref</a>(<a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> **oldref, <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> **newref)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;{</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="formats_8c.html#a1e3267b3164d4a60f07d5f1b51ffaaf3">FORMATS_CHANGEREF</a>(oldref, newref);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="formats_8c.html#a5d56c3c57c2cd87dd597ec1751005731">  537</a></span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="preprocessor">#define SET_COMMON_FORMATS(ctx, fmts, ref_fn, unref_fn)             \</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">    int count = 0, i;                                               \</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">                                                                    \</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">    if (!fmts)                                                      \</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">        return AVERROR(ENOMEM);                                     \</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="preprocessor">                                                                    \</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">    for (i = 0; i &lt; ctx-&gt;nb_inputs; i++) {                          \</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="preprocessor">        if (ctx-&gt;inputs[i] &amp;&amp; !ctx-&gt;inputs[i]-&gt;outcfg.fmts) {       \</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="preprocessor">            int ret = ref_fn(fmts, &amp;ctx-&gt;inputs[i]-&gt;outcfg.fmts);   \</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="preprocessor">            if (ret &lt; 0) {                                          \</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">                return ret;                                         \</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="preprocessor">            }                                                       \</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="preprocessor">            count++;                                                \</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="preprocessor">        }                                                           \</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="preprocessor">    }                                                               \</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="preprocessor">    for (i = 0; i &lt; ctx-&gt;nb_outputs; i++) {                         \</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="preprocessor">        if (ctx-&gt;outputs[i] &amp;&amp; !ctx-&gt;outputs[i]-&gt;incfg.fmts) {      \</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="preprocessor">            int ret = ref_fn(fmts, &amp;ctx-&gt;outputs[i]-&gt;incfg.fmts);   \</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="preprocessor">            if (ret &lt; 0) {                                          \</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="preprocessor">                return ret;                                         \</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="preprocessor">            }                                                       \</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="preprocessor">            count++;                                                \</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="preprocessor">        }                                                           \</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="preprocessor">    }                                                               \</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="preprocessor">                                                                    \</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="preprocessor">    if (!count) {                                                   \</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="preprocessor">        unref_fn(&amp;fmts);                                            \</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="preprocessor">    }                                                               \</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="preprocessor">                                                                    \</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="preprocessor">    return 0;</span></div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="formats_8h.html#ac2db444848175176d79df5aeffa2718c">  568</a></span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#ae6ee99443faba7e242d4ff9d093a41aa">ff_set_common_channel_layouts</a>(<a class="code" href="struct_a_v_filter_context.html">AVFilterContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>,</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                  <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *<a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="formats_8c.html#a5d56c3c57c2cd87dd597ec1751005731">SET_COMMON_FORMATS</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>,</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                       <a class="code" href="formats_8c.html#ad16f483787a1ff7e6176d4fde06b5365">ff_channel_layouts_ref</a>, <a class="code" href="formats_8c.html#a4284707a4c81ef4fee209ce9ed9caa4a">ff_channel_layouts_unref</a>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="formats_8h.html#acc21c270569ee245310aabfe9eced7a7">  575</a></span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a9176f293cccfe4e4c3539b2bfbda480b">ff_set_common_samplerates</a>(<a class="code" href="struct_a_v_filter_context.html">AVFilterContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                              <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *samplerates)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="formats_8c.html#a5d56c3c57c2cd87dd597ec1751005731">SET_COMMON_FORMATS</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, samplerates,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                       <a class="code" href="formats_8c.html#a198dce1c59fe449fc4c34cf3c86fba15">ff_formats_ref</a>, <a class="code" href="formats_8c.html#aa075f5d6239fcd0e18c2b064726bacc4">ff_formats_unref</a>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a3ea436a8d465066eecdfb2ff513ff504">ff_set_common_formats</a>(<a class="code" href="struct_a_v_filter_context.html">AVFilterContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *<a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;{</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="formats_8c.html#a5d56c3c57c2cd87dd597ec1751005731">SET_COMMON_FORMATS</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a>,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                       <a class="code" href="formats_8c.html#a198dce1c59fe449fc4c34cf3c86fba15">ff_formats_ref</a>, <a class="code" href="formats_8c.html#aa075f5d6239fcd0e18c2b064726bacc4">ff_formats_unref</a>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div>
<div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="formats_8h.html#a8395433a93c465911c0d625548f48779">  593</a></span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a16c8352433b77e97e120447e48d29030">ff_default_query_formats</a>(<a class="code" href="struct_a_v_filter_context.html">AVFilterContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;{</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;nb_inputs  ? <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;inputs [0]-&gt;type :</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;nb_outputs ? <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;outputs[0]-&gt;type :</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                            <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="formats_8c.html#a3ea436a8d465066eecdfb2ff513ff504">ff_set_common_formats</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="formats_8c.html#a1d43c505dcdb80296bceb0e4fa038ecf">ff_all_formats</a>(<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>));</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="formats_8c.html#ae6ee99443faba7e242d4ff9d093a41aa">ff_set_common_channel_layouts</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="formats_8c.html#a0240c2f7c2d17a64d10082cd36376453">ff_all_channel_counts</a>());</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="formats_8c.html#a9176f293cccfe4e4c3539b2bfbda480b">ff_set_common_samplerates</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="formats_8c.html#af5bf4cb581071246591047404a835180">ff_all_samplerates</a>());</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">/* internal functions for parsing audio format arguments */</span></div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="libavfilter_2internal_8h.html#acf9fc6d2dc66a917b70da698deaade7a">  617</a></span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a4dc7b943b2f832704b7522b1a4fc9780">ff_parse_pixel_format</a>(<span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>, <span class="keywordtype">void</span> *log_ctx)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordtype">char</span> *tail;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a> = <a class="code" href="pixdesc_8c.html#a925ef18d69c24c3be8c53d5a7dc0660e">av_get_pix_fmt</a>(<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a> = strtol(<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>, &amp;tail, 0);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">if</span> (*tail || !<a class="code" href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a>(<a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>)) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid pixel format &#39;%s&#39;\n&quot;</span>, <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
<div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="libavfilter_2internal_8h.html#a58aca8849cf85f6e2ab8db2f2f82645a">  632</a></span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a6ae87fde38de461268b9eefa301b8b46">ff_parse_sample_rate</a>(<span class="keywordtype">int</span> *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>, <span class="keywordtype">void</span> *log_ctx)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordtype">char</span> *tail;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordtype">double</span> srate = <a class="code" href="eval_8c.html#a7d21905c92ee5af0bb529d2daf8cb7c3">av_strtod</a>(<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>, &amp;tail);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">if</span> (*tail || srate &lt; 1 || (<span class="keywordtype">int</span>)srate != srate || srate &gt; INT_MAX) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid sample rate &#39;%s&#39;\n&quot;</span>, <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = srate;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="libavfilter_2internal_8h.html#af07dc9b099da1274eb0994c23d1e2e64">  644</a></span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a3046f7b7c8be5a3ed58a4f7e2176f7ab">ff_parse_channel_layout</a>(int64_t *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <span class="keywordtype">int</span> *nret, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>,</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                            <span class="keywordtype">void</span> *log_ctx)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    int64_t chlayout;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__channel__mask__c.html#gad2336dae5569ae7fe509a9ea12df6a60">av_get_extended_channel_layout</a>(<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>, &amp;chlayout, &amp;<a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>) &lt; 0) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid channel layout &#39;%s&#39;\n&quot;</span>, <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (!chlayout &amp;&amp; !nret) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log_ctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unknown channel layout &#39;%s&#39; is not supported.\n&quot;</span>, <a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = chlayout;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span> (nret)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        *nret = <a class="code" href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="formats_8c.html#a3397a8844597c369beef81288af2d899">  665</a></span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a3397a8844597c369beef81288af2d899">check_list</a>(<span class="keywordtype">void</span> *log, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *fmts)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> (!fmts)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (!fmts-&gt;<a class="code" href="struct_a_v_filter_formats.html#ace78b42d2c3e5e3c38e9463580c23f7a">nb_formats</a>) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Empty %s list\n&quot;</span>, <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; fmts-&gt;<a class="code" href="struct_a_v_filter_formats.html#ace78b42d2c3e5e3c38e9463580c23f7a">nb_formats</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">for</span> (j = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1; j &lt; fmts-&gt;<a class="code" href="struct_a_v_filter_formats.html#ace78b42d2c3e5e3c38e9463580c23f7a">nb_formats</a>; j++) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordflow">if</span> (fmts-&gt;<a class="code" href="struct_a_v_filter_formats.html#a5b9bd16fb285ee2dbd926850b492e083">formats</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == fmts-&gt;<a class="code" href="struct_a_v_filter_formats.html#a5b9bd16fb285ee2dbd926850b492e083">formats</a>[j]) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Duplicated %s\n&quot;</span>, <a class="code" href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="formats_8h.html#a68ef9adfe65b935cbdd23f0ef1868e2a">  686</a></span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a68ef9adfe65b935cbdd23f0ef1868e2a">ff_formats_check_pixel_formats</a>(<span class="keywordtype">void</span> *log, <span class="keyword">const</span> <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *fmts)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;{</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="formats_8c.html#a3397a8844597c369beef81288af2d899">check_list</a>(log, <span class="stringliteral">&quot;pixel format&quot;</span>, fmts);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div>
<div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="formats_8h.html#a7bcc7c96e12454140fe1ad06178897c5">  691</a></span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a7bcc7c96e12454140fe1ad06178897c5">ff_formats_check_sample_formats</a>(<span class="keywordtype">void</span> *log, <span class="keyword">const</span> <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *fmts)</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="formats_8c.html#a3397a8844597c369beef81288af2d899">check_list</a>(log, <span class="stringliteral">&quot;sample format&quot;</span>, fmts);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="formats_8h.html#a0f82d074032e16a42136ad7d7c652a6d">  696</a></span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a0f82d074032e16a42136ad7d7c652a6d">ff_formats_check_sample_rates</a>(<span class="keywordtype">void</span> *log, <span class="keyword">const</span> <a class="code" href="struct_a_v_filter_formats.html">AVFilterFormats</a> *fmts)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;{</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">if</span> (!fmts || !fmts-&gt;<a class="code" href="struct_a_v_filter_formats.html#ace78b42d2c3e5e3c38e9463580c23f7a">nb_formats</a>)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="formats_8c.html#a3397a8844597c369beef81288af2d899">check_list</a>(log, <span class="stringliteral">&quot;sample rate&quot;</span>, fmts);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;}</div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="formats_8c.html#a7196f4dfc242c755cb98bed44c35551a">  703</a></span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="formats_8c.html#a7196f4dfc242c755cb98bed44c35551a">layouts_compatible</a>(uint64_t <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>, uint64_t <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;{</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> == <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a> ||</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;           (<a class="code" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>) &amp;&amp; !<a class="code" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>) &amp;&amp; <a class="code" href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>) == <a class="code" href="formats_8h.html#a1aa403830f5a6d0568d7d184d2dd0864">FF_LAYOUT2COUNT</a>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>)) ||</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;           (<a class="code" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>) &amp;&amp; !<a class="code" href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>) &amp;&amp; <a class="code" href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a>(<a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>) == <a class="code" href="formats_8h.html#a1aa403830f5a6d0568d7d184d2dd0864">FF_LAYOUT2COUNT</a>(<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>));</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="formats_8h.html#ac2b768f33fd570b144f463b6798ee868">  710</a></span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="keywordtype">int</span> <a class="code" href="formats_8c.html#ac2b768f33fd570b144f463b6798ee868">ff_formats_check_channel_layouts</a>(<span class="keywordtype">void</span> *log, <span class="keyword">const</span> <a class="code" href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a> *fmts)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (!fmts)</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">if</span> (fmts-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a158aa680fe3bdf08dcba211c0dca0a6a">all_layouts</a> &lt; fmts-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a45191c6c4a2319011e064a8678c33d7f">all_counts</a>) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Inconsistent generic list\n&quot;</span>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span> (!fmts-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a158aa680fe3bdf08dcba211c0dca0a6a">all_layouts</a> &amp;&amp; !fmts-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a8e413cb77fc7441fdf52a56f17d7aac8">nb_channel_layouts</a>) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Empty channel layout list\n&quot;</span>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; fmts-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a8e413cb77fc7441fdf52a56f17d7aac8">nb_channel_layouts</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keywordflow">for</span> (j = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1; j &lt; fmts-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a8e413cb77fc7441fdf52a56f17d7aac8">nb_channel_layouts</a>; j++) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="formats_8c.html#a7196f4dfc242c755cb98bed44c35551a">layouts_compatible</a>(fmts-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a8ec25e1809fce41d1f97a5516baf443c">channel_layouts</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], fmts-&gt;<a class="code" href="struct_a_v_filter_channel_layouts.html#a8ec25e1809fce41d1f97a5516baf443c">channel_layouts</a>[j])) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(log, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Duplicated or redundant channel layout\n&quot;</span>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="asignature_8h_html_a12f58149bb2cdab504621ba5b390ef64"><div class="ttname"><a href="signature_8h.html#a12f58149bb2cdab504621ba5b390ef64">formats</a></div><div class="ttdeci">formats</div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00048">signature.h:48</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_adb27990ed3d4ad300fd1dde281903508"><div class="ttname"><a href="writing__filters_8txt.html#adb27990ed3d4ad300fd1dde281903508">name</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default minimum maximum flags name is the option name</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00088">writing_filters.txt:88</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aformats_8c_html_a12dc23d7e42d26c0d0669b057e9eb6a0"><div class="ttname"><a href="formats_8c.html#a12dc23d7e42d26c0d0669b057e9eb6a0">merge_formats_internal</a></div><div class="ttdeci">static int merge_formats_internal(AVFilterFormats *a, AVFilterFormats *b, enum AVMediaType type, int check)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00095">formats.c:95</a></div></div>
<div class="ttc" id="aformats_8c_html_a43e709e9689273a94a5edc40d1cb5aed"><div class="ttname"><a href="formats_8c.html#a43e709e9689273a94a5edc40d1cb5aed">ff_make_format_list</a></div><div class="ttdeci">AVFilterFormats * ff_make_format_list(const int *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00286">formats.c:286</a></div></div>
<div class="ttc" id="acommon_8h_html_a09a0bb7d8fcfac416de7a5fe7fd8b0f1"><div class="ttname"><a href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a></div><div class="ttdeci">#define FFSWAP(type, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00099">common.h:99</a></div></div>
<div class="ttc" id="astruct_a_v_filter_context_html"><div class="ttname"><a href="struct_a_v_filter_context.html">AVFilterContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avfilter_8h_source.html#l00341">avfilter.h:341</a></div></div>
<div class="ttc" id="aformats_8c_html_ad16f483787a1ff7e6176d4fde06b5365"><div class="ttname"><a href="formats_8c.html#ad16f483787a1ff7e6176d4fde06b5365">ff_channel_layouts_ref</a></div><div class="ttdeci">int ff_channel_layouts_ref(AVFilterChannelLayouts *f, AVFilterChannelLayouts **ref)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00461">formats.c:461</a></div></div>
<div class="ttc" id="apixdesc_8c_html_afe0c3e8aef5173de28bbdaea4298f5f0"><div class="ttname"><a href="pixdesc_8c.html#afe0c3e8aef5173de28bbdaea4298f5f0">av_pix_fmt_desc_get</a></div><div class="ttdeci">const AVPixFmtDescriptor * av_pix_fmt_desc_get(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02573">pixdesc.c:2573</a></div></div>
<div class="ttc" id="amem_8c_html_a254f3455439c15a2c8a75b8f0235fdbd"><div class="ttname"><a href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a></div><div class="ttdeci">void * av_malloc_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00182">mem.c:182</a></div></div>
<div class="ttc" id="aformats_8c_html_a68ef9adfe65b935cbdd23f0ef1868e2a"><div class="ttname"><a href="formats_8c.html#a68ef9adfe65b935cbdd23f0ef1868e2a">ff_formats_check_pixel_formats</a></div><div class="ttdeci">int ff_formats_check_pixel_formats(void *log, const AVFilterFormats *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00686">formats.c:686</a></div></div>
<div class="ttc" id="aformats_8c_html_a058978c2faa2d0487628929e537a1f17"><div class="ttname"><a href="formats_8c.html#a058978c2faa2d0487628929e537a1f17">ff_formats_pixdesc_filter</a></div><div class="ttdeci">int ff_formats_pixdesc_filter(AVFilterFormats **rfmts, unsigned want, unsigned rej)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00367">formats.c:367</a></div></div>
<div class="ttc" id="astruct_a_v_pix_fmt_descriptor_html_a5047d1e6b045f637345dbc305bf4357d"><div class="ttname"><a href="struct_a_v_pix_fmt_descriptor.html#a5047d1e6b045f637345dbc305bf4357d">AVPixFmtDescriptor::flags</a></div><div class="ttdeci">uint64_t flags</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00106">pixdesc.h:106</a></div></div>
<div class="ttc" id="aformats_8c_html_a0240c2f7c2d17a64d10082cd36376453"><div class="ttname"><a href="formats_8c.html#a0240c2f7c2d17a64d10082cd36376453">ff_all_channel_counts</a></div><div class="ttdeci">AVFilterChannelLayouts * ff_all_channel_counts(void)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00436">formats.c:436</a></div></div>
<div class="ttc" id="aformats_8c_html_a814d307408aa91b45ec6f56381ac73fa"><div class="ttname"><a href="formats_8c.html#a814d307408aa91b45ec6f56381ac73fa">ff_make_format64_list</a></div><div class="ttdeci">AVFilterChannelLayouts * ff_make_format64_list(const int64_t *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00295">formats.c:295</a></div></div>
<div class="ttc" id="apixdesc_8h_html"><div class="ttname"><a href="pixdesc_8h.html">pixdesc.h</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="aformats_8c_html_a56bd9562ace7847bba0640ba0ef4d729"><div class="ttname"><a href="formats_8c.html#a56bd9562ace7847bba0640ba0ef4d729">MERGE_FORMATS</a></div><div class="ttdeci">#define MERGE_FORMATS(a, b, fmts, nb, type, check, empty_allowed)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00063">formats.c:63</a></div></div>
<div class="ttc" id="apixdesc_8c_html_a110de37b82f3a2602d5c6a3e4babc7a8"><div class="ttname"><a href="pixdesc_8c.html#a110de37b82f3a2602d5c6a3e4babc7a8">av_pix_fmt_desc_next</a></div><div class="ttdeci">const AVPixFmtDescriptor * av_pix_fmt_desc_next(const AVPixFmtDescriptor *prev)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02580">pixdesc.c:2580</a></div></div>
<div class="ttc" id="aformats_8c_html_af0d0da46cfbfaad3c30d602a3e148ae4"><div class="ttname"><a href="formats_8c.html#af0d0da46cfbfaad3c30d602a3e148ae4">merge_samplerates_internal</a></div><div class="ttdeci">static int merge_samplerates_internal(AVFilterFormats *a, AVFilterFormats *b, int check)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00148">formats.c:148</a></div></div>
<div class="ttc" id="aformats_8c_html_ac8be2734dc5db768d2bdf52189ba9d73"><div class="ttname"><a href="formats_8c.html#ac8be2734dc5db768d2bdf52189ba9d73">FORMATS_UNREF</a></div><div class="ttdeci">#define FORMATS_UNREF(ref, list)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00481">formats.c:481</a></div></div>
<div class="ttc" id="aformats_8h_html_a1aa403830f5a6d0568d7d184d2dd0864"><div class="ttname"><a href="formats_8h.html#a1aa403830f5a6d0568d7d184d2dd0864">FF_LAYOUT2COUNT</a></div><div class="ttdeci">#define FF_LAYOUT2COUNT(l)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00109">formats.h:109</a></div></div>
<div class="ttc" id="aformats_8h_html"><div class="ttname"><a href="formats_8h.html">formats.h</a></div></div>
<div class="ttc" id="astruct_a_v_filter_formats_html_ace78b42d2c3e5e3c38e9463580c23f7a"><div class="ttname"><a href="struct_a_v_filter_formats.html#ace78b42d2c3e5e3c38e9463580c23f7a">AVFilterFormats::nb_formats</a></div><div class="ttdeci">unsigned nb_formats</div><div class="ttdoc">number of formats</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00066">formats.h:66</a></div></div>
<div class="ttc" id="apixdesc_8h_html_a76f6211b2404231bd7d206ebf4ae46f6"><div class="ttname"><a href="pixdesc_8h.html#a76f6211b2404231bd7d206ebf4ae46f6">AV_PIX_FMT_FLAG_HWACCEL</a></div><div class="ttdeci">#define AV_PIX_FMT_FLAG_HWACCEL</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00140">pixdesc.h:140</a></div></div>
<div class="ttc" id="aformats_8c_html_a02cae2a5a61b917f5616f8aedb8257d0"><div class="ttname"><a href="formats_8c.html#a02cae2a5a61b917f5616f8aedb8257d0">ff_can_merge_samplerates</a></div><div class="ttdeci">int ff_can_merge_samplerates(const AVFilterFormats *a, const AVFilterFormats *b)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00157">formats.c:157</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="aformats_8c_html_a1d43c505dcdb80296bceb0e4fa038ecf"><div class="ttname"><a href="formats_8c.html#a1d43c505dcdb80296bceb0e4fa038ecf">ff_all_formats</a></div><div class="ttdeci">AVFilterFormats * ff_all_formats(enum AVMediaType type)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00345">formats.c:345</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aformats_8c_html_a3ea436a8d465066eecdfb2ff513ff504"><div class="ttname"><a href="formats_8c.html#a3ea436a8d465066eecdfb2ff513ff504">ff_set_common_formats</a></div><div class="ttdeci">int ff_set_common_formats(AVFilterContext *ctx, AVFilterFormats *formats)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00587">formats.c:587</a></div></div>
<div class="ttc" id="amotion__est__template_8c_html_a40438455fc080d9ad486536517907cf6"><div class="ttname"><a href="motion__est__template_8c.html#a40438455fc080d9ad486536517907cf6">check</a></div><div class="ttdeci">#define check(x, y, S, v)</div><div class="ttdef"><b>Definition:</b> <a href="motion__est__template_8c_source.html#l00404">motion_est_template.c:404</a></div></div>
<div class="ttc" id="aformats_8c_html_a0eadfcd358eb96c358859165ace6be1a"><div class="ttname"><a href="formats_8c.html#a0eadfcd358eb96c358859165ace6be1a">ff_add_channel_layout</a></div><div class="ttdeci">int ff_add_channel_layout(AVFilterChannelLayouts **l, uint64_t channel_layout)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00338">formats.c:338</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="aformats_8c_html_a198dce1c59fe449fc4c34cf3c86fba15"><div class="ttname"><a href="formats_8c.html#a198dce1c59fe449fc4c34cf3c86fba15">ff_formats_ref</a></div><div class="ttdeci">int ff_formats_ref(AVFilterFormats *f, AVFilterFormats **ref)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00466">formats.c:466</a></div></div>
<div class="ttc" id="astruct_a_v_filter_channel_layouts_html_a8ec25e1809fce41d1f97a5516baf443c"><div class="ttname"><a href="struct_a_v_filter_channel_layouts.html#a8ec25e1809fce41d1f97a5516baf443c">AVFilterChannelLayouts::channel_layouts</a></div><div class="ttdeci">uint64_t * channel_layouts</div><div class="ttdoc">list of channel layouts</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00087">formats.h:87</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ga06ba8a64dc4382c422789a5d0b6bf592"><div class="ttname"><a href="group__lavu__sampfmts.html#ga06ba8a64dc4382c422789a5d0b6bf592">av_sample_fmt_is_planar</a></div><div class="ttdeci">int av_sample_fmt_is_planar(enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00112">samplefmt.c:112</a></div></div>
<div class="ttc" id="apixdesc_8h_html_a06924ef0ebf07d8742ff8994e3a948bf"><div class="ttname"><a href="pixdesc_8h.html#a06924ef0ebf07d8742ff8994e3a948bf">AV_PIX_FMT_FLAG_ALPHA</a></div><div class="ttdeci">#define AV_PIX_FMT_FLAG_ALPHA</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00179">pixdesc.h:179</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a7331e302ea7bb48e0b605a069576e135"><div class="ttname"><a href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00039">demuxing_decoding.c:40</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ga31b9d149b2de9821a65f4f5612970838"><div class="ttname"><a href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a></div><div class="ttdeci">const char * av_get_sample_fmt_name(enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00049">samplefmt.c:49</a></div></div>
<div class="ttc" id="aformats_8c_html_a4eb03e8d2340d2c22e9813bbf7b211d4"><div class="ttname"><a href="formats_8c.html#a4eb03e8d2340d2c22e9813bbf7b211d4">ff_can_merge_formats</a></div><div class="ttdeci">int ff_can_merge_formats(const AVFilterFormats *a, const AVFilterFormats *b, enum AVMediaType type)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00134">formats.c:134</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="alibavcodec_2jacosubdec_8c_html_ac3a73711fd7f8a50db1c4b62e41cf852"><div class="ttname"><a href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a></div><div class="ttdeci">const char * arg</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2jacosubdec_8c_source.html#l00066">jacosubdec.c:66</a></div></div>
<div class="ttc" id="aformats_8c_html_ab0b8b4a4184dbad7cde3c147d7db78c6"><div class="ttname"><a href="formats_8c.html#ab0b8b4a4184dbad7cde3c147d7db78c6">ff_formats_changeref</a></div><div class="ttdeci">void ff_formats_changeref(AVFilterFormats **oldref, AVFilterFormats **newref)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00532">formats.c:532</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="aformats_8c_html_a0489bc9d88a9c4b425ec77a2547cab99"><div class="ttname"><a href="formats_8c.html#a0489bc9d88a9c4b425ec77a2547cab99">ff_merge_samplerates</a></div><div class="ttdeci">int ff_merge_samplerates(AVFilterFormats *a, AVFilterFormats *b)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00162">formats.c:162</a></div></div>
<div class="ttc" id="aformats_8c_html_a4edfaafba1bed71aa09040c0c8c6e16e"><div class="ttname"><a href="formats_8c.html#a4edfaafba1bed71aa09040c0c8c6e16e">MAKE_FORMAT_LIST</a></div><div class="ttdeci">#define MAKE_FORMAT_LIST(type, field, count_field)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00268">formats.c:268</a></div></div>
<div class="ttc" id="aformats_8c_html_a5d56c3c57c2cd87dd597ec1751005731"><div class="ttname"><a href="formats_8c.html#a5d56c3c57c2cd87dd597ec1751005731">SET_COMMON_FORMATS</a></div><div class="ttdeci">#define SET_COMMON_FORMATS(ctx, fmts, ref_fn, unref_fn)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00537">formats.c:537</a></div></div>
<div class="ttc" id="aformats_8c_html_a40ae574a1c8df79ef09a5638aec4bc25"><div class="ttname"><a href="formats_8c.html#a40ae574a1c8df79ef09a5638aec4bc25">ff_add_format</a></div><div class="ttdeci">int ff_add_format(AVFilterFormats **avff, int64_t fmt)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00332">formats.c:332</a></div></div>
<div class="ttc" id="aformats_8c_html_a3e064bc5337435524a2d39dcdf2c9df6"><div class="ttname"><a href="formats_8c.html#a3e064bc5337435524a2d39dcdf2c9df6">ff_fmt_is_in</a></div><div class="ttdeci">int ff_fmt_is_in(int fmt, const int *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00257">formats.c:257</a></div></div>
<div class="ttc" id="astruct_a_v_pix_fmt_descriptor_html_ae83de203f97288c9f4070212a5eac5de"><div class="ttname"><a href="struct_a_v_pix_fmt_descriptor.html#ae83de203f97288c9f4070212a5eac5de">AVPixFmtDescriptor::nb_components</a></div><div class="ttdeci">uint8_t nb_components</div><div class="ttdoc">The number of components each pixel has, (1-4)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00083">pixdesc.h:83</a></div></div>
<div class="ttc" id="astruct_a_v_pix_fmt_descriptor_html"><div class="ttname"><a href="struct_a_v_pix_fmt_descriptor.html">AVPixFmtDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00081">pixdesc.h:81</a></div></div>
<div class="ttc" id="aformats_8c_html_a4284707a4c81ef4fee209ce9ed9caa4a"><div class="ttname"><a href="formats_8c.html#a4284707a4c81ef4fee209ce9ed9caa4a">ff_channel_layouts_unref</a></div><div class="ttdeci">void ff_channel_layouts_unref(AVFilterChannelLayouts **ref)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00508">formats.c:508</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_gac95619abeb32e4a3daa18e3ff3419380"><div class="ttname"><a href="group__channel__mask__c.html#gac95619abeb32e4a3daa18e3ff3419380">av_get_channel_layout_nb_channels</a></div><div class="ttdeci">int av_get_channel_layout_nb_channels(uint64_t channel_layout)</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00226">channel_layout.c:226</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="aformats_8c_html_a7bcc7c96e12454140fe1ad06178897c5"><div class="ttname"><a href="formats_8c.html#a7bcc7c96e12454140fe1ad06178897c5">ff_formats_check_sample_formats</a></div><div class="ttdeci">int ff_formats_check_sample_formats(void *log, const AVFilterFormats *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00691">formats.c:691</a></div></div>
<div class="ttc" id="aeval_8h_html"><div class="ttname"><a href="eval_8h.html">eval.h</a></div></div>
<div class="ttc" id="aformats_8c_html_a2f5a289077898d68060d54fe3a6ca229"><div class="ttname"><a href="formats_8c.html#a2f5a289077898d68060d54fe3a6ca229">MERGE_REF</a></div><div class="ttdeci">#define MERGE_REF(ret, a, fmts, type, fail_statement)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00036">formats.c:36</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_ga9a84bba4713dfced21a1a56163be1f48"><div class="ttname"><a href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a></div><div class="ttdeci">AVMediaType</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00199">avutil.h:199</a></div></div>
<div class="ttc" id="aformats_8h_html_a6a2884b52a653517f3a159210d5a8ede"><div class="ttname"><a href="formats_8h.html#a6a2884b52a653517f3a159210d5a8ede">FF_PIX_FMT_FLAG_SW_FLAT_SUB</a></div><div class="ttdeci">#define FF_PIX_FMT_FLAG_SW_FLAT_SUB</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00240">formats.h:240</a></div></div>
<div class="ttc" id="aformats_8c_html_a16c8352433b77e97e120447e48d29030"><div class="ttname"><a href="formats_8c.html#a16c8352433b77e97e120447e48d29030">ff_default_query_formats</a></div><div class="ttdeci">int ff_default_query_formats(AVFilterContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00593">formats.c:593</a></div></div>
<div class="ttc" id="aformats_8c_html_a3046f7b7c8be5a3ed58a4f7e2176f7ab"><div class="ttname"><a href="formats_8c.html#a3046f7b7c8be5a3ed58a4f7e2176f7ab">ff_parse_channel_layout</a></div><div class="ttdeci">int ff_parse_channel_layout(int64_t *ret, int *nret, const char *arg, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00644">formats.c:644</a></div></div>
<div class="ttc" id="aformats_8c_html_a3397a8844597c369beef81288af2d899"><div class="ttname"><a href="formats_8c.html#a3397a8844597c369beef81288af2d899">check_list</a></div><div class="ttdeci">static int check_list(void *log, const char *name, const AVFilterFormats *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00665">formats.c:665</a></div></div>
<div class="ttc" id="aformats_8c_html_aa911627c03bef728053cbe926c1241fe"><div class="ttname"><a href="formats_8c.html#aa911627c03bef728053cbe926c1241fe">KNOWN</a></div><div class="ttdeci">#define KNOWN(l)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00031">formats.c:31</a></div></div>
<div class="ttc" id="aformats_8c_html_ac2b768f33fd570b144f463b6798ee868"><div class="ttname"><a href="formats_8c.html#ac2b768f33fd570b144f463b6798ee868">ff_formats_check_channel_layouts</a></div><div class="ttdeci">int ff_formats_check_channel_layouts(void *log, const AVFilterChannelLayouts *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00710">formats.c:710</a></div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="astruct_a_v_filter_channel_layouts_html_a158aa680fe3bdf08dcba211c0dca0a6a"><div class="ttname"><a href="struct_a_v_filter_channel_layouts.html#a158aa680fe3bdf08dcba211c0dca0a6a">AVFilterChannelLayouts::all_layouts</a></div><div class="ttdeci">char all_layouts</div><div class="ttdoc">accept any known channel layout</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00089">formats.h:89</a></div></div>
<div class="ttc" id="apixdesc_8c_html_a01dfb93fb0e28e789922e9199a4fdb14"><div class="ttname"><a href="pixdesc_8c.html#a01dfb93fb0e28e789922e9199a4fdb14">av_pix_fmt_desc_get_id</a></div><div class="ttdeci">enum AVPixelFormat av_pix_fmt_desc_get_id(const AVPixFmtDescriptor *desc)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02580">pixdesc.c:2592</a></div></div>
<div class="ttc" id="aformats_8c_html_a5a4f52dd68781b777dabe9a99d2c40d3"><div class="ttname"><a href="formats_8c.html#a5a4f52dd68781b777dabe9a99d2c40d3">ff_all_channel_layouts</a></div><div class="ttdeci">AVFilterChannelLayouts * ff_all_channel_layouts(void)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00427">formats.c:427</a></div></div>
<div class="ttc" id="aformats_8c_html_a15b5ccf806de2e5b86969ff3f0a5da81"><div class="ttname"><a href="formats_8c.html#a15b5ccf806de2e5b86969ff3f0a5da81">ADD_FORMAT</a></div><div class="ttdeci">#define ADD_FORMAT(f, fmt, unref_fn, type, list, nb)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00313">formats.c:313</a></div></div>
<div class="ttc" id="aformats_8c_html_aa075f5d6239fcd0e18c2b064726bacc4"><div class="ttname"><a href="formats_8c.html#aa075f5d6239fcd0e18c2b064726bacc4">ff_formats_unref</a></div><div class="ttdeci">void ff_formats_unref(AVFilterFormats **ref)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00503">formats.c:503</a></div></div>
<div class="ttc" id="aavassert_8h_html_a2764bf422e4df5bf3aac652f21fe780a"><div class="ttname"><a href="avassert_8h.html#a2764bf422e4df5bf3aac652f21fe780a">av_assert2</a></div><div class="ttdeci">#define av_assert2(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00064">avassert.h:64</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="aformats_8c_html_abc1b9710afadc94824b02088570cd2f1"><div class="ttname"><a href="formats_8c.html#abc1b9710afadc94824b02088570cd2f1">FORMATS_REF</a></div><div class="ttdeci">#define FORMATS_REF(f, ref, unref_fn)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00445">formats.c:445</a></div></div>
<div class="ttc" id="aformats_8c_html_a0f82d074032e16a42136ad7d7c652a6d"><div class="ttname"><a href="formats_8c.html#a0f82d074032e16a42136ad7d7c652a6d">ff_formats_check_sample_rates</a></div><div class="ttdeci">int ff_formats_check_sample_rates(void *log, const AVFilterFormats *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00696">formats.c:696</a></div></div>
<div class="ttc" id="aformats_8c_html_a499ef2ae5a64e6c97aa9a5feb182a92f"><div class="ttname"><a href="formats_8c.html#a499ef2ae5a64e6c97aa9a5feb182a92f">avfilter_make_format64_list</a></div><div class="ttdeci">AVFilterChannelLayouts * avfilter_make_format64_list(const int64_t *fmts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00307">formats.c:307</a></div></div>
<div class="ttc" id="alibm_8h_html_a7ddd290acf3fe2961676053dbbc2cec3"><div class="ttname"><a href="libm_8h.html#a7ddd290acf3fe2961676053dbbc2cec3">round</a></div><div class="ttdeci">static av_always_inline av_const double round(double x)</div><div class="ttdef"><b>Definition:</b> <a href="libm_8h_source.html#l00444">libm.h:444</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ga0c3c218e1dd570ad4917c69a35a6c77d"><div class="ttname"><a href="group__lavu__sampfmts.html#ga0c3c218e1dd570ad4917c69a35a6c77d">av_get_bytes_per_sample</a></div><div class="ttdeci">int av_get_bytes_per_sample(enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00106">samplefmt.c:106</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="aformats_8c_html_a1e3267b3164d4a60f07d5f1b51ffaaf3"><div class="ttname"><a href="formats_8c.html#a1e3267b3164d4a60f07d5f1b51ffaaf3">FORMATS_CHANGEREF</a></div><div class="ttdeci">#define FORMATS_CHANGEREF(oldref, newref)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00513">formats.c:513</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_gaf9a51ca15301871723577c730b5865c5"><div class="ttname"><a href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></div><div class="ttdeci">AVSampleFormat</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00058">samplefmt.h:58</a></div></div>
<div class="ttc" id="astruct_a_v_filter_formats_html"><div class="ttname"><a href="struct_a_v_filter_formats.html">AVFilterFormats</a></div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00065">formats.h:65</a></div></div>
<div class="ttc" id="astruct_a_v_filter_channel_layouts_html"><div class="ttname"><a href="struct_a_v_filter_channel_layouts.html">AVFilterChannelLayouts</a></div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00086">formats.h:86</a></div></div>
<div class="ttc" id="aformats_8c_html_a0ee404f2c0503bf2858e38510d647b56"><div class="ttname"><a href="formats_8c.html#a0ee404f2c0503bf2858e38510d647b56">ff_planar_sample_fmts</a></div><div class="ttdeci">AVFilterFormats * ff_planar_sample_fmts(void)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00408">formats.c:408</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="aeval_8c_html_a7d21905c92ee5af0bb529d2daf8cb7c3"><div class="ttname"><a href="eval_8c.html#a7d21905c92ee5af0bb529d2daf8cb7c3">av_strtod</a></div><div class="ttdeci">double av_strtod(const char *numstr, char **tail)</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00106">eval.c:106</a></div></div>
<div class="ttc" id="aformats_8h_html_a6ce6ec854bafc1fb0d6391c018cd8f91"><div class="ttname"><a href="formats_8h.html#a6ce6ec854bafc1fb0d6391c018cd8f91">FF_COUNT2LAYOUT</a></div><div class="ttdeci">#define FF_COUNT2LAYOUT(c)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00103">formats.h:103</a></div></div>
<div class="ttc" id="astruct_a_v_filter_channel_layouts_html_a8e413cb77fc7441fdf52a56f17d7aac8"><div class="ttname"><a href="struct_a_v_filter_channel_layouts.html#a8e413cb77fc7441fdf52a56f17d7aac8">AVFilterChannelLayouts::nb_channel_layouts</a></div><div class="ttdeci">int nb_channel_layouts</div><div class="ttdoc">number of channel layouts</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00088">formats.h:88</a></div></div>
<div class="ttc" id="apixdesc_8c_html_a925ef18d69c24c3be8c53d5a7dc0660e"><div class="ttname"><a href="pixdesc_8c.html#a925ef18d69c24c3be8c53d5a7dc0660e">av_get_pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat av_get_pix_fmt(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02489">pixdesc.c:2501</a></div></div>
<div class="ttc" id="aformats_8c_html_af5bf4cb581071246591047404a835180"><div class="ttname"><a href="formats_8c.html#af5bf4cb581071246591047404a835180">ff_all_samplerates</a></div><div class="ttdeci">AVFilterFormats * ff_all_samplerates(void)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00421">formats.c:421</a></div></div>
<div class="ttc" id="achannel__layout_8h_html"><div class="ttname"><a href="channel__layout_8h.html">channel_layout.h</a></div></div>
<div class="ttc" id="astruct_a_v_filter_formats_html_a5b9bd16fb285ee2dbd926850b492e083"><div class="ttname"><a href="struct_a_v_filter_formats.html#a5b9bd16fb285ee2dbd926850b492e083">AVFilterFormats::formats</a></div><div class="ttdeci">int * formats</div><div class="ttdoc">list of media formats</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00067">formats.h:67</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="aavfilter_8h_html"><div class="ttname"><a href="avfilter_8h.html">avfilter.h</a></div></div>
<div class="ttc" id="atests_2jpeg2000dwt_8c_html_a5cabdd8be5af41f675fed06498e094b7"><div class="ttname"><a href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a></div><div class="ttdeci">static int ref[MAX_W *MAX_W]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2jpeg2000dwt_8c_source.html#l00107">jpeg2000dwt.c:107</a></div></div>
<div class="ttc" id="apixdesc_8h_html_ab2dcf0e479980cad6c8477d5a53a3638"><div class="ttname"><a href="pixdesc_8h.html#ab2dcf0e479980cad6c8477d5a53a3638">AV_PIX_FMT_FLAG_PLANAR</a></div><div class="ttdeci">#define AV_PIX_FMT_FLAG_PLANAR</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8h_source.html#l00144">pixdesc.h:144</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_gad2336dae5569ae7fe509a9ea12df6a60"><div class="ttname"><a href="group__channel__mask__c.html#gad2336dae5569ae7fe509a9ea12df6a60">av_get_extended_channel_layout</a></div><div class="ttdeci">int av_get_extended_channel_layout(const char *name, uint64_t *channel_layout, int *nb_channels)</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00161">channel_layout.c:161</a></div></div>
<div class="ttc" id="aformats_8c_html_a7196f4dfc242c755cb98bed44c35551a"><div class="ttname"><a href="formats_8c.html#a7196f4dfc242c755cb98bed44c35551a">layouts_compatible</a></div><div class="ttdeci">static int layouts_compatible(uint64_t a, uint64_t b)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00703">formats.c:703</a></div></div>
<div class="ttc" id="alibsvtav1_8c_html_a710bce51374aba96ab04912897666c35"><div class="ttname"><a href="libsvtav1_8c.html#a710bce51374aba96ab04912897666c35">desc</a></div><div class="ttdeci">const char * desc</div><div class="ttdef"><b>Definition:</b> <a href="libsvtav1_8c_source.html#l00079">libsvtav1.c:79</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a3e70a65f622cd9cd1b7ea3d2a19bca5d"><div class="ttname"><a href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a></div><div class="ttdeci">static const uint16_t channel_layouts[7]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00113">dca_lbr.c:113</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="aformats_8c_html_a6ae87fde38de461268b9eefa301b8b46"><div class="ttname"><a href="formats_8c.html#a6ae87fde38de461268b9eefa301b8b46">ff_parse_sample_rate</a></div><div class="ttdeci">int ff_parse_sample_rate(int *ret, const char *arg, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00632">formats.c:632</a></div></div>
<div class="ttc" id="aformats_8c_html_a4dc7b943b2f832704b7522b1a4fc9780"><div class="ttname"><a href="formats_8c.html#a4dc7b943b2f832704b7522b1a4fc9780">ff_parse_pixel_format</a></div><div class="ttdeci">int ff_parse_pixel_format(enum AVPixelFormat *ret, const char *arg, void *log_ctx)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00617">formats.c:617</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a67119bce106892b6dade1dc5aa405ac9"><div class="ttname"><a href="cbs__av1_8c.html#a67119bce106892b6dade1dc5aa405ac9">flags</a></div><div class="ttdeci">#define flags(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00560">cbs_av1.c:560</a></div></div>
<div class="ttc" id="aformats_8c_html_af6035dac08d655f1b439dab29ab45d25"><div class="ttname"><a href="formats_8c.html#af6035dac08d655f1b439dab29ab45d25">ff_merge_channel_layouts</a></div><div class="ttdeci">int ff_merge_channel_layouts(AVFilterChannelLayouts *a, AVFilterChannelLayouts *b)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00168">formats.c:168</a></div></div>
<div class="ttc" id="astruct_a_v_filter_channel_layouts_html_a45191c6c4a2319011e064a8678c33d7f"><div class="ttname"><a href="struct_a_v_filter_channel_layouts.html#a45191c6c4a2319011e064a8678c33d7f">AVFilterChannelLayouts::all_counts</a></div><div class="ttdeci">char all_counts</div><div class="ttdoc">accept any channel layout or count</div><div class="ttdef"><b>Definition:</b> <a href="formats_8h_source.html#l00090">formats.h:90</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="aformats_8c_html_a9176f293cccfe4e4c3539b2bfbda480b"><div class="ttname"><a href="formats_8c.html#a9176f293cccfe4e4c3539b2bfbda480b">ff_set_common_samplerates</a></div><div class="ttdeci">int ff_set_common_samplerates(AVFilterContext *ctx, AVFilterFormats *samplerates)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00575">formats.c:575</a></div></div>
<div class="ttc" id="aformats_8c_html_a0bc1063dff347b37a3d24e5b5e4107f7"><div class="ttname"><a href="formats_8c.html#a0bc1063dff347b37a3d24e5b5e4107f7">ff_channel_layouts_changeref</a></div><div class="ttdeci">void ff_channel_layouts_changeref(AVFilterChannelLayouts **oldref, AVFilterChannelLayouts **newref)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00526">formats.c:526</a></div></div>
<div class="ttc" id="aformats_8c_html_a89ddebc07f3d3a366ae22a58cdf93f02"><div class="ttname"><a href="formats_8c.html#a89ddebc07f3d3a366ae22a58cdf93f02">ff_merge_formats</a></div><div class="ttdeci">int ff_merge_formats(AVFilterFormats *a, AVFilterFormats *b, enum AVMediaType type)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00141">formats.c:141</a></div></div>
<div class="ttc" id="aformats_8c_html_ae6ee99443faba7e242d4ff9d093a41aa"><div class="ttname"><a href="formats_8c.html#ae6ee99443faba7e242d4ff9d093a41aa">ff_set_common_channel_layouts</a></div><div class="ttdeci">int ff_set_common_channel_layouts(AVFilterContext *ctx, AVFilterChannelLayouts *channel_layouts)</div><div class="ttdef"><b>Definition:</b> <a href="formats_8c_source.html#l00568">formats.c:568</a></div></div>
<div class="ttc" id="achannel__layout_8c_html_ac8404c077a0560a06a73cfec0697c99a"><div class="ttname"><a href="channel__layout_8c.html#ac8404c077a0560a06a73cfec0697c99a">nb_channels</a></div><div class="ttdeci">int nb_channels</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8c_source.html#l00081">channel_layout.c:81</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
