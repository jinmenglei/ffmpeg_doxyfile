<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/dca_lbr.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dca_lbr.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dca__lbr_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2016 foo86</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ab9ef831966fb2c5f522c19e809354830">   21</a></span>&#160;<span class="preprocessor">#define BITSTREAM_READER_LE</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="channel__layout_8h.html">libavutil/channel_layout.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dcadec_8h.html">dcadec.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dcadata_8h.html">dcadata.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dcahuff_8h.html">dcahuff.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dca__syncwords_8h.html">dca_syncwords.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ab2b16fd8be6d8981f7867ca265435403">   31</a></span>&#160;<span class="preprocessor">#define AMP_MAX     56</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595e">   33</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595e">LBRFlags</a> {</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacacc6db2a96dbf161c18f5f03d4082cb">   34</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacacc6db2a96dbf161c18f5f03d4082cb">LBR_FLAG_24_BIT</a>             = 0x01,</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">   35</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">LBR_FLAG_LFE_PRESENT</a>        = 0x02,</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea4e06993e443d26a31da5258eb261cbb4">   36</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea4e06993e443d26a31da5258eb261cbb4">LBR_FLAG_BAND_LIMIT_2_3</a>     = 0x04,</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea2c517ec8979b002c36b44844b1e0507d">   37</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea2c517ec8979b002c36b44844b1e0507d">LBR_FLAG_BAND_LIMIT_1_2</a>     = 0x08,</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eaab7b87c20a29e2f225850bbb55bd496d">   38</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eaab7b87c20a29e2f225850bbb55bd496d">LBR_FLAG_BAND_LIMIT_1_3</a>     = 0x0c,</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea0975bc2d8f57596842a5e13b5d66f9d9">   39</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea0975bc2d8f57596842a5e13b5d66f9d9">LBR_FLAG_BAND_LIMIT_1_4</a>     = 0x10,</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea6ab01e6ce6101b6b20be457dd1162b0c">   40</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea6ab01e6ce6101b6b20be457dd1162b0c">LBR_FLAG_BAND_LIMIT_1_8</a>     = 0x18,</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eabdb0ef04f00b4596a694b337da875a54">   41</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eabdb0ef04f00b4596a694b337da875a54">LBR_FLAG_BAND_LIMIT_NONE</a>    = 0x14,</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea42a3378bf16b387b1ab34d9742db75e0">   42</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea42a3378bf16b387b1ab34d9742db75e0">LBR_FLAG_BAND_LIMIT_MASK</a>    = 0x1c,</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea2d0dc5f0a1a6a12ee02518e5a9426755">   43</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea2d0dc5f0a1a6a12ee02518e5a9426755">LBR_FLAG_DMIX_STEREO</a>        = 0x20,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eae4bb68e743f083f67c8fbd7c0697765c">LBR_FLAG_DMIX_MULTI_CH</a>      = 0x40</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eae4bb68e743f083f67c8fbd7c0697765c">   45</a></span>&#160;};</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609c">   47</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609c">LBRChunkTypes</a> {</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cadd537b5315a8905a9b7184b8e2ab083f">   48</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cadd537b5315a8905a9b7184b8e2ab083f">LBR_CHUNK_NULL</a>              = 0x00,</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad45b509847faad0046eeaedb91718567">   49</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad45b509847faad0046eeaedb91718567">LBR_CHUNK_PAD</a>               = 0x01,</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca55e0a7f2b2199fff5f6718ca0e59b4c5">   50</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca55e0a7f2b2199fff5f6718ca0e59b4c5">LBR_CHUNK_FRAME</a>             = 0x04,</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caebb097723eda73518d1d8daffd50df3b">   51</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caebb097723eda73518d1d8daffd50df3b">LBR_CHUNK_FRAME_NO_CSUM</a>     = 0x06,</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa65d4cc94edd5546f172397f4fd89f52">   52</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa65d4cc94edd5546f172397f4fd89f52">LBR_CHUNK_LFE</a>               = 0x0a,</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca0fd1da6af83e5e7bcfafaefe3dbdb291">   53</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca0fd1da6af83e5e7bcfafaefe3dbdb291">LBR_CHUNK_ECS</a>               = 0x0b,</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cac34d2216d718c9473259364063ab7191">   54</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cac34d2216d718c9473259364063ab7191">LBR_CHUNK_RESERVED_1</a>        = 0x0c,</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca4c11cc4fa096ae3f0aed36997376dae3">   55</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca4c11cc4fa096ae3f0aed36997376dae3">LBR_CHUNK_RESERVED_2</a>        = 0x0d,</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca091c8e2816ebf9b94beba2e2bae6f5e5">   56</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca091c8e2816ebf9b94beba2e2bae6f5e5">LBR_CHUNK_SCF</a>               = 0x0e,</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca19c79e2cc7c0d52348a943b37ecd663b">   57</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca19c79e2cc7c0d52348a943b37ecd663b">LBR_CHUNK_TONAL</a>             = 0x10,</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad6dc6d960db24fb09b81f061f246d553">   58</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad6dc6d960db24fb09b81f061f246d553">LBR_CHUNK_TONAL_GRP_1</a>       = 0x11,</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa99282b72ff641bdfa1b90ec64bf8307">   59</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa99282b72ff641bdfa1b90ec64bf8307">LBR_CHUNK_TONAL_GRP_2</a>       = 0x12,</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6ecb6993150bb60b1317e92c2b53a009">   60</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6ecb6993150bb60b1317e92c2b53a009">LBR_CHUNK_TONAL_GRP_3</a>       = 0x13,</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca2416fcdf0060226003d9ac151f2cb58b">   61</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca2416fcdf0060226003d9ac151f2cb58b">LBR_CHUNK_TONAL_GRP_4</a>       = 0x14,</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa1b8e117df77514f132bcc1f2fe08d2a">   62</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa1b8e117df77514f132bcc1f2fe08d2a">LBR_CHUNK_TONAL_GRP_5</a>       = 0x15,</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad2af8360c4559439c8f72582473618be">   63</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad2af8360c4559439c8f72582473618be">LBR_CHUNK_TONAL_SCF</a>         = 0x16,</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab941ad757fa2e384856b8fc74f8facca">   64</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab941ad757fa2e384856b8fc74f8facca">LBR_CHUNK_TONAL_SCF_GRP_1</a>   = 0x17,</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca559813c8c88f33081bcd49576a423d67">   65</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca559813c8c88f33081bcd49576a423d67">LBR_CHUNK_TONAL_SCF_GRP_2</a>   = 0x18,</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca0fbce9012bc689c02fa77848c752fc29">   66</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca0fbce9012bc689c02fa77848c752fc29">LBR_CHUNK_TONAL_SCF_GRP_3</a>   = 0x19,</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cafdcd79e83600306827dcec47d6ae103e">   67</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cafdcd79e83600306827dcec47d6ae103e">LBR_CHUNK_TONAL_SCF_GRP_4</a>   = 0x1a,</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad25160ef1d25f512fc2ea7ade7e72c93">   68</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad25160ef1d25f512fc2ea7ade7e72c93">LBR_CHUNK_TONAL_SCF_GRP_5</a>   = 0x1b,</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca75e61f6a7fe8f8f46e5ed0b3947e6d5c">   69</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca75e61f6a7fe8f8f46e5ed0b3947e6d5c">LBR_CHUNK_RES_GRID_LR</a>       = 0x30,</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3d0d08e1fc435b9596285c09fb7d70a6">   70</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3d0d08e1fc435b9596285c09fb7d70a6">LBR_CHUNK_RES_GRID_LR_LAST</a>  = 0x3f,</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3f619c3ab22cf0d3b74198bee06f2a3e">   71</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3f619c3ab22cf0d3b74198bee06f2a3e">LBR_CHUNK_RES_GRID_HR</a>       = 0x40,</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca85e1f455d508cbec303a2e4e118898c7">   72</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca85e1f455d508cbec303a2e4e118898c7">LBR_CHUNK_RES_GRID_HR_LAST</a>  = 0x4f,</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab5f46f196b6d834d91a3b55c9cfcc182">   73</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab5f46f196b6d834d91a3b55c9cfcc182">LBR_CHUNK_RES_TS_1</a>          = 0x50,</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3c6e04b51694420b09305a73a699859b">   74</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3c6e04b51694420b09305a73a699859b">LBR_CHUNK_RES_TS_1_LAST</a>     = 0x5f,</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6cebf4283ce973f8b059dd0ac9c01482">   75</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6cebf4283ce973f8b059dd0ac9c01482">LBR_CHUNK_RES_TS_2</a>          = 0x60,</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cac89c6d5e52aad0d67a29f1e0a837f328">   76</a></span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cac89c6d5e52aad0d67a29f1e0a837f328">LBR_CHUNK_RES_TS_2_LAST</a>     = 0x6f,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca56294a734de3366284443b7b446b5321">LBR_CHUNK_EXTENSION</a>         = 0x7f</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca56294a734de3366284443b7b446b5321">   78</a></span>&#160;};</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="struct_l_b_r_chunk.html">   80</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a> {</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">   81</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_l_b_r_chunk.html#ad87d4112a36fa9de9281a33b4e8d1368">id</a>, <a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">   82</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">data</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a7a2f14261c3925608ea59d88cacb8fe9">   83</a></span>&#160;} <a class="code" href="dca__lbr_8c.html#a7a2f14261c3925608ea59d88cacb8fe9">LBRChunk</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#abd0d8d31a8de0b21903d6cf2db677582">   85</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> int8_t <a class="code" href="dca__lbr_8c.html#abd0d8d31a8de0b21903d6cf2db677582">channel_reorder_nolfe</a>[7][5] = {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    { 0, -1, -1, -1, -1 },  <span class="comment">// C</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    { 0,  1, -1, -1, -1 },  <span class="comment">// LR</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    { 0,  1,  2, -1, -1 },  <span class="comment">// LR C</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    { 0,  1, -1, -1, -1 },  <span class="comment">// LsRs</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    { 1,  2,  0, -1, -1 },  <span class="comment">// LsRs C</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    { 0,  1,  2,  3, -1 },  <span class="comment">// LR LsRs</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    { 0,  1,  3,  4,  2 },  <span class="comment">// LR LsRs C</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;};</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a210f1ca693b06240de55784876fa3052">   95</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> int8_t <a class="code" href="dca__lbr_8c.html#a210f1ca693b06240de55784876fa3052">channel_reorder_lfe</a>[7][5] = {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    { 0, -1, -1, -1, -1 },  <span class="comment">// C</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    { 0,  1, -1, -1, -1 },  <span class="comment">// LR</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    { 0,  1,  2, -1, -1 },  <span class="comment">// LR C</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    { 1,  2, -1, -1, -1 },  <span class="comment">// LsRs</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    { 2,  3,  0, -1, -1 },  <span class="comment">// LsRs C</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    { 0,  1,  3,  4, -1 },  <span class="comment">// LR LsRs</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    { 0,  1,  4,  5,  2 },  <span class="comment">// LR LsRs C</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;};</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a57001d15a6417aba6b2c87b7bcf5f815">  105</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="dca__lbr_8c.html#a57001d15a6417aba6b2c87b7bcf5f815">lfe_index</a>[7] = {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    1, 2, 3, 0, 1, 2, 3</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;};</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a521619a833879b6f0c41fb1f05370ad9">  109</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="dca__lbr_8c.html#a521619a833879b6f0c41fb1f05370ad9">channel_counts</a>[7] = {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    1, 2, 3, 2, 3, 4, 5</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;};</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">  113</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uint16_t <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>[7] = {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="group__channel__mask__c.html#ga53d6da2dcd56f5f87c7afd8b33fa15ba">AV_CH_LAYOUT_MONO</a>,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="group__channel__mask__c.html#gabc6d6651bba254cd0fa2c42a57228e65">AV_CH_LAYOUT_STEREO</a>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="group__channel__mask__c.html#ga625aec7f2285dc35e3ed801e91889564">AV_CH_LAYOUT_SURROUND</a>,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="group__channel__masks.html#ga02e55f35249dfa57a2e4edfd3acfec4f">AV_CH_SIDE_LEFT</a> | <a class="code" href="group__channel__masks.html#ga947b60ab70c428ebb07c8b9c87023b39">AV_CH_SIDE_RIGHT</a>,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="group__channel__masks.html#ga88f2868b232a89fd11ad9d6c39d502a1">AV_CH_FRONT_CENTER</a> | <a class="code" href="group__channel__masks.html#ga02e55f35249dfa57a2e4edfd3acfec4f">AV_CH_SIDE_LEFT</a> | <a class="code" href="group__channel__masks.html#ga947b60ab70c428ebb07c8b9c87023b39">AV_CH_SIDE_RIGHT</a>,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="group__channel__mask__c.html#ga5c25ee8b976d0cb15e0b6d2cf923d19d">AV_CH_LAYOUT_2_2</a>,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="group__channel__mask__c.html#ga10eddec555bcf849efce5158b0cbdb50">AV_CH_LAYOUT_5POINT0</a></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;};</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a8ae9ca81511a01315194b1e7981a582d">  123</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span>    <a class="code" href="dca__lbr_8c.html#a8ae9ca81511a01315194b1e7981a582d">cos_tab</a>[256];</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ace1808df5c22ca489c71ec223f409c58">  124</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span>    <a class="code" href="dca__lbr_8c.html#ace1808df5c22ca489c71ec223f409c58">lpc_tab</a>[16];</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a62ca9e0974f83e9a90b4387e94107823">  126</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a62ca9e0974f83e9a90b4387e94107823">init_tables</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vaapi__transcode_8c.html#ad06983e7f6e71b233ea7ff3dee1952f2">initialized</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vaapi__transcode_8c.html#ad06983e7f6e71b233ea7ff3dee1952f2">initialized</a>)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 256; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="dca__lbr_8c.html#a8ae9ca81511a01315194b1e7981a582d">cos_tab</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = cos(<a class="code" href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 128);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="dca__lbr_8c.html#ace1808df5c22ca489c71ec223f409c58">lpc_tab</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = sin((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 8) * (<a class="code" href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / ((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8) ? 17 : 15)));</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="vaapi__transcode_8c.html#ad06983e7f6e71b233ea7ff3dee1952f2">initialized</a> = 1;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#af17990420fd09675bb6681771cb1d2d7">  143</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#af17990420fd09675bb6681771cb1d2d7">parse_lfe_24</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">int</span> step_max = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="dcadata_8c.html#a09fc38be62a169a43fcc7fd195cb40b6">ff_dca_lfe_step_size_24</a>) - 1;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ps, si, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>, step_i;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    ps = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 24);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    si = ps &gt;&gt; 23;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = (((ps &amp; 0x7fffff) ^ -si) + si) * (1.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> / 0x7fffff);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    step_i = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (step_i &gt; step_max) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid LFE step size index\n&quot;</span>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> = <a class="code" href="dcadata_8c.html#a09fc38be62a169a43fcc7fd195cb40b6">ff_dca_lfe_step_size_24</a>[step_i];</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 6);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> = <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * 0.03125f;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 16)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 8)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * 0.5f;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 4)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * 0.25f;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 2)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * 0.125f;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 1)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * 0.0625f;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 32) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> -= <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &lt; -3.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = -3.0f;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> += <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt; 3.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = 3.0f;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        step_i += <a class="code" href="dcadata_8c.html#a10893fa5a0e0205c068064517f7d0692">ff_dca_lfe_delta_index_24</a>[<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 31];</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        step_i = av_clip(step_i, 0, step_max);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> = <a class="code" href="dcadata_8c.html#a09fc38be62a169a43fcc7fd195cb40b6">ff_dca_lfe_step_size_24</a>[step_i];</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_scale;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#aae3c896a53fe0c651e686d2b686a03d1">  197</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#aae3c896a53fe0c651e686d2b686a03d1">parse_lfe_16</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">int</span> step_max = <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="dcadata_8c.html#a6272cf757d2101744c036caff6c8df35">ff_dca_lfe_step_size_16</a>) - 1;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ps, si, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>, step_i;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>, <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    ps = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 16);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    si = ps &gt;&gt; 15;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = (((ps &amp; 0x7fff) ^ -si) + si) * (1.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> / 0x7fff);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    step_i = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (step_i &gt; step_max) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid LFE step size index\n&quot;</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> = <a class="code" href="dcadata_8c.html#a6272cf757d2101744c036caff6c8df35">ff_dca_lfe_step_size_16</a>[step_i];</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> = <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * 0.125f;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 4)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 2)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * 0.5f;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 1)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a> += <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> * 0.25f;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 8) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> -= <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &lt; -3.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = -3.0f;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> += <a class="code" href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt; 3.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> = 3.0f;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        step_i += <a class="code" href="dcadata_8c.html#a63beb18901fa4f087301928c142c7836">ff_dca_lfe_delta_index_16</a>[<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &amp; 7];</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        step_i = av_clip(step_i, 0, step_max);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> = <a class="code" href="dcadata_8c.html#a6272cf757d2101744c036caff6c8df35">ff_dca_lfe_step_size_16</a>[step_i];</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_scale;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a2e9b01d2eebede01a2e55d67815b068b">  247</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a2e9b01d2eebede01a2e55d67815b068b">parse_lfe_chunk</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a> *chunk)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">LBR_FLAG_LFE_PRESENT</a>))</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">data</a>, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// Determine bit depth from chunk size</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a> &gt;= 52)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dca__lbr_8c.html#af17990420fd09675bb6681771cb1d2d7">parse_lfe_24</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a> &gt;= 35)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="dca__lbr_8c.html#aae3c896a53fe0c651e686d2b686a03d1">parse_lfe_16</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;LFE chunk too short\n&quot;</span>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">  271</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_l_c.html">VLC</a> *vlc, <span class="keywordtype">int</span> max_depth)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordtype">int</span> v = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, vlc-&gt;<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, vlc-&gt;<a class="code" href="struct_v_l_c.html#ac36d06bc414af86fbe35c9efb6170fc5">bits</a>, max_depth);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (v &gt; 0)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span> v - 1;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// Rare value</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 3) + 1);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a4d4d9f0987a80f530e00da7092c28bed">  280</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a4d4d9f0987a80f530e00da7092c28bed">parse_tonal</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> group)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> amp[<a class="code" href="dca__lbr_8h.html#ab2728d438ae96e1ef8f66e0e62f958fb">DCA_LBR_CHANNELS_TOTAL</a>];</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> phs[<a class="code" href="dca__lbr_8h.html#ab2728d438ae96e1ef8f66e0e62f958fb">DCA_LBR_CHANNELS_TOTAL</a>];</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>, main_amp, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordtype">int</span> sf, sf_idx, ch, main_ch, freq;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordtype">int</span> ch_nbits = av_ceil_log2(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// Parse subframes for this group</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">for</span> (sf = 0; sf &lt; 1 &lt;&lt; group; sf += <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> ? 8 : 1) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        sf_idx = ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum &lt;&lt; group) + sf) &amp; 31;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_bounds[group][sf_idx][0] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ntones;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="comment">// Parse tones for this subframe</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">for</span> (freq = 1;; freq++) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 1) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Tonal group chunk too short\n&quot;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#ae6c63ca166772b8a3be9eb29f624748d">ff_dca_vlc_tnl_grp</a>[group], 2);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="dcadata_8c.html#a7add86e8d1ce40835854c045d2bed0ff">ff_dca_fst_amp</a>)) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid tonal frequency diff\n&quot;</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = <a class="code" href="get__bits_8h.html#af0912ada123614fa9e51ed638e867645">get_bitsz</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> &gt;&gt; 2) + <a class="code" href="dcadata_8c.html#a7add86e8d1ce40835854c045d2bed0ff">ff_dca_fst_amp</a>[<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>];</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> &lt;= 1)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordflow">break</span>;  <span class="comment">// End of subframe</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            freq += <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> - 2;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">if</span> (freq &gt;&gt; (5 - group) &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands * 4 - 6) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid spectral line offset\n&quot;</span>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="comment">// Main channel</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            main_ch = <a class="code" href="get__bits_8h.html#af0912ada123614fa9e51ed638e867645">get_bitsz</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, ch_nbits);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            main_amp = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#ad05767befe3f8dc442b39ca14b36d119">ff_dca_vlc_tnl_scf</a>, 2)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_scf[<a class="code" href="dcadata_8c.html#a472bd18bfac6f3f66153f926863add2b">ff_dca_freq_to_sb</a>[freq &gt;&gt; (7 - group)]]</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_range - 2;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            amp[main_ch] = main_amp &lt; <a class="code" href="dca__lbr_8c.html#ab2b16fd8be6d8981f7867ca265435403">AMP_MAX</a> ? main_amp : 0;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            phs[main_ch] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 3);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="comment">// Secondary channels</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total; ch++) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="keywordflow">if</span> (ch == main_ch)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    amp[ch] = amp[main_ch] - <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#ada312c1f7a7a5ad77382b4c363bcfc83">ff_dca_vlc_damp</a>, 1);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    phs[ch] = phs[main_ch] - <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#ace9652c601e401ce950b0234eca2ca63">ff_dca_vlc_dph</a>,  1);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    amp[ch] = 0;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    phs[ch] = 0;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="keywordflow">if</span> (amp[main_ch]) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="comment">// Allocate new tone</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <a class="code" href="struct_d_c_a_lbr_tone.html">DCALbrTone</a> *t = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tones[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ntones];</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ntones = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ntones + 1) &amp; (<a class="code" href="dca__lbr_8h.html#ac638009bee6b3098a0bfd564e6e39c99">DCA_LBR_TONES</a> - 1);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#afa440e918c794e43f88a6a367ffc291c">x_freq</a> = freq &gt;&gt; (5 - group);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#ab760167cec4f5d153380b0c512446be0">f_delt</a> = (freq &amp; ((1 &lt;&lt; (5 - group)) - 1)) &lt;&lt; group;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#ad1cad6956a624891bcc0560984774be3">ph_rot</a> = 256 - (t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#afa440e918c794e43f88a6a367ffc291c">x_freq</a> &amp; 1) * 128 - t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#ab760167cec4f5d153380b0c512446be0">f_delt</a> * 4;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = <a class="code" href="dcadata_8c.html#afe34b44036fa7b56d8f166bca8dcc64e">ff_dca_ph0_shift</a>[(t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#afa440e918c794e43f88a6a367ffc291c">x_freq</a> &amp; 3) * 2 + (freq &amp; 1)]</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                    - ((t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#ad1cad6956a624891bcc0560984774be3">ph_rot</a> &lt;&lt; (5 - group)) - t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#ad1cad6956a624891bcc0560984774be3">ph_rot</a>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels; ch++) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#a797c3f641516925e44cda5d6a2b3deef">amp</a>[ch] = amp[ch] &lt; <a class="code" href="dca__lbr_8c.html#ab2b16fd8be6d8981f7867ca265435403">AMP_MAX</a> ? amp[ch] : 0;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#aaacf12fe1551e5b27333d0e1b64c6f04">phs</a>[ch] = 128 - phs[ch] * 32 + <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_bounds[group][sf_idx][1] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ntones;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a4be1e4520c11e0b174fe812217112ab4">  362</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a4be1e4520c11e0b174fe812217112ab4">parse_tonal_chunk</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a> *chunk)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;{</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">int</span> sb, group, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">data</a>, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// Scale factors</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#ad87d4112a36fa9de9281a33b4e8d1368">id</a> == <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca091c8e2816ebf9b94beba2e2bae6f5e5">LBR_CHUNK_SCF</a> || chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#ad87d4112a36fa9de9281a33b4e8d1368">id</a> == <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad2af8360c4559439c8f72582473618be">LBR_CHUNK_TONAL_SCF</a>) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 36) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Tonal scale factor chunk too short\n&quot;</span>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; 6; sb++)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_scf[sb] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 6);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Tonal groups</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#ad87d4112a36fa9de9281a33b4e8d1368">id</a> == <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca19c79e2cc7c0d52348a943b37ecd663b">LBR_CHUNK_TONAL</a> || chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#ad87d4112a36fa9de9281a33b4e8d1368">id</a> == <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad2af8360c4559439c8f72582473618be">LBR_CHUNK_TONAL_SCF</a>)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">for</span> (group = 0; group &lt; 5; group++) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#a4d4d9f0987a80f530e00da7092c28bed">parse_tonal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, group);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a8650bdbabea22c378b64939b05ea6067">  395</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a8650bdbabea22c378b64939b05ea6067">parse_tonal_group</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a> *chunk)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">data</a>, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dca__lbr_8c.html#a4d4d9f0987a80f530e00da7092c28bed">parse_tonal</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#ad87d4112a36fa9de9281a33b4e8d1368">id</a>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">  413</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;{</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> = <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> &lt; 0)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> &lt; n) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#aefc5e716268f980f8fba141508ec300c">  425</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#aefc5e716268f980f8fba141508ec300c">parse_scale_factors</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *scf)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, sf, prev, next, dist;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// Truncated scale factors remain zero</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 20))</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// Initial scale factor</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    prev = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#a136c928f2a1a838dac6ad174001af298">ff_dca_vlc_fst_rsd_amp</a>, 2);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">for</span> (sf = 0; sf &lt; 7; sf += dist) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        scf[sf] = prev; <span class="comment">// Store previous value</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 20))</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="comment">// Interpolation distance</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        dist = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#a2886d10e4989ff3d8c2a75ab70b0d74e">ff_dca_vlc_rsd_apprx</a>, 1) + 1;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> (dist &gt; 7 - sf) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid scale factor distance\n&quot;</span>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 20))</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="comment">// Final interpolation point</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        next = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#aff893099b0df8b448078d63189141a5f">ff_dca_vlc_rsd_amp</a>, 2);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">if</span> (next &amp; 1)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            next = prev + ((next + 1) &gt;&gt; 1);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            next = prev - ( next      &gt;&gt; 1);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="comment">// Interpolate</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">switch</span> (dist) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">if</span> (next &gt; prev)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                scf[sf + 1] = prev + ((next - prev) &gt;&gt; 1);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                scf[sf + 1] = prev - ((prev - next) &gt;&gt; 1);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">if</span> (next &gt; prev) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                scf[sf + 1] = prev + ( (next - prev)      &gt;&gt; 2);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                scf[sf + 2] = prev + ( (next - prev)      &gt;&gt; 1);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                scf[sf + 3] = prev + (((next - prev) * 3) &gt;&gt; 2);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                scf[sf + 1] = prev - ( (prev - next)      &gt;&gt; 2);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                scf[sf + 2] = prev - ( (prev - next)      &gt;&gt; 1);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                scf[sf + 3] = prev - (((prev - next) * 3) &gt;&gt; 2);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; dist; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                scf[sf + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = prev + (next - prev) * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / dist;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        prev = next;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    scf[sf] = next; <span class="comment">// Store final value</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#aa3a3be9520c7122e7f2aafbcfaef7192">  495</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#aa3a3be9520c7122e7f2aafbcfaef7192">parse_st_code</a>(<a class="code" href="struct_get_bit_context.html">GetBitContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> min_v)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="dcahuff_8c.html#ab9242d089ef1764fe5f02445b5894a51">ff_dca_vlc_st_grid</a>, 2) + min_v;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (v &amp; 1)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        v = 16 + (v &gt;&gt; 1);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        v = 16 - (v &gt;&gt; 1);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span> (v &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="dcadata_8c.html#a8b4f6f4f59c6da27ccaf9f4e11182e78">ff_dca_st_coeff</a>))</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        v = 16;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> v;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#aabed2557d83917fb2663d8c47fc3119f">  509</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#aabed2557d83917fb2663d8c47fc3119f">parse_grid_1_chunk</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a> *chunk, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordtype">int</span> ch, sb, sf, nsubbands, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">data</a>, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">// Scale factors</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    nsubbands = <a class="code" href="dcadata_8c.html#adffe14d2ccaa1e3eb8b877bd32f9c358">ff_dca_scf_to_grid_1</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands - 1] + 1;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">for</span> (sb = 2; sb &lt; nsubbands; sb++) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#aefc5e716268f980f8fba141508ec300c">parse_scale_factors</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_1_scf[ch1][sb]);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">if</span> (ch1 != ch2 &amp;&amp; <a class="code" href="dcadata_8c.html#a6d65603750d0ee58c45366742753aab9">ff_dca_grid_1_to_scf</a>[sb] &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#aefc5e716268f980f8fba141508ec300c">parse_scale_factors</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_1_scf[ch2][sb]);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 1)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">return</span> 0;   <span class="comment">// Should not happen, but a sample exists that proves otherwise</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">// Average values for third grid</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands - 4; sb++) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_avg[ch1][sb] = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#ae3e874b85281d5db229a1e17783bd134">ff_dca_vlc_avg_g3</a>, 2) - 16;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span> (ch1 != ch2) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordflow">if</span> (sb + 4 &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_avg[ch2][sb] = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#ae3e874b85281d5db229a1e17783bd134">ff_dca_vlc_avg_g3</a>, 2) - 16;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_avg[ch2][sb] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_avg[ch1][sb];</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 0) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;First grid chunk too short\n&quot;</span>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// Stereo image for partial mono mode</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (ch1 != ch2) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">int</span> min_v[2];</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8))</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        min_v[0] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        min_v[1] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        nsubbands = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband + 3) / 4;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; nsubbands; sb++)</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">for</span> (sf = 1; sf &lt;= 4; sf++)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo[ch][sb][sf] = <a class="code" href="dca__lbr_8c.html#aa3a3be9520c7122e7f2aafbcfaef7192">parse_st_code</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, min_v[ch - ch1]);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &gt;= 0)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo_pres |= 1 &lt;&lt; ch1;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// Low resolution spatial information is not decoded</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a01979c4a51fbb1a4311178e3e30cc1a4">  577</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a01979c4a51fbb1a4311178e3e30cc1a4">parse_grid_1_sec_ch</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordtype">int</span> sb, nsubbands, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">// Scale factors</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    nsubbands = <a class="code" href="dcadata_8c.html#adffe14d2ccaa1e3eb8b877bd32f9c358">ff_dca_scf_to_grid_1</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands - 1] + 1;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">for</span> (sb = 2; sb &lt; nsubbands; sb++) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dcadata_8c.html#a6d65603750d0ee58c45366742753aab9">ff_dca_grid_1_to_scf</a>[sb] &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#aefc5e716268f980f8fba141508ec300c">parse_scale_factors</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_1_scf[ch2][sb]);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// Average values for third grid</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands - 4; sb++) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">if</span> (sb + 4 &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 20))</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_avg[ch2][sb] = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#ae3e874b85281d5db229a1e17783bd134">ff_dca_vlc_avg_g3</a>, 2) - 16;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a9fa3278d46385188c4add762005c336c">  603</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a9fa3278d46385188c4add762005c336c">parse_grid_3</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2, <span class="keywordtype">int</span> sb, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;{</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ch;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordflow">if</span> ((ch != ch1 &amp;&amp; sb + 4 &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband) != <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_pres[ch] &amp; (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; sb))</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">continue</span>;   <span class="comment">// Already parsed</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 20))</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_scf[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#a802c9acc813fbdf9a27bdec902036a02">ff_dca_vlc_grid_3</a>, 2) - 16;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="comment">// Flag scale factors for this subband parsed</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_pres[ch] |= 1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; sb;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a8b870bed03b8257079d3f6c7da885a30">  625</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="dca__lbr_8c.html#a8b870bed03b8257079d3f6c7da885a30">lbr_rand</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> sb)</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lbr_rand = 1103515245<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lbr_rand + 12345<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lbr_rand * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sb_scf[sb];</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#aad628673edf752910d1d0f4966cd1246">  634</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#aad628673edf752910d1d0f4966cd1246">parse_ch</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch, <span class="keywordtype">int</span> sb, <span class="keywordtype">int</span> quant_level, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;{</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb];</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>, nblocks, coding_method;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 20))</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// Too few bits left</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    coding_method = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">switch</span> (quant_level) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        nblocks = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) / 8, <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> / 8);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nblocks; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += 8) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[j] = <a class="code" href="dcadata_8c.html#a5ff48927574bcb003068c46d5c52a8a1">ff_dca_rsd_level_2a</a>[(<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &gt;&gt; j) &amp; 1];</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = nblocks * 8;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">if</span> (coding_method) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> &amp;&amp; <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &gt;= 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb))</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dcadata_8c.html#a21f1f44c4b46874a8e584e24c3db8af3">ff_dca_rsd_level_2b</a>[<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)];</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            nblocks = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) / 8, (<a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> + 4) / 5);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nblocks; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += 5) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="dcadata_8c.html#af4d40967ef22a11e9e3e47bdeda494be">ff_dca_rsd_pack_5_in_8</a>[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8)];</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; 5; j++)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[j] = <a class="code" href="dcadata_8c.html#abb324162b410e4df52814bf859199540">ff_dca_rsd_level_3</a>[(<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> &gt;&gt; j * 2) &amp; 3];</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = nblocks * 5;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        nblocks = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) / 7, (<a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> + 2) / 3);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nblocks; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += 3) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 7);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 3; j++)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[j] = <a class="code" href="dcadata_8c.html#a0c3bfdf836c2b79c095ddd02209ed965">ff_dca_rsd_level_5</a>[<a class="code" href="dcadata_8c.html#a95b22b7e9ac0c8b798c00957f71ddb4a">ff_dca_rsd_pack_3_in_7</a>[<a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>][j]];</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = nblocks * 3;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> &amp;&amp; <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &gt;= 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dcadata_8c.html#a21d1df879f23b00c8846cce7fc34d386">ff_dca_rsd_level_8</a>[<a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="dcahuff_8c.html#a6d50af5c1202efb106d38c1c594cb99f">ff_dca_vlc_rsd</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>, 6, 1)];</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        nblocks = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) / 4, <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nblocks; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dcadata_8c.html#a4e348615fc1e3c7e2e5b2fb04a53b6de">ff_dca_rsd_level_16</a>[<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4)];</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(0);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a> &amp;&amp; <a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 20)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">// Skip incomplete mono subband</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">for</span> (; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dca__lbr_8c.html#a8b870bed03b8257079d3f6c7da885a30">lbr_rand</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, sb);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_pres[ch] |= 1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; sb;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ad60b8b4b1cbab4c49332a19919d63f6b">  708</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#ad60b8b4b1cbab4c49332a19919d63f6b">parse_ts</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    <span class="keywordtype">int</span> start_sb, <span class="keywordtype">int</span> end_sb, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordtype">int</span> sb, sb_g3, sb_reorder, quant_level;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">for</span> (sb = start_sb; sb &lt; end_sb; sb++) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="comment">// Subband number before reordering</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">if</span> (sb &lt; 6) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            sb_reorder = sb;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a> &amp;&amp; sb &lt; s-&gt;max_mono_subband) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            sb_reorder = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sb_indices[sb];</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 28))</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            sb_reorder = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_range + 3);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="keywordflow">if</span> (sb_reorder &lt; 6)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                sb_reorder = 6;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sb_indices[sb] = sb_reorder;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">if</span> (sb_reorder &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="comment">// Third grid scale factors</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">if</span> (sb == 12) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">for</span> (sb_g3 = 0; sb_g3 &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g3_avg_only_start_sb - 4; sb_g3++)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                <a class="code" href="dca__lbr_8c.html#a9fa3278d46385188c4add762005c336c">parse_grid_3</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, sb_g3, <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sb &lt; 12 &amp;&amp; sb_reorder &gt;= 4) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <a class="code" href="dca__lbr_8c.html#a9fa3278d46385188c4add762005c336c">parse_grid_3</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, sb_reorder - 4, <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="comment">// Secondary channel flags</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">if</span> (ch1 != ch2) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 20))</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a> || sb_reorder &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_mono_subband)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sec_ch_sbms[ch1 / 2][sb_reorder] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a> &amp;&amp; sb_reorder &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband)</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sec_ch_lrms[ch1 / 2][sb_reorder] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        quant_level = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_levels[ch1 / 2][sb];</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">if</span> (!quant_level)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="comment">// Time samples for one or both channels</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">if</span> (sb &lt; s-&gt;max_mono_subband &amp;&amp; sb_reorder &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <a class="code" href="dca__lbr_8c.html#aad628673edf752910d1d0f4966cd1246">parse_ch</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, sb_reorder, quant_level, 0);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch1 != ch2)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                <a class="code" href="dca__lbr_8c.html#aad628673edf752910d1d0f4966cd1246">parse_ch</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch2, sb_reorder, quant_level, 1);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <a class="code" href="dca__lbr_8c.html#aad628673edf752910d1d0f4966cd1246">parse_ch</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, sb_reorder, quant_level, 0);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keywordflow">if</span> (ch1 != ch2)</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <a class="code" href="dca__lbr_8c.html#aad628673edf752910d1d0f4966cd1246">parse_ch</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch2, sb_reorder, quant_level, 0);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ac6d5cfe0999e7ecb272ef6a49b979ff8">  771</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#ac6d5cfe0999e7ecb272ef6a49b979ff8">convert_lpc</a>(<span class="keywordtype">float</span> *<a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> *codes)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;{</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordtype">float</span> rc = <a class="code" href="dca__lbr_8c.html#ace1808df5c22ca489c71ec223f409c58">lpc_tab</a>[codes[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1) / 2; j++) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            <span class="keywordtype">float</span> tmp1 = <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[    j    ];</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordtype">float</span> tmp2 = <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - j - 1];</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[    j    ] = tmp1 + rc * tmp2;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - j - 1] = tmp2 + rc * tmp1;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = rc;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160; </div>
<div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#ab1e5e4da95b8c4916e9232a205bd016f">  787</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#ab1e5e4da95b8c4916e9232a205bd016f">parse_lpc</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2, <span class="keywordtype">int</span> start_sb, <span class="keywordtype">int</span> end_sb)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;{</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum &amp; 1;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, sb, ch, codes[16];</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">// First two subbands have two sets of coefficients, third subband has one</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">for</span> (sb = start_sb; sb &lt; end_sb; sb++) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordtype">int</span> ncodes = 8 * (1 + (sb &lt; 2));</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4 * ncodes))</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ncodes; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                codes[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 4);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ncodes / 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                <a class="code" href="dca__lbr_8c.html#ac6d5cfe0999e7ecb272ef6a49b979ff8">convert_lpc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>][ch][sb][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], &amp;codes[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8]);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a663ff1d037201509947c847012ad8e49">  808</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a663ff1d037201509947c847012ad8e49">parse_high_res_grid</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a> *chunk, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;{</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordtype">int</span> quant_levels[<a class="code" href="dca__lbr_8h.html#a156244a32ac3ade0898113ae153d3f33">DCA_LBR_SUBBANDS</a>];</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordtype">int</span> sb, ch, ol, st, max_sb, <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">data</a>, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="comment">// Quantizer profile</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 8);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="comment">// Overall level</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    ol = (<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> &gt;&gt; 3) &amp; 7;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">// Steepness</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    st = <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> &gt;&gt; 6;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// Max energy subband</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    max_sb = <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> &amp; 7;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">// Calculate quantization levels</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands; sb++) {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = sb * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_rate / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = 18000 / (12 * <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> / 1000 + 100 + 40 * st) + 20 * ol;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt;= 95)</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            quant_levels[sb] = 1;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt;= 140)</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            quant_levels[sb] = 2;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt;= 180)</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            quant_levels[sb] = 3;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt;= 230)</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            quant_levels[sb] = 4;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            quant_levels[sb] = 5;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// Reorder quantization levels for lower subbands</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; 8; sb++)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_levels[ch1 / 2][sb] = quant_levels[<a class="code" href="dcadata_8c.html#ad7d824d002a134e057e9b585b657ceec">ff_dca_sb_reorder</a>[max_sb][sb]];</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands; sb++)</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_levels[ch1 / 2][sb] = quant_levels[sb];</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// LPC for the first two subbands</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#ab1e5e4da95b8c4916e9232a205bd016f">parse_lpc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 0, 2);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// Time-samples for the first two subbands of main channel</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#ad60b8b4b1cbab4c49332a19919d63f6b">parse_ts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 0, 2, 0);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="comment">// First two bands of the first grid</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; 2; sb++)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++)</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#aefc5e716268f980f8fba141508ec300c">parse_scale_factors</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_1_scf[ch][sb])) &lt; 0)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;}</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#add759ce82a4eba261dfedf979dc74f0e">  870</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#add759ce82a4eba261dfedf979dc74f0e">parse_grid_2</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2,</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                        <span class="keywordtype">int</span> start_sb, <span class="keywordtype">int</span> end_sb, <span class="keywordtype">int</span> <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;{</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, sb, ch, nsubbands;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    nsubbands = <a class="code" href="dcadata_8c.html#a0d008bfa2abe9ddd06a24614ab8b8ac2">ff_dca_scf_to_grid_2</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands - 1] + 1;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keywordflow">if</span> (end_sb &gt; nsubbands)</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        end_sb = nsubbands;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">for</span> (sb = start_sb; sb &lt; end_sb; sb++) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *g2_scf = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_2_scf[ch][sb];</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <span class="keywordflow">if</span> ((ch != ch1 &amp;&amp; <a class="code" href="dcadata_8c.html#a88df2ae8f8f8d86cbc29700e4776012f">ff_dca_grid_2_to_scf</a>[sb] &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband) != <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>) {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    memcpy(g2_scf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_2_scf[ch1][sb], 64);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="comment">// Scale factors in groups of 8</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, g2_scf += 8) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb) &lt; 1) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    memset(g2_scf, 0, 64 - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                <span class="comment">// Bit indicating if whole group has zero values</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb)) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, 20))</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                        g2_scf[j] = <a class="code" href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, &amp;<a class="code" href="dcahuff_8c.html#a887598b88d19bfb5b87c46e30898b7f3">ff_dca_vlc_grid_2</a>, 2);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                    memset(g2_scf, 0, 8);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;}</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a73821c7c29fd5f634902914e36be91ba">  912</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a73821c7c29fd5f634902914e36be91ba">parse_ts1_chunk</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a> *chunk, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;{</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">data</a>, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)) &lt; 0)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#ab1e5e4da95b8c4916e9232a205bd016f">parse_lpc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 2, 3)) &lt; 0)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#ad60b8b4b1cbab4c49332a19919d63f6b">parse_ts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 2, 4, 0)) &lt; 0)</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#add759ce82a4eba261dfedf979dc74f0e">parse_grid_2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 0, 1, 0)) &lt; 0)</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#ad60b8b4b1cbab4c49332a19919d63f6b">parse_ts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 4, 6, 0)) &lt; 0)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;}</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a953ab0d7330823f90f1aff55a3d03eb8">  930</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a953ab0d7330823f90f1aff55a3d03eb8">parse_ts2_chunk</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a> *chunk, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;{</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;gb, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">data</a>, chunk-&gt;<a class="code" href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">len</a>)) &lt; 0)</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#add759ce82a4eba261dfedf979dc74f0e">parse_grid_2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 1, 3, 0)) &lt; 0)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#ad60b8b4b1cbab4c49332a19919d63f6b">parse_ts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 6, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_mono_subband, 0)) &lt; 0)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span> (ch1 != ch2) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#a01979c4a51fbb1a4311178e3e30cc1a4">parse_grid_1_sec_ch</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch2)) &lt; 0)</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#add759ce82a4eba261dfedf979dc74f0e">parse_grid_2</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, 0, 3, 1)) &lt; 0)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#ad60b8b4b1cbab4c49332a19919d63f6b">parse_ts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands, 1)) &lt; 0)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#aa3de25dd756f40b9cdf42c71cde2dd96">  953</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#aa3de25dd756f40b9cdf42c71cde2dd96">init_sample_rate</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;{</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordtype">double</span> scale = (-1.0 / (1 &lt;&lt; 17)) * sqrt(1 &lt;&lt; (2 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_range));</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, br_per_ch = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_rate_scaled / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="fft_8h.html#afee52a8ecff75737ecbdca0f9ae0a377">ff_mdct_end</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;imdct);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="fft_8h.html#a58a526e6fc1130d7dabfec1e90680e3c">ff_mdct_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;imdct, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range + 6, 1, scale);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 32 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;window[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dcadata_8c.html#aa70dcefeb293afdd9f8ba240860fc85f">ff_dca_long_window</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; (2 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range)];</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span> (br_per_ch &lt; 14000)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        scale = 0.85;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (br_per_ch &lt; 32000)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        scale = (br_per_ch - 14000) * (1.0 / 120000) + 0.85;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        scale = 1.0;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    scale *= 1.0 / INT_MAX;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sb_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;   <span class="comment">// The first two subbands are always zero</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5)</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sb_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - 1) * 0.25 * 0.785 * scale;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sb_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0.785 * scale;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_scale = (16 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range) * 0.0000078265894;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a00c3abcbe2ce1c3e491cf7f38bc31d49">  991</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a00c3abcbe2ce1c3e491cf7f38bc31d49">alloc_sample_buffer</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;{</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="comment">// Reserve space for history and padding</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordtype">int</span> nchsamples = <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> + <a class="code" href="dca__lbr_8h.html#acae66a7fe1f4eb20cdc8a50beb71c3d9">DCA_LBR_TIME_HISTORY</a> * 2;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordtype">int</span> nsamples = nchsamples * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordtype">int</span> ch, sb;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordtype">float</span> *ptr;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="comment">// Reallocate time sample buffer</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga0bfda4adf7f9e943f9eb1a08eeda3791">av_fast_mallocz</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ts_buffer, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ts_size, nsamples * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ts_buffer)</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    ptr = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ts_buffer + <a class="code" href="dca__lbr_8h.html#acae66a7fe1f4eb20cdc8a50beb71c3d9">DCA_LBR_TIME_HISTORY</a>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels; ch++) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands; sb++) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb] = ptr;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            ptr += nchsamples;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a2254df7819979c76a6c50d0bc5da0f55"> 1015</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a2254df7819979c76a6c50d0bc5da0f55">parse_decoder_init</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_get_byte_context.html">GetByteContext</a> *gb)</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;{</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordtype">int</span> old_rate = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordtype">int</span> old_band_limit = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_limit;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordtype">int</span> old_nchannels = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>, bit_rate_hi;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sr_code;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="comment">// Sample rate of LBR audio</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    sr_code = bytestream2_get_byte(gb);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">if</span> (sr_code &gt;= <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="dca_8c.html#a97b727d01f2953762f8b11435ca7a9c4">ff_dca_sampling_freqs</a>)) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid LBR sample rate\n&quot;</span>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate = <a class="code" href="dca_8c.html#a97b727d01f2953762f8b11435ca7a9c4">ff_dca_sampling_freqs</a>[sr_code];</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate &gt; 48000) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;%d Hz LBR sample rate&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="comment">// LBR speaker mask</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask = bytestream2_get_le16(gb);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask &amp; 0x7)) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;LBR channel mask %#x&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask &amp; 0xfff0) &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;warned &amp; 1)) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;LBR channel mask %#x&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;warned |= 1;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">// LBR bitstream version</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> = bytestream2_get_le16(gb);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a> &amp; 0xff00) != 0x0800) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;LBR stream version %#x&quot;</span>, <a class="code" href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a>);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="comment">// Flags for LBR decoder initialization</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags = bytestream2_get_byte(gb);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eae4bb68e743f083f67c8fbd7c0697765c">LBR_FLAG_DMIX_MULTI_CH</a>) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;LBR multi-channel downmix&quot;</span>);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    }</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">LBR_FLAG_LFE_PRESENT</a>) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate != 48000) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;warned &amp; 2)) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;%d Hz LFE interpolation&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;warned |= 2;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp;= ~<a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">LBR_FLAG_LFE_PRESENT</a>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">// Most significant bit rate nibbles</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    bit_rate_hi = bytestream2_get_byte(gb);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="comment">// Least significant original bit rate word</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_rate_orig = bytestream2_get_le16(gb) | ((bit_rate_hi &amp; 0x0F) &lt;&lt; 16);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <span class="comment">// Least significant scaled bit rate word</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_rate_scaled = bytestream2_get_le16(gb) | ((bit_rate_hi &amp; 0xF0) &lt;&lt; 12);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="comment">// Setup number of fullband channels</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total = <a class="code" href="dca_8h.html#aa3b0fd68953f37e98f622dc6cd5789e2">ff_dca_count_chs_for_mask</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask &amp; ~<a class="code" href="dca_8h.html#ac95cb70c448df903fdef4f128f73adf8a52f603fb28d1114b196290a6d61cf8ef">DCA_SPEAKER_PAIR_LFE1</a>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total, <a class="code" href="dca__lbr_8h.html#aa5a65f967f391107a20bbcc00036d106">DCA_LBR_CHANNELS</a>);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// Setup band limit</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea42a3378bf16b387b1ab34d9742db75e0">LBR_FLAG_BAND_LIMIT_MASK</a>) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eabdb0ef04f00b4596a694b337da875a54">LBR_FLAG_BAND_LIMIT_NONE</a>:</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_limit = 0;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea2c517ec8979b002c36b44844b1e0507d">LBR_FLAG_BAND_LIMIT_1_2</a>:</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_limit = 1;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea0975bc2d8f57596842a5e13b5d66f9d9">LBR_FLAG_BAND_LIMIT_1_4</a>:</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_limit = 2;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;LBR band limit %#x&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea42a3378bf16b387b1ab34d9742db75e0">LBR_FLAG_BAND_LIMIT_MASK</a>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// Setup frequency range</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range = <a class="code" href="dca_8c.html#a70614eb1dfa07f0346053d7759cb2261">ff_dca_freq_ranges</a>[sr_code];</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="comment">// Setup resolution profile</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_rate_orig &gt;= 44000 * (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total + 2))</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;res_profile = 2;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_rate_orig &gt;= 25000 * (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total + 2))</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;res_profile = 1;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;res_profile = 0;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// Setup limited sample rate, number of subbands, etc</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_rate = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate &gt;&gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_limit;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_range = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_limit;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_range &lt; 0) {</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid LBR band limit for frequency range\n&quot;</span>);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands = 8 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_range;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g3_avg_only_start_sb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands * <a class="code" href="dcadata_8c.html#ad8d8226b3cbff0898c51f8f9f0eb3322">ff_dca_avg_g3_freqs</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;res_profile] / (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_rate / 2);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g3_avg_only_start_sb &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;g3_avg_only_start_sb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160; </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands *  2000 / (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_rate / 2);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands)</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_mono_subband = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands * 14000 / (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;limited_rate / 2);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_mono_subband &gt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands)</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_mono_subband = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="comment">// Handle change of sample rate</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> ((old_rate != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate || old_band_limit != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_limit) &amp;&amp; <a class="code" href="dca__lbr_8c.html#aa3de25dd756f40b9cdf42c71cde2dd96">init_sample_rate</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>) &lt; 0)</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="comment">// Setup stereo downmix</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea2d0dc5f0a1a6a12ee02518e5a9426755">LBR_FLAG_DMIX_STEREO</a>) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <a class="code" href="struct_d_c_a_context.html">DCAContext</a> *dca = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;priv_data;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total &lt; 3 || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total &gt; <a class="code" href="dca__lbr_8h.html#ab2728d438ae96e1ef8f66e0e62f958fb">DCA_LBR_CHANNELS_TOTAL</a> - 2) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid number of channels for LBR stereo downmix\n&quot;</span>);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="comment">// This decoder doesn&#39;t support ECS chunk</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="keywordflow">if</span> (dca-&gt;<a class="code" href="struct_d_c_a_context.html#ae8d9cd8f6a1553541ee3179b526e348e">request_channel_layout</a> != <a class="code" href="dca_8h.html#a2f0710119b4e2623ae8e123c6c081076">DCA_SPEAKER_LAYOUT_STEREO</a> &amp;&amp; !(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;warned &amp; 4)) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            <a class="code" href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Embedded LBR stereo downmix&quot;</span>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;warned |= 4;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="comment">// Account for extra downmixed channel pair</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels_total += 2;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels = 2;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask = <a class="code" href="dca_8h.html#ac95cb70c448df903fdef4f128f73adf8a24ccbc593a96b8b51fe1aca2af0bf267">DCA_SPEAKER_PAIR_LR</a>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp;= ~<a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">LBR_FLAG_LFE_PRESENT</a>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160; </div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="comment">// Handle change of sample rate or number of channels</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">if</span> (old_rate != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        || old_band_limit != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;band_limit</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        || old_nchannels != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a00c3abcbe2ce1c3e491cf7f38bc31d49">alloc_sample_buffer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>) &lt; 0)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <a class="code" href="dca__lbr_8c.html#abe71124250078a949b3ba4c3cefa47da">ff_dca_lbr_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="dca__lbr_8h.html#a52d62f67a84db68c57f0514e1fc330b3"> 1167</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a52d62f67a84db68c57f0514e1fc330b3">ff_dca_lbr_parse</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="struct_d_c_a_exss_asset.html">DCAExssAsset</a> *asset)</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;{</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a>    lfe;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a>    tonal;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a>    tonal_grp[5];</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a>    grid1[<a class="code" href="dca__lbr_8h.html#aa5a65f967f391107a20bbcc00036d106">DCA_LBR_CHANNELS</a> / 2];</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a>    hr_grid[<a class="code" href="dca__lbr_8h.html#aa5a65f967f391107a20bbcc00036d106">DCA_LBR_CHANNELS</a> / 2];</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a>    ts1[<a class="code" href="dca__lbr_8h.html#aa5a65f967f391107a20bbcc00036d106">DCA_LBR_CHANNELS</a> / 2];</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <a class="code" href="struct_l_b_r_chunk.html">LBRChunk</a>    ts2[<a class="code" href="dca__lbr_8h.html#aa5a65f967f391107a20bbcc00036d106">DCA_LBR_CHANNELS</a> / 2];</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    } chunk = { {0} };</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="struct_get_byte_context.html">GetByteContext</a> gb;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ch, sb, sf, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, group, chunk_id, chunk_len;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;gb, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a> + asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a213469789c36663b18d7db4e0f6863d0">lbr_offset</a>, asset-&gt;<a class="code" href="struct_d_c_a_exss_asset.html#a7b672542ef6a33ca4be2d1d57ccdfe79">lbr_size</a>);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">// LBR sync word</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">if</span> (bytestream2_get_be32(&amp;gb) != <a class="code" href="dca__syncwords_8h.html#a68ad289164475682d85f3dc29a738fa6">DCA_SYNCWORD_LBR</a>) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid LBR sync word\n&quot;</span>);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="comment">// LBR header type</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">switch</span> (bytestream2_get_byte(&amp;gb)) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8h.html#a5746bb3d1d2c5b4003a597e79c51508aab8880f6cc0a9e8ce59b11f320aea5fa2">DCA_LBR_HEADER_SYNC_ONLY</a>:</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;LBR decoder not initialized\n&quot;</span>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8h.html#a5746bb3d1d2c5b4003a597e79c51508aaf9b5688173a6334549f9fc78b7a55325">DCA_LBR_HEADER_DECODER_INIT</a>:</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#a2254df7819979c76a6c50d0bc5da0f55">parse_decoder_init</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;gb)) &lt; 0) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate = 0;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid LBR header type\n&quot;</span>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="comment">// LBR frame chunk header</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    chunk_id = bytestream2_get_byte(&amp;gb);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    chunk_len = (chunk_id &amp; 0x80) ? bytestream2_get_be16(&amp;gb) : bytestream2_get_byte(&amp;gb);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">if</span> (chunk_len &gt; <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb)) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        chunk_len = <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;LBR frame chunk was truncated\n&quot;</span>);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <a class="code" href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a>(&amp;gb, gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>, chunk_len);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">switch</span> (chunk_id &amp; 0x7f) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca55e0a7f2b2199fff5f6718ca0e59b4c5">LBR_CHUNK_FRAME</a>:</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; (<a class="code" href="avcodec_8h.html#a16258b3283a3d34c893dd9a39e29e369">AV_EF_CRCCHECK</a> | <a class="code" href="avcodec_8h.html#adada058bf4130e23c790f39de50c62c8">AV_EF_CAREFUL</a>)) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="tests_2adler32_8c.html#aa4a4ec4e17257f17b6efac777b468700">checksum</a> = bytestream2_get_be16(&amp;gb);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;            uint16_t res = chunk_id;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;            res += (chunk_len &gt;&gt; 8) &amp; 0xff;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            res += chunk_len &amp; 0xff;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; chunk_len - 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                res += gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="tests_2adler32_8c.html#aa4a4ec4e17257f17b6efac777b468700">checksum</a> != res) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Invalid LBR checksum\n&quot;</span>);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, 2);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caebb097723eda73518d1d8daffd50df3b">LBR_CHUNK_FRAME_NO_CSUM</a>:</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid LBR frame chunk ID\n&quot;</span>);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="comment">// Clear current frame</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_levels, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant_levels));</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sb_indices, 0xff, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sb_indices));</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sec_ch_sbms, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sec_ch_sbms));</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sec_ch_lrms, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sec_ch_lrms));</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_pres, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_pres));</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_1_scf, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_1_scf));</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_2_scf, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_2_scf));</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_avg, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_avg));</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_scf, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_scf));</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_pres, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_pres));</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_scf, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_scf));</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_data, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_data));</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo_pres = 0;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum + 1) &amp; 31;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels; ch++) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands / 4; sb++) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo[ch][sb][0] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo[ch][sb][4];</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo[ch][sb][4] = 16;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum &amp; 1], 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff[0]));</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">for</span> (group = 0; group &lt; 5; group++) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">for</span> (sf = 0; sf &lt; 1 &lt;&lt; group; sf++) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            <span class="keywordtype">int</span> sf_idx = ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum &lt;&lt; group) + sf) &amp; 31;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_bounds[group][sf_idx][0] =</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_bounds[group][sf_idx][1] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ntones;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160; </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="comment">// Parse chunk headers</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb) &gt; 0) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        chunk_id = bytestream2_get_byte(&amp;gb);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        chunk_len = (chunk_id &amp; 0x80) ? bytestream2_get_be16(&amp;gb) : bytestream2_get_byte(&amp;gb);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        chunk_id &amp;= 0x7f;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <span class="keywordflow">if</span> (chunk_len &gt; <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb)) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            chunk_len = <a class="code" href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a>(&amp;gb);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;LBR chunk %#x was truncated\n&quot;</span>, chunk_id);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>)</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">switch</span> (chunk_id) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa65d4cc94edd5546f172397f4fd89f52">LBR_CHUNK_LFE</a>:</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            chunk.lfe.len  = chunk_len;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            chunk.lfe.data = gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca091c8e2816ebf9b94beba2e2bae6f5e5">LBR_CHUNK_SCF</a>:</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca19c79e2cc7c0d52348a943b37ecd663b">LBR_CHUNK_TONAL</a>:</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad2af8360c4559439c8f72582473618be">LBR_CHUNK_TONAL_SCF</a>:</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            chunk.tonal.id   = chunk_id;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            chunk.tonal.len  = chunk_len;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            chunk.tonal.data = gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad6dc6d960db24fb09b81f061f246d553">LBR_CHUNK_TONAL_GRP_1</a>:</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa99282b72ff641bdfa1b90ec64bf8307">LBR_CHUNK_TONAL_GRP_2</a>:</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6ecb6993150bb60b1317e92c2b53a009">LBR_CHUNK_TONAL_GRP_3</a>:</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca2416fcdf0060226003d9ac151f2cb58b">LBR_CHUNK_TONAL_GRP_4</a>:</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa1b8e117df77514f132bcc1f2fe08d2a">LBR_CHUNK_TONAL_GRP_5</a>:</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa1b8e117df77514f132bcc1f2fe08d2a">LBR_CHUNK_TONAL_GRP_5</a> - chunk_id;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            chunk.tonal_grp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].id   = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            chunk.tonal_grp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len  = chunk_len;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            chunk.tonal_grp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].data = gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab941ad757fa2e384856b8fc74f8facca">LBR_CHUNK_TONAL_SCF_GRP_1</a>:</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca559813c8c88f33081bcd49576a423d67">LBR_CHUNK_TONAL_SCF_GRP_2</a>:</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca0fbce9012bc689c02fa77848c752fc29">LBR_CHUNK_TONAL_SCF_GRP_3</a>:</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cafdcd79e83600306827dcec47d6ae103e">LBR_CHUNK_TONAL_SCF_GRP_4</a>:</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad25160ef1d25f512fc2ea7ade7e72c93">LBR_CHUNK_TONAL_SCF_GRP_5</a>:</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad25160ef1d25f512fc2ea7ade7e72c93">LBR_CHUNK_TONAL_SCF_GRP_5</a> - chunk_id;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            chunk.tonal_grp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].id   = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;            chunk.tonal_grp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len  = chunk_len;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            chunk.tonal_grp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].data = gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca75e61f6a7fe8f8f46e5ed0b3947e6d5c">LBR_CHUNK_RES_GRID_LR</a>:</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca75e61f6a7fe8f8f46e5ed0b3947e6d5c">LBR_CHUNK_RES_GRID_LR</a> + 1:</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca75e61f6a7fe8f8f46e5ed0b3947e6d5c">LBR_CHUNK_RES_GRID_LR</a> + 2:</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = chunk_id - <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca75e61f6a7fe8f8f46e5ed0b3947e6d5c">LBR_CHUNK_RES_GRID_LR</a>;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            chunk.grid1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len  = chunk_len;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            chunk.grid1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].data = gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3f619c3ab22cf0d3b74198bee06f2a3e">LBR_CHUNK_RES_GRID_HR</a>:</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3f619c3ab22cf0d3b74198bee06f2a3e">LBR_CHUNK_RES_GRID_HR</a> + 1:</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3f619c3ab22cf0d3b74198bee06f2a3e">LBR_CHUNK_RES_GRID_HR</a> + 2:</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = chunk_id - <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3f619c3ab22cf0d3b74198bee06f2a3e">LBR_CHUNK_RES_GRID_HR</a>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            chunk.hr_grid[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len  = chunk_len;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            chunk.hr_grid[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].data = gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab5f46f196b6d834d91a3b55c9cfcc182">LBR_CHUNK_RES_TS_1</a>:</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab5f46f196b6d834d91a3b55c9cfcc182">LBR_CHUNK_RES_TS_1</a> + 1:</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab5f46f196b6d834d91a3b55c9cfcc182">LBR_CHUNK_RES_TS_1</a> + 2:</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = chunk_id - <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab5f46f196b6d834d91a3b55c9cfcc182">LBR_CHUNK_RES_TS_1</a>;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            chunk.ts1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len  = chunk_len;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            chunk.ts1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].data = gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6cebf4283ce973f8b059dd0ac9c01482">LBR_CHUNK_RES_TS_2</a>:</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6cebf4283ce973f8b059dd0ac9c01482">LBR_CHUNK_RES_TS_2</a> + 1:</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6cebf4283ce973f8b059dd0ac9c01482">LBR_CHUNK_RES_TS_2</a> + 2:</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = chunk_id - <a class="code" href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6cebf4283ce973f8b059dd0ac9c01482">LBR_CHUNK_RES_TS_2</a>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            chunk.ts2[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len  = chunk_len;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            chunk.ts2[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].data = gb.<a class="code" href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">buffer</a>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        <a class="code" href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a>(&amp;gb, chunk_len);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160; </div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="comment">// Parse the chunks</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dca__lbr_8c.html#a2e9b01d2eebede01a2e55d67815b068b">parse_lfe_chunk</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;chunk.lfe);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> |= <a class="code" href="dca__lbr_8c.html#a4be1e4520c11e0b174fe812217112ab4">parse_tonal_chunk</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;chunk.tonal);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> |= <a class="code" href="dca__lbr_8c.html#a8650bdbabea22c378b64939b05ea6067">parse_tonal_group</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;chunk.tonal_grp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160; </div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels + 1) / 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordtype">int</span> ch1 = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        <span class="keywordtype">int</span> ch2 = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(ch1 + 1, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels - 1);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#aabed2557d83917fb2663d8c47fc3119f">parse_grid_1_chunk</a> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;chunk.grid1  [<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], ch1, ch2) &lt; 0 ||</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <a class="code" href="dca__lbr_8c.html#a663ff1d037201509947c847012ad8e49">parse_high_res_grid</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;chunk.hr_grid[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], ch1, ch2) &lt; 0) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = -1;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160; </div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <span class="comment">// TS chunks depend on both grids. TS_2 depends on TS_1.</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keywordflow">if</span> (!chunk.grid1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len || !chunk.hr_grid[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len || !chunk.ts1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].len)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dca__lbr_8c.html#a73821c7c29fd5f634902914e36be91ba">parse_ts1_chunk</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;chunk.ts1[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], ch1, ch2) &lt; 0 ||</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            <a class="code" href="dca__lbr_8c.html#a953ab0d7330823f90f1aff55a3d03eb8">parse_ts2_chunk</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;chunk.ts2[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], ch1, ch2) &lt; 0) {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = -1;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0 &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;err_recognition &amp; <a class="code" href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a>))</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;}</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a055c16aff26e58775ce29a016ada7dc0"> 1404</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a055c16aff26e58775ce29a016ada7dc0">decode_grid</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;{</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ch, sb;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands; sb++) {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <span class="keywordtype">int</span> g1_sb = <a class="code" href="dcadata_8c.html#adffe14d2ccaa1e3eb8b877bd32f9c358">ff_dca_scf_to_grid_1</a>[sb];</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *g1_scf_a = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_1_scf[ch][g1_sb    ];</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *g1_scf_b = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_1_scf[ch][g1_sb + 1];</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;            <span class="keywordtype">int</span> w1 = <a class="code" href="dcadata_8c.html#ab5f667ba86690b7c944ad25ce2e271b2">ff_dca_grid_1_weights</a>[g1_sb    ][sb];</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            <span class="keywordtype">int</span> w2 = <a class="code" href="dcadata_8c.html#ab5f667ba86690b7c944ad25ce2e271b2">ff_dca_grid_1_weights</a>[g1_sb + 1][sb];</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *hr_scf = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;high_res_scf[ch][sb];</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;            <span class="keywordflow">if</span> (sb &lt; 4) {</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                    <span class="keywordtype">int</span> scf = w1 * g1_scf_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + w2 * g1_scf_b[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                    hr_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = scf &gt;&gt; 7;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                int8_t *g3_scf = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_scf[ch][sb - 4];</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                <span class="keywordtype">int</span> g3_avg = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_3_avg[ch][sb - 4];</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                    <span class="keywordtype">int</span> scf = w1 * g1_scf_a[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] + w2 * g1_scf_b[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                    hr_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (scf &gt;&gt; 7) - g3_avg - g3_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a006a89a7468fce73f49076b7e242a898"> 1441</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a006a89a7468fce73f49076b7e242a898">random_ts</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;{</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, ch, sb;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++) {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands; sb++) {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;            <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb];</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_pres[ch] &amp; (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; sb))</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                <span class="keywordflow">continue</span>;   <span class="comment">// Skip allocated subband</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;            <span class="keywordflow">if</span> (sb &lt; 2) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                <span class="comment">// The first two subbands are always zero</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                memset(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, 0, <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sb &lt; 10) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="dca__lbr_8c.html#a8b870bed03b8257079d3f6c7da885a30">lbr_rand</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, sb);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> / 8; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += 8) {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                    <span class="keywordtype">float</span> accum[8] = { 0 };</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                    <span class="comment">// Modulate by subbands 2-5 in blocks of 8</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                    <span class="keywordflow">for</span> (k = 2; k &lt; 6; k++) {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                        <span class="keywordtype">float</span> *other = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][k][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 8];</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                        <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                            accum[j] += <a class="code" href="cuda__runtime_8h.html#a7a87cd25426a228ce8ecbef48ab00de8">fabs</a>(other[j]);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160; </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                    <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++)</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                        <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[j] = (accum[j] * 0.25<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> + 0.5<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>) * <a class="code" href="dca__lbr_8c.html#a8b870bed03b8257079d3f6c7da885a30">lbr_rand</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, sb);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;            }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        }</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;}</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a0c073dc60f27c8743e3da842f6c70d03"> 1477</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a0c073dc60f27c8743e3da842f6c70d03">predict</a>(<span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>, <span class="keywordtype">int</span> nsamples)</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;{</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nsamples; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        <span class="keywordtype">float</span> res = 0;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++)</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;            res += <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>[j] * <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - j - 1];</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] -= res;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;}</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a772de66821edcb176f67faa1855687b8"> 1489</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a772de66821edcb176f67faa1855687b8">synth_lpc</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2, <span class="keywordtype">int</span> sb)</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;{</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum &amp; 1;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordtype">int</span> ch;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++) {</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb];</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_pres[ch] &amp; (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; sb)))</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <span class="keywordflow">if</span> (sb &lt; 2) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            <a class="code" href="dca__lbr_8c.html#a0c073dc60f27c8743e3da842f6c70d03">predict</a>(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>,      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>^1][ch][sb][1],  16);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            <a class="code" href="dca__lbr_8c.html#a0c073dc60f27c8743e3da842f6c70d03">predict</a>(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> + 16, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>  ][ch][sb][0],  64);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;            <a class="code" href="dca__lbr_8c.html#a0c073dc60f27c8743e3da842f6c70d03">predict</a>(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> + 80, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>  ][ch][sb][1],  48);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            <a class="code" href="dca__lbr_8c.html#a0c073dc60f27c8743e3da842f6c70d03">predict</a>(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>,      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>^1][ch][sb][0],  16);</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            <a class="code" href="dca__lbr_8c.html#a0c073dc60f27c8743e3da842f6c70d03">predict</a>(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> + 16, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff[<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>  ][ch][sb][0], 112);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    }</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;}</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a0346bb02e17d432b8b93eee03a35b68c"> 1511</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a0346bb02e17d432b8b93eee03a35b68c">filter_ts</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;{</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, sb, ch;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands; sb++) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <span class="comment">// Scale factors</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++) {</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;            <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb];</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *hr_scf = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;high_res_scf[ch][sb];</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;            <span class="keywordflow">if</span> (sb &lt; 4) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> / 16; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += 16) {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> scf = hr_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                    <span class="keywordflow">if</span> (scf &gt; <a class="code" href="dca__lbr_8c.html#ab2b16fd8be6d8981f7867ca265435403">AMP_MAX</a>)</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                        scf = <a class="code" href="dca__lbr_8c.html#ab2b16fd8be6d8981f7867ca265435403">AMP_MAX</a>;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                    <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++)</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                        <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[j] *= <a class="code" href="dcadata_8c.html#a5a563f5fb2a53be3526b057d7aab5391">ff_dca_quant_amp</a>[scf];</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *g2_scf = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;grid_2_scf[ch][<a class="code" href="dcadata_8c.html#a0d008bfa2abe9ddd06a24614ab8b8ac2">ff_dca_scf_to_grid_2</a>[sb]];</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> / 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += 2) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> scf = hr_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> / 8] - g2_scf[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                    <span class="keywordflow">if</span> (scf &gt; <a class="code" href="dca__lbr_8c.html#ab2b16fd8be6d8981f7867ca265435403">AMP_MAX</a>)</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                        scf = <a class="code" href="dca__lbr_8c.html#ab2b16fd8be6d8981f7867ca265435403">AMP_MAX</a>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[0] *= <a class="code" href="dcadata_8c.html#a5a563f5fb2a53be3526b057d7aab5391">ff_dca_quant_amp</a>[scf];</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[1] *= <a class="code" href="dcadata_8c.html#a5a563f5fb2a53be3526b057d7aab5391">ff_dca_quant_amp</a>[scf];</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="comment">// Mid-side stereo</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <span class="keywordflow">if</span> (ch1 != ch2) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <span class="keywordtype">float</span> *samples_l = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch1][sb];</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            <span class="keywordtype">float</span> *samples_r = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch2][sb];</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            <span class="keywordtype">int</span> ch2_pres = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_pres[ch2] &amp; (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; sb);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> / 16; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                <span class="keywordtype">int</span> sbms = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sec_ch_sbms[ch1 / 2][sb] &gt;&gt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp; 1;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                <span class="keywordtype">int</span> lrms = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sec_ch_lrms[ch1 / 2][sb] &gt;&gt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp; 1;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                <span class="keywordflow">if</span> (sb &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                    <span class="keywordflow">if</span> (lrms &amp;&amp; ch2_pres) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                        <span class="keywordflow">if</span> (sbms) {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                            <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++) {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                                <span class="keywordtype">float</span> tmp = samples_l[j];</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                                samples_l[j] =  samples_r[j];</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                                samples_r[j] = -tmp;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                            }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                            <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                                <span class="keywordtype">float</span> tmp = samples_l[j];</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                samples_l[j] =  samples_r[j];</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                samples_r[j] =  tmp;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                            }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                        }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!ch2_pres) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                        <span class="keywordflow">if</span> (sbms &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo_pres &amp; (1 &lt;&lt; ch1))) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                            <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++)</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                                samples_r[j] = -samples_l[j];</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                            <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++)</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                                samples_r[j] =  samples_l[j];</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                        }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sbms &amp;&amp; ch2_pres) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                    <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++) {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                        <span class="keywordtype">float</span> tmp = samples_l[j];</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                        samples_l[j] = (tmp + samples_r[j]) * 0.5<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;                        samples_r[j] = (tmp - samples_r[j]) * 0.5<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;                    }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                samples_l += 16;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                samples_r += 16;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160; </div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        <span class="comment">// Inverse prediction</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">if</span> (sb &lt; 3)</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <a class="code" href="dca__lbr_8c.html#a772de66821edcb176f67faa1855687b8">synth_lpc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2, sb);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    }</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;}</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a47161264da83c21ed31553fde4610904"> 1596</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a47161264da83c21ed31553fde4610904">decode_part_stereo</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch1, <span class="keywordtype">int</span> ch2)</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;{</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, ch, sb, sf;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <span class="keywordflow">for</span> (ch = ch1; ch &lt;= ch2; ch++) {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        <span class="keywordflow">for</span> (sb = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband; sb &lt; s-&gt;nsubbands; sb++) {</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *pt_st = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo[ch][(sb - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;min_mono_subband) / 4];</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb];</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_pres[ch2] &amp; (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; sb))</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordflow">for</span> (sf = 1; sf &lt;= 4; sf++, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> += 32) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                <span class="keywordtype">float</span> prev = <a class="code" href="dcadata_8c.html#a8b4f6f4f59c6da27ccaf9f4e11182e78">ff_dca_st_coeff</a>[pt_st[sf - 1]];</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                <span class="keywordtype">float</span> next = <a class="code" href="dcadata_8c.html#a8b4f6f4f59c6da27ccaf9f4e11182e78">ff_dca_st_coeff</a>[pt_st[sf    ]];</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 32; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                    <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] *= (32 - <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) * prev + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * next;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        }</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    }</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;}</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a936aa525497ed36b3061cdfde0750645"> 1622</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a936aa525497ed36b3061cdfde0750645">synth_tones</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch, <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>,</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                        <span class="keywordtype">int</span> group, <span class="keywordtype">int</span> group_sf, <span class="keywordtype">int</span> synth_idx)</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;{</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, start, count;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">if</span> (synth_idx &lt; 0)</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160; </div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    start =  <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_bounds[group][group_sf][0];</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    count = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_bounds[group][group_sf][1] - start) &amp; (<a class="code" href="dca__lbr_8h.html#ac638009bee6b3098a0bfd564e6e39c99">DCA_LBR_TONES</a> - 1);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; count; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <a class="code" href="struct_d_c_a_lbr_tone.html">DCALbrTone</a> *t = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tones[(start + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) &amp; (<a class="code" href="dca__lbr_8h.html#ac638009bee6b3098a0bfd564e6e39c99">DCA_LBR_TONES</a> - 1)];</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160; </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        <span class="keywordflow">if</span> (t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#a797c3f641516925e44cda5d6a2b3deef">amp</a>[ch]) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;            <span class="keywordtype">float</span> amp = <a class="code" href="dcadata_8c.html#af6375589b30b5624e8c311f0faacb098">ff_dca_synth_env</a>[synth_idx] * <a class="code" href="dcadata_8c.html#a5a563f5fb2a53be3526b057d7aab5391">ff_dca_quant_amp</a>[t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#a797c3f641516925e44cda5d6a2b3deef">amp</a>[ch]];</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            <span class="keywordtype">float</span> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = amp * <a class="code" href="dca__lbr_8c.html#a8ae9ca81511a01315194b1e7981a582d">cos_tab</a>[(t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#aaacf12fe1551e5b27333d0e1b64c6f04">phs</a>[ch]     ) &amp; 255];</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;            <span class="keywordtype">float</span> <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = amp * <a class="code" href="dca__lbr_8c.html#a8ae9ca81511a01315194b1e7981a582d">cos_tab</a>[(t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#aaacf12fe1551e5b27333d0e1b64c6f04">phs</a>[ch] + 64) &amp; 255];</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span> *cf = <a class="code" href="dcadata_8c.html#a5ababa2251b739f8aaa87153605bff51">ff_dca_corr_cf</a>[t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#ab760167cec4f5d153380b0c512446be0">f_delt</a>];</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <span class="keywordtype">int</span> x_freq = t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#afa440e918c794e43f88a6a367ffc291c">x_freq</a>;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            <span class="keywordflow">switch</span> (x_freq) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                <span class="keywordflow">goto</span> p0;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[3] += cf[0] * -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[2] += cf[1] *  <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[1] += cf[2] *  <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[0] += cf[3] * -<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                <span class="keywordflow">goto</span> p1;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[2] += cf[0] * -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[1] += cf[1] *  <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[0] += cf[2] *  <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                <span class="keywordflow">goto</span> p2;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[1] += cf[0] * -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[0] += cf[1] *  <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                <span class="keywordflow">goto</span> p3;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[0] += cf[0] * -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                <span class="keywordflow">goto</span> p4;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq - 5] += cf[ 0] * -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        p4: <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq - 4] += cf[ 1] *  <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        p3: <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq - 3] += cf[ 2] *  <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        p2: <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq - 2] += cf[ 3] * -<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        p1: <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq - 1] += cf[ 4] * -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        p0: <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq    ] += cf[ 5] *  <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;            <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq + 1] += cf[ 6] *  <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;            <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq + 2] += cf[ 7] * -<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;            <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq + 3] += cf[ 8] * -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq + 4] += cf[ 9] *  <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[x_freq + 5] += cf[10] *  <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#aaacf12fe1551e5b27333d0e1b64c6f04">phs</a>[ch] += t-&gt;<a class="code" href="struct_d_c_a_lbr_tone.html#ad1cad6956a624891bcc0560984774be3">ph_rot</a>;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    }</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;}</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#af0d7dfb4ba7db19ce6bb1dfa0e54da70"> 1686</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#af0d7dfb4ba7db19ce6bb1dfa0e54da70">base_func_synth</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch, <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>, <span class="keywordtype">int</span> sf)</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;{</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordtype">int</span> group;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160; </div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">// Tonal vs residual shift is 22 subframes</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordflow">for</span> (group = 0; group &lt; 5; group++) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <span class="keywordtype">int</span> group_sf = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum &lt;&lt; group) + ((sf - 22) &gt;&gt; (5 - group));</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="keywordtype">int</span> synth_idx = ((((sf - 22) &amp; 31) &lt;&lt; group) &amp; 31) + (1 &lt;&lt; group) - 1;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <a class="code" href="dca__lbr_8c.html#a936aa525497ed36b3061cdfde0750645">synth_tones</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch, <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>, group, (group_sf - 1) &amp; 31, 30 - synth_idx);</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <a class="code" href="dca__lbr_8c.html#a936aa525497ed36b3061cdfde0750645">synth_tones</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch, <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>, group, (group_sf    ) &amp; 31,      synth_idx);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;}</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"><a class="line" href="dca__lbr_8c.html#a2850cad3d95da2055d5520bdb849f665"> 1700</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#a2850cad3d95da2055d5520bdb849f665">transform_channel</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> ch, <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>)</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;{</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="libavutil_2internal_8h.html#a383804ed89972f458d08d83cbc3029e0">LOCAL_ALIGNED_32</a>(<span class="keywordtype">float</span>, <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>, [<a class="code" href="dca__lbr_8h.html#a156244a32ac3ade0898113ae153d3f33">DCA_LBR_SUBBANDS</a>    ], [4]);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="libavutil_2internal_8h.html#a383804ed89972f458d08d83cbc3029e0">LOCAL_ALIGNED_32</a>(<span class="keywordtype">float</span>, <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a>, [<a class="code" href="dca__lbr_8h.html#a156244a32ac3ade0898113ae153d3f33">DCA_LBR_SUBBANDS</a> * 2], [4]);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="keywordtype">int</span> sf, sb, nsubbands = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands, noutsubbands = 8 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="comment">// Clear inactive subbands</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="keywordflow">if</span> (nsubbands &lt; noutsubbands)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        memset(<a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[nsubbands], 0, (noutsubbands - nsubbands) * <span class="keyword">sizeof</span>(<a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[0]));</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">for</span> (sf = 0; sf &lt; <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a> / 4; sf++) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="comment">// Hybrid filterbank</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp-&gt;lbr_bank(<a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch],</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                            <a class="code" href="dcadata_8c.html#a4a35dff33b3ca244d67cf881ba11bc93">ff_dca_bank_coeff</a>, sf * 4, nsubbands);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <a class="code" href="dca__lbr_8c.html#af0d7dfb4ba7db19ce6bb1dfa0e54da70">base_func_synth</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch, <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[0], sf);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;imdct.imdct_calc(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;imdct, <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a>[0], <a class="code" href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a>[0]);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="comment">// Long window and overlap-add</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fdsp-&gt;vector_fmul_add(<a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a>, <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a>[0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;window,</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                                 <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;history[ch], noutsubbands * 4);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fdsp-&gt;vector_fmul_reverse(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;history[ch], <a class="code" href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a>[noutsubbands],</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                                     <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;window, noutsubbands * 4);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <a class="code" href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a> += noutsubbands * 4;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="comment">// Update history for LPC and forward MDCT</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordflow">for</span> (sb = 0; sb &lt; nsubbands; sb++) {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb] - <a class="code" href="dca__lbr_8h.html#acae66a7fe1f4eb20cdc8a50beb71c3d9">DCA_LBR_TIME_HISTORY</a>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        memcpy(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, <a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> + <a class="code" href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a>, <a class="code" href="dca__lbr_8h.html#acae66a7fe1f4eb20cdc8a50beb71c3d9">DCA_LBR_TIME_HISTORY</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    }</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;}</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160; </div>
<div class="line"><a name="l01734"></a><span class="lineno"><a class="line" href="dca__lbr_8h.html#a02c5dd0aded606b7b5bafeb40e3549ef"> 1734</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a02c5dd0aded606b7b5bafeb40e3549ef">ff_dca_lbr_filter_frame</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;{</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, nchannels, ch_conf = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ch_mask &amp; 0x7) - 1;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keyword">const</span> int8_t *reorder;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a> = <a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a>[ch_conf];</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a> = nchannels = <a class="code" href="dca__lbr_8c.html#a521619a833879b6f0c41fb1f05370ad9">channel_counts</a>[ch_conf];</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a> = <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a889b84d5b3657df4a4e45b17b87848f5">bits_per_raw_sample</a> = 0;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> = <a class="code" href="avcodec_8h.html#ada7497a9ccac9ff6a85290a55d9790fe">FF_PROFILE_DTS_EXPRESS</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_rate_scaled;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">LBR_FLAG_LFE_PRESENT</a>) {</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a> |= <a class="code" href="group__channel__masks.html#gab19b66e345cf1f9d50ffc26c28862bcc">AV_CH_LOW_FREQUENCY</a>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>++;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        reorder = <a class="code" href="dca__lbr_8c.html#a210f1ca693b06240de55784876fa3052">channel_reorder_lfe</a>[ch_conf];</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        reorder = <a class="code" href="dca__lbr_8c.html#abd0d8d31a8de0b21903d6cf2db677582">channel_reorder_nolfe</a>[ch_conf];</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples = 1024 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160; </div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="comment">// Filter fullband channels</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels + 1) / 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        <span class="keywordtype">int</span> ch1 = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 2;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        <span class="keywordtype">int</span> ch2 = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(ch1 + 1, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels - 1);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        <a class="code" href="dca__lbr_8c.html#a055c16aff26e58775ce29a016ada7dc0">decode_grid</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <a class="code" href="dca__lbr_8c.html#a006a89a7468fce73f49076b7e242a898">random_ts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <a class="code" href="dca__lbr_8c.html#a0346bb02e17d432b8b93eee03a35b68c">filter_ts</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2);</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160; </div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="keywordflow">if</span> (ch1 != ch2 &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo_pres &amp; (1 &lt;&lt; ch1)))</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            <a class="code" href="dca__lbr_8c.html#a47161264da83c21ed31553fde4610904">decode_part_stereo</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, ch2);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">if</span> (ch1 &lt; nchannels)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <a class="code" href="dca__lbr_8c.html#a2850cad3d95da2055d5520bdb849f665">transform_channel</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch1, (<span class="keywordtype">float</span> *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data[reorder[ch1]]);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keywordflow">if</span> (ch1 != ch2 &amp;&amp; ch2 &lt; nchannels)</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            <a class="code" href="dca__lbr_8c.html#a2850cad3d95da2055d5520bdb849f665">transform_channel</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, ch2, (<span class="keywordtype">float</span> *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data[reorder[ch2]]);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="comment">// Interpolate LFE channel</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;flags &amp; <a class="code" href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">LBR_FLAG_LFE_PRESENT</a>) {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;dcadsp-&gt;lfe_iir((<span class="keywordtype">float</span> *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data[<a class="code" href="dca__lbr_8c.html#a57001d15a6417aba6b2c87b7bcf5f815">lfe_index</a>[ch_conf]],</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                           <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_data, <a class="code" href="dcadata_8c.html#adbeb1ded2ffc1706ed20a5dd8f582cdc">ff_dca_lfe_iir</a>,</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                           <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_history, 16 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;freq_range);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    }</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2internal_8h.html#a10de3eae439940d0ae3790cc60510423">ff_side_data_update_matrix_encoding</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, <a class="code" href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6a04179fd7b3339556603020ae88e02793">AV_MATRIX_ENCODING_NONE</a>)) &lt; 0)</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;}</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"><a class="line" href="dca__lbr_8h.html#abe71124250078a949b3ba4c3cefa47da"> 1794</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#abe71124250078a949b3ba4c3cefa47da">ff_dca_lbr_flush</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;{</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordtype">int</span> ch, sb;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate)</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160; </div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="comment">// Clear history</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo, 16, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;part_stereo));</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lpc_coeff));</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;history, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;history));</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_bounds, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tonal_bounds));</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_history, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lfe_history));</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framenum = 0;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ntones = 0;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nchannels; ch++) {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <span class="keywordflow">for</span> (sb = 0; sb &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nsubbands; sb++) {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;time_samples[ch][sb] - <a class="code" href="dca__lbr_8h.html#acae66a7fe1f4eb20cdc8a50beb71c3d9">DCA_LBR_TIME_HISTORY</a>;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            memset(<a class="code" href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a>, 0, <a class="code" href="dca__lbr_8h.html#acae66a7fe1f4eb20cdc8a50beb71c3d9">DCA_LBR_TIME_HISTORY</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;}</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160; </div>
<div class="line"><a name="l01818"></a><span class="lineno"><a class="line" href="dca__lbr_8h.html#a7c57836b2f68f92427a3e10efb968162"> 1818</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="dca__lbr_8c.html#a7c57836b2f68f92427a3e10efb968162">ff_dca_lbr_init</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;{</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <a class="code" href="dca__lbr_8c.html#a62ca9e0974f83e9a90b4387e94107823">init_tables</a>();</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fdsp = <a class="code" href="libavutil_2float__dsp_8c.html#abf4186be59dc9de8cda94ee7beacaf67">avpriv_float_dsp_alloc</a>(0)))</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lbr_rand = 1;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;}</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160; </div>
<div class="line"><a name="l01829"></a><span class="lineno"><a class="line" href="dca__lbr_8h.html#aac49fc060b2b5afc99c66b8198590e27"> 1829</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="dca__lbr_8c.html#aac49fc060b2b5afc99c66b8198590e27">ff_dca_lbr_close</a>(<a class="code" href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;{</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sample_rate = 0;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ts_buffer);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ts_size = 0;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160; </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fdsp);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <a class="code" href="fft_8h.html#afee52a8ecff75737ecbdca0f9ae0a377">ff_mdct_end</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;imdct);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="adcadata_8c_html_a88df2ae8f8f8d86cbc29700e4776012f"><div class="ttname"><a href="dcadata_8c.html#a88df2ae8f8f8d86cbc29700e4776012f">ff_dca_grid_2_to_scf</a></div><div class="ttdeci">const uint8_t ff_dca_grid_2_to_scf[3]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08761">dcadata.c:8761</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_FLTP</div><div class="ttdoc">float, planar</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00069">samplefmt.h:69</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a47c3a35ba8dece0168d84181f224b55d"><div class="ttname"><a href="get__bits_8h.html#a47c3a35ba8dece0168d84181f224b55d">skip_bits_long</a></div><div class="ttdeci">static void skip_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00291">get_bits.h:291</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6b53fda85ad61baa345edbd96cb8a33c"><div class="ttname"><a href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">AVCodecContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00576">avcodec.h:576</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595ea2d0dc5f0a1a6a12ee02518e5a9426755"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea2d0dc5f0a1a6a12ee02518e5a9426755">LBR_FLAG_DMIX_STEREO</a></div><div class="ttdeci">@ LBR_FLAG_DMIX_STEREO</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00043">dca_lbr.c:43</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a44d39cea027a76211f31e3bf2e3e68a4"><div class="ttname"><a href="get__bits_8h.html#a44d39cea027a76211f31e3bf2e3e68a4">get_bits_left</a></div><div class="ttdeci">static int get_bits_left(GetBitContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00849">get_bits.h:849</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca3f619c3ab22cf0d3b74198bee06f2a3e"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3f619c3ab22cf0d3b74198bee06f2a3e">LBR_CHUNK_RES_GRID_HR</a></div><div class="ttdeci">@ LBR_CHUNK_RES_GRID_HR</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00071">dca_lbr.c:71</a></div></div>
<div class="ttc" id="astruct_d_c_a_lbr_tone_html_afa440e918c794e43f88a6a367ffc291c"><div class="ttname"><a href="struct_d_c_a_lbr_tone.html#afa440e918c794e43f88a6a367ffc291c">DCALbrTone::x_freq</a></div><div class="ttdeci">uint8_t x_freq</div><div class="ttdoc">Spectral line offset.</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00050">dca_lbr.h:50</a></div></div>
<div class="ttc" id="adcadata_8c_html_ab5f667ba86690b7c944ad25ce2e271b2"><div class="ttname"><a href="dcadata_8c.html#ab5f667ba86690b7c944ad25ce2e271b2">ff_dca_grid_1_weights</a></div><div class="ttdeci">const uint8_t ff_dca_grid_1_weights[12][32]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08775">dcadata.c:8775</a></div></div>
<div class="ttc" id="adcadata_8c_html_ad7d824d002a134e057e9b585b657ceec"><div class="ttname"><a href="dcadata_8c.html#ad7d824d002a134e057e9b585b657ceec">ff_dca_sb_reorder</a></div><div class="ttdeci">const uint8_t ff_dca_sb_reorder[8][8]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08836">dcadata.c:8836</a></div></div>
<div class="ttc" id="adcahuff_8c_html_a2886d10e4989ff3d8c2a75ab70b0d74e"><div class="ttname"><a href="dcahuff_8c.html#a2886d10e4989ff3d8c2a75ab70b0d74e">ff_dca_vlc_rsd_apprx</a></div><div class="ttdeci">VLC ff_dca_vlc_rsd_apprx</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01255">dcahuff.c:1255</a></div></div>
<div class="ttc" id="adcadata_8c_html_a21f1f44c4b46874a8e584e24c3db8af3"><div class="ttname"><a href="dcadata_8c.html#a21f1f44c4b46874a8e584e24c3db8af3">ff_dca_rsd_level_2b</a></div><div class="ttdeci">const float ff_dca_rsd_level_2b[2]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08930">dcadata.c:8930</a></div></div>
<div class="ttc" id="adcahuff_8c_html_ab9242d089ef1764fe5f02445b5894a51"><div class="ttname"><a href="dcahuff_8c.html#ab9242d089ef1764fe5f02445b5894a51">ff_dca_vlc_st_grid</a></div><div class="ttdeci">VLC ff_dca_vlc_st_grid</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01258">dcahuff.c:1258</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_aad628673edf752910d1d0f4966cd1246"><div class="ttname"><a href="dca__lbr_8c.html#aad628673edf752910d1d0f4966cd1246">parse_ch</a></div><div class="ttdeci">static void parse_ch(DCALbrDecoder *s, int ch, int sb, int quant_level, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00634">dca_lbr.c:634</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a5fcd157cdf44653ae08e4abf206fe758"><div class="ttname"><a href="dca__lbr_8c.html#a5fcd157cdf44653ae08e4abf206fe758">ensure_bits</a></div><div class="ttdeci">static int ensure_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00413">dca_lbr.c:413</a></div></div>
<div class="ttc" id="adcadata_8c_html_a09fc38be62a169a43fcc7fd195cb40b6"><div class="ttname"><a href="dcadata_8c.html#a09fc38be62a169a43fcc7fd195cb40b6">ff_dca_lfe_step_size_24</a></div><div class="ttdeci">const float ff_dca_lfe_step_size_24[144]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l09133">dcadata.c:9133</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ga53d6da2dcd56f5f87c7afd8b33fa15ba"><div class="ttname"><a href="group__channel__mask__c.html#ga53d6da2dcd56f5f87c7afd8b33fa15ba">AV_CH_LAYOUT_MONO</a></div><div class="ttdeci">#define AV_CH_LAYOUT_MONO</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00090">channel_layout.h:90</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_aa4e1c6357e04ee6960702c705448a76a"><div class="ttname"><a href="filter__design_8txt.html#aa4e1c6357e04ee6960702c705448a76a">output</a></div><div class="ttdeci">filter_frame For filters that do not use the this method is called when a frame is pushed to the filter s input It can be called at any time except in a reentrant way If the input frame is enough to produce output</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00225">filter_design.txt:225</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a0346bb02e17d432b8b93eee03a35b68c"><div class="ttname"><a href="dca__lbr_8c.html#a0346bb02e17d432b8b93eee03a35b68c">filter_ts</a></div><div class="ttdeci">static void filter_ts(DCALbrDecoder *s, int ch1, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01511">dca_lbr.c:1511</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595eae4bb68e743f083f67c8fbd7c0697765c"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eae4bb68e743f083f67c8fbd7c0697765c">LBR_FLAG_DMIX_MULTI_CH</a></div><div class="ttdeci">@ LBR_FLAG_DMIX_MULTI_CH</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00045">dca_lbr.c:44</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a57001d15a6417aba6b2c87b7bcf5f815"><div class="ttname"><a href="dca__lbr_8c.html#a57001d15a6417aba6b2c87b7bcf5f815">lfe_index</a></div><div class="ttdeci">static const uint8_t lfe_index[7]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00105">dca_lbr.c:105</a></div></div>
<div class="ttc" id="astruct_l_b_r_chunk_html_ad87d4112a36fa9de9281a33b4e8d1368"><div class="ttname"><a href="struct_l_b_r_chunk.html#ad87d4112a36fa9de9281a33b4e8d1368">LBRChunk::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00081">dca_lbr.c:81</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_aacd2c6f4a09d71ea05bdcc1c2e9d42dd"><div class="ttname"><a href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a></div><div class="ttdeci">mfxU16 profile</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00045">qsvenc.c:45</a></div></div>
<div class="ttc" id="arate__distortion_8txt_html_a0e018beb061c7ac6d1f9121683a6f2c2"><div class="ttname"><a href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a></div><div class="ttdeci">trying all byte sequences megabyte in length and selecting the best looking sequence will yield cases to try But a word about which is also called distortion Distortion can be quantified by almost any quality measurement one chooses the sum of squared differences is used but more complex methods that consider psychovisual effects can be used as well It makes no difference in this discussion First step</div><div class="ttdef"><b>Definition:</b> <a href="rate__distortion_8txt_source.html#l00019">rate_distortion.txt:58</a></div></div>
<div class="ttc" id="adcahuff_8c_html_a802c9acc813fbdf9a27bdec902036a02"><div class="ttname"><a href="dcahuff_8c.html#a802c9acc813fbdf9a27bdec902036a02">ff_dca_vlc_grid_3</a></div><div class="ttdeci">VLC ff_dca_vlc_grid_3</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01260">dcahuff.c:1260</a></div></div>
<div class="ttc" id="adcadata_8c_html_a5a563f5fb2a53be3526b057d7aab5391"><div class="ttname"><a href="dcadata_8c.html#a5a563f5fb2a53be3526b057d7aab5391">ff_dca_quant_amp</a></div><div class="ttdeci">const float ff_dca_quant_amp[57]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l09031">dcadata.c:9031</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cac89c6d5e52aad0d67a29f1e0a837f328"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cac89c6d5e52aad0d67a29f1e0a837f328">LBR_CHUNK_RES_TS_2_LAST</a></div><div class="ttdeci">@ LBR_CHUNK_RES_TS_2_LAST</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00076">dca_lbr.c:76</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a936aa525497ed36b3061cdfde0750645"><div class="ttname"><a href="dca__lbr_8c.html#a936aa525497ed36b3061cdfde0750645">synth_tones</a></div><div class="ttdeci">static void synth_tones(DCALbrDecoder *s, int ch, float *values, int group, int group_sf, int synth_idx)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01622">dca_lbr.c:1622</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="adca_8h_html_a2f0710119b4e2623ae8e123c6c081076"><div class="ttname"><a href="dca_8h.html#a2f0710119b4e2623ae8e123c6c081076">DCA_SPEAKER_LAYOUT_STEREO</a></div><div class="ttdeci">#define DCA_SPEAKER_LAYOUT_STEREO</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00123">dca.h:123</a></div></div>
<div class="ttc" id="afft_8h_html_a58a526e6fc1130d7dabfec1e90680e3c"><div class="ttname"><a href="fft_8h.html#a58a526e6fc1130d7dabfec1e90680e3c">ff_mdct_init</a></div><div class="ttdeci">#define ff_mdct_init</div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00169">fft.h:169</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a3ba3e032e40fae0f98ba46a0f5201195"><div class="ttname"><a href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a></div><div class="ttdeci">static av_always_inline int get_vlc2(GetBitContext *s, VLC_TYPE(*table)[2], int bits, int max_depth)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00797">get_bits.h:797</a></div></div>
<div class="ttc" id="adcadata_8c_html_adffe14d2ccaa1e3eb8b877bd32f9c358"><div class="ttname"><a href="dcadata_8c.html#adffe14d2ccaa1e3eb8b877bd32f9c358">ff_dca_scf_to_grid_1</a></div><div class="ttdeci">const uint8_t ff_dca_scf_to_grid_1[32]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08765">dcadata.c:8765</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595ea6ab01e6ce6101b6b20be457dd1162b0c"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea6ab01e6ce6101b6b20be457dd1162b0c">LBR_FLAG_BAND_LIMIT_1_8</a></div><div class="ttdeci">@ LBR_FLAG_BAND_LIMIT_1_8</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00040">dca_lbr.c:40</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a055c16aff26e58775ce29a016ada7dc0"><div class="ttname"><a href="dca__lbr_8c.html#a055c16aff26e58775ce29a016ada7dc0">decode_grid</a></div><div class="ttdeci">static void decode_grid(DCALbrDecoder *s, int ch1, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01404">dca_lbr.c:1404</a></div></div>
<div class="ttc" id="abytestream_8h_html_ab3713f6615c089f746b36925f5857c07"><div class="ttname"><a href="bytestream_8h.html#ab3713f6615c089f746b36925f5857c07">bytestream2_skip</a></div><div class="ttdeci">static av_always_inline void bytestream2_skip(GetByteContext *g, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00168">bytestream.h:168</a></div></div>
<div class="ttc" id="aget__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00379">get_bits.h:379</a></div></div>
<div class="ttc" id="astruct_d_c_a_lbr_tone_html_ad1cad6956a624891bcc0560984774be3"><div class="ttname"><a href="struct_d_c_a_lbr_tone.html#ad1cad6956a624891bcc0560984774be3">DCALbrTone::ph_rot</a></div><div class="ttdeci">uint8_t ph_rot</div><div class="ttdoc">Phase rotation.</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00052">dca_lbr.h:52</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a772de66821edcb176f67faa1855687b8"><div class="ttname"><a href="dca__lbr_8c.html#a772de66821edcb176f67faa1855687b8">synth_lpc</a></div><div class="ttdeci">static void synth_lpc(DCALbrDecoder *s, int ch1, int ch2, int sb)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01489">dca_lbr.c:1489</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca19c79e2cc7c0d52348a943b37ecd663b"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca19c79e2cc7c0d52348a943b37ecd663b">LBR_CHUNK_TONAL</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00057">dca_lbr.c:57</a></div></div>
<div class="ttc" id="adcadata_8c_html_a0c3bfdf836c2b79c095ddd02209ed965"><div class="ttname"><a href="dcadata_8c.html#a0c3bfdf836c2b79c095ddd02209ed965">ff_dca_rsd_level_5</a></div><div class="ttdeci">const float ff_dca_rsd_level_5[5]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08938">dcadata.c:8938</a></div></div>
<div class="ttc" id="adcadata_8h_html"><div class="ttname"><a href="dcadata_8h.html">dcadata.h</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_gabc6d6651bba254cd0fa2c42a57228e65"><div class="ttname"><a href="group__channel__mask__c.html#gabc6d6651bba254cd0fa2c42a57228e65">AV_CH_LAYOUT_STEREO</a></div><div class="ttdeci">#define AV_CH_LAYOUT_STEREO</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00091">channel_layout.h:91</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a00c3abcbe2ce1c3e491cf7f38bc31d49"><div class="ttname"><a href="dca__lbr_8c.html#a00c3abcbe2ce1c3e491cf7f38bc31d49">alloc_sample_buffer</a></div><div class="ttdeci">static int alloc_sample_buffer(DCALbrDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00991">dca_lbr.c:991</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a9e54e9e2ccf671c1f79867e19ce432e9"><div class="ttname"><a href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a></div><div class="ttdeci">static int init_get_bits8(GetBitContext *s, const uint8_t *buffer, int byte_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00677">get_bits.h:677</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_aa3a3be9520c7122e7f2aafbcfaef7192"><div class="ttname"><a href="dca__lbr_8c.html#aa3a3be9520c7122e7f2aafbcfaef7192">parse_st_code</a></div><div class="ttdeci">static int parse_st_code(GetBitContext *s, int min_v)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00495">dca_lbr.c:495</a></div></div>
<div class="ttc" id="agroup__channel__masks_html_gab19b66e345cf1f9d50ffc26c28862bcc"><div class="ttname"><a href="group__channel__masks.html#gab19b66e345cf1f9d50ffc26c28862bcc">AV_CH_LOW_FREQUENCY</a></div><div class="ttdeci">#define AV_CH_LOW_FREQUENCY</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00052">channel_layout.h:52</a></div></div>
<div class="ttc" id="astruct_d_c_a_context_html"><div class="ttname"><a href="struct_d_c_a_context.html">DCAContext</a></div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00046">dcadec.h:46</a></div></div>
<div class="ttc" id="avaapi__transcode_8c_html_ad06983e7f6e71b233ea7ff3dee1952f2"><div class="ttname"><a href="vaapi__transcode_8c.html#ad06983e7f6e71b233ea7ff3dee1952f2">initialized</a></div><div class="ttdeci">static int initialized</div><div class="ttdef"><b>Definition:</b> <a href="vaapi__transcode_8c_source.html#l00046">vaapi_transcode.c:46</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595ea2c517ec8979b002c36b44844b1e0507d"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea2c517ec8979b002c36b44844b1e0507d">LBR_FLAG_BAND_LIMIT_1_2</a></div><div class="ttdeci">@ LBR_FLAG_BAND_LIMIT_1_2</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00037">dca_lbr.c:37</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ab1e5e4da95b8c4916e9232a205bd016f"><div class="ttname"><a href="dca__lbr_8c.html#ab1e5e4da95b8c4916e9232a205bd016f">parse_lpc</a></div><div class="ttdeci">static int parse_lpc(DCALbrDecoder *s, int ch1, int ch2, int start_sb, int end_sb)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00787">dca_lbr.c:787</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ad60b8b4b1cbab4c49332a19919d63f6b"><div class="ttname"><a href="dca__lbr_8c.html#ad60b8b4b1cbab4c49332a19919d63f6b">parse_ts</a></div><div class="ttdeci">static int parse_ts(DCALbrDecoder *s, int ch1, int ch2, int start_sb, int end_sb, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00708">dca_lbr.c:708</a></div></div>
<div class="ttc" id="astruct_v_l_c_html_acaf94f3386396a95d3e7042c444a41f7"><div class="ttname"><a href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">VLC::table</a></div><div class="ttdeci">VLC_TYPE(* table)[2]</div><div class="ttdoc">code, bits</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00028">vlc.h:28</a></div></div>
<div class="ttc" id="adcadata_8c_html_a4e348615fc1e3c7e2e5b2fb04a53b6de"><div class="ttname"><a href="dcadata_8c.html#a4e348615fc1e3c7e2e5b2fb04a53b6de">ff_dca_rsd_level_16</a></div><div class="ttdeci">const float ff_dca_rsd_level_16[16]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08946">dcadata.c:8946</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_aa3de25dd756f40b9cdf42c71cde2dd96"><div class="ttname"><a href="dca__lbr_8c.html#aa3de25dd756f40b9cdf42c71cde2dd96">init_sample_rate</a></div><div class="ttdeci">static int init_sample_rate(DCALbrDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00953">dca_lbr.c:953</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609c"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609c">LBRChunkTypes</a></div><div class="ttdeci">LBRChunkTypes</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00047">dca_lbr.c:47</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a7a2f14261c3925608ea59d88cacb8fe9"><div class="ttname"><a href="dca__lbr_8c.html#a7a2f14261c3925608ea59d88cacb8fe9">LBRChunk</a></div><div class="ttdeci">struct LBRChunk LBRChunk</div></div>
<div class="ttc" id="adca__lbr_8c_html_aabed2557d83917fb2663d8c47fc3119f"><div class="ttname"><a href="dca__lbr_8c.html#aabed2557d83917fb2663d8c47fc3119f">parse_grid_1_chunk</a></div><div class="ttdeci">static int parse_grid_1_chunk(DCALbrDecoder *s, LBRChunk *chunk, int ch1, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00509">dca_lbr.c:509</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a889b84d5b3657df4a4e45b17b87848f5"><div class="ttname"><a href="struct_a_v_codec_context.html#a889b84d5b3657df4a4e45b17b87848f5">AVCodecContext::bits_per_raw_sample</a></div><div class="ttdeci">int bits_per_raw_sample</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01757">avcodec.h:1757</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595ea4e06993e443d26a31da5258eb261cbb4"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea4e06993e443d26a31da5258eb261cbb4">LBR_FLAG_BAND_LIMIT_2_3</a></div><div class="ttdeci">@ LBR_FLAG_BAND_LIMIT_2_3</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00036">dca_lbr.c:36</a></div></div>
<div class="ttc" id="adcadec_8h_html"><div class="ttname"><a href="dcadec_8h.html">dcadec.h</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609caebb097723eda73518d1d8daffd50df3b"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caebb097723eda73518d1d8daffd50df3b">LBR_CHUNK_FRAME_NO_CSUM</a></div><div class="ttdeci">@ LBR_CHUNK_FRAME_NO_CSUM</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00051">dca_lbr.c:51</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595eaab7b87c20a29e2f225850bbb55bd496d"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eaab7b87c20a29e2f225850bbb55bd496d">LBR_FLAG_BAND_LIMIT_1_3</a></div><div class="ttdeci">@ LBR_FLAG_BAND_LIMIT_1_3</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00038">dca_lbr.c:38</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ab2b16fd8be6d8981f7867ca265435403"><div class="ttname"><a href="dca__lbr_8c.html#ab2b16fd8be6d8981f7867ca265435403">AMP_MAX</a></div><div class="ttdeci">#define AMP_MAX</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00031">dca_lbr.c:31</a></div></div>
<div class="ttc" id="adca__syncwords_8h_html"><div class="ttname"><a href="dca__syncwords_8h.html">dca_syncwords.h</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="adcadata_8c_html_a63beb18901fa4f087301928c142c7836"><div class="ttname"><a href="dcadata_8c.html#a63beb18901fa4f087301928c142c7836">ff_dca_lfe_delta_index_16</a></div><div class="ttdeci">const int8_t ff_dca_lfe_delta_index_16[8]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08847">dcadata.c:8847</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a006a89a7468fce73f49076b7e242a898"><div class="ttname"><a href="dca__lbr_8c.html#a006a89a7468fce73f49076b7e242a898">random_ts</a></div><div class="ttdeci">static void random_ts(DCALbrDecoder *s, int ch1, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01441">dca_lbr.c:1441</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a02c5dd0aded606b7b5bafeb40e3549ef"><div class="ttname"><a href="dca__lbr_8c.html#a02c5dd0aded606b7b5bafeb40e3549ef">ff_dca_lbr_filter_frame</a></div><div class="ttdeci">int ff_dca_lbr_filter_frame(DCALbrDecoder *s, AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01734">dca_lbr.c:1734</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca56294a734de3366284443b7b446b5321"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca56294a734de3366284443b7b446b5321">LBR_CHUNK_EXTENSION</a></div><div class="ttdeci">@ LBR_CHUNK_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00078">dca_lbr.c:77</a></div></div>
<div class="ttc" id="adcadata_8c_html_af6375589b30b5624e8c311f0faacb098"><div class="ttname"><a href="dcadata_8c.html#af6375589b30b5624e8c311f0faacb098">ff_dca_synth_env</a></div><div class="ttdeci">const float ff_dca_synth_env[32]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08953">dcadata.c:8953</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf51c0fafb1c1b683c7f943c2a349904"><div class="ttname"><a href="filter__design_8txt.html#adf51c0fafb1c1b683c7f943c2a349904">result</a></div><div class="ttdeci">and forward the result(frame or status change) to the corresponding input. If nothing is possible</div></div>
<div class="ttc" id="acuda__runtime_8h_html_a7a87cd25426a228ce8ecbef48ab00de8"><div class="ttname"><a href="cuda__runtime_8h.html#a7a87cd25426a228ce8ecbef48ab00de8">fabs</a></div><div class="ttdeci">static __device__ float fabs(float a)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00182">cuda_runtime.h:182</a></div></div>
<div class="ttc" id="astruct_v_l_c_html"><div class="ttname"><a href="struct_v_l_c.html">VLC</a></div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00026">vlc.h:26</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595e"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595e">LBRFlags</a></div><div class="ttdeci">LBRFlags</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00033">dca_lbr.c:33</a></div></div>
<div class="ttc" id="astruct_l_b_r_chunk_html_abbaf49de3d4fb43b4c3876a4512b2075"><div class="ttname"><a href="struct_l_b_r_chunk.html#abbaf49de3d4fb43b4c3876a4512b2075">LBRChunk::data</a></div><div class="ttdeci">const uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00082">dca_lbr.c:82</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a73821c7c29fd5f634902914e36be91ba"><div class="ttname"><a href="dca__lbr_8c.html#a73821c7c29fd5f634902914e36be91ba">parse_ts1_chunk</a></div><div class="ttdeci">static int parse_ts1_chunk(DCALbrDecoder *s, LBRChunk *chunk, int ch1, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00912">dca_lbr.c:912</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595ea42a3378bf16b387b1ab34d9742db75e0"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea42a3378bf16b387b1ab34d9742db75e0">LBR_FLAG_BAND_LIMIT_MASK</a></div><div class="ttdeci">@ LBR_FLAG_BAND_LIMIT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00042">dca_lbr.c:42</a></div></div>
<div class="ttc" id="astruct_d_c_a_lbr_tone_html_a797c3f641516925e44cda5d6a2b3deef"><div class="ttname"><a href="struct_d_c_a_lbr_tone.html#a797c3f641516925e44cda5d6a2b3deef">DCALbrTone::amp</a></div><div class="ttdeci">uint8_t amp[DCA_LBR_CHANNELS]</div><div class="ttdoc">Per-channel amplitude.</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00054">dca_lbr.h:54</a></div></div>
<div class="ttc" id="adcadata_8c_html_ad8d8226b3cbff0898c51f8f9f0eb3322"><div class="ttname"><a href="dcadata_8c.html#ad8d8226b3cbff0898c51f8f9f0eb3322">ff_dca_avg_g3_freqs</a></div><div class="ttdeci">const uint16_t ff_dca_avg_g3_freqs[3]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08732">dcadata.c:8732</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html"><div class="ttname"><a href="struct_get_bit_context.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00061">get_bits.h:61</a></div></div>
<div class="ttc" id="adcadata_8c_html_a5ababa2251b739f8aaa87153605bff51"><div class="ttname"><a href="dcadata_8c.html#a5ababa2251b739f8aaa87153605bff51">ff_dca_corr_cf</a></div><div class="ttdeci">const float ff_dca_corr_cf[32][11]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08964">dcadata.c:8964</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00498">get_bits.h:498</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga0bfda4adf7f9e943f9eb1a08eeda3791"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga0bfda4adf7f9e943f9eb1a08eeda3791">av_fast_mallocz</a></div><div class="ttdeci">void av_fast_mallocz(void *ptr, unsigned int *size, size_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00507">mem.c:507</a></div></div>
<div class="ttc" id="adcadata_8c_html_adbeb1ded2ffc1706ed20a5dd8f582cdc"><div class="ttname"><a href="dcadata_8c.html#adbeb1ded2ffc1706ed20a5dd8f582cdc">ff_dca_lfe_iir</a></div><div class="ttdeci">const float ff_dca_lfe_iir[5][4]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l09190">dcadata.c:9190</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ace1808df5c22ca489c71ec223f409c58"><div class="ttname"><a href="dca__lbr_8c.html#ace1808df5c22ca489c71ec223f409c58">lpc_tab</a></div><div class="ttdeci">static float lpc_tab[16]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00124">dca_lbr.c:124</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595eabdb0ef04f00b4596a694b337da875a54"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eabdb0ef04f00b4596a694b337da875a54">LBR_FLAG_BAND_LIMIT_NONE</a></div><div class="ttdeci">@ LBR_FLAG_BAND_LIMIT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00041">dca_lbr.c:41</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a2e9b01d2eebede01a2e55d67815b068b"><div class="ttname"><a href="dca__lbr_8c.html#a2e9b01d2eebede01a2e55d67815b068b">parse_lfe_chunk</a></div><div class="ttdeci">static int parse_lfe_chunk(DCALbrDecoder *s, LBRChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00247">dca_lbr.c:247</a></div></div>
<div class="ttc" id="agroup__channel__masks_html_ga88f2868b232a89fd11ad9d6c39d502a1"><div class="ttname"><a href="group__channel__masks.html#ga88f2868b232a89fd11ad9d6c39d502a1">AV_CH_FRONT_CENTER</a></div><div class="ttdeci">#define AV_CH_FRONT_CENTER</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00051">channel_layout.h:51</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a2850cad3d95da2055d5520bdb849f665"><div class="ttname"><a href="dca__lbr_8c.html#a2850cad3d95da2055d5520bdb849f665">transform_channel</a></div><div class="ttdeci">static void transform_channel(DCALbrDecoder *s, int ch, float *output)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01700">dca_lbr.c:1700</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a6101c3b2a02c61ea41f3c97e88b64d39"><div class="ttname"><a href="avcodec_8h.html#a6101c3b2a02c61ea41f3c97e88b64d39">AV_EF_EXPLODE</a></div><div class="ttdeci">#define AV_EF_EXPLODE</div><div class="ttdoc">abort decoding on minor error detection</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01666">avcodec.h:1666</a></div></div>
<div class="ttc" id="adca__lbr_8h_html_ab2728d438ae96e1ef8f66e0e62f958fb"><div class="ttname"><a href="dca__lbr_8h.html#ab2728d438ae96e1ef8f66e0e62f958fb">DCA_LBR_CHANNELS_TOTAL</a></div><div class="ttdeci">#define DCA_LBR_CHANNELS_TOTAL</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00037">dca_lbr.h:37</a></div></div>
<div class="ttc" id="astruct_l_b_r_chunk_html"><div class="ttname"><a href="struct_l_b_r_chunk.html">LBRChunk</a></div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00080">dca_lbr.c:80</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca091c8e2816ebf9b94beba2e2bae6f5e5"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca091c8e2816ebf9b94beba2e2bae6f5e5">LBR_CHUNK_SCF</a></div><div class="ttdeci">@ LBR_CHUNK_SCF</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00056">dca_lbr.c:56</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cad2af8360c4559439c8f72582473618be"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad2af8360c4559439c8f72582473618be">LBR_CHUNK_TONAL_SCF</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_SCF</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00063">dca_lbr.c:63</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca85e1f455d508cbec303a2e4e118898c7"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca85e1f455d508cbec303a2e4e118898c7">LBR_CHUNK_RES_GRID_HR_LAST</a></div><div class="ttdeci">@ LBR_CHUNK_RES_GRID_HR_LAST</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00072">dca_lbr.c:72</a></div></div>
<div class="ttc" id="abytestream_8h_html_a9c1ffe44fa596e26bc617174edec93b1"><div class="ttname"><a href="bytestream_8h.html#a9c1ffe44fa596e26bc617174edec93b1">bytestream2_get_bytes_left</a></div><div class="ttdeci">static av_always_inline int bytestream2_get_bytes_left(GetByteContext *g)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00158">bytestream.h:158</a></div></div>
<div class="ttc" id="aavcodec_8h_html_adada058bf4130e23c790f39de50c62c8"><div class="ttname"><a href="avcodec_8h.html#adada058bf4130e23c790f39de50c62c8">AV_EF_CAREFUL</a></div><div class="ttdeci">#define AV_EF_CAREFUL</div><div class="ttdoc">consider things that violate the spec, are fast to calculate and have not been seen in the wild as er...</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01669">avcodec.h:1669</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="adcadata_8c_html_a4a35dff33b3ca244d67cf881ba11bc93"><div class="ttname"><a href="dcadata_8c.html#a4a35dff33b3ca244d67cf881ba11bc93">ff_dca_bank_coeff</a></div><div class="ttdeci">const float ff_dca_bank_coeff[10]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l09184">dcadata.c:9184</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7abe7095de73df98df4895bf9e25fc6b"><div class="ttname"><a href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">AVCodecContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01859">avcodec.h:1859</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca4c11cc4fa096ae3f0aed36997376dae3"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca4c11cc4fa096ae3f0aed36997376dae3">LBR_CHUNK_RESERVED_2</a></div><div class="ttdeci">@ LBR_CHUNK_RESERVED_2</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00055">dca_lbr.c:55</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca6cebf4283ce973f8b059dd0ac9c01482"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6cebf4283ce973f8b059dd0ac9c01482">LBR_CHUNK_RES_TS_2</a></div><div class="ttdeci">@ LBR_CHUNK_RES_TS_2</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00075">dca_lbr.c:75</a></div></div>
<div class="ttc" id="adca__lbr_8h_html_a5746bb3d1d2c5b4003a597e79c51508aab8880f6cc0a9e8ce59b11f320aea5fa2"><div class="ttname"><a href="dca__lbr_8h.html#a5746bb3d1d2c5b4003a597e79c51508aab8880f6cc0a9e8ce59b11f320aea5fa2">DCA_LBR_HEADER_SYNC_ONLY</a></div><div class="ttdeci">@ DCA_LBR_HEADER_SYNC_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00045">dca_lbr.h:45</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_af17990420fd09675bb6681771cb1d2d7"><div class="ttname"><a href="dca__lbr_8c.html#af17990420fd09675bb6681771cb1d2d7">parse_lfe_24</a></div><div class="ttdeci">static int parse_lfe_24(DCALbrDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00143">dca_lbr.c:143</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a213469789c36663b18d7db4e0f6863d0"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a213469789c36663b18d7db4e0f6863d0">DCAExssAsset::lbr_offset</a></div><div class="ttdeci">int lbr_offset</div><div class="ttdoc">Offset to LBR component from start of substream.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00059">dca_exss.h:59</a></div></div>
<div class="ttc" id="adecode_8c_html_a0d5adb2b84051826883605b3ab4d1bab"><div class="ttname"><a href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a></div><div class="ttdeci">int ff_get_buffer(AVCodecContext *avctx, AVFrame *frame, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l01879">decode.c:1879</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cab5f46f196b6d834d91a3b55c9cfcc182"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab5f46f196b6d834d91a3b55c9cfcc182">LBR_CHUNK_RES_TS_1</a></div><div class="ttdeci">@ LBR_CHUNK_RES_TS_1</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00073">dca_lbr.c:73</a></div></div>
<div class="ttc" id="adcahuff_8h_html"><div class="ttname"><a href="dcahuff_8h.html">dcahuff.h</a></div></div>
<div class="ttc" id="astruct_d_c_a_lbr_decoder_html"><div class="ttname"><a href="struct_d_c_a_lbr_decoder.html">DCALbrDecoder</a></div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00058">dca_lbr.h:58</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cad45b509847faad0046eeaedb91718567"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad45b509847faad0046eeaedb91718567">LBR_CHUNK_PAD</a></div><div class="ttdeci">@ LBR_CHUNK_PAD</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00049">dca_lbr.c:49</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a8b870bed03b8257079d3f6c7da885a30"><div class="ttname"><a href="dca__lbr_8c.html#a8b870bed03b8257079d3f6c7da885a30">lbr_rand</a></div><div class="ttdeci">static float lbr_rand(DCALbrDecoder *s, int sb)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00625">dca_lbr.c:625</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ggabd576ea664e3ac5d31f3362064fe13e6a04179fd7b3339556603020ae88e02793"><div class="ttname"><a href="group__channel__mask__c.html#ggabd576ea664e3ac5d31f3362064fe13e6a04179fd7b3339556603020ae88e02793">AV_MATRIX_ENCODING_NONE</a></div><div class="ttdeci">@ AV_MATRIX_ENCODING_NONE</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00121">channel_layout.h:121</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a62ca9e0974f83e9a90b4387e94107823"><div class="ttname"><a href="dca__lbr_8c.html#a62ca9e0974f83e9a90b4387e94107823">init_tables</a></div><div class="ttdeci">static av_cold void init_tables(void)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00126">dca_lbr.c:126</a></div></div>
<div class="ttc" id="afft_8h_html_afee52a8ecff75737ecbdca0f9ae0a377"><div class="ttname"><a href="fft_8h.html#afee52a8ecff75737ecbdca0f9ae0a377">ff_mdct_end</a></div><div class="ttdeci">#define ff_mdct_end</div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00170">fft.h:170</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a8ef6489170ea2f26698b7298e6d26ded"><div class="ttname"><a href="libavutil_2internal_8h.html#a8ef6489170ea2f26698b7298e6d26ded">avpriv_report_missing_feature</a></div><div class="ttdeci">void avpriv_report_missing_feature(void *avc, const char *msg,...) av_printf_format(2</div></div>
<div class="ttc" id="adca__lbr_8c_html_a8650bdbabea22c378b64939b05ea6067"><div class="ttname"><a href="dca__lbr_8c.html#a8650bdbabea22c378b64939b05ea6067">parse_tonal_group</a></div><div class="ttdeci">static int parse_tonal_group(DCALbrDecoder *s, LBRChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00395">dca_lbr.c:395</a></div></div>
<div class="ttc" id="adcadata_8c_html_abb324162b410e4df52814bf859199540"><div class="ttname"><a href="dcadata_8c.html#abb324162b410e4df52814bf859199540">ff_dca_rsd_level_3</a></div><div class="ttdeci">const float ff_dca_rsd_level_3[3]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08934">dcadata.c:8934</a></div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca0fbce9012bc689c02fa77848c752fc29"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca0fbce9012bc689c02fa77848c752fc29">LBR_CHUNK_TONAL_SCF_GRP_3</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_SCF_GRP_3</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00066">dca_lbr.c:66</a></div></div>
<div class="ttc" id="adcahuff_8c_html_a887598b88d19bfb5b87c46e30898b7f3"><div class="ttname"><a href="dcahuff_8c.html#a887598b88d19bfb5b87c46e30898b7f3">ff_dca_vlc_grid_2</a></div><div class="ttdeci">VLC ff_dca_vlc_grid_2</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01259">dcahuff.c:1259</a></div></div>
<div class="ttc" id="adca__lbr_8h_html_a5746bb3d1d2c5b4003a597e79c51508aaf9b5688173a6334549f9fc78b7a55325"><div class="ttname"><a href="dca__lbr_8h.html#a5746bb3d1d2c5b4003a597e79c51508aaf9b5688173a6334549f9fc78b7a55325">DCA_LBR_HEADER_DECODER_INIT</a></div><div class="ttdeci">@ DCA_LBR_HEADER_DECODER_INIT</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00047">dca_lbr.h:46</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609caa65d4cc94edd5546f172397f4fd89f52"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa65d4cc94edd5546f172397f4fd89f52">LBR_CHUNK_LFE</a></div><div class="ttdeci">@ LBR_CHUNK_LFE</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00052">dca_lbr.c:52</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca6ecb6993150bb60b1317e92c2b53a009"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca6ecb6993150bb60b1317e92c2b53a009">LBR_CHUNK_TONAL_GRP_3</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_GRP_3</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00060">dca_lbr.c:60</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_a4c7a521b8f1a0769c09bfa4a1fca7dab"><div class="ttname"><a href="libkvazaar_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00317">libkvazaar.c:317</a></div></div>
<div class="ttc" id="adcahuff_8c_html_ae6c63ca166772b8a3be9eb29f624748d"><div class="ttname"><a href="dcahuff_8c.html#ae6c63ca166772b8a3be9eb29f624748d">ff_dca_vlc_tnl_grp</a></div><div class="ttdeci">VLC ff_dca_vlc_tnl_grp[5]</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01250">dcahuff.c:1250</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1bdba69ea111e2a9d03fdaa7a46a4c45"><div class="ttname"><a href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">AVCodecContext::sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat sample_fmt</div><div class="ttdoc">sample format</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1194</a></div></div>
<div class="ttc" id="amathematics_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00052">mathematics.h:52</a></div></div>
<div class="ttc" id="astruct_get_byte_context_html"><div class="ttname"><a href="struct_get_byte_context.html">GetByteContext</a></div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00033">bytestream.h:33</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a14a6ce0781ddb10c78a10f7373f9ff3d"><div class="ttname"><a href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a></div><div class="ttdeci">#define flag(name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00552">cbs_av1.c:552</a></div></div>
<div class="ttc" id="adcadata_8c_html_a21d1df879f23b00c8846cce7fc34d386"><div class="ttname"><a href="dcadata_8c.html#a21d1df879f23b00c8846cce7fc34d386">ff_dca_rsd_level_8</a></div><div class="ttdeci">const float ff_dca_rsd_level_8[8]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08942">dcadata.c:8942</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ga10eddec555bcf849efce5158b0cbdb50"><div class="ttname"><a href="group__channel__mask__c.html#ga10eddec555bcf849efce5158b0cbdb50">AV_CH_LAYOUT_5POINT0</a></div><div class="ttdeci">#define AV_CH_LAYOUT_5POINT0</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00100">channel_layout.h:100</a></div></div>
<div class="ttc" id="adcadata_8c_html_a6272cf757d2101744c036caff6c8df35"><div class="ttname"><a href="dcadata_8c.html#a6272cf757d2101744c036caff6c8df35">ff_dca_lfe_step_size_16</a></div><div class="ttdeci">const float ff_dca_lfe_step_size_16[101]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l09096">dcadata.c:9096</a></div></div>
<div class="ttc" id="adcadata_8c_html_a0d008bfa2abe9ddd06a24614ab8b8ac2"><div class="ttname"><a href="dcadata_8c.html#a0d008bfa2abe9ddd06a24614ab8b8ac2">ff_dca_scf_to_grid_2</a></div><div class="ttdeci">const uint8_t ff_dca_scf_to_grid_2[32]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08770">dcadata.c:8770</a></div></div>
<div class="ttc" id="adcadata_8c_html_a5ff48927574bcb003068c46d5c52a8a1"><div class="ttname"><a href="dcadata_8c.html#a5ff48927574bcb003068c46d5c52a8a1">ff_dca_rsd_level_2a</a></div><div class="ttdeci">const float ff_dca_rsd_level_2a[2]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08926">dcadata.c:8926</a></div></div>
<div class="ttc" id="adcahuff_8c_html_ad05767befe3f8dc442b39ca14b36d119"><div class="ttname"><a href="dcahuff_8c.html#ad05767befe3f8dc442b39ca14b36d119">ff_dca_vlc_tnl_scf</a></div><div class="ttdeci">VLC ff_dca_vlc_tnl_scf</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01251">dcahuff.c:1251</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609caa1b8e117df77514f132bcc1f2fe08d2a"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa1b8e117df77514f132bcc1f2fe08d2a">LBR_CHUNK_TONAL_GRP_5</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_GRP_5</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00062">dca_lbr.c:62</a></div></div>
<div class="ttc" id="adca_8h_html_ac95cb70c448df903fdef4f128f73adf8a52f603fb28d1114b196290a6d61cf8ef"><div class="ttname"><a href="dca_8h.html#ac95cb70c448df903fdef4f128f73adf8a52f603fb28d1114b196290a6d61cf8ef">DCA_SPEAKER_PAIR_LFE1</a></div><div class="ttdeci">@ DCA_SPEAKER_PAIR_LFE1</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00141">dca.h:141</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a2d741c5fe6c6463c93037bc4e3019915"><div class="ttname"><a href="dca__lbr_8c.html#a2d741c5fe6c6463c93037bc4e3019915">parse_vlc</a></div><div class="ttdeci">static int parse_vlc(GetBitContext *s, VLC *vlc, int max_depth)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00271">dca_lbr.c:271</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a30adc75414e0a59ca94aad7a56e17e42"><div class="ttname"><a href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a></div><div class="ttdeci">and forward the test the status of outputs and forward it to the corresponding return FFERROR_NOT_READY If the filters stores internally one or a few frame for some it can consider them to be part of the FIFO and delay acknowledging a status change accordingly Example code</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00176">filter_design.txt:178</a></div></div>
<div class="ttc" id="adcadata_8c_html_a95b22b7e9ac0c8b798c00957f71ddb4a"><div class="ttname"><a href="dcadata_8c.html#a95b22b7e9ac0c8b798c00957f71ddb4a">ff_dca_rsd_pack_3_in_7</a></div><div class="ttdeci">const uint8_t ff_dca_rsd_pack_3_in_7[128][3]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08891">dcadata.c:8891</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_af0d7dfb4ba7db19ce6bb1dfa0e54da70"><div class="ttname"><a href="dca__lbr_8c.html#af0d7dfb4ba7db19ce6bb1dfa0e54da70">base_func_synth</a></div><div class="ttdeci">static void base_func_synth(DCALbrDecoder *s, int ch, float *values, int sf)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01686">dca_lbr.c:1686</a></div></div>
<div class="ttc" id="adcahuff_8c_html_a136c928f2a1a838dac6ad174001af298"><div class="ttname"><a href="dcahuff_8c.html#a136c928f2a1a838dac6ad174001af298">ff_dca_vlc_fst_rsd_amp</a></div><div class="ttdeci">VLC ff_dca_vlc_fst_rsd_amp</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01254">dcahuff.c:1254</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a47161264da83c21ed31553fde4610904"><div class="ttname"><a href="dca__lbr_8c.html#a47161264da83c21ed31553fde4610904">decode_part_stereo</a></div><div class="ttdeci">static void decode_part_stereo(DCALbrDecoder *s, int ch1, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01596">dca_lbr.c:1596</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595ea0975bc2d8f57596842a5e13b5d66f9d9"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595ea0975bc2d8f57596842a5e13b5d66f9d9">LBR_FLAG_BAND_LIMIT_1_4</a></div><div class="ttdeci">@ LBR_FLAG_BAND_LIMIT_1_4</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00039">dca_lbr.c:39</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca2416fcdf0060226003d9ac151f2cb58b"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca2416fcdf0060226003d9ac151f2cb58b">LBR_CHUNK_TONAL_GRP_4</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_GRP_4</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00061">dca_lbr.c:61</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_a1ee4a05b54419bfadd66ee351d05812e"><div class="ttname"><a href="vorbis__enc__data_8h.html#a1ee4a05b54419bfadd66ee351d05812e">delta</a></div><div class="ttdeci">float delta</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00457">vorbis_enc_data.h:457</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a09f9d0cee65cb17a34e6e6d313c44b76"><div class="ttname"><a href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default value</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cadd537b5315a8905a9b7184b8e2ab083f"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cadd537b5315a8905a9b7184b8e2ab083f">LBR_CHUNK_NULL</a></div><div class="ttdeci">@ LBR_CHUNK_NULL</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00048">dca_lbr.c:48</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a7c57836b2f68f92427a3e10efb968162"><div class="ttname"><a href="dca__lbr_8c.html#a7c57836b2f68f92427a3e10efb968162">ff_dca_lbr_init</a></div><div class="ttdeci">av_cold int ff_dca_lbr_init(DCALbrDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01818">dca_lbr.c:1818</a></div></div>
<div class="ttc" id="astruct_d_c_a_lbr_tone_html"><div class="ttname"><a href="struct_d_c_a_lbr_tone.html">DCALbrTone</a></div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00049">dca_lbr.h:49</a></div></div>
<div class="ttc" id="agroup__channel__masks_html_ga947b60ab70c428ebb07c8b9c87023b39"><div class="ttname"><a href="group__channel__masks.html#ga947b60ab70c428ebb07c8b9c87023b39">AV_CH_SIDE_RIGHT</a></div><div class="ttdeci">#define AV_CH_SIDE_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00059">channel_layout.h:59</a></div></div>
<div class="ttc" id="adcadata_8c_html_a472bd18bfac6f3f66153f926863add2b"><div class="ttname"><a href="dcadata_8c.html#a472bd18bfac6f3f66153f926863add2b">ff_dca_freq_to_sb</a></div><div class="ttdeci">const uint8_t ff_dca_freq_to_sb[32]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08748">dcadata.c:8748</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca3d0d08e1fc435b9596285c09fb7d70a6"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3d0d08e1fc435b9596285c09fb7d70a6">LBR_CHUNK_RES_GRID_LR_LAST</a></div><div class="ttdeci">@ LBR_CHUNK_RES_GRID_LR_LAST</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00070">dca_lbr.c:70</a></div></div>
<div class="ttc" id="astruct_d_c_a_lbr_tone_html_ab760167cec4f5d153380b0c512446be0"><div class="ttname"><a href="struct_d_c_a_lbr_tone.html#ab760167cec4f5d153380b0c512446be0">DCALbrTone::f_delt</a></div><div class="ttdeci">uint8_t f_delt</div><div class="ttdoc">Difference between original and center frequency.</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00051">dca_lbr.h:51</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_aefc5e716268f980f8fba141508ec300c"><div class="ttname"><a href="dca__lbr_8c.html#aefc5e716268f980f8fba141508ec300c">parse_scale_factors</a></div><div class="ttdeci">static int parse_scale_factors(DCALbrDecoder *s, uint8_t *scf)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00425">dca_lbr.c:425</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_abd0d8d31a8de0b21903d6cf2db677582"><div class="ttname"><a href="dca__lbr_8c.html#abd0d8d31a8de0b21903d6cf2db677582">channel_reorder_nolfe</a></div><div class="ttdeci">static const int8_t channel_reorder_nolfe[7][5]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00085">dca_lbr.c:85</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html_a7b672542ef6a33ca4be2d1d57ccdfe79"><div class="ttname"><a href="struct_d_c_a_exss_asset.html#a7b672542ef6a33ca4be2d1d57ccdfe79">DCAExssAsset::lbr_size</a></div><div class="ttdeci">int lbr_size</div><div class="ttdoc">Size of LBR component in extension substream.</div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00060">dca_exss.h:60</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a0c073dc60f27c8743e3da842f6c70d03"><div class="ttname"><a href="dca__lbr_8c.html#a0c073dc60f27c8743e3da842f6c70d03">predict</a></div><div class="ttdeci">static void predict(float *samples, const float *coeff, int nsamples)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01477">dca_lbr.c:1477</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609caa99282b72ff641bdfa1b90ec64bf8307"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609caa99282b72ff641bdfa1b90ec64bf8307">LBR_CHUNK_TONAL_GRP_2</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_GRP_2</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00059">dca_lbr.c:59</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a663ff1d037201509947c847012ad8e49"><div class="ttname"><a href="dca__lbr_8c.html#a663ff1d037201509947c847012ad8e49">parse_high_res_grid</a></div><div class="ttdeci">static int parse_high_res_grid(DCALbrDecoder *s, LBRChunk *chunk, int ch1, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00808">dca_lbr.c:808</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_abe71124250078a949b3ba4c3cefa47da"><div class="ttname"><a href="dca__lbr_8c.html#abe71124250078a949b3ba4c3cefa47da">ff_dca_lbr_flush</a></div><div class="ttdeci">av_cold void ff_dca_lbr_flush(DCALbrDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01794">dca_lbr.c:1794</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595eacacc6db2a96dbf161c18f5f03d4082cb"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacacc6db2a96dbf161c18f5f03d4082cb">LBR_FLAG_24_BIT</a></div><div class="ttdeci">@ LBR_FLAG_24_BIT</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00034">dca_lbr.c:34</a></div></div>
<div class="ttc" id="adca__syncwords_8h_html_a68ad289164475682d85f3dc29a738fa6"><div class="ttname"><a href="dca__syncwords_8h.html#a68ad289164475682d85f3dc29a738fa6">DCA_SYNCWORD_LBR</a></div><div class="ttdeci">#define DCA_SYNCWORD_LBR</div><div class="ttdef"><b>Definition:</b> <a href="dca__syncwords_8h_source.html#l00030">dca_syncwords.h:30</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_aac49fc060b2b5afc99c66b8198590e27"><div class="ttname"><a href="dca__lbr_8c.html#aac49fc060b2b5afc99c66b8198590e27">ff_dca_lbr_close</a></div><div class="ttdeci">av_cold void ff_dca_lbr_close(DCALbrDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01829">dca_lbr.c:1829</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a953ab0d7330823f90f1aff55a3d03eb8"><div class="ttname"><a href="dca__lbr_8c.html#a953ab0d7330823f90f1aff55a3d03eb8">parse_ts2_chunk</a></div><div class="ttdeci">static int parse_ts2_chunk(DCALbrDecoder *s, LBRChunk *chunk, int ch1, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00930">dca_lbr.c:930</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ga625aec7f2285dc35e3ed801e91889564"><div class="ttname"><a href="group__channel__mask__c.html#ga625aec7f2285dc35e3ed801e91889564">AV_CH_LAYOUT_SURROUND</a></div><div class="ttdeci">#define AV_CH_LAYOUT_SURROUND</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00094">channel_layout.h:94</a></div></div>
<div class="ttc" id="adca__lbr_8h_html_ac638009bee6b3098a0bfd564e6e39c99"><div class="ttname"><a href="dca__lbr_8h.html#ac638009bee6b3098a0bfd564e6e39c99">DCA_LBR_TONES</a></div><div class="ttdeci">#define DCA_LBR_TONES</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00039">dca_lbr.h:39</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cac34d2216d718c9473259364063ab7191"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cac34d2216d718c9473259364063ab7191">LBR_CHUNK_RESERVED_1</a></div><div class="ttdeci">@ LBR_CHUNK_RESERVED_1</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00054">dca_lbr.c:54</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a16258b3283a3d34c893dd9a39e29e369"><div class="ttname"><a href="avcodec_8h.html#a16258b3283a3d34c893dd9a39e29e369">AV_EF_CRCCHECK</a></div><div class="ttdeci">#define AV_EF_CRCCHECK</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01663">avcodec.h:1663</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a2254df7819979c76a6c50d0bc5da0f55"><div class="ttname"><a href="dca__lbr_8c.html#a2254df7819979c76a6c50d0bc5da0f55">parse_decoder_init</a></div><div class="ttdeci">static int parse_decoder_init(DCALbrDecoder *s, GetByteContext *gb)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01015">dca_lbr.c:1015</a></div></div>
<div class="ttc" id="astruct_v_l_c_html_ac36d06bc414af86fbe35c9efb6170fc5"><div class="ttname"><a href="struct_v_l_c.html#ac36d06bc414af86fbe35c9efb6170fc5">VLC::bits</a></div><div class="ttdeci">int bits</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00027">vlc.h:27</a></div></div>
<div class="ttc" id="atests_2adler32_8c_html_aa4a4ec4e17257f17b6efac777b468700"><div class="ttname"><a href="tests_2adler32_8c.html#aa4a4ec4e17257f17b6efac777b468700">checksum</a></div><div class="ttdeci">static volatile int checksum</div><div class="ttdef"><b>Definition:</b> <a href="tests_2adler32_8c_source.html#l00030">adler32.c:30</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a210f1ca693b06240de55784876fa3052"><div class="ttname"><a href="dca__lbr_8c.html#a210f1ca693b06240de55784876fa3052">channel_reorder_lfe</a></div><div class="ttdeci">static const int8_t channel_reorder_lfe[7][5]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00095">dca_lbr.c:95</a></div></div>
<div class="ttc" id="asnow_8txt_html_a7c18a837a38b8c96472a1d0abe1711d1"><div class="ttname"><a href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a></div><div class="ttdeci">Tag MUST be and&lt; 10hcoeff half pel interpolation filter coefficients, hcoeff[0] are the 2 middle coefficients[1] are the next outer ones and so on, resulting in a filter like:...eff[2], hcoeff[1], hcoeff[0], hcoeff[0], hcoeff[1], hcoeff[2] ... the sign of the coefficients is not explicitly stored but alternates after each coeff and coeff[0] is positive, so ...,+,-,+,-,+,+,-,+,-,+,... hcoeff[0] is not explicitly stored but found by subtracting the sum of all stored coefficients with signs from 32 hcoeff[0]=32 - hcoeff[1] - hcoeff[2] - ... a good choice for hcoeff and htaps is htaps=6 hcoeff={40,-10, 2} an alternative which requires more computations at both encoder and decoder side and may or may not be better is htaps=8 hcoeff={42,-14, 6,-2}ref_frames minimum of the number of available reference frames and max_ref_frames for example the first frame after a key frame always has ref_frames=1spatial_decomposition_type wavelet type 0 is a 9/7 symmetric compact integer wavelet 1 is a 5/3 symmetric compact integer wavelet others are reserved stored as delta from last, last is reset to 0 if always_reset||keyframeqlog quality(logarithmic quantizer scale) stored as delta from last, last is reset to 0 if always_reset||keyframemv_scale stored as delta from last, last is reset to 0 if always_reset||keyframe FIXME check that everything works fine if this changes between framesqbias dequantization bias stored as delta from last, last is reset to 0 if always_reset||keyframeblock_max_depth maximum depth of the block tree stored as delta from last, last is reset to 0 if always_reset||keyframequant_table quantization tableHighlevel bitstream structure:==============================--------------------------------------------|Header|--------------------------------------------|------------------------------------|||Block0||||split?||||yes no||||......... intra?||||:Block01 :yes no||||:Block02 :....... ..........||||:Block03 ::y DC ::ref index:||||:Block04 ::cb DC ::motion x :||||......... :cr DC ::motion y :||||....... ..........|||------------------------------------||------------------------------------|||Block1|||...|--------------------------------------------|------------ ------------ ------------|||Y subbands||Cb subbands||Cr subbands||||--- ---||--- ---||--- ---|||||LL0||HL0||||LL0||HL0||||LL0||HL0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||LH0||HH0||||LH0||HH0||||LH0||HH0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HL1||LH1||||HL1||LH1||||HL1||LH1|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HH1||HL2||||HH1||HL2||||HH1||HL2|||||...||...||...|||------------ ------------ ------------|--------------------------------------------Decoding process:=================------------|||Subbands|------------||||------------|Intra DC||||LL0 subband prediction ------------|\ Dequantization ------------------- \||Reference frames|\ IDWT|------- -------|Motion \|||Frame 0||Frame 1||Compensation . OBMC v -------|------- -------|--------------. \------&gt; Frame n output Frame Frame&lt;----------------------------------/|...|------------------- Range Coder:============Binary Range Coder:------------------- The implemented range coder is an adapted version based upon &quot;Range encoding: an algorithm for removing redundancy from a digitised message.&quot; by G. N. N. Martin. The symbols encoded by the Snow range coder are bits(0|1). The associated probabilities are not fix but change depending on the symbol mix seen so far. bit seen|new state ---------+----------------------------------------------- 0|256 - state_transition_table[256 - old_state];1|state_transition_table[old_state];state_transition_table={ 0, 0, 0, 0, 0, 0, 0, 0, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 190, 191, 192, 194, 194, 195, 196, 197, 198, 199, 200, 201, 202, 202, 204, 205, 206, 207, 208, 209, 209, 210, 211, 212, 213, 215, 215, 216, 217, 218, 219, 220, 220, 222, 223, 224, 225, 226, 227, 227, 229, 229, 230, 231, 232, 234, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 248, 0, 0, 0, 0, 0, 0, 0};FIXME Range Coding of integers:------------------------- FIXME Neighboring Blocks:===================left and top are set to the respective blocks unless they are outside of the image in which case they are set to the Null block top-left is set to the top left block unless it is outside of the image in which case it is set to the left block if this block has no larger parent block or it is at the left side of its parent block and the top right block is not outside of the image then the top right block is used for top-right else the top-left block is used Null block y, cb, cr are 128 level, ref, mx and my are 0 Motion Vector Prediction:=========================1. the motion vectors of all the neighboring blocks are scaled to compensate for the difference of reference frames scaled_mv=(mv *(256 *(current_reference+1)/(mv.reference+1))+128)&gt; the median of the scaled left</div><div class="ttdef"><b>Definition:</b> <a href="snow_8txt_source.html#l00386">snow.txt:386</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a9fa3278d46385188c4add762005c336c"><div class="ttname"><a href="dca__lbr_8c.html#a9fa3278d46385188c4add762005c336c">parse_grid_3</a></div><div class="ttdeci">static void parse_grid_3(DCALbrDecoder *s, int ch1, int ch2, int sb, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00603">dca_lbr.c:603</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a521619a833879b6f0c41fb1f05370ad9"><div class="ttname"><a href="dca__lbr_8c.html#a521619a833879b6f0c41fb1f05370ad9">channel_counts</a></div><div class="ttdeci">static const uint8_t channel_counts[7]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00109">dca_lbr.c:109</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a01979c4a51fbb1a4311178e3e30cc1a4"><div class="ttname"><a href="dca__lbr_8c.html#a01979c4a51fbb1a4311178e3e30cc1a4">parse_grid_1_sec_ch</a></div><div class="ttdeci">static int parse_grid_1_sec_ch(DCALbrDecoder *s, int ch2)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00577">dca_lbr.c:577</a></div></div>
<div class="ttc" id="achannel__layout_8h_html"><div class="ttname"><a href="channel__layout_8h.html">channel_layout.h</a></div></div>
<div class="ttc" id="adca_8h_html_ac95cb70c448df903fdef4f128f73adf8a24ccbc593a96b8b51fe1aca2af0bf267"><div class="ttname"><a href="dca_8h.html#ac95cb70c448df903fdef4f128f73adf8a24ccbc593a96b8b51fe1aca2af0bf267">DCA_SPEAKER_PAIR_LR</a></div><div class="ttdeci">@ DCA_SPEAKER_PAIR_LR</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00139">dca.h:139</a></div></div>
<div class="ttc" id="adca_8c_html_a97b727d01f2953762f8b11435ca7a9c4"><div class="ttname"><a href="dca_8c.html#a97b727d01f2953762f8b11435ca7a9c4">ff_dca_sampling_freqs</a></div><div class="ttdeci">const uint32_t ff_dca_sampling_freqs[16]</div><div class="ttdef"><b>Definition:</b> <a href="dca_8c_source.html#l00041">dca.c:41</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a4be1e4520c11e0b174fe812217112ab4"><div class="ttname"><a href="dca__lbr_8c.html#a4be1e4520c11e0b174fe812217112ab4">parse_tonal_chunk</a></div><div class="ttdeci">static int parse_tonal_chunk(DCALbrDecoder *s, LBRChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00362">dca_lbr.c:362</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca0fd1da6af83e5e7bcfafaefe3dbdb291"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca0fd1da6af83e5e7bcfafaefe3dbdb291">LBR_CHUNK_ECS</a></div><div class="ttdeci">@ LBR_CHUNK_ECS</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00053">dca_lbr.c:53</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca55e0a7f2b2199fff5f6718ca0e59b4c5"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca55e0a7f2b2199fff5f6718ca0e59b4c5">LBR_CHUNK_FRAME</a></div><div class="ttdeci">@ LBR_CHUNK_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00050">dca_lbr.c:50</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ad283c679febe22c5a4d36e3764daf32b"><div class="ttname"><a href="filter__design_8txt.html#ad283c679febe22c5a4d36e3764daf32b">values</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return values</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00262">filter_design.txt:263</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_ac53f7e33bdbd6ea3ec96ee0f1292ee84"><div class="ttname"><a href="filter__design_8txt.html#ac53f7e33bdbd6ea3ec96ee0f1292ee84">samples</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio samples</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00008">filter_design.txt:8</a></div></div>
<div class="ttc" id="astruct_d_c_a_context_html_ae8d9cd8f6a1553541ee3179b526e348e"><div class="ttname"><a href="struct_d_c_a_context.html#ae8d9cd8f6a1553541ee3179b526e348e">DCAContext::request_channel_layout</a></div><div class="ttdeci">int request_channel_layout</div><div class="ttdoc">Converted from avctx.request_channel_layout.</div><div class="ttdef"><b>Definition:</b> <a href="dcadec_8h_source.html#l00064">dcadec.h:64</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a52d62f67a84db68c57f0514e1fc330b3"><div class="ttname"><a href="dca__lbr_8c.html#a52d62f67a84db68c57f0514e1fc330b3">ff_dca_lbr_parse</a></div><div class="ttdeci">int ff_dca_lbr_parse(DCALbrDecoder *s, uint8_t *data, DCAExssAsset *asset)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l01167">dca_lbr.c:1167</a></div></div>
<div class="ttc" id="adcadata_8c_html_a6d65603750d0ee58c45366742753aab9"><div class="ttname"><a href="dcadata_8c.html#a6d65603750d0ee58c45366742753aab9">ff_dca_grid_1_to_scf</a></div><div class="ttdeci">const uint8_t ff_dca_grid_1_to_scf[11]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08757">dcadata.c:8757</a></div></div>
<div class="ttc" id="astruct_l_b_r_chunk_html_a868542b8a8f8dbfe4aaafbb2c0c09981"><div class="ttname"><a href="struct_l_b_r_chunk.html#a868542b8a8f8dbfe4aaafbb2c0c09981">LBRChunk::len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00081">dca_lbr.c:81</a></div></div>
<div class="ttc" id="adcahuff_8c_html_ae3e874b85281d5db229a1e17783bd134"><div class="ttname"><a href="dcahuff_8c.html#ae3e874b85281d5db229a1e17783bd134">ff_dca_vlc_avg_g3</a></div><div class="ttdeci">VLC ff_dca_vlc_avg_g3</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01257">dcahuff.c:1257</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca559813c8c88f33081bcd49576a423d67"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca559813c8c88f33081bcd49576a423d67">LBR_CHUNK_TONAL_SCF_GRP_2</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_SCF_GRP_2</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00065">dca_lbr.c:65</a></div></div>
<div class="ttc" id="asonic_8c_html_aee201839e95f7edeff51ad9c8e072bda"><div class="ttname"><a href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a></div><div class="ttdeci">static int shift(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="sonic_8c_source.html#l00082">sonic.c:82</a></div></div>
<div class="ttc" id="adcadata_8c_html_aa70dcefeb293afdd9f8ba240860fc85f"><div class="ttname"><a href="dcadata_8c.html#aa70dcefeb293afdd9f8ba240860fc85f">ff_dca_long_window</a></div><div class="ttdeci">const float ff_dca_long_window[128]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l09061">dcadata.c:9061</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a10de3eae439940d0ae3790cc60510423"><div class="ttname"><a href="libavcodec_2internal_8h.html#a10de3eae439940d0ae3790cc60510423">ff_side_data_update_matrix_encoding</a></div><div class="ttdeci">int ff_side_data_update_matrix_encoding(AVFrame *frame, enum AVMatrixEncoding matrix_encoding)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00136">utils.c:136</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac6d5cfe0999e7ecb272ef6a49b979ff8"><div class="ttname"><a href="dca__lbr_8c.html#ac6d5cfe0999e7ecb272ef6a49b979ff8">convert_lpc</a></div><div class="ttdeci">static void convert_lpc(float *coeff, const int *codes)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00771">dca_lbr.c:771</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e"><div class="ttname"><a href="dca__lbr_8c.html#a83bba9c2f787c3c1681e7b20e663595eacf7c94adbdcba9c4db0f88dc5c20742e">LBR_FLAG_LFE_PRESENT</a></div><div class="ttdeci">@ LBR_FLAG_LFE_PRESENT</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00035">dca_lbr.c:35</a></div></div>
<div class="ttc" id="adca_8c_html_a70614eb1dfa07f0346053d7759cb2261"><div class="ttname"><a href="dca_8c.html#a70614eb1dfa07f0346053d7759cb2261">ff_dca_freq_ranges</a></div><div class="ttdeci">const uint8_t ff_dca_freq_ranges[16]</div><div class="ttdef"><b>Definition:</b> <a href="dca_8c_source.html#l00046">dca.c:46</a></div></div>
<div class="ttc" id="aget__bits_8h_html_af0912ada123614fa9e51ed638e867645"><div class="ttname"><a href="get__bits_8h.html#af0912ada123614fa9e51ed638e867645">get_bitsz</a></div><div class="ttdeci">static av_always_inline int get_bitsz(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00415">get_bits.h:415</a></div></div>
<div class="ttc" id="adcadata_8c_html_a7add86e8d1ce40835854c045d2bed0ff"><div class="ttname"><a href="dcadata_8c.html#a7add86e8d1ce40835854c045d2bed0ff">ff_dca_fst_amp</a></div><div class="ttdeci">const uint16_t ff_dca_fst_amp[44]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08734">dcadata.c:8734</a></div></div>
<div class="ttc" id="adcahuff_8c_html_aff893099b0df8b448078d63189141a5f"><div class="ttname"><a href="dcahuff_8c.html#aff893099b0df8b448078d63189141a5f">ff_dca_vlc_rsd_amp</a></div><div class="ttdeci">VLC ff_dca_vlc_rsd_amp</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01256">dcahuff.c:1256</a></div></div>
<div class="ttc" id="astruct_get_byte_context_html_ad463ad030bac813d59b33a1f5d0956df"><div class="ttname"><a href="struct_get_byte_context.html#ad463ad030bac813d59b33a1f5d0956df">GetByteContext::buffer</a></div><div class="ttdeci">const uint8_t * buffer</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00034">bytestream.h:34</a></div></div>
<div class="ttc" id="avf__palettegen_8c_html_a0fa5abf62b01f8a592bca729cb14390b"><div class="ttname"><a href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a></div><div class="ttdeci">static av_always_inline int diff(const uint32_t a, const uint32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="vf__palettegen_8c_source.html#l00136">vf_palettegen.c:136</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a4d4d9f0987a80f530e00da7092c28bed"><div class="ttname"><a href="dca__lbr_8c.html#a4d4d9f0987a80f530e00da7092c28bed">parse_tonal</a></div><div class="ttdeci">static int parse_tonal(DCALbrDecoder *s, int group)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00280">dca_lbr.c:280</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a3e70a65f622cd9cd1b7ea3d2a19bca5d"><div class="ttname"><a href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a></div><div class="ttdeci">static const uint16_t channel_layouts[7]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00113">dca_lbr.c:113</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="adca__lbr_8h_html_aa5a65f967f391107a20bbcc00036d106"><div class="ttname"><a href="dca__lbr_8h.html#aa5a65f967f391107a20bbcc00036d106">DCA_LBR_CHANNELS</a></div><div class="ttdeci">#define DCA_LBR_CHANNELS</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00036">dca_lbr.h:36</a></div></div>
<div class="ttc" id="alibavutil_2float__dsp_8c_html_abf4186be59dc9de8cda94ee7beacaf67"><div class="ttname"><a href="libavutil_2float__dsp_8c.html#abf4186be59dc9de8cda94ee7beacaf67">avpriv_float_dsp_alloc</a></div><div class="ttdeci">av_cold AVFloatDSPContext * avpriv_float_dsp_alloc(int bit_exact)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2float__dsp_8c_source.html#l00135">float_dsp.c:135</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="abytestream_8h_html_aade8884858d9239b8561013a21898dc0"><div class="ttname"><a href="bytestream_8h.html#aade8884858d9239b8561013a21898dc0">bytestream2_init</a></div><div class="ttdeci">static av_always_inline void bytestream2_init(GetByteContext *g, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00137">bytestream.h:137</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca3c6e04b51694420b09305a73a699859b"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca3c6e04b51694420b09305a73a699859b">LBR_CHUNK_RES_TS_1_LAST</a></div><div class="ttdeci">@ LBR_CHUNK_RES_TS_1_LAST</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00074">dca_lbr.c:74</a></div></div>
<div class="ttc" id="adcahuff_8c_html_ace9652c601e401ce950b0234eca2ca63"><div class="ttname"><a href="dcahuff_8c.html#ace9652c601e401ce950b0234eca2ca63">ff_dca_vlc_dph</a></div><div class="ttdeci">VLC ff_dca_vlc_dph</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01253">dcahuff.c:1253</a></div></div>
<div class="ttc" id="avf__owdenoise_8c_html_a35c8a1e85abdf2de13b1be2fe51f293b"><div class="ttname"><a href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a></div><div class="ttdeci">static const double coeff[2][5]</div><div class="ttdef"><b>Definition:</b> <a href="vf__owdenoise_8c_source.html#l00072">vf_owdenoise.c:72</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="adcadata_8c_html_afe34b44036fa7b56d8f166bca8dcc64e"><div class="ttname"><a href="dcadata_8c.html#afe34b44036fa7b56d8f166bca8dcc64e">ff_dca_ph0_shift</a></div><div class="ttdeci">const int8_t ff_dca_ph0_shift[8]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08753">dcadata.c:8753</a></div></div>
<div class="ttc" id="adcahuff_8c_html_a6d50af5c1202efb106d38c1c594cb99f"><div class="ttname"><a href="dcahuff_8c.html#a6d50af5c1202efb106d38c1c594cb99f">ff_dca_vlc_rsd</a></div><div class="ttdeci">VLC ff_dca_vlc_rsd</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01261">dcahuff.c:1261</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1187</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a383804ed89972f458d08d83cbc3029e0"><div class="ttname"><a href="libavutil_2internal_8h.html#a383804ed89972f458d08d83cbc3029e0">LOCAL_ALIGNED_32</a></div><div class="ttdeci">#define LOCAL_ALIGNED_32(t, v,...)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00137">internal.h:137</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cad6dc6d960db24fb09b81f061f246d553"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad6dc6d960db24fb09b81f061f246d553">LBR_CHUNK_TONAL_GRP_1</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_GRP_1</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00058">dca_lbr.c:58</a></div></div>
<div class="ttc" id="adca__lbr_8h_html_acae66a7fe1f4eb20cdc8a50beb71c3d9"><div class="ttname"><a href="dca__lbr_8h.html#acae66a7fe1f4eb20cdc8a50beb71c3d9">DCA_LBR_TIME_HISTORY</a></div><div class="ttdeci">#define DCA_LBR_TIME_HISTORY</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00042">dca_lbr.h:42</a></div></div>
<div class="ttc" id="adcahuff_8c_html_ada312c1f7a7a5ad77382b4c363bcfc83"><div class="ttname"><a href="dcahuff_8c.html#ada312c1f7a7a5ad77382b4c363bcfc83">ff_dca_vlc_damp</a></div><div class="ttdeci">VLC ff_dca_vlc_damp</div><div class="ttdef"><b>Definition:</b> <a href="dcahuff_8c_source.html#l01252">dcahuff.c:1252</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609ca75e61f6a7fe8f8f46e5ed0b3947e6d5c"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609ca75e61f6a7fe8f8f46e5ed0b3947e6d5c">LBR_CHUNK_RES_GRID_LR</a></div><div class="ttdeci">@ LBR_CHUNK_RES_GRID_LR</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00069">dca_lbr.c:69</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a8ae9ca81511a01315194b1e7981a582d"><div class="ttname"><a href="dca__lbr_8c.html#a8ae9ca81511a01315194b1e7981a582d">cos_tab</a></div><div class="ttdeci">static float cos_tab[256]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00123">dca_lbr.c:123</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cad25160ef1d25f512fc2ea7ade7e72c93"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cad25160ef1d25f512fc2ea7ade7e72c93">LBR_CHUNK_TONAL_SCF_GRP_5</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_SCF_GRP_5</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00068">dca_lbr.c:68</a></div></div>
<div class="ttc" id="adca__lbr_8h_html_abd43682309902dc667889c3196cfd3cd"><div class="ttname"><a href="dca__lbr_8h.html#abd43682309902dc667889c3196cfd3cd">DCA_LBR_TIME_SAMPLES</a></div><div class="ttdeci">#define DCA_LBR_TIME_SAMPLES</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00041">dca_lbr.h:41</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cab941ad757fa2e384856b8fc74f8facca"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cab941ad757fa2e384856b8fc74f8facca">LBR_CHUNK_TONAL_SCF_GRP_1</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_SCF_GRP_1</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00064">dca_lbr.c:64</a></div></div>
<div class="ttc" id="agroup__channel__mask__c_html_ga5c25ee8b976d0cb15e0b6d2cf923d19d"><div class="ttname"><a href="group__channel__mask__c.html#ga5c25ee8b976d0cb15e0b6d2cf923d19d">AV_CH_LAYOUT_2_2</a></div><div class="ttdeci">#define AV_CH_LAYOUT_2_2</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00098">channel_layout.h:98</a></div></div>
<div class="ttc" id="astruct_d_c_a_lbr_tone_html_aaacf12fe1551e5b27333d0e1b64c6f04"><div class="ttname"><a href="struct_d_c_a_lbr_tone.html#aaacf12fe1551e5b27333d0e1b64c6f04">DCALbrTone::phs</a></div><div class="ttdeci">uint8_t phs[DCA_LBR_CHANNELS]</div><div class="ttdoc">Per-channel phase.</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00055">dca_lbr.h:55</a></div></div>
<div class="ttc" id="adca_8h_html_aa3b0fd68953f37e98f622dc6cd5789e2"><div class="ttname"><a href="dca_8h.html#aa3b0fd68953f37e98f622dc6cd5789e2">ff_dca_count_chs_for_mask</a></div><div class="ttdeci">static int ff_dca_count_chs_for_mask(unsigned int mask)</div><div class="ttdef"><b>Definition:</b> <a href="dca_8h_source.html#l00159">dca.h:159</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aeb08c575a79eb84fc4155dda88f46c06"><div class="ttname"><a href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">AVCodecContext::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01237">avcodec.h:1237</a></div></div>
<div class="ttc" id="adca__lbr_8h_html_a156244a32ac3ade0898113ae153d3f33"><div class="ttname"><a href="dca__lbr_8h.html#a156244a32ac3ade0898113ae153d3f33">DCA_LBR_SUBBANDS</a></div><div class="ttdeci">#define DCA_LBR_SUBBANDS</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8h_source.html#l00038">dca_lbr.h:38</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_ac86a3536946ffe1df033dc189b2f609cafdcd79e83600306827dcec47d6ae103e"><div class="ttname"><a href="dca__lbr_8c.html#ac86a3536946ffe1df033dc189b2f609cafdcd79e83600306827dcec47d6ae103e">LBR_CHUNK_TONAL_SCF_GRP_4</a></div><div class="ttdeci">@ LBR_CHUNK_TONAL_SCF_GRP_4</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00067">dca_lbr.c:67</a></div></div>
<div class="ttc" id="adcadata_8c_html_af4d40967ef22a11e9e3e47bdeda494be"><div class="ttname"><a href="dcadata_8c.html#af4d40967ef22a11e9e3e47bdeda494be">ff_dca_rsd_pack_5_in_8</a></div><div class="ttdeci">const uint16_t ff_dca_rsd_pack_5_in_8[256]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08856">dcadata.c:8856</a></div></div>
<div class="ttc" id="aavcodec_8h_html_ada7497a9ccac9ff6a85290a55d9790fe"><div class="ttname"><a href="avcodec_8h.html#ada7497a9ccac9ff6a85290a55d9790fe">FF_PROFILE_DTS_EXPRESS</a></div><div class="ttdeci">#define FF_PROFILE_DTS_EXPRESS</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01886">avcodec.h:1886</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8ff0b000c463361e234af48d03aadfc0"><div class="ttname"><a href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">AVCodecContext::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01186">avcodec.h:1186</a></div></div>
<div class="ttc" id="agroup__channel__masks_html_ga02e55f35249dfa57a2e4edfd3acfec4f"><div class="ttname"><a href="group__channel__masks.html#ga02e55f35249dfa57a2e4edfd3acfec4f">AV_CH_SIDE_LEFT</a></div><div class="ttdeci">#define AV_CH_SIDE_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="channel__layout_8h_source.html#l00058">channel_layout.h:58</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_aae3c896a53fe0c651e686d2b686a03d1"><div class="ttname"><a href="dca__lbr_8c.html#aae3c896a53fe0c651e686d2b686a03d1">parse_lfe_16</a></div><div class="ttdeci">static int parse_lfe_16(DCALbrDecoder *s)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00197">dca_lbr.c:197</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_add759ce82a4eba261dfedf979dc74f0e"><div class="ttname"><a href="dca__lbr_8c.html#add759ce82a4eba261dfedf979dc74f0e">parse_grid_2</a></div><div class="ttdeci">static int parse_grid_2(DCALbrDecoder *s, int ch1, int ch2, int start_sb, int end_sb, int flag)</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00870">dca_lbr.c:870</a></div></div>
<div class="ttc" id="adcadata_8c_html_a8b4f6f4f59c6da27ccaf9f4e11182e78"><div class="ttname"><a href="dcadata_8c.html#a8b4f6f4f59c6da27ccaf9f4e11182e78">ff_dca_st_coeff</a></div><div class="ttdeci">const float ff_dca_st_coeff[34]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l09049">dcadata.c:9049</a></div></div>
<div class="ttc" id="astruct_d_c_a_exss_asset_html"><div class="ttname"><a href="struct_d_c_a_exss_asset.html">DCAExssAsset</a></div><div class="ttdef"><b>Definition:</b> <a href="dca__exss_8h_source.html#l00029">dca_exss.h:29</a></div></div>
<div class="ttc" id="adcadata_8c_html_a10893fa5a0e0205c068064517f7d0692"><div class="ttname"><a href="dcadata_8c.html#a10893fa5a0e0205c068064517f7d0692">ff_dca_lfe_delta_index_24</a></div><div class="ttdeci">const int8_t ff_dca_lfe_delta_index_24[32]</div><div class="ttdef"><b>Definition:</b> <a href="dcadata_8c_source.html#l08851">dcadata.c:8851</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
