<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/doc/examples/demuxing_decoding.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_855d38c435ed3f43d88981ad1fb0a6b1.html">doc</a></li><li class="navelem"><a class="el" href="dir_339a94a71a5f9aa7eae8d09231c938d2.html">examples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">demuxing_decoding.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="demuxing__decoding_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2012 Stefano Sabatini</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Permission is hereby granted, free of charge, to any person obtaining a copy</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * of this software and associated documentation files (the &quot;Software&quot;), to deal</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * in the Software without restriction, including without limitation the rights</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * copies of the Software, and to permit persons to whom the Software is</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * furnished to do so, subject to the following conditions:</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * The above copyright notice and this permission notice shall be included in</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * all copies or substantial portions of the Software.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * THE SOFTWARE.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="imgutils_8h.html">libavutil/imgutils.h</a>&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="samplefmt_8h.html">libavutil/samplefmt.h</a>&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="timestamp_8h.html">libavutil/timestamp.h</a>&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="avformat_8h.html">libavformat/avformat.h</a>&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">   37</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">   38</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">   39</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a>, <a class="code" href="demuxing__decoding_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">   41</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_a_v_stream.html">AVStream</a> *<a class="code" href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">video_stream</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="demuxing__decoding_8c.html#ab269038fe8cd6f8fa4ccec9eaf939345">audio_stream</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">   42</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a780830fc3afc836feb64d80eef4185b5">   43</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="demuxing__decoding_8c.html#a780830fc3afc836feb64d80eef4185b5">video_dst_filename</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a9f79f9440c018d4eb8448d849f35f467">   44</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="demuxing__decoding_8c.html#a9f79f9440c018d4eb8448d849f35f467">audio_dst_filename</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#ac3ad9da7180c9a9baa85e968eb6937e3">   45</a></span>&#160;<span class="keyword">static</span> FILE *<a class="code" href="demuxing__decoding_8c.html#ac3ad9da7180c9a9baa85e968eb6937e3">video_dst_file</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#af0d7c67df6575ed6b3b7de4d843ed7a6">   46</a></span>&#160;<span class="keyword">static</span> FILE *<a class="code" href="demuxing__decoding_8c.html#af0d7c67df6575ed6b3b7de4d843ed7a6">audio_dst_file</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a0b39e94f88658412ecadb5e2116baccc">   48</a></span>&#160;<span class="keyword">static</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="demuxing__decoding_8c.html#a0b39e94f88658412ecadb5e2116baccc">video_dst_data</a>[4] = {<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>};</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a8dbcd4dc85b9345bde18395026d0ffe4">   49</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span>      <a class="code" href="demuxing__decoding_8c.html#a8dbcd4dc85b9345bde18395026d0ffe4">video_dst_linesize</a>[4];</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a849609cb135f2d344ff03e99610b43df">   50</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a849609cb135f2d344ff03e99610b43df">video_dst_bufsize</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#af35f69f407b98b5244f837e25813bc11">   52</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#af35f69f407b98b5244f837e25813bc11">video_stream_idx</a> = -1, <a class="code" href="demuxing__decoding_8c.html#a16cd83c72f483b9fa2844c5516452798">audio_stream_idx</a> = -1;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">   53</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">   54</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#ac9f496a4d3575928c5b94568bbedd753">   55</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#ac9f496a4d3575928c5b94568bbedd753">video_frame_count</a> = 0;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a48eccd48ea840bc45254f44995320463">   56</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a48eccd48ea840bc45254f44995320463">audio_frame_count</a> = 0;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a62690f6eca6ce700ad0d17121eb50a57">   58</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a62690f6eca6ce700ad0d17121eb50a57">output_video_frame</a>(<a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a> != <a class="code" href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a> || <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a> != <a class="code" href="demuxing__decoding_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a> ||</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a> != <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment">/* To handle this change, one could call av_image_alloc again and</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">         * decode the following frames into another rawvideo file. */</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Error: Width, height and pixel format have to be &quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                <span class="stringliteral">&quot;constant in a rawvideo file, but the width, height or &quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <span class="stringliteral">&quot;pixel format of the input video changed:\n&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <span class="stringliteral">&quot;old: width = %d, height = %d, format = %s\n&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <span class="stringliteral">&quot;new: width = %d, height = %d, format = %s\n&quot;</span>,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a>, <a class="code" href="demuxing__decoding_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>, <a class="code" href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a>(<a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>),</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">width</a>, <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">height</a>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <a class="code" href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a>(<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a>));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a>(<span class="stringliteral">&quot;video_frame n:%d coded_n:%d\n&quot;</span>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;           <a class="code" href="demuxing__decoding_8c.html#ac9f496a4d3575928c5b94568bbedd753">video_frame_count</a>++, <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a02ca9bb7f500d3d850f8736f3cb29c6c">coded_picture_number</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">/* copy decoded frame to destination buffer:</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">     * this is required since rawvideo expects non aligned data */</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="group__lavu__picture.html#ga6b5a267e202daadf81cbde6584055d1e">av_image_copy</a>(<a class="code" href="demuxing__decoding_8c.html#a0b39e94f88658412ecadb5e2116baccc">video_dst_data</a>, <a class="code" href="demuxing__decoding_8c.html#a8dbcd4dc85b9345bde18395026d0ffe4">video_dst_linesize</a>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                  (<span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **)(<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>), <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                  <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>, <a class="code" href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a>, <a class="code" href="demuxing__decoding_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">/* write to rawvideo file */</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    fwrite(<a class="code" href="demuxing__decoding_8c.html#a0b39e94f88658412ecadb5e2116baccc">video_dst_data</a>[0], 1, <a class="code" href="demuxing__decoding_8c.html#a849609cb135f2d344ff03e99610b43df">video_dst_bufsize</a>, <a class="code" href="demuxing__decoding_8c.html#ac3ad9da7180c9a9baa85e968eb6937e3">video_dst_file</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a2dadb97c4c6e23923373204870deda3f">   89</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a2dadb97c4c6e23923373204870deda3f">output_audio_frame</a>(<a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordtype">size_t</span> unpadded_linesize = <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a> * <a class="code" href="group__lavu__sampfmts.html#ga0c3c218e1dd570ad4917c69a35a6c77d">av_get_bytes_per_sample</a>(<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">format</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a>(<span class="stringliteral">&quot;audio_frame n:%d nb_samples:%d pts:%s\n&quot;</span>,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;           <a class="code" href="demuxing__decoding_8c.html#a48eccd48ea840bc45254f44995320463">audio_frame_count</a>++, <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a02f45ab8191aea1660159f1e464237ea">nb_samples</a>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;           <a class="code" href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a>(<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a0452833e3ab6ddd7acbf82817a7818a4">pts</a>, &amp;<a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">/* Write the raw audio data samples of the first plane. This works</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">     * fine for packed formats (e.g. AV_SAMPLE_FMT_S16). However,</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">     * most audio decoders output planar audio, which uses a separate</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">     * plane of audio samples for each channel (e.g. AV_SAMPLE_FMT_S16P).</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">     * In other words, this code will write only the first audio channel</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">     * in these cases.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">     * You should use libswresample or libavfilter to convert the frame</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">     * to packed data. */</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    fwrite(<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#afca04d808393822625e09b5ba91c6756">extended_data</a>[0], 1, unpadded_linesize, <a class="code" href="demuxing__decoding_8c.html#af0d7c67df6575ed6b3b7de4d843ed7a6">audio_dst_file</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a9e3819273006eb6eb08cfe7a487c222e">  109</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a9e3819273006eb6eb08cfe7a487c222e">decode_packet</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *dec, <span class="keyword">const</span> <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// submit the packet to the decoder</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__decoding.html#ga58bc4bf1e0ac59e27362597e467efff3">avcodec_send_packet</a>(dec, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Error submitting a packet for decoding (%s)\n&quot;</span>, <a class="code" href="group__lavu__error.html#gac4f6e109c242c81aeee21868d3f35e12">av_err2str</a>(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// get all the available frames from the decoder</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &gt;= 0) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__decoding.html#ga11e6542c4e66d3028668788a1a74217c">avcodec_receive_frame</a>(dec, <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="comment">// those two return values are special and mean there is no output</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="comment">// frame available, but there were no errors during decoding</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a> || <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> == <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EAGAIN))</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Error during decoding (%s)\n&quot;</span>, <a class="code" href="group__lavu__error.html#gac4f6e109c242c81aeee21868d3f35e12">av_err2str</a>(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="comment">// write the frame data to output file</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span> (dec-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#ab539ca86026d043803c24ba06fa84197">type</a> == <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="demuxing__decoding_8c.html#a62690f6eca6ce700ad0d17121eb50a57">output_video_frame</a>(<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="demuxing__decoding_8c.html#a2dadb97c4c6e23923373204870deda3f">output_audio_frame</a>(<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a>(<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#ab36dcc13a13c2ae1c1fff2ea5db97616">  147</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#ab36dcc13a13c2ae1c1fff2ea5db97616">open_codec_context</a>(<span class="keywordtype">int</span> *stream_idx,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                              <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> **<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>, <a class="code" href="struct_a_v_format_context.html">AVFormatContext</a> *<a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>, <span class="keyword">enum</span> <a class="code" href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a> <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, stream_index;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="struct_a_v_stream.html">AVStream</a> *st;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="struct_a_v_codec.html">AVCodec</a> *dec = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="struct_a_v_dictionary.html">AVDictionary</a> *<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9">av_find_best_stream</a>(<a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>, <a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>, -1, -1, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Could not find %s stream in input file &#39;%s&#39;\n&quot;</span>,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>), <a class="code" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        stream_index = <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        st = <a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[stream_index];</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="comment">/* find decoder for the stream */</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        dec = <a class="code" href="group__lavc__core.html#ga19a0ca553277f019dd5b0fec6e1f9dca">avcodec_find_decoder</a>(st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>-&gt;<a class="code" href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">codec_id</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (!dec) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Failed to find %s codec\n&quot;</span>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="comment">/* Allocate a codec context for the decoder */</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        *<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a> = <a class="code" href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a>(dec);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span> (!*<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Failed to allocate the %s codec context\n&quot;</span>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">/* Copy codec parameters from input stream to output codec context */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a>(*<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>, st-&gt;<a class="code" href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">codecpar</a>)) &lt; 0) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Failed to copy %s codec parameters to decoder context\n&quot;</span>,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    <a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>));</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">/* Init the decoders */</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a>(*<a class="code" href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a>, dec, &amp;<a class="code" href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a>)) &lt; 0) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Failed to open %s codec\n&quot;</span>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <a class="code" href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a>(<a class="code" href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a>));</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        *stream_idx = stream_index;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a5e068fc5e6dc5c59638ec235f7f6db89">  199</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a5e068fc5e6dc5c59638ec235f7f6db89">get_format_from_sample_fmt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> **fmt,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                      <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> sample_fmt)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">struct </span>sample_fmt_entry {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> sample_fmt; <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt_be, *fmt_le;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    } sample_fmt_entries[] = {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        { <a class="code" href="audio__convert_8c.html#ada3f2f20e8b592fea3bf924182793cc8">AV_SAMPLE_FMT_U8</a>,  <span class="stringliteral">&quot;u8&quot;</span>,    <span class="stringliteral">&quot;u8&quot;</span>    },</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        { <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a>, <span class="stringliteral">&quot;s16be&quot;</span>, <span class="stringliteral">&quot;s16le&quot;</span> },</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        { <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ab7ae6bb6718c07cd316778783a57a63b">AV_SAMPLE_FMT_S32</a>, <span class="stringliteral">&quot;s32be&quot;</span>, <span class="stringliteral">&quot;s32le&quot;</span> },</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        { <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a5251d62cc3c7f18e56bc8e0c48a27903">AV_SAMPLE_FMT_FLT</a>, <span class="stringliteral">&quot;f32be&quot;</span>, <span class="stringliteral">&quot;f32le&quot;</span> },</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        { <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ae35a2a6a7593723d9fe4bcefb2876606">AV_SAMPLE_FMT_DBL</a>, <span class="stringliteral">&quot;f64be&quot;</span>, <span class="stringliteral">&quot;f64le&quot;</span> },</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    };</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    *fmt = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(sample_fmt_entries); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keyword">struct </span>sample_fmt_entry *entry = &amp;sample_fmt_entries[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">if</span> (sample_fmt == entry-&gt;sample_fmt) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            *fmt = <a class="code" href="common_8h.html#a309bdca20f6a78431379fc69442d98ea">AV_NE</a>(entry-&gt;fmt_be, entry-&gt;fmt_le);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    fprintf(stderr,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="stringliteral">&quot;sample format %s is not supported as output format\n&quot;</span>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <a class="code" href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a>(sample_fmt));</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="demuxing__decoding_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">  228</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="demuxing__decoding_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">if</span> (argc != 4) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;usage: %s  input_file video_output_file audio_output_file\n&quot;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="stringliteral">&quot;API example program to show how to read frames from an input file.\n&quot;</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="stringliteral">&quot;This program reads frames from a file, decodes them, and writes decoded\n&quot;</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="stringliteral">&quot;video frames to a rawvideo file named video_output_file, and decoded\n&quot;</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="stringliteral">&quot;audio frames to a rawaudio file named audio_output_file.\n&quot;</span>,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                argv[0]);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        exit(1);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a> = argv[1];</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a780830fc3afc836feb64d80eef4185b5">video_dst_filename</a> = argv[2];</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a9f79f9440c018d4eb8448d849f35f467">audio_dst_filename</a> = argv[3];</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">/* open input file, and allocate format context */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavf__decoding.html#gaff468dcc45289542f4c30d311bc2a201">avformat_open_input</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>, <a class="code" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &lt; 0) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Could not open source file %s\n&quot;</span>, <a class="code" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        exit(1);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">/* retrieve stream information */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__lavf__decoding.html#gad42172e27cddafb81096939783b157bb">avformat_find_stream_info</a>(<a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &lt; 0) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Could not find stream information\n&quot;</span>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        exit(1);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#ab36dcc13a13c2ae1c1fff2ea5db97616">open_codec_context</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#af35f69f407b98b5244f837e25813bc11">video_stream_idx</a>, &amp;<a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a>, <a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>) &gt;= 0) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">video_stream</a> = <a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="demuxing__decoding_8c.html#af35f69f407b98b5244f837e25813bc11">video_stream_idx</a>];</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#ac3ad9da7180c9a9baa85e968eb6937e3">video_dst_file</a> = fopen(<a class="code" href="demuxing__decoding_8c.html#a780830fc3afc836feb64d80eef4185b5">video_dst_filename</a>, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#ac3ad9da7180c9a9baa85e968eb6937e3">video_dst_file</a>) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Could not open destination file %s\n&quot;</span>, <a class="code" href="demuxing__decoding_8c.html#a780830fc3afc836feb64d80eef4185b5">video_dst_filename</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 1;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">/* allocate image where the decoded image will be put */</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a> = <a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a> = <a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a> = <a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__picture.html#ga841e0a89a642e24141af1918a2c10448">av_image_alloc</a>(<a class="code" href="demuxing__decoding_8c.html#a0b39e94f88658412ecadb5e2116baccc">video_dst_data</a>, <a class="code" href="demuxing__decoding_8c.html#a8dbcd4dc85b9345bde18395026d0ffe4">video_dst_linesize</a>,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                             <a class="code" href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a>, <a class="code" href="demuxing__decoding_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>, <a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>, 1);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Could not allocate raw video buffer\n&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a849609cb135f2d344ff03e99610b43df">video_dst_bufsize</a> = <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#ab36dcc13a13c2ae1c1fff2ea5db97616">open_codec_context</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a16cd83c72f483b9fa2844c5516452798">audio_stream_idx</a>, &amp;<a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>, <a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>, <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>) &gt;= 0) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#ab269038fe8cd6f8fa4ccec9eaf939345">audio_stream</a> = <a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>-&gt;<a class="code" href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">streams</a>[<a class="code" href="demuxing__decoding_8c.html#a16cd83c72f483b9fa2844c5516452798">audio_stream_idx</a>];</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#af0d7c67df6575ed6b3b7de4d843ed7a6">audio_dst_file</a> = fopen(<a class="code" href="demuxing__decoding_8c.html#a9f79f9440c018d4eb8448d849f35f467">audio_dst_filename</a>, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#af0d7c67df6575ed6b3b7de4d843ed7a6">audio_dst_file</a>) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Could not open destination file %s\n&quot;</span>, <a class="code" href="demuxing__decoding_8c.html#a9f79f9440c018d4eb8448d849f35f467">audio_dst_filename</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 1;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">/* dump input information to stderr */</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="group__lavf__misc.html#gae2645941f2dc779c307eb6314fd39f10">av_dump_format</a>(<a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>, 0, <a class="code" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a>, 0);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#ab269038fe8cd6f8fa4ccec9eaf939345">audio_stream</a> &amp;&amp; !<a class="code" href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">video_stream</a>) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Could not find audio or video stream in the input, aborting\n&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 1;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a> = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Could not allocate frame\n&quot;</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">/* initialize packet, set data to NULL, let the demuxer fill it */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">video_stream</a>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a>(<span class="stringliteral">&quot;Demuxing video from file &#39;%s&#39; into &#39;%s&#39;\n&quot;</span>, <a class="code" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a>, <a class="code" href="demuxing__decoding_8c.html#a780830fc3afc836feb64d80eef4185b5">video_dst_filename</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#ab269038fe8cd6f8fa4ccec9eaf939345">audio_stream</a>)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a>(<span class="stringliteral">&quot;Demuxing audio from file &#39;%s&#39; into &#39;%s&#39;\n&quot;</span>, <a class="code" href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a>, <a class="code" href="demuxing__decoding_8c.html#a9f79f9440c018d4eb8448d849f35f467">audio_dst_filename</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">/* read frames from the file */</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="group__lavf__decoding.html#ga4fdb3084415a82e3810de6ee60e46a61">av_read_frame</a>(<a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>) &gt;= 0) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">// check if the packet belongs to a stream we are interested in, otherwise</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="comment">// skip it</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == <a class="code" href="demuxing__decoding_8c.html#af35f69f407b98b5244f837e25813bc11">video_stream_idx</a>)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="demuxing__decoding_8c.html#a9e3819273006eb6eb08cfe7a487c222e">decode_packet</a>(<a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a>, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>.<a class="code" href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">stream_index</a> == <a class="code" href="demuxing__decoding_8c.html#a16cd83c72f483b9fa2844c5516452798">audio_stream_idx</a>)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="demuxing__decoding_8c.html#a9e3819273006eb6eb08cfe7a487c222e">decode_packet</a>(<a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>, &amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">/* flush the decoders */</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a>)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a9e3819273006eb6eb08cfe7a487c222e">decode_packet</a>(<a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="demuxing__decoding_8c.html#a9e3819273006eb6eb08cfe7a487c222e">decode_packet</a>(<a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a>(<span class="stringliteral">&quot;Demuxing succeeded.\n&quot;</span>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">video_stream</a>) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a>(<span class="stringliteral">&quot;Play the output video file with the command:\n&quot;</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;               <span class="stringliteral">&quot;ffplay -f rawvideo -pix_fmt %s -video_size %dx%d %s\n&quot;</span>,</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;               <a class="code" href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a>(<a class="code" href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a>), <a class="code" href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a>, <a class="code" href="demuxing__decoding_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a>,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;               <a class="code" href="demuxing__decoding_8c.html#a780830fc3afc836feb64d80eef4185b5">video_dst_filename</a>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#ab269038fe8cd6f8fa4ccec9eaf939345">audio_stream</a>) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a> sfmt = <a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordtype">int</span> n_channels = <a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__lavu__sampfmts.html#ga06ba8a64dc4382c422789a5d0b6bf592">av_sample_fmt_is_planar</a>(sfmt)) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *packed = <a class="code" href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a>(sfmt);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <a class="code" href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a>(<span class="stringliteral">&quot;Warning: the sample format the decoder produced is planar &quot;</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                   <span class="stringliteral">&quot;(%s). This example will output the first channel only.\n&quot;</span>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                   packed ? packed : <span class="stringliteral">&quot;?&quot;</span>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            sfmt = <a class="code" href="group__lavu__sampfmts.html#ga7817ec0eff4dc6fc0962f31e6d138bca">av_get_packed_sample_fmt</a>(sfmt);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            n_channels = 1;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="demuxing__decoding_8c.html#a5e068fc5e6dc5c59638ec235f7f6db89">get_format_from_sample_fmt</a>(&amp;fmt, sfmt)) &lt; 0)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a>(<span class="stringliteral">&quot;Play the output audio file with the command:\n&quot;</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;               <span class="stringliteral">&quot;ffplay -f %s -ac %d -ar %d %s\n&quot;</span>,</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;               fmt, n_channels, <a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a>,</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;               <a class="code" href="demuxing__decoding_8c.html#a9f79f9440c018d4eb8448d849f35f467">audio_dst_filename</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>:</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a>);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#ac3ad9da7180c9a9baa85e968eb6937e3">video_dst_file</a>)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        fclose(<a class="code" href="demuxing__decoding_8c.html#ac3ad9da7180c9a9baa85e968eb6937e3">video_dst_file</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="demuxing__decoding_8c.html#af0d7c67df6575ed6b3b7de4d843ed7a6">audio_dst_file</a>)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        fclose(<a class="code" href="demuxing__decoding_8c.html#af0d7c67df6575ed6b3b7de4d843ed7a6">audio_dst_file</a>);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(<a class="code" href="demuxing__decoding_8c.html#a0b39e94f88658412ecadb5e2116baccc">video_dst_data</a>[0]);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="agroup__lavc__packet_html_ga63d5a489b419bd5d45cfd09091cbcbc2"><div class="ttname"><a href="group__lavc__packet.html#ga63d5a489b419bd5d45cfd09091cbcbc2">av_packet_unref</a></div><div class="ttdeci">void av_packet_unref(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00606">avpacket.c:606</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="astruct_a_v_dictionary_html"><div class="ttname"><a href="struct_a_v_dictionary.html">AVDictionary</a></div><div class="ttdef"><b>Definition:</b> <a href="dict_8c_source.html#l00030">dict.c:30</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ab539ca86026d043803c24ba06fa84197"><div class="ttname"><a href="struct_a_v_codec.html#ab539ca86026d043803c24ba06fa84197">AVCodec::type</a></div><div class="ttdeci">enum AVMediaType type</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00202">codec.h:203</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gab4faa0afdf35076914824200331defff"><div class="ttname"><a href="group__lavu__error.html#gab4faa0afdf35076914824200331defff">AVERROR_EOF</a></div><div class="ttdeci">#define AVERROR_EOF</div><div class="ttdoc">End of file.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00055">error.h:55</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga979d73f3228814aee56aeca0636e37cc"><div class="ttname"><a href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a></div><div class="ttdeci">void av_frame_free(AVFrame **frame)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00203">frame.c:203</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a780830fc3afc836feb64d80eef4185b5"><div class="ttname"><a href="demuxing__decoding_8c.html#a780830fc3afc836feb64d80eef4185b5">video_dst_filename</a></div><div class="ttdeci">static const char * video_dst_filename</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00043">demuxing_decoding.c:43</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a5e068fc5e6dc5c59638ec235f7f6db89"><div class="ttname"><a href="demuxing__decoding_8c.html#a5e068fc5e6dc5c59638ec235f7f6db89">get_format_from_sample_fmt</a></div><div class="ttdeci">static int get_format_from_sample_fmt(const char **fmt, enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00199">demuxing_decoding.c:199</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_ga4fdb3084415a82e3810de6ee60e46a61"><div class="ttname"><a href="group__lavf__decoding.html#ga4fdb3084415a82e3810de6ee60e46a61">av_read_frame</a></div><div class="ttdeci">int av_read_frame(AVFormatContext *s, AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l01712">utils.c:1712</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a02ca9bb7f500d3d850f8736f3cb29c6c"><div class="ttname"><a href="struct_a_v_frame.html#a02ca9bb7f500d3d850f8736f3cb29c6c">AVFrame::coded_picture_number</a></div><div class="ttdeci">int coded_picture_number</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00422">frame.h:422</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gae804b99aec044690162b8b9b110236a4"><div class="ttname"><a href="group__lavf__decoding.html#gae804b99aec044690162b8b9b110236a4">avformat_close_input</a></div><div class="ttdeci">void avformat_close_input(AVFormatContext **s)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04425">utils.c:4425</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html_a12826d21779289356722971d362c583c"><div class="ttname"><a href="struct_a_v_stream.html#a12826d21779289356722971d362c583c">AVStream::codecpar</a></div><div class="ttdeci">AVCodecParameters * codecpar</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01034">avformat.h:1034</a></div></div>
<div class="ttc" id="asamplefmt_8h_html"><div class="ttname"><a href="samplefmt_8h.html">samplefmt.h</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a860450fba1f740387dc082792ad89517"><div class="ttname"><a href="writing__filters_8txt.html#a860450fba1f740387dc082792ad89517">type</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf type</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a849609cb135f2d344ff03e99610b43df"><div class="ttname"><a href="demuxing__decoding_8c.html#a849609cb135f2d344ff03e99610b43df">video_dst_bufsize</a></div><div class="ttdeci">static int video_dst_bufsize</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00050">demuxing_decoding.c:50</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gac700017c5270c79c1e1befdeeb008b2f"><div class="ttname"><a href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a></div><div class="ttdeci">AVFrame * av_frame_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00190">frame.c:190</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="demuxing__decoding_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00228">demuxing_decoding.c:228</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a9e3819273006eb6eb08cfe7a487c222e"><div class="ttname"><a href="demuxing__decoding_8c.html#a9e3819273006eb6eb08cfe7a487c222e">decode_packet</a></div><div class="ttdeci">static int decode_packet(AVCodecContext *dec, const AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00109">demuxing_decoding.c:109</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a0d1cb9b5a32b00fb6edc81ea3aae2a49"><div class="ttname"><a href="struct_a_v_packet.html#a0d1cb9b5a32b00fb6edc81ea3aae2a49">AVPacket::stream_index</a></div><div class="ttdeci">int stream_index</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00365">packet.h:365</a></div></div>
<div class="ttc" id="agroup__lavf__misc_html_gae2645941f2dc779c307eb6314fd39f10"><div class="ttname"><a href="group__lavf__misc.html#gae2645941f2dc779c307eb6314fd39f10">av_dump_format</a></div><div class="ttdeci">void av_dump_format(AVFormatContext *ic, int index, const char *url, int is_output)</div><div class="ttdef"><b>Definition:</b> <a href="dump_8c_source.html#l00640">dump.c:640</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae80afec6f26df6607eaacf39b561c315"><div class="ttname"><a href="group__lavc__core.html#gae80afec6f26df6607eaacf39b561c315">avcodec_alloc_context3</a></div><div class="ttdeci">AVCodecContext * avcodec_alloc_context3(const AVCodec *codec)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00172">options.c:172</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a2dadb97c4c6e23923373204870deda3f"><div class="ttname"><a href="demuxing__decoding_8c.html#a2dadb97c4c6e23923373204870deda3f">output_audio_frame</a></div><div class="ttdeci">static int output_audio_frame(AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00089">demuxing_decoding.c:89</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_a_v_codec_parameters_html_a9f76f2475ef24ff4c9771dd53072d040"><div class="ttname"><a href="struct_a_v_codec_parameters.html#a9f76f2475ef24ff4c9771dd53072d040">AVCodecParameters::codec_id</a></div><div class="ttdeci">enum AVCodecID codec_id</div><div class="ttdef"><b>Definition:</b> <a href="codec__par_8h_source.html#l00222">codec_par.h:60</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_ad3e56268ab4ce7a25e7a17c2e088a3c1"><div class="ttname"><a href="demuxing__decoding_8c.html#ad3e56268ab4ce7a25e7a17c2e088a3c1">src_filename</a></div><div class="ttdeci">static const char * src_filename</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00042">demuxing_decoding.c:42</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga11e6542c4e66d3028668788a1a74217c"><div class="ttname"><a href="group__lavc__decoding.html#ga11e6542c4e66d3028668788a1a74217c">avcodec_receive_frame</a></div><div class="ttdeci">int avcodec_receive_frame(AVCodecContext *avctx, AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l00669">decode.c:669</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ga06ba8a64dc4382c422789a5d0b6bf592"><div class="ttname"><a href="group__lavu__sampfmts.html#ga06ba8a64dc4382c422789a5d0b6bf592">av_sample_fmt_is_planar</a></div><div class="ttdeci">int av_sample_fmt_is_planar(enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00112">samplefmt.c:112</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a7331e302ea7bb48e0b605a069576e135"><div class="ttname"><a href="demuxing__decoding_8c.html#a7331e302ea7bb48e0b605a069576e135">pix_fmt</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00039">demuxing_decoding.c:40</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_adecce4fda9b9d4fc0d6713d461755cfd"><div class="ttname"><a href="demuxing__decoding_8c.html#adecce4fda9b9d4fc0d6713d461755cfd">audio_dec_ctx</a></div><div class="ttdeci">static AVCodecContext * audio_dec_ctx</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00038">demuxing_decoding.c:38</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ga31b9d149b2de9821a65f4f5612970838"><div class="ttname"><a href="group__lavu__sampfmts.html#ga31b9d149b2de9821a65f4f5612970838">av_get_sample_fmt_name</a></div><div class="ttdeci">const char * av_get_sample_fmt_name(enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00049">samplefmt.c:49</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_ac9f496a4d3575928c5b94568bbedd753"><div class="ttname"><a href="demuxing__decoding_8c.html#ac9f496a4d3575928c5b94568bbedd753">video_frame_count</a></div><div class="ttdeci">static int video_frame_count</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00055">demuxing_decoding.c:55</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_af540b728145b614e34c4e10930354b93"><div class="ttname"><a href="tests_2movenc_8c.html#af540b728145b614e34c4e10930354b93">opts</a></div><div class="ttdeci">AVDictionary * opts</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00050">movenc.c:50</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a409462acdf7aebe5bfbe1bcd811efa5d"><div class="ttname"><a href="demuxing__decoding_8c.html#a409462acdf7aebe5bfbe1bcd811efa5d">fmt_ctx</a></div><div class="ttdeci">static AVFormatContext * fmt_ctx</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00037">demuxing_decoding.c:37</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaf869d0829ed607cec3a4a02a1c7026b3"><div class="ttname"><a href="group__lavc__core.html#gaf869d0829ed607cec3a4a02a1c7026b3">avcodec_free_context</a></div><div class="ttdeci">void avcodec_free_context(AVCodecContext **avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2options_8c_source.html#l00187">options.c:187</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a48eccd48ea840bc45254f44995320463"><div class="ttname"><a href="demuxing__decoding_8c.html#a48eccd48ea840bc45254f44995320463">audio_frame_count</a></div><div class="ttdeci">static int audio_frame_count</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00056">demuxing_decoding.c:56</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_ac3ad9da7180c9a9baa85e968eb6937e3"><div class="ttname"><a href="demuxing__decoding_8c.html#ac3ad9da7180c9a9baa85e968eb6937e3">video_dst_file</a></div><div class="ttdeci">static FILE * video_dst_file</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00045">demuxing_decoding.c:45</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_ab36dcc13a13c2ae1c1fff2ea5db97616"><div class="ttname"><a href="demuxing__decoding_8c.html#ab36dcc13a13c2ae1c1fff2ea5db97616">open_codec_context</a></div><div class="ttdeci">static int open_codec_context(int *stream_idx, AVCodecContext **dec_ctx, AVFormatContext *fmt_ctx, enum AVMediaType type)</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00147">demuxing_decoding.c:147</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga11f785a188d7d9df71621001465b0f1d"><div class="ttname"><a href="group__lavc__core.html#ga11f785a188d7d9df71621001465b0f1d">avcodec_open2</a></div><div class="ttdeci">int avcodec_open2(AVCodecContext *avctx, const AVCodec *codec, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00550">utils.c:550</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ada3f2f20e8b592fea3bf924182793cc8"><div class="ttname"><a href="audio__convert_8c.html#ada3f2f20e8b592fea3bf924182793cc8">AV_SAMPLE_FMT_U8</a></div><div class="ttdeci">AV_SAMPLE_FMT_U8</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a3f89733f429c98ba5bc64373fb0a3f13"><div class="ttname"><a href="struct_a_v_frame.html#a3f89733f429c98ba5bc64373fb0a3f13">AVFrame::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00366">frame.h:366</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ga841e0a89a642e24141af1918a2c10448"><div class="ttname"><a href="group__lavu__picture.html#ga841e0a89a642e24141af1918a2c10448">av_image_alloc</a></div><div class="ttdeci">int av_image_alloc(uint8_t *pointers[4], int linesizes[4], int w, int h, enum AVPixelFormat pix_fmt, int align)</div><div class="ttdef"><b>Definition:</b> <a href="imgutils_8c_source.html#l00216">imgutils.c:216</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gad42172e27cddafb81096939783b157bb"><div class="ttname"><a href="group__lavf__decoding.html#gad42172e27cddafb81096939783b157bb">avformat_find_stream_info</a></div><div class="ttdeci">int avformat_find_stream_info(AVFormatContext *ic, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l03547">utils.c:3547</a></div></div>
<div class="ttc" id="atimestamp_8h_html_ad344b91ede6b86fc0a530611293f42da"><div class="ttname"><a href="timestamp_8h.html#ad344b91ede6b86fc0a530611293f42da">av_ts2timestr</a></div><div class="ttdeci">#define av_ts2timestr(ts, tb)</div><div class="ttdef"><b>Definition:</b> <a href="timestamp_8h_source.html#l00076">timestamp.h:76</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_ga9a84bba4713dfced21a1a56163be1f48"><div class="ttname"><a href="group__lavu__misc.html#ga9a84bba4713dfced21a1a56163be1f48">AVMediaType</a></div><div class="ttdeci">AVMediaType</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00199">avutil.h:199</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gac4f6e109c242c81aeee21868d3f35e12"><div class="ttname"><a href="group__lavu__error.html#gac4f6e109c242c81aeee21868d3f35e12">av_err2str</a></div><div class="ttdeci">#define av_err2str(errnum)</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00119">error.h:119</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_ad12fc34ce789bce6c8a05d8a17138534"><div class="ttname"><a href="demuxing__decoding_8c.html#ad12fc34ce789bce6c8a05d8a17138534">height</a></div><div class="ttdeci">static int height</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00039">demuxing_decoding.c:39</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab7bfeb9fa5840aac090e2b0bd0ef7589"><div class="ttname"><a href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">AVCodecContext::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00649">avcodec.h:649</a></div></div>
<div class="ttc" id="atablegen_8txt_html_a934618af0084fc36af687c3b11489b27"><div class="ttname"><a href="tablegen_8txt.html#a934618af0084fc36af687c3b11489b27">printf</a></div><div class="ttdeci">printf(&quot;static const uint8_t my_array[100] = {\n&quot;)</div></div>
<div class="ttc" id="acommon_8h_html_a309bdca20f6a78431379fc69442d98ea"><div class="ttname"><a href="common_8h.html#a309bdca20f6a78431379fc69442d98ea">AV_NE</a></div><div class="ttdeci">#define AV_NE(be, le)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00050">common.h:50</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_aa52bfc6605f6a3059a0c3226cc0f6567"><div class="ttname"><a href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">AVFrame::linesize</a></div><div class="ttdeci">int linesize[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00339">frame.h:339</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a2474a5474cbff19523a51eb1de01cda4"><div class="ttname"><a href="demuxing__decoding_8c.html#a2474a5474cbff19523a51eb1de01cda4">width</a></div><div class="ttdeci">static int width</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00039">demuxing_decoding.c:39</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1e71ce60cedd5f3b6811714a9f7f9e0a"><div class="ttname"><a href="struct_a_v_frame.html#a1e71ce60cedd5f3b6811714a9f7f9e0a">AVFrame::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00366">frame.h:366</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1bdba69ea111e2a9d03fdaa7a46a4c45"><div class="ttname"><a href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">AVCodecContext::sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat sample_fmt</div><div class="ttdoc">sample format</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1194</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_ad7d33d579a8d4241a5e643e39287a209"><div class="ttname"><a href="demuxing__decoding_8c.html#ad7d33d579a8d4241a5e643e39287a209">frame</a></div><div class="ttdeci">static AVFrame * frame</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00053">demuxing_decoding.c:53</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga58bc4bf1e0ac59e27362597e467efff3"><div class="ttname"><a href="group__lavc__decoding.html#ga58bc4bf1e0ac59e27362597e467efff3">avcodec_send_packet</a></div><div class="ttdeci">int avcodec_send_packet(AVCodecContext *avctx, const AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l00606">decode.c:606</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_acfefb6b6cf21e87a0dcbd1a547ba2348"><div class="ttname"><a href="struct_a_v_format_context.html#acfefb6b6cf21e87a0dcbd1a547ba2348">AVFormatContext::streams</a></div><div class="ttdeci">AVStream ** streams</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01291">avformat.h:1291</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gaff468dcc45289542f4c30d311bc2a201"><div class="ttname"><a href="group__lavf__decoding.html#gaff468dcc45289542f4c30d311bc2a201">avformat_open_input</a></div><div class="ttdeci">int avformat_open_input(AVFormatContext **ps, const char *url, ff_const59 AVInputFormat *fmt, AVDictionary **options)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l00500">utils.c:500</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ga0c3c218e1dd570ad4917c69a35a6c77d"><div class="ttname"><a href="group__lavu__sampfmts.html#ga0c3c218e1dd570ad4917c69a35a6c77d">av_get_bytes_per_sample</a></div><div class="ttdeci">int av_get_bytes_per_sample(enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00106">samplefmt.c:106</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gac7b282f51540ca7a99416a3ba6ee0d16"><div class="ttname"><a href="group__lavc__core.html#gac7b282f51540ca7a99416a3ba6ee0d16">avcodec_parameters_to_context</a></div><div class="ttdeci">int avcodec_parameters_to_context(AVCodecContext *codec, const AVCodecParameters *par)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02152">utils.c:2152</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a62690f6eca6ce700ad0d17121eb50a57"><div class="ttname"><a href="demuxing__decoding_8c.html#a62690f6eca6ce700ad0d17121eb50a57">output_video_frame</a></div><div class="ttdeci">static int output_video_frame(AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00058">demuxing_decoding.c:58</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a02f45ab8191aea1660159f1e464237ea"><div class="ttname"><a href="struct_a_v_frame.html#a02f45ab8191aea1660159f1e464237ea">AVFrame::nb_samples</a></div><div class="ttdeci">int nb_samples</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00374">frame.h:374</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_gaf9a51ca15301871723577c730b5865c5"><div class="ttname"><a href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></div><div class="ttdeci">AVSampleFormat</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00058">samplefmt.h:58</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga0a2b687f9c1c5ed0089b01fd61227108"><div class="ttname"><a href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a></div><div class="ttdeci">void av_frame_unref(AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00553">frame.c:553</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5aea6132df57aebc3f76e10665395c46af">AV_SAMPLE_FMT_S16</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_S16</div><div class="ttdoc">signed 16 bits</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00061">samplefmt.h:61</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a9decdb9a2529baa6bd2a855a12f1f0fc"><div class="ttname"><a href="demuxing__decoding_8c.html#a9decdb9a2529baa6bd2a855a12f1f0fc">video_stream</a></div><div class="ttdeci">static AVStream * video_stream</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00041">demuxing_decoding.c:41</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga19a0ca553277f019dd5b0fec6e1f9dca"><div class="ttname"><a href="group__lavc__core.html#ga19a0ca553277f019dd5b0fec6e1f9dca">avcodec_find_decoder</a></div><div class="ttdeci">AVCodec * avcodec_find_decoder(enum AVCodecID id)</div><div class="ttdef"><b>Definition:</b> <a href="allcodecs_8c_source.html#l00938">allcodecs.c:938</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="aavformat_8h_html"><div class="ttname"><a href="avformat_8h.html">avformat.h</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_af35f69f407b98b5244f837e25813bc11"><div class="ttname"><a href="demuxing__decoding_8c.html#af35f69f407b98b5244f837e25813bc11">video_stream_idx</a></div><div class="ttdeci">static int video_stream_idx</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00052">demuxing_decoding.c:52</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gaf21645cfa855b2caf9699d7dc7b2d08e"><div class="ttname"><a href="group__lavu__misc.html#gaf21645cfa855b2caf9699d7dc7b2d08e">av_get_media_type_string</a></div><div class="ttdeci">const char * av_get_media_type_string(enum AVMediaType media_type)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2utils_8c_source.html#l00076">utils.c:76</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1d0f65014a8d1bf78cec8cbed2304992"><div class="ttname"><a href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">AVFrame::data</a></div><div class="ttdeci">uint8_t * data[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00322">frame.h:322</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a16cd83c72f483b9fa2844c5516452798"><div class="ttname"><a href="demuxing__decoding_8c.html#a16cd83c72f483b9fa2844c5516452798">audio_stream_idx</a></div><div class="ttdeci">static int audio_stream_idx</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00052">demuxing_decoding.c:52</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ga6b5a267e202daadf81cbde6584055d1e"><div class="ttname"><a href="group__lavu__picture.html#ga6b5a267e202daadf81cbde6584055d1e">av_image_copy</a></div><div class="ttdeci">void av_image_copy(uint8_t *dst_data[4], int dst_linesizes[4], const uint8_t *src_data[4], const int src_linesizes[4], enum AVPixelFormat pix_fmt, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="imgutils_8c_source.html#l00422">imgutils.c:422</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_aed14fa772ce46881020fd1545c86432c"><div class="ttname"><a href="struct_a_v_frame.html#aed14fa772ce46881020fd1545c86432c">AVFrame::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00381">frame.h:381</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html"><div class="ttname"><a href="struct_a_v_format_context.html">AVFormatContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01223">avformat.h:1223</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ga7817ec0eff4dc6fc0962f31e6d138bca"><div class="ttname"><a href="group__lavu__sampfmts.html#ga7817ec0eff4dc6fc0962f31e6d138bca">av_get_packed_sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat av_get_packed_sample_fmt(enum AVSampleFormat sample_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8c_source.html#l00049">samplefmt.c:75</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a9f79f9440c018d4eb8448d849f35f467"><div class="ttname"><a href="demuxing__decoding_8c.html#a9f79f9440c018d4eb8448d849f35f467">audio_dst_filename</a></div><div class="ttdeci">static const char * audio_dst_filename</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00044">demuxing_decoding.c:44</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_afca04d808393822625e09b5ba91c6756"><div class="ttname"><a href="struct_a_v_frame.html#afca04d808393822625e09b5ba91c6756">AVFrame::extended_data</a></div><div class="ttdeci">uint8_t ** extended_data</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00355">frame.h:355</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a2e10f5f24d4c8dd311b8eedc376accf5"><div class="ttname"><a href="demuxing__decoding_8c.html#a2e10f5f24d4c8dd311b8eedc376accf5">video_dec_ctx</a></div><div class="ttdeci">static AVCodecContext * video_dec_ctx</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00038">demuxing_decoding.c:38</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="astruct_a_v_stream_html"><div class="ttname"><a href="struct_a_v_stream.html">AVStream</a></div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l00869">avformat.h:869</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_af0d7c67df6575ed6b3b7de4d843ed7a6"><div class="ttname"><a href="demuxing__decoding_8c.html#af0d7c67df6575ed6b3b7de4d843ed7a6">audio_dst_file</a></div><div class="ttdeci">static FILE * audio_dst_file</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00046">demuxing_decoding.c:46</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a0452833e3ab6ddd7acbf82817a7818a4"><div class="ttname"><a href="struct_a_v_frame.html#a0452833e3ab6ddd7acbf82817a7818a4">AVFrame::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00401">frame.h:401</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:736</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="aimgutils_8h_html"><div class="ttname"><a href="imgutils_8h.html">imgutils.h</a></div></div>
<div class="ttc" id="atimestamp_8h_html"><div class="ttname"><a href="timestamp_8h.html">timestamp.h</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a8dbcd4dc85b9345bde18395026d0ffe4"><div class="ttname"><a href="demuxing__decoding_8c.html#a8dbcd4dc85b9345bde18395026d0ffe4">video_dst_linesize</a></div><div class="ttdeci">static int video_dst_linesize[4]</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00049">demuxing_decoding.c:49</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1187</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5ae35a2a6a7593723d9fe4bcefb2876606"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ae35a2a6a7593723d9fe4bcefb2876606">AV_SAMPLE_FMT_DBL</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_DBL</div><div class="ttdoc">double</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00064">samplefmt.h:64</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6e606effa68724cae2ef5cc05f7fd9cb"><div class="ttname"><a href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">AVCodecContext::codec</a></div><div class="ttdeci">const struct AVCodec * codec</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:535</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_ab269038fe8cd6f8fa4ccec9eaf939345"><div class="ttname"><a href="demuxing__decoding_8c.html#ab269038fe8cd6f8fa4ccec9eaf939345">audio_stream</a></div><div class="ttdeci">static AVStream * audio_stream</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00041">demuxing_decoding.c:41</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a0b39e94f88658412ecadb5e2116baccc"><div class="ttname"><a href="demuxing__decoding_8c.html#a0b39e94f88658412ecadb5e2116baccc">video_dst_data</a></div><div class="ttdeci">static uint8_t * video_dst_data[4]</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00048">demuxing_decoding.c:48</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5ab7ae6bb6718c07cd316778783a57a63b"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ab7ae6bb6718c07cd316778783a57a63b">AV_SAMPLE_FMT_S32</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_S32</div><div class="ttdoc">signed 32 bits</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00062">samplefmt.h:62</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5a5251d62cc3c7f18e56bc8e0c48a27903"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a5251d62cc3c7f18e56bc8e0c48a27903">AV_SAMPLE_FMT_FLT</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_FLT</div><div class="ttdoc">float</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00063">samplefmt.h:63</a></div></div>
<div class="ttc" id="afiltering__audio_8c_html_ac2bf6798f37e95d3d2ff2d44e4ab3c12"><div class="ttname"><a href="filtering__audio_8c.html#ac2bf6798f37e95d3d2ff2d44e4ab3c12">dec_ctx</a></div><div class="ttdeci">static AVCodecContext * dec_ctx</div><div class="ttdef"><b>Definition:</b> <a href="filtering__audio_8c_source.html#l00043">filtering_audio.c:43</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8ff0b000c463361e234af48d03aadfc0"><div class="ttname"><a href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">AVCodecContext::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01186">avcodec.h:1186</a></div></div>
<div class="ttc" id="apixdesc_8c_html_ab92e2a8a9b58c982560c49df9f01e47e"><div class="ttname"><a href="pixdesc_8c.html#ab92e2a8a9b58c982560c49df9f01e47e">av_get_pix_fmt_name</a></div><div class="ttdeci">const char * av_get_pix_fmt_name(enum AVPixelFormat pix_fmt)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02489">pixdesc.c:2489</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_gac9cb9756175b96e7441575803757fb73"><div class="ttname"><a href="group__lavc__packet.html#gac9cb9756175b96e7441575803757fb73">av_init_packet</a></div><div class="ttdeci">void av_init_packet(AVPacket *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00035">avpacket.c:35</a></div></div>
<div class="ttc" id="agroup__lavf__decoding_html_gaa6fa468c922ff5c60a6021dcac09aff9"><div class="ttname"><a href="group__lavf__decoding.html#gaa6fa468c922ff5c60a6021dcac09aff9">av_find_best_stream</a></div><div class="ttdeci">int av_find_best_stream(AVFormatContext *ic, enum AVMediaType type, int wanted_stream_nb, int related_stream, AVCodec **decoder_ret, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="libavformat_2utils_8c_source.html#l04176">utils.c:4176</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
