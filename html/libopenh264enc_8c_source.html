<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/libopenh264enc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">libopenh264enc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="libopenh264enc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * OpenH264 video encoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2014 Martin Storsjo</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;wels/codec_api.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;wels/codec_ver.h&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="attributes_8h.html">libavutil/attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">libavutil/common.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">libavutil/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mathematics_8h.html">libavutil/mathematics.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libopenh264_8h.html">libopenh264.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#if !OPENH264_VER_AT_LEAST(1, 6)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#aafcaffe909c3df69bdc6b67b673ec1df">   37</a></span>&#160;<span class="preprocessor">#define SM_SIZELIMITED_SLICE SM_DYN_SLICE</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#ac831cfad8471acc559a2d7ae305e5f56">   40</a></span>&#160;<span class="preprocessor">#define TARGET_BITRATE_DEFAULT 2*1000*1000</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_s_v_c_context.html">SVCContext</a> {</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#a16632d37d73a2340fd1d0b4cc4334320">   43</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> *<a class="code" href="struct_s_v_c_context.html#a16632d37d73a2340fd1d0b4cc4334320">av_class</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#a79aa00c7366104f0be72b8bcdf2c8d55">   44</a></span>&#160;    ISVCEncoder *<a class="code" href="struct_s_v_c_context.html#a79aa00c7366104f0be72b8bcdf2c8d55">encoder</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#a54b283e007bb4e2acefb532609d432d3">   45</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#a54b283e007bb4e2acefb532609d432d3">slice_mode</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#ac4d8496bfd401d705a5e955734dfedbc">   46</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#ac4d8496bfd401d705a5e955734dfedbc">loopfilter</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#acab91cde63eb978b8091f5701fa1ae22">   47</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#acab91cde63eb978b8091f5701fa1ae22">profile</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#a1d27ad5cccb3403a5b7a1bf274113eed">   48</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#a1d27ad5cccb3403a5b7a1bf274113eed">max_nal_size</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#a3778d2df6b5ab5f21c74dd06fcfdd734">   49</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#a3778d2df6b5ab5f21c74dd06fcfdd734">skip_frames</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#a8185b96a071bdb52c1446b8e1a896bec">   50</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#a8185b96a071bdb52c1446b8e1a896bec">skipped</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#if FF_API_OPENH264_CABAC</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#a12323dc31d37ea08c9f268f1c53a71f2">   52</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#a12323dc31d37ea08c9f268f1c53a71f2">cabac</a>;                      <span class="comment">// deprecated</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#ad3105762c28a86088c25f6b721997467">   54</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#ad3105762c28a86088c25f6b721997467">coder</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// rate control mode</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="struct_s_v_c_context.html#a02c7c46f606839795aeafa2a5b360de3">   57</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_s_v_c_context.html#a02c7c46f606839795aeafa2a5b360de3">rc_mode</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#ab96b28a9bfdb461fb70c36c4fdf85d44">   58</a></span>&#160;} <a class="code" href="libopenh264enc_8c.html#ab96b28a9bfdb461fb70c36c4fdf85d44">SVCContext</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">   60</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(SVCContext, x)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">   61</a></span>&#160;<span class="preprocessor">#define VE AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#ac1e8a42306d8e67cb94ca31c3956ee78">   62</a></span>&#160;<span class="preprocessor">#define DEPRECATED AV_OPT_FLAG_DEPRECATED</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">   63</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="libopenh264enc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#if FF_API_OPENH264_SLICE_MODE</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 6)</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    { <span class="stringliteral">&quot;slice_mode&quot;</span>, <span class="stringliteral">&quot;set slice mode, use slices/max_nal_size&quot;</span>, <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(slice_mode), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = SM_FIXEDSLCNUM_SLICE }, SM_SINGLE_SLICE, SM_RESERVED, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>|<a class="code" href="libopenh264enc_8c.html#ac1e8a42306d8e67cb94ca31c3956ee78">DEPRECATED</a>, <span class="stringliteral">&quot;slice_mode&quot;</span> },</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    { <span class="stringliteral">&quot;slice_mode&quot;</span>, <span class="stringliteral">&quot;set slice mode, use slices/max_nal_size&quot;</span>, <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(slice_mode), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = SM_AUTO_SLICE }, SM_SINGLE_SLICE, SM_RESERVED, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>|<a class="code" href="libopenh264enc_8c.html#ac1e8a42306d8e67cb94ca31c3956ee78">DEPRECATED</a>, <span class="stringliteral">&quot;slice_mode&quot;</span> },</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        { <span class="stringliteral">&quot;fixed&quot;</span>, <span class="stringliteral">&quot;a fixed number of slices&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = SM_FIXEDSLCNUM_SLICE }, 0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;slice_mode&quot;</span> },</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 6)</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        { <span class="stringliteral">&quot;dyn&quot;</span>, <span class="stringliteral">&quot;Size limited (compatibility name)&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="libopenh264enc_8c.html#aafcaffe909c3df69bdc6b67b673ec1df">SM_SIZELIMITED_SLICE</a> }, 0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;slice_mode&quot;</span> },</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        { <span class="stringliteral">&quot;sizelimited&quot;</span>, <span class="stringliteral">&quot;Size limited&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="libopenh264enc_8c.html#aafcaffe909c3df69bdc6b67b673ec1df">SM_SIZELIMITED_SLICE</a> }, 0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;slice_mode&quot;</span> },</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        { <span class="stringliteral">&quot;rowmb&quot;</span>, <span class="stringliteral">&quot;one slice per row of macroblocks&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = SM_ROWMB_SLICE }, 0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;slice_mode&quot;</span> },</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        { <span class="stringliteral">&quot;auto&quot;</span>, <span class="stringliteral">&quot;automatic number of slices according to number of threads&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = SM_AUTO_SLICE }, 0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;slice_mode&quot;</span> },</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        { <span class="stringliteral">&quot;dyn&quot;</span>, <span class="stringliteral">&quot;Dynamic slicing&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = SM_DYN_SLICE }, 0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;slice_mode&quot;</span> },</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    { <span class="stringliteral">&quot;loopfilter&quot;</span>, <span class="stringliteral">&quot;enable loop filter&quot;</span>, <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(loopfilter), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 1 }, 0, 1, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a> },</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    { <span class="stringliteral">&quot;profile&quot;</span>, <span class="stringliteral">&quot;set profile restrictions&quot;</span>, <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a> }, <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a>, 0xffff, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#define PROFILE(name, value)  name, NULL, 0, AV_OPT_TYPE_CONST, { .i64 = value }, 0, 0, VE, &quot;profile&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        { <a class="code" href="libopenh264enc_8c.html#ac576ed29d05a998ce895176ea812bfb0">PROFILE</a>(<span class="stringliteral">&quot;constrained_baseline&quot;</span>, <a class="code" href="avcodec_8h.html#a9467289beec698b363d7319e454c351e">FF_PROFILE_H264_CONSTRAINED_BASELINE</a>) },</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        { <a class="code" href="libopenh264enc_8c.html#ac576ed29d05a998ce895176ea812bfb0">PROFILE</a>(<span class="stringliteral">&quot;main&quot;</span>,                 <a class="code" href="avcodec_8h.html#aa7d7e490128673e7747bb32ba7ea5486">FF_PROFILE_H264_MAIN</a>) },</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        { <a class="code" href="libopenh264enc_8c.html#ac576ed29d05a998ce895176ea812bfb0">PROFILE</a>(<span class="stringliteral">&quot;high&quot;</span>,                 <a class="code" href="avcodec_8h.html#a0ff6fe9cf1f7a1671d597b9524024332">FF_PROFILE_H264_HIGH</a>) },</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#undef PROFILE</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    { <span class="stringliteral">&quot;max_nal_size&quot;</span>, <span class="stringliteral">&quot;set maximum NAL size in bytes&quot;</span>, <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(max_nal_size), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 0 }, 0, INT_MAX, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a> },</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    { <span class="stringliteral">&quot;allow_skip_frames&quot;</span>, <span class="stringliteral">&quot;allow skipping frames to hit the target bitrate&quot;</span>, <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(skip_frames), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a> },</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#if FF_API_OPENH264_CABAC</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    { <span class="stringliteral">&quot;cabac&quot;</span>, <span class="stringliteral">&quot;Enable cabac(deprecated, use coder)&quot;</span>, <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(cabac), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = 0 }, 0, 1, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>|<a class="code" href="libopenh264enc_8c.html#ac1e8a42306d8e67cb94ca31c3956ee78">DEPRECATED</a> },</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    { <span class="stringliteral">&quot;coder&quot;</span>, <span class="stringliteral">&quot;Coder type&quot;</span>,  <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(coder), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = -1 }, -1, 1, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;coder&quot;</span> },</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        { <span class="stringliteral">&quot;default&quot;</span>,          <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = -1 }, INT_MIN, INT_MAX, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;coder&quot;</span> },</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        { <span class="stringliteral">&quot;cavlc&quot;</span>,            <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = 0 },  INT_MIN, INT_MAX, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;coder&quot;</span> },</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        { <span class="stringliteral">&quot;cabac&quot;</span>,            <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = 1 },  INT_MIN, INT_MAX, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;coder&quot;</span> },</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        { <span class="stringliteral">&quot;vlc&quot;</span>,              <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = 0 },  INT_MIN, INT_MAX, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;coder&quot;</span> },</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        { <span class="stringliteral">&quot;ac&quot;</span>,               <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = 1 },  INT_MIN, INT_MAX, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;coder&quot;</span> },</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    { <span class="stringliteral">&quot;rc_mode&quot;</span>, <span class="stringliteral">&quot;Select rate control mode&quot;</span>, <a class="code" href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="qsvenc_8c.html#a0f95ed71fe45fda6152a62f1f3b219c4">rc_mode</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>, { .i64 = RC_QUALITY_MODE }, RC_OFF_MODE, RC_TIMESTAMP_MODE, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;rc_mode&quot;</span> },</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        { <span class="stringliteral">&quot;off&quot;</span>,       <span class="stringliteral">&quot;bit rate control off&quot;</span>,                                                 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = RC_OFF_MODE },         0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;rc_mode&quot;</span> },</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        { <span class="stringliteral">&quot;quality&quot;</span>,   <span class="stringliteral">&quot;quality mode&quot;</span>,                                                         0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = RC_QUALITY_MODE },     0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;rc_mode&quot;</span> },</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        { <span class="stringliteral">&quot;bitrate&quot;</span>,   <span class="stringliteral">&quot;bitrate mode&quot;</span>,                                                         0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = RC_BITRATE_MODE },     0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;rc_mode&quot;</span> },</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        { <span class="stringliteral">&quot;buffer&quot;</span>,    <span class="stringliteral">&quot;using buffer status to adjust the video quality (no bitrate control)&quot;</span>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = RC_BUFFERBASED_MODE }, 0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;rc_mode&quot;</span> },</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 4)</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        { <span class="stringliteral">&quot;timestamp&quot;</span>, <span class="stringliteral">&quot;bit rate control based on timestamp&quot;</span>,                                  0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = RC_TIMESTAMP_MODE },   0, 0, <a class="code" href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;rc_mode&quot;</span> },</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;};</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <span class="keyword">class </span>= {</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#a3378f35ca205fd422d7edb3190867861">  112</a></span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;libopenh264enc&quot;</span>,</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#af35dc833b858a6b99a695329119334a0">  113</a></span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#a3cfe71f40b244562d3665516c3934c06">  114</a></span>&#160;    .option     = <a class="code" href="libopenh264enc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#a4c7a521b8f1a0769c09bfa4a1fca7dab">  115</a></span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;};</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#a0f8c41b5a6f78f3ddf0529c488276f79">  118</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="libopenh264enc_8c.html#a0f8c41b5a6f78f3ddf0529c488276f79">svc_encode_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="struct_s_v_c_context.html">SVCContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        WelsDestroySVCEncoder(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;skipped &gt; 0)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;%d frames skipped\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;skipped);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#a83a163edc75cca3dfde546ea02fcf38b">  129</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="libopenh264enc_8c.html#a83a163edc75cca3dfde546ea02fcf38b">svc_encode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="struct_s_v_c_context.html">SVCContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    SEncParamExt param = { 0 };</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">int</span> log_level;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    WelsTraceCallback callback_function;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="struct_a_v_c_p_b_properties.html">AVCPBProperties</a> *props;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> ((err = <a class="code" href="libopenh264_8c.html#a705f2ca6030e24ba259228f05b2fe69f">ff_libopenh264_check_version</a>(avctx)) &lt; 0)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (WelsCreateSVCEncoder(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to create encoder\n&quot;</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga4ebaa288c7684a26a591c501208910e4">AVERROR_UNKNOWN</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// Pass all libopenh264 messages to our callback, to allow ourselves to filter them.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    log_level = WELS_LOG_DETAIL;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)-&gt;SetOption(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder, ENCODER_OPTION_TRACE_LEVEL, &amp;log_level);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// Set the logging callback function to one that uses av_log() (see implementation above).</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    callback_function = (WelsTraceCallback) <a class="code" href="libopenh264_8c.html#a7440b03573178c9f8fb00d310c18f286">ff_libopenh264_trace_callback</a>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)-&gt;SetOption(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder, ENCODER_OPTION_TRACE_CALLBACK, &amp;callback_function);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// Set the AVCodecContext as the libopenh264 callback context so that it can be passed to av_log().</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)-&gt;SetOption(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder, ENCODER_OPTION_TRACE_CALLBACK_CONTEXT, &amp;avctx);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)-&gt;GetDefaultParams(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder, &amp;param);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &gt; 0 &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a> &gt; 0) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        param.fMaxFrameRate = <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">framerate</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a> &gt; INT_MAX / avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                   <span class="stringliteral">&quot;Could not set framerate for libopenh264enc: integer overflow\n&quot;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        param.fMaxFrameRate = 1.0 / <a class="code" href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">time_base</a>) / <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">ticks_per_frame</a>, 1);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    param.iPicWidth                  = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    param.iPicHeight                 = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    param.iTargetBitrate             = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> &gt; 0 ? avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a> : <a class="code" href="libopenh264enc_8c.html#ac831cfad8471acc559a2d7ae305e5f56">TARGET_BITRATE_DEFAULT</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    param.iMaxBitrate                = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa2b5582f1a360534310b686cc3f7c668">rc_max_rate</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">bit_rate</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    param.iRCMode                    = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;rc_mode;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">qmax</a> &gt;= 0)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        param.iMaxQp                 = av_clip(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">qmax</a>, 1, 51);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f63bc9141e25bf7f1cda0cef7cd4a60">qmin</a> &gt;= 0)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        param.iMinQp                 = av_clip(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a3f63bc9141e25bf7f1cda0cef7cd4a60">qmin</a>, 1, param.iMaxQp);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    param.iTemporalLayerNum          = 1;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    param.iSpatialLayerNum           = 1;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    param.bEnableDenoise             = 0;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    param.bEnableBackgroundDetection = 1;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    param.bEnableAdaptiveQuant       = 1;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    param.bEnableFrameSkip           = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;skip_frames;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    param.bEnableLongTermReference   = 0;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    param.iLtrMarkPeriod             = 30;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9b6b3f1fcbdcc2ad9f4dbb4370496e38">gop_size</a> &gt;= 0)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        param.uiIntraPeriod          = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a9b6b3f1fcbdcc2ad9f4dbb4370496e38">gop_size</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 4)</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    param.eSpsPpsIdStrategy          = CONSTANT_ID;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    param.bEnableSpsPpsIdAddition    = 0;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    param.bPrefixNalAddingCtrl       = 0;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    param.iLoopFilterDisableIdc      = !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;loopfilter;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    param.iEntropyCodingModeFlag     = 0;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    param.iMultipleThreadIdc         = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">thread_count</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">/* Allow specifying the libopenh264 profile through AVCodecContext. */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a> == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile &amp;&amp;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a> != avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a>)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">switch</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a>) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="avcodec_8h.html#a0ff6fe9cf1f7a1671d597b9524024332">FF_PROFILE_H264_HIGH</a>:</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="avcodec_8h.html#aa7d7e490128673e7747bb32ba7ea5486">FF_PROFILE_H264_MAIN</a>:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="avcodec_8h.html#a9467289beec698b363d7319e454c351e">FF_PROFILE_H264_CONSTRAINED_BASELINE</a>:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                   <span class="stringliteral">&quot;Unsupported avctx-&gt;profile: %d.\n&quot;</span>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#if FF_API_CODER_TYPE &amp;&amp; FF_API_OPENH264_CABAC</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder &lt; 0 &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a2499ed4719e2ee8f7c2a98f9a05e736f">coder_type</a> == <a class="code" href="avcodec_8h.html#aef7dafa475debc01ce46477d086302b9">FF_CODER_TYPE_AC</a>)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder = 1;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder &lt; 0)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cabac;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile == <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a> &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder &gt;= 0)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder == 0 ? <a class="code" href="avcodec_8h.html#a9467289beec698b363d7319e454c351e">FF_PROFILE_H264_CONSTRAINED_BASELINE</a> :</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 8)</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                     <a class="code" href="avcodec_8h.html#a0ff6fe9cf1f7a1671d597b9524024332">FF_PROFILE_H264_HIGH</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                     <a class="code" href="avcodec_8h.html#aa7d7e490128673e7747bb32ba7ea5486">FF_PROFILE_H264_MAIN</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 8)</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="avcodec_8h.html#a0ff6fe9cf1f7a1671d597b9524024332">FF_PROFILE_H264_HIGH</a>:</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        param.iEntropyCodingModeFlag = 1;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Using CABAC, &quot;</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="stringliteral">&quot;select EProfileIdc PRO_HIGH in libopenh264.\n&quot;</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="avcodec_8h.html#aa7d7e490128673e7747bb32ba7ea5486">FF_PROFILE_H264_MAIN</a>:</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        param.iEntropyCodingModeFlag = 1;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Using CABAC, &quot;</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="stringliteral">&quot;select EProfileIdc PRO_MAIN in libopenh264.\n&quot;</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="avcodec_8h.html#a9467289beec698b363d7319e454c351e">FF_PROFILE_H264_CONSTRAINED_BASELINE</a>:</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a>:</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        param.iEntropyCodingModeFlag = 0;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a>, <span class="stringliteral">&quot;Using CAVLC, &quot;</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;               <span class="stringliteral">&quot;select EProfileIdc PRO_BASELINE in libopenh264.\n&quot;</span>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        param.iEntropyCodingModeFlag = 0;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unsupported profile, &quot;</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;               <span class="stringliteral">&quot;select EProfileIdc PRO_BASELINE in libopenh264.\n&quot;</span>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    param.sSpatialLayers[0].iVideoWidth         = param.iPicWidth;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    param.sSpatialLayers[0].iVideoHeight        = param.iPicHeight;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    param.sSpatialLayers[0].fFrameRate          = param.fMaxFrameRate;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    param.sSpatialLayers[0].iSpatialBitrate     = param.iTargetBitrate;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    param.sSpatialLayers[0].iMaxSpatialBitrate  = param.iMaxBitrate;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 7)</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a> &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="comment">// Table E-1.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_rational.html">AVRational</a> sar_idc[] = {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            {   0,  0 }, <span class="comment">// Unspecified (never written here).</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            {   1,  1 }, {  12, 11 }, {  10, 11 }, {  16, 11 },</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            {  40, 33 }, {  24, 11 }, {  20, 11 }, {  32, 11 },</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            {  80, 33 }, {  18, 11 }, {  15, 11 }, {  64, 33 },</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            { 160, 99 }, <span class="comment">// Last 3 are unknown to openh264: {   4,  3 }, {   3,  2 }, {   2,  1 },</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        };</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> ESampleAspectRatio asp_idc[] = {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            ASP_UNSPECIFIED,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            ASP_1x1,      ASP_12x11,   ASP_10x11,   ASP_16x11,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            ASP_40x33,    ASP_24x11,   ASP_20x11,   ASP_32x11,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            ASP_80x33,    ASP_18x11,   ASP_15x11,   ASP_64x33,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            ASP_160x99,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        };</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordtype">int</span> num, den, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a>(&amp;num, &amp;den, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">num</a>,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                  avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">sample_aspect_ratio</a>.<a class="code" href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">den</a>, 65535);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(sar_idc); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">if</span> (num == sar_idc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].num &amp;&amp;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                den == sar_idc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].den)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(sar_idc)) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            param.sSpatialLayers[0].eAspectRatio = ASP_EXT_SAR;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            param.sSpatialLayers[0].sAspectRatioExtWidth = num;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            param.sSpatialLayers[0].sAspectRatioExtHeight = den;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            param.sSpatialLayers[0].eAspectRatio = asp_idc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        param.sSpatialLayers[0].bAspectRatioPresent = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        param.sSpatialLayers[0].bAspectRatioPresent = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> ((avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">slices</a> &gt; 1) &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_nal_size)) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;               <span class="stringliteral">&quot;Invalid combination -slices %d and -max_nal_size %d.\n&quot;</span>,</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;               avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">slices</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_nal_size);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">slices</a> &gt; 1)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;slice_mode = SM_FIXEDSLCNUM_SLICE;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_nal_size)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;slice_mode = <a class="code" href="libopenh264enc_8c.html#aafcaffe909c3df69bdc6b67b673ec1df">SM_SIZELIMITED_SLICE</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 6)</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    param.sSpatialLayers[0].sSliceArgument.uiSliceMode = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;slice_mode;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    param.sSpatialLayers[0].sSliceArgument.uiSliceNum  = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">slices</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    param.sSpatialLayers[0].sSliceCfg.uiSliceMode               = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;slice_mode;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    param.sSpatialLayers[0].sSliceCfg.sSliceArgument.uiSliceNum = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">slices</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">slices</a> == 0 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;slice_mode == SM_FIXEDSLCNUM_SLICE)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Slice count will be set automatically\n&quot;</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;slice_mode == <a class="code" href="libopenh264enc_8c.html#aafcaffe909c3df69bdc6b67b673ec1df">SM_SIZELIMITED_SLICE</a>) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_nal_size) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            param.uiMaxNalSize = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_nal_size;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">#if OPENH264_VER_AT_LEAST(1, 6)</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            param.sSpatialLayers[0].sSliceArgument.uiSliceSizeConstraint = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_nal_size;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            param.sSpatialLayers[0].sSliceCfg.sSliceArgument.uiSliceSizeConstraint = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;max_nal_size;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid -max_nal_size, &quot;</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                   <span class="stringliteral">&quot;specify a valid max_nal_size to use -slice_mode dyn\n&quot;</span>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> ((*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)-&gt;InitializeExt(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder, &amp;param) != cmResultSuccess) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Initialize failed\n&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga4ebaa288c7684a26a591c501208910e4">AVERROR_UNKNOWN</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga9ed82634c59b339786575827c47a8f68">AV_CODEC_FLAG_GLOBAL_HEADER</a>) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        SFrameBSInfo fbi = { 0 };</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 0;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)-&gt;EncodeParameterSets(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder, &amp;fbi);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; fbi.sLayerInfo[0].iNalCount; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += fbi.sLayerInfo[0].pNalLengthInByte[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + <a class="code" href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">if</span> (!avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a> = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        memcpy(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>, fbi.sLayerInfo[0].pBsBuf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    props = <a class="code" href="libavcodec_2internal_8h.html#a8e0ce66394bedcfbdc52cf8b7b7bedba">ff_add_cpb_side_data</a>(avctx);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (!props)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    props-&gt;<a class="code" href="struct_a_v_c_p_b_properties.html#a920910dd19158348cb35fc576929bfd1">max_bitrate</a> = param.iMaxBitrate;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    props-&gt;<a class="code" href="struct_a_v_c_p_b_properties.html#a128a4f2eda5bfa38c6b21195f310b116">avg_bitrate</a> = param.iTargetBitrate;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#ac77ab6a910694a159a437c29b68d8923">  369</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="libopenh264enc_8c.html#ac77ab6a910694a159a437c29b68d8923">svc_encode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                            <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, <span class="keywordtype">int</span> *got_packet)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;{</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="struct_s_v_c_context.html">SVCContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    SFrameBSInfo fbi = { 0 };</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordtype">int</span> encoded;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    SSourcePicture <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a> = { 0 };</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 0, layer, first_layer = 0;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">int</span> layer_size[MAX_LAYER_NUM_OF_FRAME] = { 0 };</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>.iColorFormat = videoFormatI420;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>.iStride[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>.pData[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]   = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>.iPicWidth  = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>.iPicHeight = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;pict_type == <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)-&gt;ForceIntraFrame(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    encoded = (*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder)-&gt;EncodeFrame(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;encoder, &amp;<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>, &amp;fbi);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span> (encoded != cmResultSuccess) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;EncodeFrame failed\n&quot;</span>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga4ebaa288c7684a26a591c501208910e4">AVERROR_UNKNOWN</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (fbi.eFrameType == videoFrameTypeSkip) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;skipped++;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;frame skipped\n&quot;</span>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    first_layer = 0;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// Normal frames are returned with one single layer, while IDR</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// frames have two layers, where the first layer contains the SPS/PPS.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// If using global headers, don&#39;t include the SPS/PPS in the returned</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// packet - thus, only return one layer.</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga9ed82634c59b339786575827c47a8f68">AV_CODEC_FLAG_GLOBAL_HEADER</a>)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        first_layer = fbi.iLayerNum - 1;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">for</span> (layer = first_layer; layer &lt; fbi.iLayerNum; layer++) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; fbi.sLayerInfo[layer].iNalCount; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            layer_size[layer] += fbi.sLayerInfo[layer].pNalLengthInByte[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += layer_size[layer];</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;%d slices\n&quot;</span>, fbi.sLayerInfo[fbi.iLayerNum - 1].iNalCount);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a>(avctx, avpkt, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>))) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Error getting output packet\n&quot;</span>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 0;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">for</span> (layer = first_layer; layer &lt; fbi.iLayerNum; layer++) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        memcpy(avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, fbi.sLayerInfo[layer].pBsBuf, layer_size[layer]);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> += layer_size[layer];</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">pts</a> = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;pts;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (fbi.eFrameType == videoFrameTypeIDR)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    *got_packet = 1;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#af6af5df0f012028e0b2edb74dc46f06f">  433</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_default.html">AVCodecDefault</a> <a class="code" href="libopenh264enc_8c.html#af6af5df0f012028e0b2edb74dc46f06f">svc_enc_defaults</a>[] = {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    { <span class="stringliteral">&quot;b&quot;</span>,         <span class="stringliteral">&quot;0&quot;</span>     },</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    { <span class="stringliteral">&quot;g&quot;</span>,         <span class="stringliteral">&quot;-1&quot;</span>    },</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    { <span class="stringliteral">&quot;qmin&quot;</span>,      <span class="stringliteral">&quot;-1&quot;</span>    },</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    { <span class="stringliteral">&quot;qmax&quot;</span>,      <span class="stringliteral">&quot;-1&quot;</span>    },</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;};</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="libopenh264enc_8c.html#a54c93911e8c17795999663272b36f1d4">  441</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="libopenh264enc_8c.html#a54c93911e8c17795999663272b36f1d4">ff_libopenh264_encoder</a> = {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;libopenh264&quot;</span>,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;OpenH264 H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10&quot;</span>),</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a>,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="libopenh264enc_8c.html#ab96b28a9bfdb461fb70c36c4fdf85d44">SVCContext</a>),</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="libopenh264enc_8c.html#a83a163edc75cca3dfde546ea02fcf38b">svc_encode_init</a>,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    .encode2        = <a class="code" href="libopenh264enc_8c.html#ac77ab6a910694a159a437c29b68d8923">svc_encode_frame</a>,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    .close          = <a class="code" href="libopenh264enc_8c.html#a0f8c41b5a6f78f3ddf0529c488276f79">svc_encode_close</a>,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#gaec1cd58fda7b88067a3402cddc9b4b96">AV_CODEC_CAP_AUTO_THREADS</a>,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    .caps_internal  = <a class="code" href="libavcodec_2internal_8h.html#a93962007020d71a3541778040d30413f">FF_CODEC_CAP_INIT_THREADSAFE</a> | <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]){ <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                                    <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a> },</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    .defaults       = <a class="code" href="libopenh264enc_8c.html#af6af5df0f012028e0b2edb74dc46f06f">svc_enc_defaults</a>,</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    .priv_class     = &amp;<span class="keyword">class</span>,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    .wrapper_name   = <span class="stringliteral">&quot;libopenh264&quot;</span>,</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alibopenh264_8c_html_a705f2ca6030e24ba259228f05b2fe69f"><div class="ttname"><a href="libopenh264_8c.html#a705f2ca6030e24ba259228f05b2fe69f">ff_libopenh264_check_version</a></div><div class="ttdeci">int ff_libopenh264_check_version(void *logctx)</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264_8c_source.html#l00049">libopenh264.c:49</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_aa6ef004d10669ab4ee062367a014ea33"><div class="ttname"><a href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_ENABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00085">internal.h:85</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html"><div class="ttname"><a href="struct_s_v_c_context.html">SVCContext</a></div><div class="ttdef"><b>Definition:</b> <a href="libopenh264dec_8c_source.html#l00036">libopenh264dec.c:36</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a93962007020d71a3541778040d30413f"><div class="ttname"><a href="libavcodec_2internal_8h.html#a93962007020d71a3541778040d30413f">FF_CODEC_CAP_INIT_THREADSAFE</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_THREADSAFE</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00040">internal.h:40</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6b53fda85ad61baa345edbd96cb8a33c"><div class="ttname"><a href="struct_a_v_codec_context.html#a6b53fda85ad61baa345edbd96cb8a33c">AVCodecContext::bit_rate</a></div><div class="ttdeci">int64_t bit_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00576">avcodec.h:576</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_ad3105762c28a86088c25f6b721997467"><div class="ttname"><a href="struct_s_v_c_context.html#ad3105762c28a86088c25f6b721997467">SVCContext::coder</a></div><div class="ttdeci">int coder</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00054">libopenh264enc.c:54</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a3f63bc9141e25bf7f1cda0cef7cd4a60"><div class="ttname"><a href="struct_a_v_codec_context.html#a3f63bc9141e25bf7f1cda0cef7cd4a60">AVCodecContext::qmin</a></div><div class="ttdeci">int qmin</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01368">avcodec.h:1368</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_acab91cde63eb978b8091f5701fa1ae22"><div class="ttname"><a href="struct_s_v_c_context.html#acab91cde63eb978b8091f5701fa1ae22">SVCContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00047">libopenh264enc.c:47</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_a12323dc31d37ea08c9f268f1c53a71f2"><div class="ttname"><a href="struct_s_v_c_context.html#a12323dc31d37ea08c9f268f1c53a71f2">SVCContext::cabac</a></div><div class="ttdeci">int cabac</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00052">libopenh264enc.c:52</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a9467289beec698b363d7319e454c351e"><div class="ttname"><a href="avcodec_8h.html#a9467289beec698b363d7319e454c351e">FF_PROFILE_H264_CONSTRAINED_BASELINE</a></div><div class="ttdeci">#define FF_PROFILE_H264_CONSTRAINED_BASELINE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01899">avcodec.h:1899</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_aacd2c6f4a09d71ea05bdcc1c2e9d42dd"><div class="ttname"><a href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a></div><div class="ttdeci">mfxU16 profile</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00045">qsvenc.c:45</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga9b58b28e2d429b930b69db19877f76a8"><div class="ttname"><a href="group__lavu__log__constants.html#ga9b58b28e2d429b930b69db19877f76a8">AV_LOG_VERBOSE</a></div><div class="ttdeci">#define AV_LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00210">log.h:210</a></div></div>
<div class="ttc" id="amathematics_8h_html"><div class="ttname"><a href="mathematics_8h.html">mathematics.h</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_a54c93911e8c17795999663272b36f1d4"><div class="ttname"><a href="libopenh264enc_8c.html#a54c93911e8c17795999663272b36f1d4">ff_libopenh264_encoder</a></div><div class="ttdeci">AVCodec ff_libopenh264_encoder</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00441">libopenh264enc.c:441</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga4ebaa288c7684a26a591c501208910e4"><div class="ttname"><a href="group__lavu__error.html#ga4ebaa288c7684a26a591c501208910e4">AVERROR_UNKNOWN</a></div><div class="ttdeci">#define AVERROR_UNKNOWN</div><div class="ttdoc">Unknown error, typically from an external library.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00071">error.h:71</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a8e0ce66394bedcfbdc52cf8b7b7bedba"><div class="ttname"><a href="libavcodec_2internal_8h.html#a8e0ce66394bedcfbdc52cf8b7b7bedba">ff_add_cpb_side_data</a></div><div class="ttdeci">AVCPBProperties * ff_add_cpb_side_data(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l02005">utils.c:2005</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="alibopenh264_8h_html"><div class="ttname"><a href="libopenh264_8h.html">libopenh264.h</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga9ed82634c59b339786575827c47a8f68"><div class="ttname"><a href="group__lavc__core.html#ga9ed82634c59b339786575827c47a8f68">AV_CODEC_FLAG_GLOBAL_HEADER</a></div><div class="ttdeci">#define AV_CODEC_FLAG_GLOBAL_HEADER</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00329">avcodec.h:329</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae246ca7a1c72c151891ed0599e8dbfba"><div class="ttname"><a href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">AVCodecContext::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00628">avcodec.h:628</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="libopenh264enc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00063">libopenh264enc.c:63</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a9b6b3f1fcbdcc2ad9f4dbb4370496e38"><div class="ttname"><a href="struct_a_v_codec_context.html#a9b6b3f1fcbdcc2ad9f4dbb4370496e38">AVCodecContext::gop_size</a></div><div class="ttdeci">int gop_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:721</a></div></div>
<div class="ttc" id="astruct_a_v_codec_default_html"><div class="ttname"><a href="struct_a_v_codec_default.html">AVCodecDefault</a></div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00208">internal.h:208</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a0ff6fe9cf1f7a1671d597b9524024332"><div class="ttname"><a href="avcodec_8h.html#a0ff6fe9cf1f7a1671d597b9524024332">FF_PROFILE_H264_HIGH</a></div><div class="ttdeci">#define FF_PROFILE_H264_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01902">avcodec.h:1902</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga4fd9c0b8e663cf3d55e89fbc6ce71602"><div class="ttname"><a href="group__lavu__math__rational.html#ga4fd9c0b8e663cf3d55e89fbc6ce71602">av_reduce</a></div><div class="ttdeci">int av_reduce(int *dst_num, int *dst_den, int64_t num, int64_t den, int64_t max)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8c_source.html#l00035">rational.c:35</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_a79aa00c7366104f0be72b8bcdf2c8d55"><div class="ttname"><a href="struct_s_v_c_context.html#a79aa00c7366104f0be72b8bcdf2c8d55">SVCContext::encoder</a></div><div class="ttdeci">ISVCEncoder * encoder</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00044">libopenh264enc.c:44</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aa852b6227d0778b62e9cc4034ad3720c"><div class="ttname"><a href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">AVCodecContext::thread_count</a></div><div class="ttdeci">int thread_count</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01785">avcodec.h:1785</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_a8185b96a071bdb52c1446b8e1a896bec"><div class="ttname"><a href="struct_s_v_c_context.html#a8185b96a071bdb52c1446b8e1a896bec">SVCContext::skipped</a></div><div class="ttdeci">int skipped</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00050">libopenh264enc.c:50</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="agroup__lavu__math__rational_html_ga935dbbf6bde8dfe5fa7ddb1da582eb07"><div class="ttname"><a href="group__lavu__math__rational.html#ga935dbbf6bde8dfe5fa7ddb1da582eb07">av_q2d</a></div><div class="ttdeci">static double av_q2d(AVRational a)</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00104">rational.h:104</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_ac77ab6a910694a159a437c29b68d8923"><div class="ttname"><a href="libopenh264enc_8c.html#ac77ab6a910694a159a437c29b68d8923">svc_encode_frame</a></div><div class="ttdeci">static int svc_encode_frame(AVCodecContext *avctx, AVPacket *avpkt, const AVFrame *frame, int *got_packet)</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00369">libopenh264enc.c:369</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab015db3b7fcd227193a7c17283914187"><div class="ttname"><a href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">AVCodecContext::qmax</a></div><div class="ttdeci">int qmax</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01375">avcodec.h:1375</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a1d8d03f5be975b8a728574cbdb00c896"><div class="ttname"><a href="avcodec_8h.html#a1d8d03f5be975b8a728574cbdb00c896">FF_PROFILE_UNKNOWN</a></div><div class="ttdeci">#define FF_PROFILE_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01860">avcodec.h:1860</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00162">libkvazaar.c:300</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5252d34fbce300228d4dbda19a8c3293"><div class="ttname"><a href="struct_a_v_codec_context.html#a5252d34fbce300228d4dbda19a8c3293">AVCodecContext::sample_aspect_ratio</a></div><div class="ttdeci">AVRational sample_aspect_ratio</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00905">avcodec.h:905</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_a1d27ad5cccb3403a5b7a1bf274113eed"><div class="ttname"><a href="struct_s_v_c_context.html#a1d27ad5cccb3403a5b7a1bf274113eed">SVCContext::max_nal_size</a></div><div class="ttdeci">int max_nal_size</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00048">libopenh264enc.c:48</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a73bde0a37f3b1efc839f11295bfbf42a"><div class="ttname"><a href="struct_a_v_packet.html#a73bde0a37f3b1efc839f11295bfbf42a">AVPacket::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00356">packet.h:356</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV420P</div><div class="ttdoc">planar YUV 4:2:0, 12bpp, (1 Cr &amp; Cb sample per 2x2 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00066">pixfmt.h:66</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3d4c051c8b18a3c18750676a308c10be">AV_CODEC_ID_H264</a></div><div class="ttdeci">@ AV_CODEC_ID_H264</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00076">codec_id.h:76</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aff4e6a78c0f08be43879644632e04b24"><div class="ttname"><a href="struct_a_v_codec_context.html#aff4e6a78c0f08be43879644632e04b24">AVCodecContext::slices</a></div><div class="ttdeci">int slices</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01177">avcodec.h:1177</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_ac4d8496bfd401d705a5e955734dfedbc"><div class="ttname"><a href="struct_s_v_c_context.html#ac4d8496bfd401d705a5e955734dfedbc">SVCContext::loopfilter</a></div><div class="ttdeci">int loopfilter</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00046">libopenh264enc.c:46</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="astruct_a_v_c_p_b_properties_html_a920910dd19158348cb35fc576929bfd1"><div class="ttname"><a href="struct_a_v_c_p_b_properties.html#a920910dd19158348cb35fc576929bfd1">AVCPBProperties::max_bitrate</a></div><div class="ttdeci">int max_bitrate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00454">avcodec.h:454</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_aafcaffe909c3df69bdc6b67b673ec1df"><div class="ttname"><a href="libopenh264enc_8c.html#aafcaffe909c3df69bdc6b67b673ec1df">SM_SIZELIMITED_SLICE</a></div><div class="ttdeci">#define SM_SIZELIMITED_SLICE</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00037">libopenh264enc.c:37</a></div></div>
<div class="ttc" id="astruct_a_v_c_p_b_properties_html_a128a4f2eda5bfa38c6b21195f310b116"><div class="ttname"><a href="struct_a_v_c_p_b_properties.html#a128a4f2eda5bfa38c6b21195f310b116">AVCPBProperties::avg_bitrate</a></div><div class="ttdeci">int avg_bitrate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00472">avcodec.h:472</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7abe7095de73df98df4895bf9e25fc6b"><div class="ttname"><a href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">AVCodecContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01859">avcodec.h:1859</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gaec1cd58fda7b88067a3402cddc9b4b96"><div class="ttname"><a href="group__lavc__core.html#gaec1cd58fda7b88067a3402cddc9b4b96">AV_CODEC_CAP_AUTO_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_AUTO_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00118">codec.h:118</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_ac831cfad8471acc559a2d7ae305e5f56"><div class="ttname"><a href="libopenh264enc_8c.html#ac831cfad8471acc559a2d7ae305e5f56">TARGET_BITRATE_DEFAULT</a></div><div class="ttdeci">#define TARGET_BITRATE_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00040">libopenh264enc.c:40</a></div></div>
<div class="ttc" id="aregdef_8h_html_a8d40798874dab99986478ef00ff3e297"><div class="ttname"><a href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a></div><div class="ttdeci">#define sp</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00063">regdef.h:63</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a4d08b297e97eefd66c714df4fff493c8"><div class="ttname"><a href="struct_a_v_codec_context.html#a4d08b297e97eefd66c714df4fff493c8">AVCodecContext::framerate</a></div><div class="ttdeci">AVRational framerate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02069">avcodec.h:2069</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00606">avcodec.h:606</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab7bfeb9fa5840aac090e2b0bd0ef7589"><div class="ttname"><a href="struct_a_v_codec_context.html#ab7bfeb9fa5840aac090e2b0bd0ef7589">AVCodecContext::time_base</a></div><div class="ttdeci">AVRational time_base</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00649">avcodec.h:649</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_ac1e8a42306d8e67cb94ca31c3956ee78"><div class="ttname"><a href="libopenh264enc_8c.html#ac1e8a42306d8e67cb94ca31c3956ee78">DEPRECATED</a></div><div class="ttdeci">#define DEPRECATED</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00062">libopenh264enc.c:62</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_ac576ed29d05a998ce895176ea812bfb0"><div class="ttname"><a href="libopenh264enc_8c.html#ac576ed29d05a998ce895176ea812bfb0">PROFILE</a></div><div class="ttdeci">#define PROFILE(name, value)</div></div>
<div class="ttc" id="aattributes_8h_html"><div class="ttname"><a href="attributes_8h.html">attributes.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aa2b5582f1a360534310b686cc3f7c668"><div class="ttname"><a href="struct_a_v_codec_context.html#aa2b5582f1a360534310b686cc3f7c668">AVCodecContext::rc_max_rate</a></div><div class="ttdeci">int64_t rc_max_rate</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01404">avcodec.h:1404</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_a02c7c46f606839795aeafa2a5b360de3"><div class="ttname"><a href="struct_s_v_c_context.html#a02c7c46f606839795aeafa2a5b360de3">SVCContext::rc_mode</a></div><div class="ttdeci">int rc_mode</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00057">libopenh264enc.c:57</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab4ca16b0fda02840383d0b6d08a44660"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00048">internal.h:48</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_a16632d37d73a2340fd1d0b4cc4334320"><div class="ttname"><a href="struct_s_v_c_context.html#a16632d37d73a2340fd1d0b4cc4334320">SVCContext::av_class</a></div><div class="ttdeci">const AVClass * av_class</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00043">libopenh264enc.c:43</a></div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_ab96b28a9bfdb461fb70c36c4fdf85d44"><div class="ttname"><a href="libopenh264enc_8c.html#ab96b28a9bfdb461fb70c36c4fdf85d44">SVCContext</a></div><div class="ttdeci">struct SVCContext SVCContext</div></div>
<div class="ttc" id="alibopenh264enc_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="libopenh264enc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00060">libopenh264enc.c:60</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_a83a163edc75cca3dfde546ea02fcf38b"><div class="ttname"><a href="libopenh264enc_8c.html#a83a163edc75cca3dfde546ea02fcf38b">svc_encode_init</a></div><div class="ttdeci">static av_cold int svc_encode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00129">libopenh264enc.c:129</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abe964316aaaa61967b012efdcced79c4"><div class="ttname"><a href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">AVCodecContext::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00627">avcodec.h:627</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_ae9a98c10a301c5e937095105b6f0fdb9"><div class="ttname"><a href="struct_a_v_rational.html#ae9a98c10a301c5e937095105b6f0fdb9">AVRational::num</a></div><div class="ttdeci">int num</div><div class="ttdoc">Numerator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00059">rational.h:59</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga8f5b632a03ce83ac8e025894b1fc307a"><div class="ttname"><a href="group__lavc__decoding.html#ga8f5b632a03ce83ac8e025894b1fc307a">AV_INPUT_BUFFER_PADDING_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_PADDING_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00215">avcodec.h:215</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_a0f8c41b5a6f78f3ddf0529c488276f79"><div class="ttname"><a href="libopenh264enc_8c.html#a0f8c41b5a6f78f3ddf0529c488276f79">svc_encode_close</a></div><div class="ttdeci">static av_cold int svc_encode_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00118">libopenh264enc.c:118</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a2499ed4719e2ee8f7c2a98f9a05e736f"><div class="ttname"><a href="struct_a_v_codec_context.html#a2499ed4719e2ee8f7c2a98f9a05e736f">AVCodecContext::coder_type</a></div><div class="ttdeci">attribute_deprecated int coder_type</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01443">avcodec.h:1443</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_a3dcf4acb9f7d9c57f43802a9a1ac4ee6"><div class="ttname"><a href="libopenh264enc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a></div><div class="ttdeci">#define VE</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00061">libopenh264enc.c:61</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aef7dafa475debc01ce46477d086302b9"><div class="ttname"><a href="avcodec_8h.html#aef7dafa475debc01ce46477d086302b9">FF_CODER_TYPE_AC</a></div><div class="ttdeci">#define FF_CODER_TYPE_AC</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01436">avcodec.h:1436</a></div></div>
<div class="ttc" id="alibopenh264_8c_html_a7440b03573178c9f8fb00d310c18f286"><div class="ttname"><a href="libopenh264_8c.html#a7440b03573178c9f8fb00d310c18f286">ff_libopenh264_trace_callback</a></div><div class="ttdeci">void ff_libopenh264_trace_callback(void *ctx, int level, const char *msg)</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264_8c_source.html#l00041">libopenh264.c:41</a></div></div>
<div class="ttc" id="aavcodec_8h_html_aa7d7e490128673e7747bb32ba7ea5486"><div class="ttname"><a href="avcodec_8h.html#aa7d7e490128673e7747bb32ba7ea5486">FF_PROFILE_H264_MAIN</a></div><div class="ttdeci">#define FF_PROFILE_H264_MAIN</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01900">avcodec.h:1900</a></div></div>
<div class="ttc" id="alibopenh264enc_8c_html_af6af5df0f012028e0b2edb74dc46f06f"><div class="ttname"><a href="libopenh264enc_8c.html#af6af5df0f012028e0b2edb74dc46f06f">svc_enc_defaults</a></div><div class="ttdeci">static const AVCodecDefault svc_enc_defaults[]</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00433">libopenh264enc.c:433</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5837cafc419c2b5ecdb1dfa330675d13"><div class="ttname"><a href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_DISABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00084">internal.h:84</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html"><div class="ttname"><a href="struct_a_v_rational.html">AVRational</a></div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00058">rational.h:58</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_c_p_b_properties_html"><div class="ttname"><a href="struct_a_v_c_p_b_properties.html">AVCPBProperties</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00448">avcodec.h:448</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_a54b283e007bb4e2acefb532609d432d3"><div class="ttname"><a href="struct_s_v_c_context.html#a54b283e007bb4e2acefb532609d432d3">SVCContext::slice_mode</a></div><div class="ttdeci">int slice_mode</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00045">libopenh264enc.c:45</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_a0f95ed71fe45fda6152a62f1f3b219c4"><div class="ttname"><a href="qsvenc_8c.html#a0f95ed71fe45fda6152a62f1f3b219c4">rc_mode</a></div><div class="ttdeci">mfxU16 rc_mode</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00084">qsvenc.c:84</a></div></div>
<div class="ttc" id="astruct_s_v_c_context_html_a3778d2df6b5ab5f21c74dd06fcfdd734"><div class="ttname"><a href="struct_s_v_c_context.html#a3778d2df6b5ab5f21c74dd06fcfdd734">SVCContext::skip_frames</a></div><div class="ttdeci">int skip_frames</div><div class="ttdef"><b>Definition:</b> <a href="libopenh264enc_8c_source.html#l00049">libopenh264enc.c:49</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="aencode_8c_html_a699df1216e8d9d57959f99508e9aadf6"><div class="ttname"><a href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a></div><div class="ttdeci">int ff_alloc_packet2(AVCodecContext *avctx, AVPacket *avpkt, int64_t size, int64_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="encode_8c_source.html#l00033">encode.c:33</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="astruct_a_v_rational_html_aee46bdac67d965ac0a4204e753f910c3"><div class="ttname"><a href="struct_a_v_rational.html#aee46bdac67d965ac0a4204e753f910c3">AVRational::den</a></div><div class="ttdeci">int den</div><div class="ttdoc">Denominator.</div><div class="ttdef"><b>Definition:</b> <a href="rational_8h_source.html#l00060">rational.h:60</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5c62b9c1528a272923ea2a4b86dea31a"><div class="ttname"><a href="struct_a_v_codec_context.html#a5c62b9c1528a272923ea2a4b86dea31a">AVCodecContext::ticks_per_frame</a></div><div class="ttdeci">int ticks_per_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00658">avcodec.h:658</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
