<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/doc/multithreading.txt File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">E:/github/ffmpeg/doc/multithreading.txt File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aaf4ad2551fbccbc7086a6e2d03ef86e9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#aaf4ad2551fbccbc7086a6e2d03ef86e9">clients</a> = =============================================<a class="el" href="struct_slice.html">Slice</a> threading - *The client '<a class="el" href="sw__rgb_8c.html#a517a4433fe5466cc6af1c80c538b0881">s</a> <a class="el" href="api-band-test_8c.html#aa57c1f6c2df235153ce61242a4d85adc">draw_horiz_band</a>() must <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> thread-safe according <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> the <a class="el" href="cbs__jpeg__syntax__template_8c.html#a4149a62d0e5bafe86ee74e03003161f9">comment</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> avcodec.h. <a class="el" href="struct_frame.html">Frame</a> threading - *Restrictions with slice threading also apply. *For best performance, the client should <a class="el" href="tests_2swresample_8c.html#afe699f10da48cabcc52a4c54f96ecaac">set</a> thread_safe_callbacks <a class="el" href="audioconvert_8c.html#a399cece626adcffd619948d47f2d975a">if</a> <a class="el" href="writing__filters_8txt.html#a3859a4129dbce920c88bdbeb078d4728">it</a> provides <a class="el" href="h264pred__template_8c.html#a4124bc0a9335c27f086f24ba207a4912">a</a> thread-safe <a class="el" href="svq3_8c.html#a85ff541f248b1dfea6f1a6bfb244d8df">get_buffer</a>() callback. *There <a class="el" href="swscale_8txt.html#a723c667eda7f9b65ec345ca1e08ab17a">is</a> one <a class="el" href="cbs__vp9__syntax__template_8c.html#a78a801b08f3801b9059f0450b834984e">frame</a> of delay added <a class="el" href="input_8c.html#a1cc7a9678a80af263f2be38bc9647316">for</a> every thread beyond the <a class="el" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a> one. Clients must <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> able <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> handle this</td></tr>
<tr class="separator:aaf4ad2551fbccbc7086a6e2d03ef86e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab66ca23680e500f1f51b1608e8a5419a"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel *The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a> () has been called <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> them. reget_buffer() and <a class="el" href="seek_8c.html#a5819dbc2d305e99e930c734a0d28bc3b">buffer</a> age optimizations no longer work. *The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> written <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> after <a class="el" href="libavcodec_2utils_8c.html#a8f2a011a6e511ed85066482460c6c5cd">ff_thread_report_progress</a>() has been called <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> them. This includes <a class="el" href="multithreading_8txt.html#a24b6f80b720c2b4cc33c2de7d29bd240">draw_edges</a>(). Porting <a class="el" href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a> <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> <a class="el" href="cbs__vp9__syntax__template_8c.html#a78a801b08f3801b9059f0450b834984e">frame</a> threading</td></tr>
<tr class="separator:ab66ca23680e500f1f51b1608e8a5419a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a40bbaff145731efcb417bb8453d19"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel *The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#a76a40bbaff145731efcb417bb8453d19">get_buffer</a> ()</td></tr>
<tr class="separator:a76a40bbaff145731efcb417bb8453d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c3cac75166393103fbc1594899e0b3"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel *The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#a97c3cac75166393103fbc1594899e0b3">ff_thread_finish_setup</a> () afterwards. If <a class="el" href="undefined_8txt.html#a97ad0c09402bfbbae274bd564295f850">some</a> <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> can 't <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> moved</td></tr>
<tr class="separator:a97c3cac75166393103fbc1594899e0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e871baf97bc0c256543f0fde05c8307"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel *The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call have&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#a4e871baf97bc0c256543f0fde05c8307">update_thread_context</a> () <a class="el" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> <a class="el" href="writing__filters_8txt.html#a3859a4129dbce920c88bdbeb078d4728">it</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> the next thread. Add <a class="el" href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a> <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> the codec capabilities. There will <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> very little speed gain at this point but <a class="el" href="writing__filters_8txt.html#a3859a4129dbce920c88bdbeb078d4728">it</a> should work. If there are inter-<a class="el" href="cbs__vp9__syntax__template_8c.html#a78a801b08f3801b9059f0450b834984e">frame</a> dependencies</td></tr>
<tr class="separator:a4e871baf97bc0c256543f0fde05c8307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd353e7cf21396158f646410741c5ce"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel *The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call have so the codec calls ff_thread_report&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#a5bd353e7cf21396158f646410741c5ce">await_progress</a> ()</td></tr>
<tr class="separator:a5bd353e7cf21396158f646410741c5ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20d53520fe26af28cbae5338a670db5"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel *The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call have so the codec calls ff_thread_report <a class="el" href="tests_2swresample_8c.html#afe699f10da48cabcc52a4c54f96ecaac">set</a> <a class="el" href="libavcodec_2internal_8h.html#a133d9f0e29862e9f1726beafc530e052">FF_CODEC_CAP_ALLOCATE_PROGRESS</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_codec.html">AVCodec</a> caps_internal and use&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#ad20d53520fe26af28cbae5338a670db5">ff_thread_get_buffer</a> () <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> <a class="el" href="cbs__h2645_8c.html#a09a36ce7cd425b67f5af376c21363e4c">allocate</a> frames. The <a class="el" href="tests_2movenc_8c.html#a61217d5bc9d5b446d9c08e7ca401b733">frames</a> must then <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> freed with <a class="el" href="libavcodec_2utils_8c.html#aa3f6cbc3d5b74d46b247469ca3247ad1">ff_thread_release_buffer</a>(). <a class="el" href="writing__filters_8txt.html#adba4db634fe47d450a90228871dde5f6">Otherwise</a> <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> directly into the user-supplied frames. Call <a class="el" href="libavcodec_2utils_8c.html#a8f2a011a6e511ed85066482460c6c5cd">ff_thread_report_progress</a>() after <a class="el" href="undefined_8txt.html#a97ad0c09402bfbbae274bd564295f850">some</a> part of the current picture has decoded. <a class="el" href="vf__geq_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a42a4ade1acd55a49164099104990e09f">A</a> good place <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> put this <a class="el" href="swscale_8txt.html#a723c667eda7f9b65ec345ca1e08ab17a">is</a> where <a class="el" href="api-band-test_8c.html#aa57c1f6c2df235153ce61242a4d85adc">draw_horiz_band</a>() <a class="el" href="swscale_8txt.html#a723c667eda7f9b65ec345ca1e08ab17a">is</a> called - <a class="el" href="dnn__backend__native__layer__mathbinary_8c.html#a01cc0e7283f9c4498568405f5920729e">add</a> this <a class="el" href="audioconvert_8c.html#a399cece626adcffd619948d47f2d975a">if</a> <a class="el" href="writing__filters_8txt.html#a3859a4129dbce920c88bdbeb078d4728">it</a> isn 't called anywhere</td></tr>
<tr class="separator:ad20d53520fe26af28cbae5338a670db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b6f80b720c2b4cc33c2de7d29bd240"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel *The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call have so the codec calls ff_thread_report <a class="el" href="tests_2swresample_8c.html#afe699f10da48cabcc52a4c54f96ecaac">set</a> <a class="el" href="libavcodec_2internal_8h.html#a133d9f0e29862e9f1726beafc530e052">FF_CODEC_CAP_ALLOCATE_PROGRESS</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_codec.html">AVCodec</a> caps_internal and use as <a class="el" href="writing__filters_8txt.html#a3859a4129dbce920c88bdbeb078d4728">it</a> <a class="el" href="sw__rgb_8c.html#a517a4433fe5466cc6af1c80c538b0881">s</a> useful too and the implementation <a class="el" href="swscale_8txt.html#a723c667eda7f9b65ec345ca1e08ab17a">is</a> trivial when you <a class="el" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a> doing this Note <a class="el" href="filter__design_8txt.html#aa3db53f7995de75dd50930fc259ebb40">that</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#a24b6f80b720c2b4cc33c2de7d29bd240">draw_edges</a> () needs <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> called before reporting progress. Before accessing <a class="el" href="h264pred__template_8c.html#a4124bc0a9335c27f086f24ba207a4912">a</a> reference <a class="el" href="cbs__vp9__syntax__template_8c.html#a78a801b08f3801b9059f0450b834984e">frame</a> or its MVs</td></tr>
<tr class="separator:a24b6f80b720c2b4cc33c2de7d29bd240"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0fea1c858641d60420b60158938baee5"><td class="memItemLeft" align="right" valign="top">FFmpeg multithreading&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#a0fea1c858641d60420b60158938baee5">methods</a></td></tr>
<tr class="separator:a0fea1c858641d60420b60158938baee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc797023b68446af6fe896338323c142"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#afc797023b68446af6fe896338323c142">implementations</a></td></tr>
<tr class="separator:afc797023b68446af6fe896338323c142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f477395ef773bd1e02cfca3de081509"><td class="memItemLeft" align="right" valign="top">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="multithreading_8txt.html#a8f477395ef773bd1e02cfca3de081509">frames</a></td></tr>
<tr class="separator:a8f477395ef773bd1e02cfca3de081509"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aaf4ad2551fbccbc7086a6e2d03ef86e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4ad2551fbccbc7086a6e2d03ef86e9">&#9670;&nbsp;</a></span>clients</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="multithreading_8txt.html#aaf4ad2551fbccbc7086a6e2d03ef86e9">clients</a> =  ============================================= <a class="el" href="struct_slice.html">Slice</a> threading - * The client'<a class="el" href="sw__rgb_8c.html#a517a4433fe5466cc6af1c80c538b0881">s</a> <a class="el" href="api-band-test_8c.html#aa57c1f6c2df235153ce61242a4d85adc">draw_horiz_band</a>() must <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> thread-safe according <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> the <a class="el" href="cbs__jpeg__syntax__template_8c.html#a4149a62d0e5bafe86ee74e03003161f9">comment</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> avcodec.h. <a class="el" href="struct_frame.html">Frame</a> threading - * Restrictions with slice threading also apply. * For best performance, the client should <a class="el" href="tests_2swresample_8c.html#afe699f10da48cabcc52a4c54f96ecaac">set</a> thread_safe_callbacks <a class="el" href="audioconvert_8c.html#a399cece626adcffd619948d47f2d975a">if</a> <a class="el" href="writing__filters_8txt.html#a3859a4129dbce920c88bdbeb078d4728">it</a> provides <a class="el" href="h264pred__template_8c.html#a4124bc0a9335c27f086f24ba207a4912">a</a> thread-safe <a class="el" href="svq3_8c.html#a85ff541f248b1dfea6f1a6bfb244d8df">get_buffer</a>() callback. * There <a class="el" href="swscale_8txt.html#a723c667eda7f9b65ec345ca1e08ab17a">is</a> one <a class="el" href="cbs__vp9__syntax__template_8c.html#a78a801b08f3801b9059f0450b834984e">frame</a> of delay added <a class="el" href="input_8c.html#a1cc7a9678a80af263f2be38bc9647316">for</a> every thread beyond the <a class="el" href="rate__distortion_8txt.html#a526861bf57e81f603c2201f788ae709c">first</a> one. Clients must <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> able <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> handle this</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="multithreading_8txt_source.html#l00014">14</a> of file <a class="el" href="multithreading_8txt_source.html">multithreading.txt</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5bd353e7cf21396158f646410741c5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bd353e7cf21396158f646410741c5ce">&#9670;&nbsp;</a></span>await_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel* The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call have so the codec calls ff_thread_report await_progress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a24b6f80b720c2b4cc33c2de7d29bd240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24b6f80b720c2b4cc33c2de7d29bd240">&#9670;&nbsp;</a></span>draw_edges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel* The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call have so the codec calls ff_thread_report <a class="el" href="tests_2swresample_8c.html#afe699f10da48cabcc52a4c54f96ecaac">set</a> <a class="el" href="libavcodec_2internal_8h.html#a133d9f0e29862e9f1726beafc530e052">FF_CODEC_CAP_ALLOCATE_PROGRESS</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_codec.html">AVCodec</a> caps_internal and use as <a class="el" href="writing__filters_8txt.html#a3859a4129dbce920c88bdbeb078d4728">it</a> <a class="el" href="sw__rgb_8c.html#a517a4433fe5466cc6af1c80c538b0881">s</a> useful too and the implementation <a class="el" href="swscale_8txt.html#a723c667eda7f9b65ec345ca1e08ab17a">is</a> trivial when you <a class="el" href="fft_8c.html#aeac685ede53ad58d0e24e6c060feff7a">re</a> doing this Note <a class="el" href="filter__design_8txt.html#aa3db53f7995de75dd50930fc259ebb40">that</a> draw_edges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab66ca23680e500f1f51b1608e8a5419a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab66ca23680e500f1f51b1608e8a5419a">&#9670;&nbsp;</a></span>ff_thread_await_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel* The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before ff_thread_await_progress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="multithreading_8txt_ab66ca23680e500f1f51b1608e8a5419a_icgraph.gif" border="0" usemap="#amultithreading_8txt_ab66ca23680e500f1f51b1608e8a5419a_icgraph" alt=""/></div>
<map name="multithreading_8txt_ab66ca23680e500f1f51b1608e8a5419a_icgraph" id="amultithreading_8txt_ab66ca23680e500f1f51b1608e8a5419a_icgraph">
<area shape="rect" title=" " alt="" coords="820,863,985,889"/>
<area shape="rect" href="h264__direct_8c.html#a60869bc56a8663ac15f5d5b7b2e24e0d" title=" " alt="" coords="606,64,770,91"/>
<area shape="rect" href="vp3_8c.html#af4cce1da031d8c09f4632713a7d06c57" title=" " alt="" coords="619,123,757,149"/>
<area shape="rect" href="h264__mb_8c.html#ad97f84e57aa36b3874c1ce8b49f34ec1" title=" " alt="" coords="629,192,747,219"/>
<area shape="rect" href="mimic_8c.html#a049951e6302eb36f4da1652aa20c4bee" title=" " alt="" coords="656,279,720,305"/>
<area shape="rect" href="ffv1dec_8c.html#abddc1015c488c3fdb1b0ce8c0350c8da" title=" " alt="" coords="421,407,523,433"/>
<area shape="rect" href="vp8_8c.html#affd5b93ae28c94ba10e6eae1d03326e9" title=" " alt="" coords="604,348,772,375"/>
<area shape="rect" href="vp9block_8c.html#aceffcfd7052719b0f3a4e2e686a549cf" title=" " alt="" coords="219,531,321,557"/>
<area shape="rect" href="ffv1dec_8c.html#a681beeed0296264eb21b2f633088a0c5" title=" " alt="" coords="639,457,737,484"/>
<area shape="rect" href="error__resilience_8h.html#a38248dbb9d274f4c6509ee063a177edf" title=" " alt="" coords="415,749,529,776"/>
<area shape="rect" href="vp9mvs_8c.html#a2375f51fcd6fd24a6861f9641ce7458e" title=" " alt="" coords="641,508,735,535"/>
<area shape="rect" href="error__resilience_8c.html#a2983a97e5a99dda462cb7136740aacba" title=" " alt="" coords="648,660,728,687"/>
<area shape="rect" href="h264__slice_8c.html#a4dca8c64006f039f3fa04cbeb02cab0a" title=" " alt="" coords="631,609,745,636"/>
<area shape="rect" href="pngdec_8c.html#afb16235f6f7f34ac25f3451c213e6c88" title=" " alt="" coords="614,863,762,889"/>
<area shape="rect" href="pngdec_8c.html#aaf6551029d89dbaf9bbacfcb59fa0da8" title=" " alt="" coords="617,812,759,839"/>
<area shape="rect" href="libavcodec_2hevcdec_8c.html#aed63b0232e8aae2126263f592d92468f" title=" " alt="" coords="617,913,759,940"/>
<area shape="rect" href="error__resilience_8c.html#a87b220f457b619907e1ded4b84d83d79" title=" " alt="" coords="619,711,757,737"/>
<area shape="rect" href="vp9recon_8c.html#ac7fa0b6fd3d5a8ab2b444fc791c083cb" title=" " alt="" coords="405,989,539,1016"/>
<area shape="rect" href="vp9recon_8c.html#a13ccc4c92e642d86f2dd36bfe271154b" title=" " alt="" coords="613,964,763,991"/>
<area shape="rect" href="vp9recon_8c.html#ad7b5f7c87417694391b7dbf95d75419e" title=" " alt="" coords="412,1091,532,1117"/>
<area shape="rect" href="vp9recon_8c.html#ac8db7e9d13e2b15fca85b0492c01904f" title=" " alt="" coords="621,1065,755,1092"/>
<area shape="rect" href="mpeg4videodec_8c.html#a80c507eb487fff1922fd2807068095c4" title=" " alt="" coords="621,1167,755,1193"/>
<area shape="rect" href="mpegvideo_8c.html#af77b3ec0b3cf73867e05eca8fe75921f" title=" " alt="" coords="617,1218,759,1259"/>
<area shape="rect" href="rv34_8c.html#a4df54d424d313acfdb3147774d4dba34" title=" " alt="" coords="629,1284,747,1311"/>
<area shape="rect" href="rv34_8c.html#a910cb9dfc2deecc0861aa7a0a7336ba4" title=" " alt="" coords="653,1335,723,1361"/>
<area shape="rect" href="hevc__mvs_8c.html#ab2c447a965faaf4ca3537e0524452a1a" title=" " alt="" coords="611,1386,765,1427"/>
<area shape="rect" href="vp8_8c.html#aa4bf4b2ed3e7a441dc49ff8a04967bf5" title=" " alt="" coords="620,1452,756,1479"/>
<area shape="rect" href="vp8_8c.html#aa3b38921ec23b90789c5c9251b64eb66" title=" " alt="" coords="630,1503,746,1529"/>
<area shape="rect" href="vp8_8c.html#ad35cadd8c6629d1b3a8a63531fb53bf0" title=" " alt="" coords="637,1553,739,1580"/>
<area shape="rect" href="wavpack_8c.html#a6e0dd31d34d4b4e89f9a8b3d4bcc907e" title=" " alt="" coords="609,1604,767,1631"/>
<area shape="rect" href="h264__direct_8c.html#a5c5cac14c3cb93cf5e64564e8ae6b3e3" title=" " alt="" coords="407,57,537,98"/>
<area shape="rect" href="h264__direct_8c.html#a80227946174bef6fd4aaddf2c2bb625f" title=" " alt="" coords="388,5,556,32"/>
<area shape="rect" href="vp3_8c.html#a873df4b98675eee52547eac7bdff9f0a" title=" " alt="" coords="426,123,518,149"/>
<area shape="rect" href="h264__mc__template_8c.html#a2ffaabff09acccae1f34447d9d9b8a5a" title=" " alt="" coords="433,173,511,200"/>
<area shape="rect" href="mimic_8c.html#a2bc474126b4d90b780cceea4a99e04bd" title=" " alt="" coords="399,224,545,251"/>
<area shape="rect" href="vp8_8c.html#adf6a2c60434618ba89e1737dbe894925" title=" " alt="" coords="391,341,553,382"/>
<area shape="rect" href="vp8_8c.html#a255b79d173d7412f0cd7ceb667f3acd7" title=" " alt="" coords="391,275,553,317"/>
<area shape="rect" href="vp9dec_8h.html#ace01a73a6da565416d9423fbb9239d25" title=" " alt="" coords="8,531,149,557"/>
<area shape="rect" href="dxtory_8c.html#a6867c0a9d90920cd7608c4371213f0af" title=" " alt="" coords="409,457,535,484"/>
<area shape="rect" href="libavcodec_2h264dec_8c.html#a125eed9b7bbf1e2512e9d12852ecbaee" title=" " alt="" coords="209,607,331,633"/>
<area shape="rect" href="mss2_8c.html#ab92b93598211c749f1b45ac85ed19ab8" title=" " alt="" coords="219,759,321,785"/>
<area shape="rect" href="rv34_8h.html#a9e45d880441cea744375a8f274a9991d" title=" " alt="" coords="5,873,152,900"/>
<area shape="rect" href="rv34_8c.html#ac0545bc874d060fca4fdeb2d0ea336f3" title=" " alt="" coords="225,911,315,937"/>
<area shape="rect" href="rv10_8c.html#ad963f92e2f8a26fce240419c8fe9376c" title=" " alt="" coords="12,797,145,824"/>
<area shape="rect" href="rv10_8c.html#a2238f5010c8c57651203628f1e1b9e35" title=" " alt="" coords="200,657,340,684"/>
<area shape="rect" href="mpeg12dec_8c.html#af82ded69347cf19d06c8bf2b7d4c4abe" title=" " alt="" coords="231,708,309,735"/>
<area shape="rect" href="vp9mvs_8c.html#a757cda8103c9088542ec707aa4ce2f6a" title=" " alt="" coords="424,508,520,535"/>
<area shape="rect" href="h264dec_8h.html#a5b72118a66ad7765ddb977cf1c87d626" title=" " alt="" coords="395,610,549,651"/>
<area shape="rect" href="pngdec_8c.html#a06680544d099eee8acd60c5d2cad0ef3" title=" " alt="" coords="392,837,552,864"/>
<area shape="rect" href="libavcodec_2hevcdec_8c.html#aaf9c987906b74d21d6589518d648db65" title=" " alt="" coords="407,913,537,940"/>
</map>
</div>

</div>
</div>
<a id="a97c3cac75166393103fbc1594899e0b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c3cac75166393103fbc1594899e0b3">&#9670;&nbsp;</a></span>ff_thread_finish_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel* The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call ff_thread_finish_setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="multithreading_8txt_a97c3cac75166393103fbc1594899e0b3_icgraph.gif" border="0" usemap="#amultithreading_8txt_a97c3cac75166393103fbc1594899e0b3_icgraph" alt=""/></div>
<map name="multithreading_8txt_a97c3cac75166393103fbc1594899e0b3_icgraph" id="amultithreading_8txt_a97c3cac75166393103fbc1594899e0b3_icgraph">
<area shape="rect" title=" " alt="" coords="823,309,969,336"/>
<area shape="rect" href="cfhd_8c.html#a38601fa118b63ea325ac23631f8f9dd4" title=" " alt="" coords="648,5,743,32"/>
<area shape="rect" href="ffv1dec_8c.html#abddc1015c488c3fdb1b0ce8c0350c8da" title=" " alt="" coords="644,56,747,83"/>
<area shape="rect" href="pngdec_8c.html#abb7998b4147673d50c4f3b2ba710800d" title=" " alt="" coords="628,107,763,133"/>
<area shape="rect" href="libavcodec_2h264dec_8c.html#a125eed9b7bbf1e2512e9d12852ecbaee" title=" " alt="" coords="634,157,757,184"/>
<area shape="rect" href="rv34_8h.html#a9e45d880441cea744375a8f274a9991d" title=" " alt="" coords="622,208,769,235"/>
<area shape="rect" href="hapdec_8c.html#add5458e8a0670d3c312390ea4cdca3c9" title=" " alt="" coords="649,259,741,285"/>
<area shape="rect" href="libavcodec_2hevcdec_8c.html#a3e6dd3734982634ebda883299dcf66b3" title=" " alt="" coords="635,309,755,336"/>
<area shape="rect" href="mimic_8c.html#a2bc474126b4d90b780cceea4a99e04bd" title=" " alt="" coords="623,360,768,387"/>
<area shape="rect" href="mpeg12dec_8c.html#a33568b21eba5f455a6e598c99708eafd" title=" " alt="" coords="637,411,754,437"/>
<area shape="rect" href="libavcodec_2takdec_8c.html#ae620bfa3ed941c9afc202952ea0f29fd" title=" " alt="" coords="631,461,759,488"/>
<area shape="rect" href="vp8_8c.html#aa4bf4b2ed3e7a441dc49ff8a04967bf5" title=" " alt="" coords="627,512,763,539"/>
<area shape="rect" href="vp9_8c.html#ae921edaf8a2531e1ae758d067e0314f7" title=" " alt="" coords="631,563,760,589"/>
<area shape="rect" href="wavpack_8c.html#a05a9759175867e508539b7c7f8d7103c" title=" " alt="" coords="616,613,775,640"/>
<area shape="rect" href="pngdec_8c.html#a06680544d099eee8acd60c5d2cad0ef3" title=" " alt="" coords="408,107,568,133"/>
<area shape="rect" href="libavcodec_2h264dec_8c.html#a68e68b6805213c1fbb62765260c25b9b" title=" " alt="" coords="419,157,557,184"/>
<area shape="rect" href="libavcodec_2hevcdec_8c.html#ac8cec2d54882403851aeb26489ab38e0" title=" " alt="" coords="430,309,546,336"/>
<area shape="rect" href="libavcodec_2hevcdec_8c.html#a248f59db00c20374c6241140c10a4577" title=" " alt="" coords="215,309,338,336"/>
<area shape="rect" href="libavcodec_2hevcdec_8c.html#a4b7fe714793cb8b0a4add2c4e8d9d7b1" title=" " alt="" coords="7,309,143,336"/>
<area shape="rect" href="mpeg12dec_8c.html#abf24ce392ead4190ed0bb117f08b1b40" title=" " alt="" coords="431,411,545,437"/>
<area shape="rect" href="mpeg12dec_8c.html#aea4cecc767cf9b29314f5a01435032fb" title=" " alt="" coords="205,411,348,437"/>
<area shape="rect" href="vp8_8h.html#aeee0e537eb758cf49beb728cdf1228cf" title=" " alt="" coords="417,512,559,539"/>
<area shape="rect" href="webp_8c.html#a655b5488e45220d56aa6ddb3af396c70" title=" " alt="" coords="193,512,360,539"/>
<area shape="rect" href="webp_8c.html#a4b17bd13954e06dec268dca89f374c23" title=" " alt="" coords="5,512,145,539"/>
<area shape="rect" href="wavpack_8c.html#a6e0dd31d34d4b4e89f9a8b3d4bcc907e" title=" " alt="" coords="409,613,567,640"/>
</map>
</div>

</div>
</div>
<a id="ad20d53520fe26af28cbae5338a670db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20d53520fe26af28cbae5338a670db5">&#9670;&nbsp;</a></span>ff_thread_get_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel* The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call have so the codec calls ff_thread_report <a class="el" href="tests_2swresample_8c.html#afe699f10da48cabcc52a4c54f96ecaac">set</a> <a class="el" href="libavcodec_2internal_8h.html#a133d9f0e29862e9f1726beafc530e052">FF_CODEC_CAP_ALLOCATE_PROGRESS</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_codec.html">AVCodec</a> caps_internal and use ff_thread_get_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="multithreading_8txt_ad20d53520fe26af28cbae5338a670db5_icgraph.gif" border="0" usemap="#amultithreading_8txt_ad20d53520fe26af28cbae5338a670db5_icgraph" alt=""/></div>
<map name="multithreading_8txt_ad20d53520fe26af28cbae5338a670db5_icgraph" id="amultithreading_8txt_ad20d53520fe26af28cbae5338a670db5_icgraph">
<area shape="rect" title=" " alt="" coords="420,984,555,1011"/>
<area shape="rect" href="aic_8c.html#afc73a4c689b447d14d60366ad8ae7dff" title=" " alt="" coords="227,5,354,32"/>
<area shape="rect" href="hevc__refs_8c.html#a0e1a26069e28f4d28e428043b80319ac" title=" " alt="" coords="247,56,335,83"/>
<area shape="rect" href="mpegpicture_8c.html#a30d7630a28d934058c59e8b511abe444" title=" " alt="" coords="227,107,354,133"/>
<area shape="rect" href="h264__slice_8c.html#a8463f747babbd5fff2ba959dadd006cc" title=" " alt="" coords="243,157,338,184"/>
<area shape="rect" href="libavcodec_2av1dec_8c.html#a7770679f2438ac702087445f8d745a25" title=" " alt="" coords="233,208,348,235"/>
<area shape="rect" href="cfhd_8c.html#a38601fa118b63ea325ac23631f8f9dd4" title=" " alt="" coords="243,259,338,285"/>
<area shape="rect" href="cllc_8c.html#aec678254cbd97f9c133d75ed791fe366" title=" " alt="" coords="225,309,356,336"/>
<area shape="rect" href="cri_8c.html#a108d7b51188492875012d1ceadafa2c6" title=" " alt="" coords="229,360,353,387"/>
<area shape="rect" href="notchlc_8c.html#a57fac14d80c6698054cc27c16ae9709c" title=" " alt="" coords="236,411,345,437"/>
<area shape="rect" href="alac_8c.html#a4ebe5de7e531ffb4a1c4ccab3f2f257d" title=" " alt="" coords="232,461,349,488"/>
<area shape="rect" href="webp_8c.html#a94b1344775623995403f5c11cbed9421" title=" " alt="" coords="213,513,369,554"/>
<area shape="rect" href="exr_8c.html#abddc1015c488c3fdb1b0ce8c0350c8da" title=" " alt="" coords="239,579,342,605"/>
<area shape="rect" href="pngdec_8c.html#abb7998b4147673d50c4f3b2ba710800d" title=" " alt="" coords="223,629,358,656"/>
<area shape="rect" href="libavcodec_2dnxhddec_8c.html#ab142cac3cf989171d9c30871f500a4ab" title=" " alt="" coords="218,680,363,707"/>
<area shape="rect" href="dvdec_8c.html#afe0713ad80cbd1bcd0c9905d2f9486ec" title=" " alt="" coords="215,731,366,757"/>
<area shape="rect" href="dxtory_8c.html#a716b02daa69a3e11695a31aa177502d4" title=" " alt="" coords="213,781,368,808"/>
<area shape="rect" href="dxtory_8c.html#a0bef1d99e663b6f76254f5f010e419cf" title=" " alt="" coords="213,832,368,859"/>
<area shape="rect" href="dxtory_8c.html#ab4c42b597d77a49328272d9fc2b07fe9" title=" " alt="" coords="213,883,368,909"/>
<area shape="rect" href="dxtory_8c.html#a1d00f62a8b578647b4a645e3db2e8520" title=" " alt="" coords="215,933,366,960"/>
<area shape="rect" href="dxtory_8c.html#a6867c0a9d90920cd7608c4371213f0af" title=" " alt="" coords="227,984,354,1011"/>
<area shape="rect" href="dxv_8c.html#a7e03f61e3554ba3b5aa3f5422121f881" title=" " alt="" coords="245,1035,336,1061"/>
<area shape="rect" href="libavcodec_2flacdec_8c.html#a007889594c110e66ff1e02ba09ab0676" title=" " alt="" coords="225,1085,356,1112"/>
<area shape="rect" href="hapdec_8c.html#add5458e8a0670d3c312390ea4cdca3c9" title=" " alt="" coords="245,1136,337,1163"/>
<area shape="rect" href="hqx_8c.html#a76ad49480859147b59cba946ce070ce3" title=" " alt="" coords="225,1187,356,1213"/>
<area shape="rect" href="tiff_8c.html#a306997b33e2ef8b4dcd69b4d6b81fb9a" title=" " alt="" coords="250,1237,331,1264"/>
<area shape="rect" href="jpeg2000dec_8c.html#a74d0c52ab34e790d526328c7bd1a2c97" title=" " alt="" coords="209,1288,372,1315"/>
<area shape="rect" href="lagarith_8c.html#af36a66d585489ad0baab2a3f44c374f8" title=" " alt="" coords="227,1339,354,1365"/>
<area shape="rect" href="libopenjpegdec_8c.html#aa47d2d7be7af4fade36b206b1dc18270" title=" " alt="" coords="223,1390,359,1431"/>
<area shape="rect" href="magicyuv_8c.html#a14529754d624437ed28478df70ba5c22" title=" " alt="" coords="219,1456,362,1483"/>
<area shape="rect" href="mimic_8c.html#a2bc474126b4d90b780cceea4a99e04bd" title=" " alt="" coords="218,1507,363,1533"/>
<area shape="rect" href="photocd_8c.html#af3cde85440e6d650f010cefd79cde2b1" title=" " alt="" coords="213,1557,369,1584"/>
<area shape="rect" href="pixlet_8c.html#a1f8ae0fdbb79a61bc5e85b6afa4d9e6a" title=" " alt="" coords="220,1608,361,1635"/>
<area shape="rect" href="libavcodec_2takdec_8c.html#ae620bfa3ed941c9afc202952ea0f29fd" title=" " alt="" coords="227,1659,355,1685"/>
<area shape="rect" href="libavcodec_2tta_8c.html#a6bec060af0f3de607297e0f1509165d0" title=" " alt="" coords="228,1709,353,1736"/>
<area shape="rect" href="v410dec_8c.html#ad0a17f70f0db190736288718c039a58c" title=" " alt="" coords="223,1760,359,1787"/>
<area shape="rect" href="vble_8c.html#a10d166be18b929c90d571eb0f9fb3c61" title=" " alt="" coords="225,1811,357,1837"/>
<area shape="rect" href="vp8_8c.html#a309bffa9b10dce305412744afeb4063c" title=" " alt="" coords="233,1861,348,1888"/>
<area shape="rect" href="vp9_8c.html#a06915ba9255a52bf603d141f4981ae83" title=" " alt="" coords="233,1912,348,1939"/>
<area shape="rect" href="wavpack_8c.html#a05a9759175867e508539b7c7f8d7103c" title=" " alt="" coords="211,1963,370,1989"/>
<area shape="rect" href="hevcdec_8h.html#a5e937a56d0b34575d16e8b3ee7257573" title=" " alt="" coords="15,5,152,32"/>
<area shape="rect" href="hevc__refs_8c.html#a65f55721ea065ee422646077af0067d2" title=" " alt="" coords="11,56,156,83"/>
<area shape="rect" href="mpegpicture_8h.html#a50e6885a261e26d35afa646081b15f4c" title=" " alt="" coords="29,107,137,133"/>
<area shape="rect" href="h264__slice_8c.html#a18543104885d8131b4c439c1966161c7" title=" " alt="" coords="22,157,145,184"/>
<area shape="rect" href="libavcodec_2av1dec_8c.html#a96e48a2de15195a936a2239e604c2d6a" title=" " alt="" coords="20,208,147,235"/>
<area shape="rect" href="notchlc_8c.html#abddc1015c488c3fdb1b0ce8c0350c8da" title=" " alt="" coords="32,411,135,437"/>
<area shape="rect" href="alac_8c.html#a1ce882e6edfcb339eee621ed3801b813" title=" " alt="" coords="16,461,151,488"/>
<area shape="rect" href="webp_8c.html#ad005a947f027c8ac64229b411022486f" title=" " alt="" coords="5,516,161,543"/>
<area shape="rect" href="webp_8c.html#a3b3210a52deae4c158eaa1414a64d2bb" title=" " alt="" coords="8,567,159,593"/>
<area shape="rect" href="webp_8c.html#abebaf6f316a1ef29d9c158151a40a58a" title=" " alt="" coords="8,618,159,659"/>
</map>
</div>

</div>
</div>
<a id="a76a40bbaff145731efcb417bb8453d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a40bbaff145731efcb417bb8453d19">&#9670;&nbsp;</a></span>get_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel* The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling get_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4e871baf97bc0c256543f0fde05c8307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e871baf97bc0c256543f0fde05c8307">&#9670;&nbsp;</a></span>update_thread_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across will <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> because their bitstreams cannot <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> decoded <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel* The contents of buffers must <a class="el" href="filter__design_8txt.html#a025a8cdb5c3b1625f70486924286ebe9">not</a> <a class="el" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> read before as well as <a class="el" href="spdifenc_8c.html#a5588144d84c4c0c07d52c2f1dfebfa4f">code</a> calling up <a class="el" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> before the <a class="el" href="api-h264-slice-test_8c.html#a3c08e4ac8c5371b05813a63eacdaea0e">decode</a> <a class="el" href="soxr__resample_8c.html#a3270f8745c76566680b996a9d271e4c5">process</a> starts Call have update_thread_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8f477395ef773bd1e02cfca3de081509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f477395ef773bd1e02cfca3de081509">&#9670;&nbsp;</a></span>frames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec whose streams don t reset across frames</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="multithreading_8txt_source.html#l00037">37</a> of file <a class="el" href="multithreading_8txt_source.html">multithreading.txt</a>.</p>

</div>
</div>
<a id="afc797023b68446af6fe896338323c142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc797023b68446af6fe896338323c142">&#9670;&nbsp;</a></span>implementations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">the pkt_dts and pkt_pts <a class="el" href="filter__design_8txt.html#a8abfcc999d0d8cf41af3e6533be471d3">fields</a> <a class="el" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> <a class="el" href="struct_a_v_frame.html">AVFrame</a> will <a class="el" href="tablegen_8txt.html#ab2c896c6b61dfa6df230fb4219c9bef3">work</a> as usual Restrictions <a class="el" href="writing__filters_8txt.html#a95df7a7ff85fb8f73f62d3c5d2d325f8">on</a> codec implementations</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==============================================</div>
<div class="line"> </div>
<div class="line"><a class="code" href="struct_slice.html">Slice</a> threading -</div>
<div class="line"> None except <a class="code" href="filter__design_8txt.html#aa3db53f7995de75dd50930fc259ebb40">that</a> there must <a class="code" href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a> something worth executing <a class="code" href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a> parallel.</div>
<div class="line"> </div>
<div class="line">Frame threading -</div>
<div class="line">* Codecs can only accept entire pictures per packet.</div>
<div class="line">* Codecs similar <a class="code" href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a> ffv1</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="multithreading_8txt_source.html#l00029">29</a> of file <a class="el" href="multithreading_8txt_source.html">multithreading.txt</a>.</p>

</div>
</div>
<a id="a0fea1c858641d60420b60158938baee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fea1c858641d60420b60158938baee5">&#9670;&nbsp;</a></span>methods</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FFmpeg multithreading methods</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==============================================</div>
<div class="line"> </div>
<div class="line">FFmpeg provides two <a class="code" href="multithreading_8txt.html#a0fea1c858641d60420b60158938baee5">methods</a> <span class="keywordflow">for</span> multithreading <a class="code" href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a>.</div>
<div class="line"> </div>
<div class="line">Slice threading decodes multiple parts of <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> at the same time</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="multithreading_8txt_source.html#l00001">1</a> of file <a class="el" href="multithreading_8txt_source.html">multithreading.txt</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="awriting__filters_8txt_html_a4318f2b797795d91f2ab490ec7a3d321"><div class="ttname"><a href="writing__filters_8txt.html#a4318f2b797795d91f2ab490ec7a3d321">be</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it be(in the first position) for now. Options ------- Then comes the options array. This is what will define the user accessible options. For example</div></div>
<div class="ttc" id="adashenc_8c_html_abd2708df6d8fd950b83d85b41dc8f5df"><div class="ttname"><a href="dashenc_8c.html#abd2708df6d8fd950b83d85b41dc8f5df">codecs</a></div><div class="ttdeci">static struct codec_string codecs[]</div></div>
<div class="ttc" id="alibavcodec_2webvttdec_8c_html_a5d467a63df9ff99d33d6749038f6f421"><div class="ttname"><a href="libavcodec_2webvttdec_8c.html#a5d467a63df9ff99d33d6749038f6f421">to</a></div><div class="ttdeci">const char * to</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2webvttdec_8c_source.html#l00034">webvttdec.c:34</a></div></div>
<div class="ttc" id="amultithreading_8txt_html_a0fea1c858641d60420b60158938baee5"><div class="ttname"><a href="multithreading_8txt.html#a0fea1c858641d60420b60158938baee5">methods</a></div><div class="ttdeci">FFmpeg multithreading methods</div><div class="ttdef"><b>Definition:</b> <a href="multithreading_8txt_source.html#l00001">multithreading.txt:2</a></div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_aa3db53f7995de75dd50930fc259ebb40"><div class="ttname"><a href="filter__design_8txt.html#aa3db53f7995de75dd50930fc259ebb40">that</a></div><div class="ttdeci">if it could not because there are no more it should return AVERROR_EOF The typical implementation of request_frame for a filter with several inputs will look like that</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00270">filter_design.txt:273</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ab92ad91055387e15b43ff5f6f60f2895"><div class="ttname"><a href="audio__convert_8c.html#ab92ad91055387e15b43ff5f6f60f2895">in</a></div><div class="ttdeci">uint8_t pi&lt;&lt; 24) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_U8, uint8_t,(*(const uint8_t *) pi - 0x80) *(1.0f/(1&lt;&lt; 7))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_U8, uint8_t,(*(const uint8_t *) pi - 0x80) *(1.0/(1&lt;&lt; 7))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S16, int16_t,(*(const int16_t *) pi &gt;&gt; 8)+0x80) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S16, int16_t, *(const int16_t *) pi *(1.0f/(1&lt;&lt; 15))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S16, int16_t, *(const int16_t *) pi *(1.0/(1&lt;&lt; 15))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_S32, int32_t,(*(const int32_t *) pi &gt;&gt; 24)+0x80) CONV_FUNC_GROUP(AV_SAMPLE_FMT_FLT, float, AV_SAMPLE_FMT_S32, int32_t, *(const int32_t *) pi *(1.0f/(1U&lt;&lt; 31))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_DBL, double, AV_SAMPLE_FMT_S32, int32_t, *(const int32_t *) pi *(1.0/(1U&lt;&lt; 31))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_FLT, float, av_clip_uint8(lrintf(*(const float *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_FLT, float, av_clip_int16(lrintf(*(const float *) pi *(1&lt;&lt; 15)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_FLT, float, av_clipl_int32(llrintf(*(const float *) pi *(1U&lt;&lt; 31)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_U8, uint8_t, AV_SAMPLE_FMT_DBL, double, av_clip_uint8(lrint(*(const double *) pi *(1&lt;&lt; 7))+0x80)) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S16, int16_t, AV_SAMPLE_FMT_DBL, double, av_clip_int16(lrint(*(const double *) pi *(1&lt;&lt; 15)))) CONV_FUNC_GROUP(AV_SAMPLE_FMT_S32, int32_t, AV_SAMPLE_FMT_DBL, double, av_clipl_int32(llrint(*(const double *) pi *(1U&lt;&lt; 31)))) #define SET_CONV_FUNC_GROUP(ofmt, ifmt) static void set_generic_function(AudioConvert *ac) { } void ff_audio_convert_free(AudioConvert **ac) { if(! *ac) return;ff_dither_free(&amp;(*ac) -&gt;dc);av_freep(ac);} AudioConvert *ff_audio_convert_alloc(AVAudioResampleContext *avr, enum AVSampleFormat out_fmt, enum AVSampleFormat in_fmt, int channels, int sample_rate, int apply_map) { AudioConvert *ac;int in_planar, out_planar;ac=av_mallocz(sizeof(*ac));if(!ac) return NULL;ac-&gt;avr=avr;ac-&gt;out_fmt=out_fmt;ac-&gt;in_fmt=in_fmt;ac-&gt;channels=channels;ac-&gt;apply_map=apply_map;if(avr-&gt;dither_method !=AV_RESAMPLE_DITHER_NONE &amp;&amp;av_get_packed_sample_fmt(out_fmt)==AV_SAMPLE_FMT_S16 &amp;&amp;av_get_bytes_per_sample(in_fmt) &gt; 2) { ac-&gt;dc=ff_dither_alloc(avr, out_fmt, in_fmt, channels, sample_rate, apply_map);if(!ac-&gt;dc) { av_free(ac);return NULL;} return ac;} in_planar=ff_sample_fmt_is_planar(in_fmt, channels);out_planar=ff_sample_fmt_is_planar(out_fmt, channels);if(in_planar==out_planar) { ac-&gt;func_type=CONV_FUNC_TYPE_FLAT;ac-&gt;planes=in_planar ? ac-&gt;channels :1;} else if(in_planar) ac-&gt;func_type=CONV_FUNC_TYPE_INTERLEAVE;else ac-&gt;func_type=CONV_FUNC_TYPE_DEINTERLEAVE;set_generic_function(ac);if(ARCH_AARCH64) ff_audio_convert_init_aarch64(ac);if(ARCH_ARM) ff_audio_convert_init_arm(ac);if(ARCH_X86) ff_audio_convert_init_x86(ac);return ac;} int ff_audio_convert(AudioConvert *ac, AudioData *out, AudioData *in) { int use_generic=1;int len=in-&gt;nb_samples;int p;if(ac-&gt;dc) { av_log(ac-&gt;avr, AV_LOG_TRACE, &quot;%d samples - audio_convert: %s to %s (dithered)\n&quot;, len, av_get_sample_fmt_name(ac-&gt;in_fmt), av_get_sample_fmt_name(ac-&gt;out_fmt));return ff_convert_dither(ac-&gt; in</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00326">audio_convert.c:326</a></div></div>
<div class="ttc" id="astruct_slice_html"><div class="ttname"><a href="struct_slice.html">Slice</a></div><div class="ttdef"><b>Definition:</b> <a href="magicyuv_8c_source.html#l00037">magicyuv.c:37</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
