<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/dnxhdenc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">dnxhdenc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dnxhdenc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * VC3/DNxHD encoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2007 Baptiste Coudurier &lt;baptiste dot coudurier at smartjog dot com&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2011 MirriAd Ltd</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * VC-3 encoder funded by the British Broadcasting Corporation</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * 10 bit support added by MirriAd Ltd, Joseph Artsimovich &lt;joseph@mirriad.com&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="attributes_8h.html">libavutil/attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">libavutil/internal.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="blockdsp_8h.html">blockdsp.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fdctdsp_8h.html">fdctdsp.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mpegvideo_8h.html">mpegvideo.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixblockdsp_8h.html">pixblockdsp.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="packet__internal_8h.html">packet_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="profiles_8h.html">profiles.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dnxhdenc_8h.html">dnxhdenc.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">// The largest value that will not lead to overflow for 10-bit samples.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a71cfa287c2d79b8c035ca9d45afef8b5">   41</a></span>&#160;<span class="preprocessor">#define DNX10BIT_QMAT_SHIFT 18</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a8ec65e6ec49e59bbef16068bd7772ec4">   42</a></span>&#160;<span class="preprocessor">#define RC_VARIANCE 1 // use variance or ssd for fast rc</span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a347404320a3363d39470bffdabf448e9">   43</a></span>&#160;<span class="preprocessor">#define LAMBDA_FRAC_BITS 10</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">   45</a></span>&#160;<span class="preprocessor">#define VE AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">   46</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="dnxhdenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    { <span class="stringliteral">&quot;nitris_compat&quot;</span>, <span class="stringliteral">&quot;encode with Avid Nitris compatibility&quot;</span>,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        offsetof(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a>, nitris_compat), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a>, { .i64 = 0 }, 0, 1, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a> },</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    { <span class="stringliteral">&quot;ibias&quot;</span>, <span class="stringliteral">&quot;intra quant bias&quot;</span>,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        offsetof(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a>, intra_quant_bias), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        { .i64 = 0 }, INT_MIN, INT_MAX, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a> },</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    { <span class="stringliteral">&quot;profile&quot;</span>,       <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, offsetof(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a>, <a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a>), <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        { .i64 = <a class="code" href="avcodec_8h.html#a8c5a554f4519ab093940607e3e637650">FF_PROFILE_DNXHD</a> },</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="avcodec_8h.html#a8c5a554f4519ab093940607e3e637650">FF_PROFILE_DNXHD</a>, <a class="code" href="avcodec_8h.html#a1041022d7b0f2c72fff7586cf920654c">FF_PROFILE_DNXHR_444</a>, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    { <span class="stringliteral">&quot;dnxhd&quot;</span>,     <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="avcodec_8h.html#a8c5a554f4519ab093940607e3e637650">FF_PROFILE_DNXHD</a> },</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        0, 0, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    { <span class="stringliteral">&quot;dnxhr_444&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="avcodec_8h.html#a1041022d7b0f2c72fff7586cf920654c">FF_PROFILE_DNXHR_444</a> },</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        0, 0, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    { <span class="stringliteral">&quot;dnxhr_hqx&quot;</span>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="avcodec_8h.html#af55b3cbd358bd54342a3497eba37f67a">FF_PROFILE_DNXHR_HQX</a> },</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        0, 0, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    { <span class="stringliteral">&quot;dnxhr_hq&quot;</span>,  <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="avcodec_8h.html#a6a1d019f5ae198b2265624695635cbb8">FF_PROFILE_DNXHR_HQ</a> },</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        0, 0, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    { <span class="stringliteral">&quot;dnxhr_sq&quot;</span>,  <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="avcodec_8h.html#ac73d906f677917ede712580eaf978071">FF_PROFILE_DNXHR_SQ</a> },</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        0, 0, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    { <span class="stringliteral">&quot;dnxhr_lb&quot;</span>,  <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="avcodec_8h.html#a3446126ae1f978c3b2e823c54cad523e">FF_PROFILE_DNXHR_LB</a> },</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        0, 0, <a class="code" href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;profile&quot;</span> },</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;};</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a3ee642dc831c0b9bfacaacc7cabffe3d">   70</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="dnxhdenc_8c.html#a3ee642dc831c0b9bfacaacc7cabffe3d">dnxhd_class</a> = {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;dnxhd&quot;</span>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    .option     = <a class="code" href="dnxhdenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;};</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a2d8be6cc417583a9887847442ea70d9d">   77</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#a2d8be6cc417583a9887847442ea70d9d">dnxhd_8bit_get_pixels_8x4_sym</a>(int16_t *av_restrict <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *pixels,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                          ptrdiff_t line_size)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = pixels[0];</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[1] = pixels[1];</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[2] = pixels[2];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[3] = pixels[3];</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[4] = pixels[4];</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[5] = pixels[5];</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[6] = pixels[6];</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[7] = pixels[7];</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        pixels  += line_size;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>   += 8;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,      <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> -  8, <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>) * 8);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> +  8, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> - 16, <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>) * 8);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 16, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> - 24, <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>) * 8);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 24, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> - 32, <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>) * 8);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#ab426705645e30787fe99e0c056899bdc">  101</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#ab426705645e30787fe99e0c056899bdc">dnxhd_10bit_get_pixels_8x4_sym</a>(int16_t *av_restrict <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *pixels,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                    ptrdiff_t line_size)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 0 * 8, pixels + 0 * line_size, 8 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 7 * 8, pixels + 0 * line_size, 8 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 1 * 8, pixels + 1 * line_size, 8 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 6 * 8, pixels + 1 * line_size, 8 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 2 * 8, pixels + 2 * line_size, 8 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 5 * 8, pixels + 2 * line_size, 8 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 3 * 8, pixels + 3 * line_size, 8 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> + 4 * 8, pixels + 3 * line_size, 8 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a1c232028ee2e00446091f88075e7191e">  115</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a1c232028ee2e00446091f88075e7191e">dnxhd_10bit_dct_quantize_444</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                        <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> qscale, <span class="keywordtype">int</span> *<a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, last_non_zero, start_i;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> *qmat;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_d_n_x_h_d_context.html#ad83d03518c7ea2d53da7737fe4b03fed">scantable</a>= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_scantable.scantable;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">int</span> bias;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = 0;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> threshold1, threshold2;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;fdsp.fdct(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = (<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] + 2) &gt;&gt; 2;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    start_i = 1;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    last_non_zero = 0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    qmat = n &lt; 4 ? <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;q_intra_matrix[qscale] : <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;q_chroma_intra_matrix[qscale];</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    bias= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_quant_bias * (1 &lt;&lt; (16 - 8));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    threshold1 = (1 &lt;&lt; 16) - bias - 1;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    threshold2 = (threshold1 &lt;&lt; 1);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 63; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= start_i; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        j = <a class="code" href="struct_d_n_x_h_d_context.html#ad83d03518c7ea2d53da7737fe4b03fed">scantable</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] * qmat[j];</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">if</span> (((<span class="keywordtype">unsigned</span>)(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + threshold1)) &gt; threshold2) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            last_non_zero = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        } <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j]=0;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = start_i; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= last_non_zero; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        j = <a class="code" href="struct_d_n_x_h_d_context.html#ad83d03518c7ea2d53da7737fe4b03fed">scantable</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] * qmat[j];</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">if</span> (((<span class="keywordtype">unsigned</span>)(<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + threshold1)) &gt; threshold2) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &gt; 0) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (bias + <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>) &gt;&gt; 16;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            } <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (bias - <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>) &gt;&gt; 16;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = -<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> |= <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = 0;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    *<a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;max_qcoeff &lt; <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>; <span class="comment">//overflow might have happened</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">/* we need this permutation so that we correct the IDCT, we only permute the !=0 elements */</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;idsp.perm_type != <a class="code" href="idctdsp_8h.html#a6484acbbc3eb749e38a5cf57abc9bde3a9855a70f3c6fdced091979554a307c4e">FF_IDCT_PERM_NONE</a>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="mpegvideo_8h.html#acefde6b554a0cbac66a17db6b0c683c1">ff_block_permute</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;idsp.idct_permutation,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                         <a class="code" href="struct_d_n_x_h_d_context.html#ad83d03518c7ea2d53da7737fe4b03fed">scantable</a>, last_non_zero);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> last_non_zero;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a296257a87354a2cde8ccea0ee3a5768e">  174</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a296257a87354a2cde8ccea0ee3a5768e">dnxhd_10bit_dct_quantize</a>(<a class="code" href="struct_mpeg_enc_context.html">MpegEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                    <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> qscale, <span class="keywordtype">int</span> *<a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_d_n_x_h_d_context.html#ad83d03518c7ea2d53da7737fe4b03fed">scantable</a>= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_scantable.scantable;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> *qmat = n&lt;4 ? <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;q_intra_matrix[qscale] : <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;q_chroma_intra_matrix[qscale];</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">int</span> last_non_zero = 0;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;fdsp.fdct(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Divide by 4 with rounding, to compensate scaling of DCT coefficients</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = (<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] + 2) &gt;&gt; 2;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordtype">int</span> j = <a class="code" href="struct_d_n_x_h_d_context.html#ad83d03518c7ea2d53da7737fe4b03fed">scantable</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordtype">int</span> sign = <a class="code" href="libavcodec_2internal_8h.html#ac45708cccbd990e5f2f57021cc6b18c3">FF_SIGNBIT</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j]);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] ^ sign) - sign;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * qmat[j] &gt;&gt; <a class="code" href="dnxhdenc_8c.html#a71cfa287c2d79b8c035ca9d45afef8b5">DNX10BIT_QMAT_SHIFT</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> ^ sign) - sign;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            last_non_zero = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">/* we need this permutation so that we correct the IDCT, we only permute the !=0 elements */</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;idsp.perm_type != <a class="code" href="idctdsp_8h.html#a6484acbbc3eb749e38a5cf57abc9bde3a9855a70f3c6fdced091979554a307c4e">FF_IDCT_PERM_NONE</a>)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="mpegvideo_8h.html#acefde6b554a0cbac66a17db6b0c683c1">ff_block_permute</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;idsp.idct_permutation,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                         <a class="code" href="struct_d_n_x_h_d_context.html#ad83d03518c7ea2d53da7737fe4b03fed">scantable</a>, last_non_zero);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span> last_non_zero;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;}</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a25972e1ddc23c9e2861b991ffad8d0c7">  205</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a25972e1ddc23c9e2861b991ffad8d0c7">dnxhd_init_vlc</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>, <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">int</span> max_level = 1 &lt;&lt; (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth + 2);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;orig_vlc_codes, max_level * 4) ||</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        !<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;orig_vlc_bits,  max_level * 4) ||</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        !(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_codes = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(63 * 2))                     ||</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        !(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_bits  = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(63)))</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_codes = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;orig_vlc_codes + max_level * 2;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_bits  = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;orig_vlc_bits + max_level * 2;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = -max_level; <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &lt; max_level; <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>++) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = 0; <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> &lt; 2; <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>++) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * (1 &lt;&lt; 1) | <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordtype">int</span> sign, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 0, alevel = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <a class="code" href="mathops_8h.html#a8a0e1fe6ea6c0f47592aa5a51e86d680">MASK_ABS</a>(sign, alevel);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">if</span> (alevel &gt; 64) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>  = (alevel - 1) &gt;&gt; 6;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                alevel -= <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> &lt;&lt; 6;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; 257; j++) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;ac_info[2*j+0] &gt;&gt; 1 == alevel &amp;&amp;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    (!<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> || (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;ac_info[2*j+1] &amp; 1) &amp;&amp; <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>) &amp;&amp;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    (!<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>    || (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;ac_info[2*j+1] &amp; 2) &amp;&amp; <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>)) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_codes[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>]);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <span class="keywordflow">if</span> (alevel) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_codes[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>] =</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                            (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;ac_codes[j] &lt;&lt; 1) | (sign &amp; 1);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_bits[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;ac_bits[j] + 1;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_codes[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;ac_codes[j];</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_bits[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>]  = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;ac_bits[j];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(!alevel || j &lt; 257);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_codes[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>] =</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_codes[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>] &lt;&lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;index_bits) | <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_bits[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>] += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;index_bits;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 62; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;run[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a> &lt; 63);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_codes[<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;run_codes[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_bits[<a class="code" href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a>]  = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;run_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;}</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a8eed6de84279b18b5c5a316854ebc576">  260</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a8eed6de84279b18b5c5a316854ebc576">dnxhd_init_qmat</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keywordtype">int</span> lbias, <span class="keywordtype">int</span> cbias)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// init first elem to 1 to avoid div by 0 in convert_matrix</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    uint16_t weight_matrix[64] = { 1, }; <span class="comment">// convert_matrix needs uint16_t*</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordtype">int</span> qscale, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *luma_weight_table   = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;luma_weight;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *chroma_weight_table = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;chroma_weight;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l,   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax + 1) ||</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        !<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c,   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax + 1) ||</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        !<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l16, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax + 1) ||</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        !<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c16, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax + 1))</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth == 8) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordtype">int</span> j = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.idsp.idct_permutation[<a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            weight_matrix[j] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;luma_weight[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="mpegvideo_8h.html#a1eaba460617da7a8f84e53dba9ab8c14">ff_convert_matrix</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l16,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                          weight_matrix, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_quant_bias, 1,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                          <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax, 1);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordtype">int</span> j = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.idsp.idct_permutation[<a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            weight_matrix[j] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;chroma_weight[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="mpegvideo_8h.html#a1eaba460617da7a8f84e53dba9ab8c14">ff_convert_matrix</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c16,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                          weight_matrix, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_quant_bias, 1,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                          <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax, 1);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">for</span> (qscale = 1; qscale &lt;= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax; qscale++) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l[qscale][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]      &lt;&lt;= 2;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c[qscale][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]      &lt;&lt;= 2;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l16[qscale][0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt;= 2;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l16[qscale][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt;= 2;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c16[qscale][0][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt;= 2;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c16[qscale][1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt;= 2;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="comment">// 10-bit</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">for</span> (qscale = 1; qscale &lt;= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax; qscale++) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordtype">int</span> j = <a class="code" href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="comment">/* The quantization formula from the VC-3 standard is:</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">                 * quantized = sign(block[i]) * floor(abs(block[i]/s) * p /</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">                 *             (qscale * weight_table[i]))</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">                 * Where p is 32 for 8-bit samples and 8 for 10-bit ones.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">                 * The s factor compensates scaling of DCT coefficients done by</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">                 * the DCT routines, and therefore is not present in standard.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">                 * It&#39;s 8 for 8-bit samples and 4 for 10-bit ones.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">                 * We want values of ctx-&gt;qtmatrix_l and ctx-&gt;qtmatrix_r to be:</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">                 *     ((1 &lt;&lt; DNX10BIT_QMAT_SHIFT) * (p / s)) /</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">                 *     (qscale * weight_table[i])</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">                 * For 10-bit samples, p / s == 2 */</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l[qscale][j] = (1 &lt;&lt; (<a class="code" href="dnxhdenc_8c.html#a71cfa287c2d79b8c035ca9d45afef8b5">DNX10BIT_QMAT_SHIFT</a> + 1)) /</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                            (qscale * luma_weight_table[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c[qscale][j] = (1 &lt;&lt; (<a class="code" href="dnxhdenc_8c.html#a71cfa287c2d79b8c035ca9d45afef8b5">DNX10BIT_QMAT_SHIFT</a> + 1)) /</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                                            (qscale * chroma_weight_table[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.q_chroma_intra_matrix16 = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c16;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.q_chroma_intra_matrix   = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.q_intra_matrix16        = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l16;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.q_intra_matrix          = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a40c7dc3d455d1872072cbf30d44e8235">  333</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a40c7dc3d455d1872072cbf30d44e8235">dnxhd_init_rc</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc, (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax + 1) * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num))</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;mb_decision != <a class="code" href="avcodec_8h.html#a539f109f975c674a226309aa022bcc8b">FF_MB_DECISION_RD</a>) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp,     <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num) ||</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            !<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp_tmp, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num))</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_bits = (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coding_unit_size -</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                       <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset - 4 - <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;min_padding) * 8;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale = 1;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lambda = 2 &lt;&lt; <a class="code" href="dnxhdenc_8c.html#a347404320a3363d39470bffdabf448e9">LAMBDA_FRAC_BITS</a>; <span class="comment">// qscale 2</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#aff967446a3aa6cd68e60768e78148dad">  350</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#aff967446a3aa6cd68e60768e78148dad">dnxhd_encode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a>:</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth = 8;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a>:</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a>:</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a>:</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth = 10;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;               <span class="stringliteral">&quot;pixel format is incompatible with DNxHD\n&quot;</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile == <a class="code" href="avcodec_8h.html#a1041022d7b0f2c72fff7586cf920654c">FF_PROFILE_DNXHR_444</a> &amp;&amp; (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> != <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a> &amp;&amp;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                                  <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> != <a class="code" href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a>)) ||</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile != <a class="code" href="avcodec_8h.html#a1041022d7b0f2c72fff7586cf920654c">FF_PROFILE_DNXHR_444</a> &amp;&amp; (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a> ||</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                  <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a>))) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;               <span class="stringliteral">&quot;pixel format is incompatible with DNxHD profile\n&quot;</span>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile == <a class="code" href="avcodec_8h.html#af55b3cbd358bd54342a3497eba37f67a">FF_PROFILE_DNXHR_HQX</a> &amp;&amp; <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> != <a class="code" href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a>) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;               <span class="stringliteral">&quot;pixel format is incompatible with DNxHR HQX profile\n&quot;</span>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile == <a class="code" href="avcodec_8h.html#a3446126ae1f978c3b2e823c54cad523e">FF_PROFILE_DNXHR_LB</a> ||</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;         <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile == <a class="code" href="avcodec_8h.html#ac73d906f677917ede712580eaf978071">FF_PROFILE_DNXHR_SQ</a> ||</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;         <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile == <a class="code" href="avcodec_8h.html#a6a1d019f5ae198b2265624695635cbb8">FF_PROFILE_DNXHR_HQ</a>) &amp;&amp; <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> != <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a>) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;               <span class="stringliteral">&quot;pixel format is incompatible with DNxHR LB/SQ/HQ profile\n&quot;</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444 = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile == <a class="code" href="avcodec_8h.html#a1041022d7b0f2c72fff7586cf920654c">FF_PROFILE_DNXHR_444</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">profile</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid = <a class="code" href="dnxhddata_8c.html#af52acff91d7777320b91dee549978be8">ff_dnxhd_find_cid</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;               <span class="stringliteral">&quot;video parameters incompatible with DNxHD. Valid DNxHD profiles:\n&quot;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="dnxhddata_8c.html#a6291b49cf2273a98dba4137b888f3b89">ff_dnxhd_print_profiles</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;cid %d\n&quot;</span>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid &gt;= 1270 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid &lt;= 1274)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a2c974557671dd459674b170c5e64d79a">codec_tag</a> = <a class="code" href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a>(<span class="charliteral">&#39;A&#39;</span>,<span class="charliteral">&#39;V&#39;</span>,<span class="charliteral">&#39;d&#39;</span>,<span class="charliteral">&#39;h&#39;</span>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a> &lt; 256 || <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> &lt; 120) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;               <span class="stringliteral">&quot;Input dimensions too small, input must be at least 256x120\n&quot;</span>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="dnxhddata_8c.html#a2598c085cb4b0303c57353c0b0ed538b">ff_dnxhd_get_cid_table</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> &gt;= 0);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table = &amp;<a class="code" href="dnxhddata_8c.html#ae56940705e3cb13309e0a2add3adaa03">ff_dnxhd_cid_table</a>[<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>];</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx    = <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_intra = 1;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.h263_aic = 1;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a889b84d5b3657df4a4e45b17b87848f5">bits_per_raw_sample</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="libavcodec_2blockdsp_8c.html#a923c6716c33a9c53546b0254916e406f">ff_blockdsp_init</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bdsp, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="fdctdsp_8c.html#aba553d5c07fce211c12e4a09bc3227a7">ff_fdctdsp_init</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.fdsp, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="mpegvideo_8c.html#a71135d03df49cffd713309e71e5f28fa">ff_mpv_idct_init</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="mpegvideoencdsp_8c.html#a5541c64c94768b55c658e4e88ab60103">ff_mpegvideoencdsp_init</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mpvencdsp, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="libavcodec_2pixblockdsp_8c.html#ae29c4c41d977bf6ffea877b2aaf721f5">ff_pixblockdsp_init</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.pdsp, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="mpegvideo_8h.html#a578d253d5d45b7ffc942dfbc50375576">ff_dct_encode_init</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile != <a class="code" href="avcodec_8h.html#a8c5a554f4519ab093940607e3e637650">FF_PROFILE_DNXHD</a>)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <a class="code" href="libavcodec_2videodsp_8c.html#a9f55abcd843195bcf47dae7689bcf894">ff_videodsp_init</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.vdsp, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.dct_quantize)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.dct_quantize = <a class="code" href="mpegvideo_8h.html#a590cd0e9e141626f42ea13f7f5a7ae63">ff_dct_quantize_c</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444 || <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile == <a class="code" href="avcodec_8h.html#af55b3cbd358bd54342a3497eba37f67a">FF_PROFILE_DNXHR_HQX</a>) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.dct_quantize     = <a class="code" href="dnxhdenc_8c.html#a1c232028ee2e00446091f88075e7191e">dnxhd_10bit_dct_quantize_444</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;get_pixels_8x4_sym = <a class="code" href="dnxhdenc_8c.html#ab426705645e30787fe99e0c056899bdc">dnxhd_10bit_get_pixels_8x4_sym</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;block_width_l2     = 4;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth == 10) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.dct_quantize     = <a class="code" href="dnxhdenc_8c.html#a296257a87354a2cde8ccea0ee3a5768e">dnxhd_10bit_dct_quantize</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;get_pixels_8x4_sym = <a class="code" href="dnxhdenc_8c.html#ab426705645e30787fe99e0c056899bdc">dnxhd_10bit_get_pixels_8x4_sym</a>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;block_width_l2     = 4;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;get_pixels_8x4_sym = <a class="code" href="dnxhdenc_8c.html#a2d8be6cc417583a9887847442ea70d9d">dnxhd_8bit_get_pixels_8x4_sym</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;block_width_l2     = 3;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> (ARCH_X86)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="dnxhdenc_8h.html#aac53c66b6d9b80a783b22795a83c5127">ff_dnxhdenc_init_x86</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height = (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> + 15) / 16;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width  = (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>  + 15) / 16;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga502225f65e2092fbc45945247892cb0f">AV_CODEC_FLAG_INTERLACED_DCT</a>) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced   = 1;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height /= 2;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;profile != <a class="code" href="avcodec_8h.html#a8c5a554f4519ab093940607e3e637650">FF_PROFILE_DNXHD</a>) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;               <span class="stringliteral">&quot;Interlaced encoding is not supported for DNxHR profiles.\n&quot;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;frame_size == <a class="code" href="dnxhddata_8h.html#aa05141353d9435ea1c1fd5e76014ce56">DNXHD_VARIABLE</a>) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_size = <a class="code" href="dnxhddata_8c.html#a03bdb0c155f577b86f48b2178a5af870">avpriv_dnxhd_get_hr_frame_size</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                                     <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_size &gt;= 0);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coding_unit_size = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_size;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_size = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;frame_size;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coding_unit_size = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;coding_unit_size;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height &gt; 68)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset = 0x170 + (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height &lt;&lt; 2);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset = 0x280;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// XXX tune lbias/cbias</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dnxhdenc_8c.html#a8eed6de84279b18b5c5a316854ebc576">dnxhd_init_qmat</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;intra_quant_bias, 0)) &lt; 0)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">/* Avid Nitris hardware decoder requires a minimum amount of padding</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">     * in the coding unit payload */</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;nitris_compat)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;min_padding = 1600;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dnxhdenc_8c.html#a25972e1ddc23c9e2861b991ffad8d0c7">dnxhd_init_vlc</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)) &lt; 0)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dnxhdenc_8c.html#a40c7dc3d455d1872072cbf30d44e8235">dnxhd_init_rc</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)) &lt; 0)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height) ||</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        !<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_offs, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height) ||</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        !<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_bits,    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num)    ||</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        !<a class="code" href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_qscale,  <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num))</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="preprocessor">#if FF_API_CODED_FRAME</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">key_frame</a> = 1;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">pict_type</a> = <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f4579d94675579e1d46a591340f598f">active_thread_type</a> == <a class="code" href="avcodec_8h.html#a91bc1a1c1c4a3cc6db54d59705fded0b">FF_THREAD_SLICE</a>) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">thread_count</a> &gt; <a class="code" href="frame__thread__encoder_8c.html#a8b5173357adb02a86c027316e0acdfa0">MAX_THREADS</a>) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;too many threads\n&quot;</span>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">qmax</a> &lt;= 1) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;qmax must be at least 2\n&quot;</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[0] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f4579d94675579e1d46a591340f598f">active_thread_type</a> == <a class="code" href="avcodec_8h.html#a91bc1a1c1c4a3cc6db54d59705fded0b">FF_THREAD_SLICE</a>) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">thread_count</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a>));</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            memcpy(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keyword">sizeof</span>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a>));</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#ab214552d293ba8037f388fd94657ac2f">  535</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#ab214552d293ba8037f388fd94657ac2f">dnxhd_write_header</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    memset(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>, 0, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">// * write prefix */</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + 0x02, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid &gt;= 1270 &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid &lt;= 1274)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[4] = 0x03;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[4] = 0x01;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[5] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced ? <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cur_field + 2 : 0x01;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[6] = 0x80; <span class="comment">// crc flag off</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[7] = 0xa0; <span class="comment">// reserved</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + 0x18, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> &gt;&gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced); <span class="comment">// ALPF</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + 0x1a, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>);  <span class="comment">// SPL</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + 0x1d, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> &gt;&gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced); <span class="comment">// NAL</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[0x21] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth == 10 ? 0x58 : 0x38;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[0x22] = 0x88 + (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced &lt;&lt; 2);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + 0x28, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid); <span class="comment">// CID</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[0x2c] = (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced &lt;&lt; 7) | (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444 &lt;&lt; 6) | (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[0x5f] = 0x01; <span class="comment">// UDL</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[0x167] = 0x02; <span class="comment">// reserved</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + 0x16a, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height * 4 + 4); <span class="comment">// MSIPS</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + 0x16c, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height); <span class="comment">// Ns</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>[0x16f] = 0x10; <span class="comment">// reserved</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;msip = <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + 0x170;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a3957e6cd1aa80f1dd616b114e08b298b">  571</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#a3957e6cd1aa80f1dd616b114e08b298b">dnxhd_encode_dc</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keywordtype">int</span> <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>)</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;{</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordtype">int</span> nbits;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> &lt; 0) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        nbits = <a class="code" href="intmath_8h.html#aef9f0f25de87ea8361407f8c7579915c">av_log2_16bit</a>(-2 * <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>--;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        nbits = <a class="code" href="intmath_8h.html#aef9f0f25de87ea8361407f8c7579915c">av_log2_16bit</a>(2 * <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;dc_bits[nbits] + nbits,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;             (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;dc_codes[nbits] &lt;&lt; nbits) +</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;             av_mod_uintp2(<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>, nbits));</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#aa2ce24397a8d51a62e9461fec6e26019">  586</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#aa2ce24397a8d51a62e9461fec6e26019">dnxhd_encode_block</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                        <span class="keywordtype">int</span> last_index, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordtype">int</span> last_non_zero = 0;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordtype">int</span> slevel, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="dnxhdenc_8c.html#a3957e6cd1aa80f1dd616b114e08b298b">dnxhd_encode_dc</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] - <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[n]);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[n] = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0];</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= last_index; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        j = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.intra_scantable.permutated[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        slevel = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j];</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">if</span> (slevel) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordtype">int</span> run_level = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - last_non_zero - 1;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordtype">int</span> rlevel = slevel * (1 &lt;&lt; 1) | !!run_level;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_bits[rlevel], <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_codes[rlevel]);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">if</span> (run_level)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_bits[run_level],</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                         <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_codes[run_level]);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            last_non_zero = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_bits[0], <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_codes[0]); <span class="comment">// EOB</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a19914f51cfcc06bc7da34405dc1ab6be">  612</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#a19914f51cfcc06bc7da34405dc1ab6be">dnxhd_unquantize_c</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <span class="keywordtype">int</span> n,</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                        <span class="keywordtype">int</span> qscale, <span class="keywordtype">int</span> last_index)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *weight_matrix;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        weight_matrix = ((n % 6) &lt; 2) ? <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;luma_weight</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                      : <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;chroma_weight;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        weight_matrix = (n &amp; 2) ? <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;chroma_weight</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                : <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;luma_weight;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= last_index; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordtype">int</span> j = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.intra_scantable.permutated[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j];</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &lt; 0) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (1 - 2 * <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>) * qscale * weight_matrix[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth == 10) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                    <span class="keywordflow">if</span> (weight_matrix[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != 8)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> += 8;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &gt;&gt;= 4;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                    <span class="keywordflow">if</span> (weight_matrix[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != 32)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> += 32;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &gt;&gt;= 6;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = -<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = (2 * <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> + 1) * qscale * weight_matrix[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth == 10) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                    <span class="keywordflow">if</span> (weight_matrix[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != 8)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> += 8;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &gt;&gt;= 4;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                    <span class="keywordflow">if</span> (weight_matrix[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != 32)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> += 32;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                    <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> &gt;&gt;= 6;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j] = <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a89624ca73fd930b63122d79a84a3a8a2">  660</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a89624ca73fd930b63122d79a84a3a8a2">dnxhd_ssd_block</a>(int16_t *qblock, int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;{</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordtype">int</span> score = 0;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 64; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        score += (<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - qblock[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) * (<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - qblock[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">return</span> score;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a97faf60ec84262fbca729c83d0b0cc62">  670</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a97faf60ec84262fbca729c83d0b0cc62">dnxhd_calc_ac_bits</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <span class="keywordtype">int</span> last_index)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;{</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordtype">int</span> last_non_zero = 0;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = 0;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= last_index; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        j = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.intra_scantable.permutated[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[j];</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a>) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordtype">int</span> run_level = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - last_non_zero - 1;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_bits[<a class="code" href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a> * (1 &lt;&lt; 1) |</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    !!run_level] + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_bits[run_level];</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            last_non_zero = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a1e1aa3295a113e88686a9fae0df1ea7a">  689</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#a1e1aa3295a113e88686a9fae0df1ea7a">dnxhd_get_blocks</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y)</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> bs = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;block_width_l2;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> bw = 1 &lt;&lt; bs;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordtype">int</span> dct_y_offset = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;dct_y_offset;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordtype">int</span> dct_uv_offset = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;dct_uv_offset;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordtype">int</span> linesize = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordtype">int</span> uvlinesize = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.uvlinesize;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr_y = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[0]-&gt;src[0] +</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                           ((mb_y &lt;&lt; 4) * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize) + (mb_x &lt;&lt; bs + 1);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr_u = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[0]-&gt;src[1] +</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                           ((mb_y &lt;&lt; 4) * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.uvlinesize) + (mb_x &lt;&lt; bs + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr_v = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[0]-&gt;src[2] +</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                           ((mb_y &lt;&lt; 4) * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.uvlinesize) + (mb_x &lt;&lt; bs + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="struct_pixblock_d_s_p_context.html">PixblockDSPContext</a> *pdsp = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.pdsp;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="struct_video_d_s_p_context.html">VideoDSPContext</a> *vdsp = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.vdsp;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth != 10 &amp;&amp; vdsp-&gt;<a class="code" href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">emulated_edge_mc</a> &amp;&amp; ((mb_x &lt;&lt; 4) + 16 &gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;width ||</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                                                           (mb_y &lt;&lt; 4) + 16 &gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;height)) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordtype">int</span> y_w = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;width  - (mb_x &lt;&lt; 4);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordtype">int</span> y_h = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;height - (mb_y &lt;&lt; 4);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordtype">int</span> uv_w = (y_w + 1) / 2;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordtype">int</span> uv_h = y_h;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        linesize = 16;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        uvlinesize = 8;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        vdsp-&gt;<a class="code" href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">emulated_edge_mc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_y[0], ptr_y,</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                               linesize, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                               linesize, 16,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                               0, 0, y_w, y_h);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        vdsp-&gt;<a class="code" href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">emulated_edge_mc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_uv[0][0], ptr_u,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                               uvlinesize, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.uvlinesize,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                               uvlinesize, 16,</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                               0, 0, uv_w, uv_h);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        vdsp-&gt;<a class="code" href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">emulated_edge_mc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_uv[1][0], ptr_v,</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                               uvlinesize, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.uvlinesize,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                               uvlinesize, 16,</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                               0, 0, uv_w, uv_h);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        dct_y_offset =  bw * linesize;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        dct_uv_offset = bw * uvlinesize;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        ptr_y = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_y[0];</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        ptr_u = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_uv[0][0];</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        ptr_v = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_uv[1][0];</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth == 10 &amp;&amp; vdsp-&gt;<a class="code" href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">emulated_edge_mc</a> &amp;&amp; ((mb_x &lt;&lt; 4) + 16 &gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;width ||</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                                                                  (mb_y &lt;&lt; 4) + 16 &gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;height)) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordtype">int</span> y_w = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;width  - (mb_x &lt;&lt; 4);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordtype">int</span> y_h = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;height - (mb_y &lt;&lt; 4);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordtype">int</span> uv_w = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444 ? y_w : (y_w + 1) / 2;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordtype">int</span> uv_h = y_h;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        linesize = 32;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        uvlinesize = 16 + 16 * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        vdsp-&gt;<a class="code" href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">emulated_edge_mc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_y[0], ptr_y,</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                               linesize, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                               linesize / 2, 16,</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                               0, 0, y_w, y_h);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        vdsp-&gt;<a class="code" href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">emulated_edge_mc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_uv[0][0], ptr_u,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                               uvlinesize, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.uvlinesize,</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                               uvlinesize / 2, 16,</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                               0, 0, uv_w, uv_h);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        vdsp-&gt;<a class="code" href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">emulated_edge_mc</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_uv[1][0], ptr_v,</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                               uvlinesize, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.uvlinesize,</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                               uvlinesize / 2, 16,</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                               0, 0, uv_w, uv_h);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        dct_y_offset =  bw * linesize / 2;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        dct_uv_offset = bw * uvlinesize / 2;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        ptr_y = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_y[0];</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        ptr_u = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_uv[0][0];</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        ptr_v = &amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;edge_buf_uv[1][0];</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[0], ptr_y,      linesize);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[1], ptr_y + bw, linesize);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[2], ptr_u,      uvlinesize);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[3], ptr_v,      uvlinesize);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="keywordflow">if</span> (mb_y + 1 == <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;height == 1080) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;get_pixels_8x4_sym(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[4],</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                                        ptr_y + dct_y_offset,</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                                        linesize);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;get_pixels_8x4_sym(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[5],</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                                        ptr_y + dct_y_offset + bw,</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                                        linesize);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;get_pixels_8x4_sym(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[6],</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                                        ptr_u + dct_uv_offset,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                        uvlinesize);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;get_pixels_8x4_sym(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[7],</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                                        ptr_v + dct_uv_offset,</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                                        uvlinesize);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bdsp.clear_block(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[4]);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bdsp.clear_block(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[5]);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bdsp.clear_block(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[6]);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bdsp.clear_block(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[7]);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[4],</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                             ptr_y + dct_y_offset, linesize);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[5],</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                             ptr_y + dct_y_offset + bw, linesize);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[6],</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                             ptr_u + dct_uv_offset, uvlinesize);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[7],</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                             ptr_v + dct_uv_offset, uvlinesize);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[0], ptr_y,      linesize);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[1], ptr_y + bw, linesize);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[6], ptr_y + dct_y_offset, linesize);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[7], ptr_y + dct_y_offset + bw, linesize);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[2], ptr_u,      uvlinesize);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[3], ptr_u + bw, uvlinesize);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[8], ptr_u + dct_uv_offset, uvlinesize);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[9], ptr_u + dct_uv_offset + bw, uvlinesize);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[4], ptr_v,      uvlinesize);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[5], ptr_v + bw, uvlinesize);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[10], ptr_v + dct_uv_offset, uvlinesize);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        pdsp-&gt;<a class="code" href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">get_pixels</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[11], ptr_v + dct_uv_offset + bw, uvlinesize);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;}</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a161af7d01500e0fad004205c954b8ded">  817</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a161af7d01500e0fad004205c954b8ded">dnxhd_switch_matrix</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;{</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordtype">int</span> x;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        x = (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;&gt; 1) % 3;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <span class="keyword">const</span> <span class="keyword">static</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> component[8]={0,0,1,2,0,0,1,2};</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        x = component[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">return</span> x;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#aed33dd2199e572250c1e1ef253a0b267">  830</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#aed33dd2199e572250c1e1ef253a0b267">dnxhd_calc_bits_thread</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <span class="keywordtype">void</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                  <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;{</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordtype">int</span> mb_y = jobnr, mb_x;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordtype">int</span> qscale = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="libavutil_2internal_8h.html#a9c40c09fa05d7001bd3171f93f233df4">LOCAL_ALIGNED_16</a>(int16_t, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, [64]);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[threadnr];</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[0] =</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[1] =</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[2] = 1 &lt;&lt; (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth + 2);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keywordflow">for</span> (mb_x = 0; mb_x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width; mb_x++) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = mb_y * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width + mb_x;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordtype">int</span> ssd     = 0;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordtype">int</span> ac_bits = 0;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordtype">int</span> dc_bits = 0;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <a class="code" href="dnxhdenc_8c.html#a1e1aa3295a113e88686a9fae0df1ea7a">dnxhd_get_blocks</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, mb_x, mb_y);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8 + 4 * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            int16_t *src_block = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>, nbits, <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>, last_index;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="keywordtype">int</span> n = <a class="code" href="dnxhdenc_8c.html#a161af7d01500e0fad004205c954b8ded">dnxhd_switch_matrix</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            memcpy(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, src_block, 64 * <span class="keyword">sizeof</span>(*<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>));</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            last_index = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.dct_quantize(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                             <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444 ? 4 * (n &gt; 0): 4 &amp; (2*<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>),</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                             qscale, &amp;<a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            ac_bits   += <a class="code" href="dnxhdenc_8c.html#a97faf60ec84262fbca729c83d0b0cc62">dnxhd_calc_ac_bits</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, last_index);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] - <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[n];</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a> &lt; 0)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                nbits = <a class="code" href="intmath_8h.html#aef9f0f25de87ea8361407f8c7579915c">av_log2_16bit</a>(-2 * <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                nbits = <a class="code" href="intmath_8h.html#aef9f0f25de87ea8361407f8c7579915c">av_log2_16bit</a>(2 * <a class="code" href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(nbits &lt; ctx-&gt;<a class="code" href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a> + 4);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            dc_bits += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cid_table-&gt;dc_bits[nbits] + nbits;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[n] = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0];</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160; </div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a66af0e26734255f1eacabd7d67558482">mb_decision</a> == <a class="code" href="avcodec_8h.html#a539f109f975c674a226309aa022bcc8b">FF_MB_DECISION_RD</a> || !<a class="code" href="dnxhdenc_8c.html#a8ec65e6ec49e59bbef16068bd7772ec4">RC_VARIANCE</a>) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                <a class="code" href="dnxhdenc_8c.html#a19914f51cfcc06bc7da34405dc1ab6be">dnxhd_unquantize_c</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, qscale, last_index);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.idsp.idct(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                ssd += <a class="code" href="dnxhdenc_8c.html#a89624ca73fd930b63122d79a84a3a8a2">dnxhd_ssd_block</a>(<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, src_block);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[(qscale * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num) + <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>].ssd  = ssd;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[(qscale * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num) + <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>].<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = ac_bits + dc_bits + 12 +</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                                     (1 + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444) * 8 * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;vlc_bits[0];</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a3f282348a93efaaf2863ee978617edc5">  887</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a3f282348a93efaaf2863ee978617edc5">dnxhd_encode_thread</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <span class="keywordtype">void</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>,</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                               <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;{</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordtype">int</span> mb_y = jobnr, mb_x;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[threadnr];</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *)<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a> + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_offs[jobnr],</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                  <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[jobnr]);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[0] =</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[1] =</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.last_dc[2] = 1 &lt;&lt; (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth + 2);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keywordflow">for</span> (mb_x = 0; mb_x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width; mb_x++) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = mb_y * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width + mb_x;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordtype">int</span> qscale = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_qscale[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>];</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, 11, qscale);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, 1, <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a>);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <a class="code" href="dnxhdenc_8c.html#a1e1aa3295a113e88686a9fae0df1ea7a">dnxhd_get_blocks</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, mb_x, mb_y);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 8 + 4 * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            int16_t *<a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;blocks[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>, n = <a class="code" href="dnxhdenc_8c.html#a161af7d01500e0fad004205c954b8ded">dnxhd_switch_matrix</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordtype">int</span> last_index = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.dct_quantize(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>,</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                                                 <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;is_444 ? (((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;&gt; 1) % 3) &lt; 1 ? 0 : 4): 4 &amp; (2*<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>),</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                                                 qscale, &amp;<a class="code" href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <a class="code" href="dnxhdenc_8c.html#aa2ce24397a8d51a62e9461fec6e26019">dnxhd_encode_block</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, last_index, n);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="put__bits_8h.html#a57c57e21dbbc8777ed8a0a78ba89fc7d">put_bits_count</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>) &amp; 31)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>, 32 - (<a class="code" href="put__bits_8h.html#a57c57e21dbbc8777ed8a0a78ba89fc7d">put_bits_count</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>) &amp; 31), 0);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.<a class="code" href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">pb</a>);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a42ee2a62522c355706f221dd6ce5a59f">  925</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#a42ee2a62522c355706f221dd6ce5a59f">dnxhd_setup_threads_slices</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;{</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordtype">int</span> mb_y, mb_x;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 0;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">for</span> (mb_y = 0; mb_y &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height; mb_y++) {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="keywordtype">int</span> thread_size;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_offs[mb_y] = <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[mb_y] = 0;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">for</span> (mb_x = 0; mb_x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width; mb_x++) {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = mb_y * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width + mb_x;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[mb_y] += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_bits[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>];</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[mb_y]   = (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[mb_y] + 31) &amp; ~31;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[mb_y] &gt;&gt;= 3;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        thread_size = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[mb_y];</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> += thread_size;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#aa79f99b52efdb371cdbd246dcfc996e1">  944</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#aa79f99b52efdb371cdbd246dcfc996e1">dnxhd_mb_var_thread</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <span class="keywordtype">void</span> *<a class="code" href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a>,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                               <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;{</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordtype">int</span> mb_y = jobnr, mb_x, x, y;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordtype">int</span> partial_last_row = (mb_y == <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height - 1) &amp;&amp;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                           ((<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> &gt;&gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced) &amp; 0xF);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[threadnr];</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;bit_depth == 8) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *pix = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[0]-&gt;src[0] + ((mb_y &lt;&lt; 4) * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">for</span> (mb_x = 0; mb_x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width; ++mb_x, pix += 16) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = mb_y * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width + mb_x;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;            <span class="keywordtype">int</span> sum;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <span class="keywordtype">int</span> varc;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <span class="keywordflow">if</span> (!partial_last_row &amp;&amp; mb_x * 16 &lt;= <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a> - 16 &amp;&amp; (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a> % 16) == 0) {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                sum  = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mpvencdsp.pix_sum(pix, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                varc = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mpvencdsp.pix_norm1(pix, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                <span class="keywordtype">int</span> bw = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a> - 16 * mb_x, 16);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <span class="keywordtype">int</span> bh = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>((<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> &gt;&gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced) - 16 * mb_y, 16);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                sum = varc = 0;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <span class="keywordflow">for</span> (y = 0; y &lt; bh; y++) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                    <span class="keywordflow">for</span> (x = 0; x &lt; bw; x++) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = pix[x + y * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize];</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                        sum  += <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                        varc += <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> * <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                    }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            }</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            varc = (varc - (((unsigned) sum * sum) &gt;&gt; 8) + 128) &gt;&gt; 8;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>].value = varc;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>].mb    = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// 10-bit</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> linesize = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize &gt;&gt; 1;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">for</span> (mb_x = 0; mb_x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width; ++mb_x) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            uint16_t *pix = (uint16_t *)<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[0]-&gt;src[0] +</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                            ((mb_y &lt;&lt; 4) * linesize) + (mb_x &lt;&lt; 4);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>  = mb_y * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width + mb_x;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;            <span class="keywordtype">int</span> sum = 0;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <span class="keywordtype">int</span> sqsum = 0;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <span class="keywordtype">int</span> bw = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a> - 16 * mb_x, 16);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <span class="keywordtype">int</span> bh = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>((<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a> &gt;&gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced) - 16 * mb_y, 16);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <span class="keywordtype">int</span> mean, sqmean;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <span class="comment">// Macroblocks are 16x16 pixels, unlike DCT blocks which are 8x8.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; bh; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; bw; ++j) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                    <span class="comment">// Turn 16-bit pixels into 10-bit ones.</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> = (unsigned) pix[j] &gt;&gt; 6;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                    sum   += <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                    sqsum += <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a> * <a class="code" href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                    <span class="comment">// 2^10 * 2^10 * 16 * 16 = 2^28, which is less than INT_MAX</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                pix += linesize;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            mean = sum &gt;&gt; 8; <span class="comment">// 16*16 == 2^8</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            sqmean = sqsum &gt;&gt; 8;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>].value = sqmean - mean * mean;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>].mb    = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a9b4bb7dc88073bf3bc03866035269e89"> 1012</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a9b4bb7dc88073bf3bc03866035269e89">dnxhd_encode_rdo</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;{</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordtype">int</span> lambda, up_step, down_step;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordtype">int</span> last_lower = INT_MAX, last_higher = 0;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keywordtype">int</span> x, y, q;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keywordflow">for</span> (q = 1; q &lt; <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">qmax</a>; q++) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale = q;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">execute2</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="dnxhdenc_8c.html#aed33dd2199e572250c1e1ef253a0b267">dnxhd_calc_bits_thread</a>,</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                        <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    up_step = down_step = 2 &lt;&lt; <a class="code" href="dnxhdenc_8c.html#a347404320a3363d39470bffdabf448e9">LAMBDA_FRAC_BITS</a>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    lambda  = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lambda;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = 0;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>  = 0;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">if</span> (lambda == last_higher) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            lambda++;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a> = 1; <span class="comment">// need to set final qscales/bits</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height; y++) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width; x++) {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                <span class="keywordtype">unsigned</span> <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a> = UINT_MAX;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                <span class="keywordtype">int</span> qscale = 1;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>     = y * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width + x;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <span class="keywordtype">int</span> rc = 0;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                <span class="keywordflow">for</span> (q = 1; q &lt; <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">qmax</a>; q++) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = (q*<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num) + <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    <span class="keywordtype">unsigned</span> score = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].bits * lambda +</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                     ((unsigned) <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].ssd &lt;&lt; <a class="code" href="dnxhdenc_8c.html#a347404320a3363d39470bffdabf448e9">LAMBDA_FRAC_BITS</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                    <span class="keywordflow">if</span> (score &lt; <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                        <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>    = score;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                        qscale = q;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                        rc = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                    }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc].bits;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_qscale[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>] = qscale;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_bits[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>]   = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc].bits;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = (<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> + 31) &amp; ~31; <span class="comment">// padding</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> &gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_bits)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> &gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_bits)</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <span class="keywordflow">if</span> (bits &lt; ctx-&gt;frame_bits) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            last_lower = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(lambda, last_lower);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <span class="keywordflow">if</span> (last_higher != 0)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                lambda = (lambda+last_higher)&gt;&gt;1;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                lambda -= down_step;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            down_step = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>((int64_t)down_step*5, INT_MAX);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            up_step = 1&lt;&lt;<a class="code" href="dnxhdenc_8c.html#a347404320a3363d39470bffdabf448e9">LAMBDA_FRAC_BITS</a>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            lambda = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(1, lambda);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <span class="keywordflow">if</span> (lambda == last_lower)</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            last_higher = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(lambda, last_higher);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            <span class="keywordflow">if</span> (last_lower != INT_MAX)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                lambda = (lambda+last_lower)&gt;&gt;1;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((int64_t)lambda + up_step &gt; INT_MAX)</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                lambda += up_step;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            up_step = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>((int64_t)up_step*5, INT_MAX);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            down_step = 1&lt;&lt;<a class="code" href="dnxhdenc_8c.html#a347404320a3363d39470bffdabf448e9">LAMBDA_FRAC_BITS</a>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;lambda = lambda;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;}</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#aba46b1e2f7f6f4cffe0d3fb6b2c8ad08"> 1089</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#aba46b1e2f7f6f4cffe0d3fb6b2c8ad08">dnxhd_find_qscale</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;{</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = 0;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="keywordtype">int</span> up_step = 1;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordtype">int</span> down_step = 1;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordtype">int</span> last_higher = 0;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="keywordtype">int</span> last_lower = INT_MAX;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordtype">int</span> qscale;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    qscale = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = 0;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale = qscale;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="comment">// XXX avoid recalculating bits</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;execute2(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx, <a class="code" href="dnxhdenc_8c.html#aed33dd2199e572250c1e1ef253a0b267">dnxhd_calc_bits_thread</a>,</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                               <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height; y++) {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width; x++)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[(qscale*<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num) + (y*<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width+x)].<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = (<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>+31)&amp;~31; <span class="comment">// padding</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> &gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_bits)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">if</span> (bits &lt; ctx-&gt;frame_bits) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <span class="keywordflow">if</span> (qscale == 1)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="keywordflow">if</span> (last_higher == qscale - 1) {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                qscale = last_higher;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            last_lower = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(qscale, last_lower);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <span class="keywordflow">if</span> (last_higher != 0)</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                qscale = (qscale + last_higher) &gt;&gt; 1;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                qscale -= down_step++;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordflow">if</span> (qscale &lt; 1)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                qscale = 1;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            up_step = 1;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <span class="keywordflow">if</span> (last_lower == qscale + 1)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            last_higher = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(qscale, last_higher);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            <span class="keywordflow">if</span> (last_lower != INT_MAX)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                qscale = (qscale + last_lower) &gt;&gt; 1;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                qscale += up_step++;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            down_step = 1;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">if</span> (qscale &gt;= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;qmax)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale = qscale;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#adbca9c23ef80d4f2b7b387a1f6595054"> 1145</a></span>&#160;<span class="preprocessor">#define BUCKET_BITS 8</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a8610dbf2070b4b3a23eb5cd35d590297"> 1146</a></span>&#160;<span class="preprocessor">#define RADIX_PASSES 4</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563"> 1147</a></span>&#160;<span class="preprocessor">#define NBUCKETS (1 &lt;&lt; BUCKET_BITS)</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#aeee67849cbedd25a9d268878bc9218ef"> 1149</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#aeee67849cbedd25a9d268878bc9218ef">get_bucket</a>(<span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <span class="keywordtype">int</span> <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;{</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a> &gt;&gt;= <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>  &amp;= <a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a> - 1;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a> - 1 - <a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;}</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a3d16e89bb486152878b769a4a7c8de54"> 1156</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#a3d16e89bb486152878b769a4a7c8de54">radix_count</a>(<span class="keyword">const</span> <a class="code" href="struct_r_c_c_m_p_entry.html">RCCMPEntry</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>,</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                        <span class="keywordtype">int</span> buckets[<a class="code" href="dnxhdenc_8c.html#a8610dbf2070b4b3a23eb5cd35d590297">RADIX_PASSES</a>][<a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a>])</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;{</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    memset(buckets, 0, <span class="keyword">sizeof</span>(buckets[0][0]) * <a class="code" href="dnxhdenc_8c.html#a8610dbf2070b4b3a23eb5cd35d590297">RADIX_PASSES</a> * <a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a>);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="keywordtype">int</span> v = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].value;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="dnxhdenc_8c.html#a8610dbf2070b4b3a23eb5cd35d590297">RADIX_PASSES</a>; j++) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            buckets[j][<a class="code" href="dnxhdenc_8c.html#aeee67849cbedd25a9d268878bc9218ef">get_bucket</a>(v, 0)]++;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            v &gt;&gt;= <a class="code" href="dnxhdenc_8c.html#adbca9c23ef80d4f2b7b387a1f6595054">BUCKET_BITS</a>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(!v);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="dnxhdenc_8c.html#a8610dbf2070b4b3a23eb5cd35d590297">RADIX_PASSES</a>; j++) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a> - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            buckets[j][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> -= buckets[j][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(!buckets[j][0]);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;}</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#ad1ecf3154973c74517fb077e7075f911"> 1177</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#ad1ecf3154973c74517fb077e7075f911">radix_sort_pass</a>(<a class="code" href="struct_r_c_c_m_p_entry.html">RCCMPEntry</a> *dst, <span class="keyword">const</span> <a class="code" href="struct_r_c_c_m_p_entry.html">RCCMPEntry</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>,</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                            <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keywordtype">int</span> buckets[<a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a>], <span class="keywordtype">int</span> <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;{</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a> = <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a> * <a class="code" href="dnxhdenc_8c.html#adbca9c23ef80d4f2b7b387a1f6595054">BUCKET_BITS</a>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="keywordtype">int</span> v   = <a class="code" href="dnxhdenc_8c.html#aeee67849cbedd25a9d268878bc9218ef">get_bucket</a>(<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a>, <a class="code" href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a>);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = buckets[v]++;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        dst[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>] = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#ac4eaac6c06f2e245653292bb5eb08b3e"> 1189</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#ac4eaac6c06f2e245653292bb5eb08b3e">radix_sort</a>(<a class="code" href="struct_r_c_c_m_p_entry.html">RCCMPEntry</a> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="struct_r_c_c_m_p_entry.html">RCCMPEntry</a> *tmp, <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;{</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordtype">int</span> buckets[<a class="code" href="dnxhdenc_8c.html#a8610dbf2070b4b3a23eb5cd35d590297">RADIX_PASSES</a>][<a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a>];</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <a class="code" href="dnxhdenc_8c.html#a3d16e89bb486152878b769a4a7c8de54">radix_count</a>(<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, buckets);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <a class="code" href="dnxhdenc_8c.html#ad1ecf3154973c74517fb077e7075f911">radix_sort_pass</a>(tmp, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, buckets[0], 0);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="dnxhdenc_8c.html#ad1ecf3154973c74517fb077e7075f911">radix_sort_pass</a>(<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, tmp, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, buckets[1], 1);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (buckets[2][<a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a> - 1] || buckets[3][<a class="code" href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a> - 1]) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <a class="code" href="dnxhdenc_8c.html#ad1ecf3154973c74517fb077e7075f911">radix_sort_pass</a>(tmp, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, buckets[2], 2);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <a class="code" href="dnxhdenc_8c.html#ad1ecf3154973c74517fb077e7075f911">radix_sort_pass</a>(<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, tmp, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, buckets[3], 3);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;}</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a410dd9840eae0e3351cd66410caa87af"> 1201</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a410dd9840eae0e3351cd66410caa87af">dnxhd_encode_fast</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;{</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordtype">int</span> max_bits = 0;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, x, y;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dnxhdenc_8c.html#aba46b1e2f7f6f4cffe0d3fb6b2c8ad08">dnxhd_find_qscale</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>)) &lt; 0)</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height; y++) {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width; x++) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = y * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_width + x;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            <span class="keywordtype">int</span> rc = (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num ) + <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            <span class="keywordtype">int</span> delta_bits;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_qscale[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_bits[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc].bits;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            max_bits += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc].bits;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="dnxhdenc_8c.html#a8ec65e6ec49e59bbef16068bd7772ec4">RC_VARIANCE</a>) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                delta_bits = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc].bits -</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                             <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num].bits;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>].mb = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>].value =</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                    delta_bits ? ((<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc].ssd -</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                                   <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num].ssd) * 100) /</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                                  delta_bits</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                               : INT_MIN; <span class="comment">// avoid increasing qscale</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        max_bits += 31; <span class="comment">// worst padding</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dnxhdenc_8c.html#a8ec65e6ec49e59bbef16068bd7772ec4">RC_VARIANCE</a>)</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">execute2</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="dnxhdenc_8c.html#aa79f99b52efdb371cdbd246dcfc996e1">dnxhd_mb_var_thread</a>,</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                            <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <a class="code" href="dnxhdenc_8c.html#ac4eaac6c06f2e245653292bb5eb08b3e">radix_sort</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp_tmp, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num &amp;&amp; max_bits &gt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_bits; x++) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp[x].mb;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <span class="keywordtype">int</span> rc = (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale * <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num ) + <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            max_bits -= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc].bits -</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num].bits;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_qscale[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>] = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale + 1;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_bits[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>]   = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc[rc + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_num].bits;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a33d0b0329c02e7cfdebcdb6561c2a020"> 1245</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="dnxhdenc_8c.html#a33d0b0329c02e7cfdebcdb6561c2a020">dnxhd_load_picture</a>(<a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;{</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;thread_count; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;m.linesize    = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[0] &lt;&lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;m.uvlinesize  = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[1] &lt;&lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;dct_y_offset  = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.linesize  *8;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]-&gt;dct_uv_offset = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.uvlinesize*8;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="preprocessor">#if FF_API_CODED_FRAME</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.avctx-&gt;coded_frame-&gt;interlaced_frame = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;interlaced_frame;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cur_field = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;interlaced_frame &amp;&amp; !<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;top_field_first;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;}</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a2aa2d834bbaed1408ea98bf855e95d79"> 1264</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a2aa2d834bbaed1408ea98bf855e95d79">dnxhd_encode_picture</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                                <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, <span class="keywordtype">int</span> *got_packet)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;{</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="v4l2_8c.html#aa99f357b50497c5c3097e1b45a7b9f57">first_field</a> = 1;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;frame_size, 0)) &lt; 0)</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <a class="code" href="dnxhdenc_8c.html#a33d0b0329c02e7cfdebcdb6561c2a020">dnxhd_load_picture</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;encode_coding_unit:</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;src[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced &amp;&amp; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cur_field)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;src[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] += <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;linesize[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="dnxhdenc_8c.html#ab214552d293ba8037f388fd94657ac2f">dnxhd_write_header</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a66af0e26734255f1eacabd7d67558482">mb_decision</a> == <a class="code" href="avcodec_8h.html#a539f109f975c674a226309aa022bcc8b">FF_MB_DECISION_RD</a>)</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dnxhdenc_8c.html#a9b4bb7dc88073bf3bc03866035269e89">dnxhd_encode_rdo</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="dnxhdenc_8c.html#a410dd9840eae0e3351cd66410caa87af">dnxhd_encode_fast</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;               <span class="stringliteral">&quot;picture could not fit ratecontrol constraints, increase qmax\n&quot;</span>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <a class="code" href="dnxhdenc_8c.html#a42ee2a62522c355706f221dd6ce5a59f">dnxhd_setup_threads_slices</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 0;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;msip + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * 4, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(!(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &amp; 3));</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">execute2</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>, <a class="code" href="dnxhdenc_8c.html#a3f282348a93efaaf2863ee978617edc5">dnxhd_encode_thread</a>, <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;m.mb_height);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a>(<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> + 4 &lt;= <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coding_unit_size);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    memset(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset + <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, 0,</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;           <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coding_unit_size - 4 - <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> - <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;data_offset);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a> + <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coding_unit_size - 4, 0x600DC0DE); <span class="comment">// EOF</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;interlaced &amp;&amp; <a class="code" href="v4l2_8c.html#aa99f357b50497c5c3097e1b45a7b9f57">first_field</a>) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <a class="code" href="v4l2_8c.html#aa99f357b50497c5c3097e1b45a7b9f57">first_field</a>     = 0;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;cur_field ^= 1;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <a class="code" href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">buf</a>            += <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;coding_unit_size;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="keywordflow">goto</span> encode_coding_unit;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="preprocessor">#if FF_API_CODED_FRAME</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">coded_frame</a>-&gt;<a class="code" href="struct_a_v_frame.html#a791c071afd3e95fcae14cb781829754d">quality</a> = <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale * <a class="code" href="group__lavu__enc.html#gad6ce86405f7381daad36ccf516b4da98">FF_QP2LAMBDA</a>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <a class="code" href="avpacket_8c.html#a6e76c2d97b4905f969bed6b69b3d0c3c">ff_side_data_set_encoder_stats</a>(<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qscale * <a class="code" href="group__lavu__enc.html#gad6ce86405f7381daad36ccf516b4da98">FF_QP2LAMBDA</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a>);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    *got_packet = 1;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a905fb6f13c499c5a96c5d9d5b7eb6b0a"> 1334</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="dnxhdenc_8c.html#a905fb6f13c499c5a96c5d9d5b7eb6b0a">dnxhd_encode_end</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>)</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;{</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <a class="code" href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a> = <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;orig_vlc_codes);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;orig_vlc_bits);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_codes);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;run_bits);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_bits);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_qscale);</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_rc);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;mb_cmp_tmp);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_size);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;slice_offs);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_c16);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;qmatrix_l16);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f4579d94675579e1d46a591340f598f">active_thread_type</a> == <a class="code" href="avcodec_8h.html#a91bc1a1c1c4a3cc6db54d59705fded0b">FF_THREAD_SLICE</a>) {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">thread_count</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>-&gt;thread[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;}</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a2038f5651ffd048438916447cb27deb1"> 1365</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_default.html">AVCodecDefault</a> <a class="code" href="dnxhdenc_8c.html#a2038f5651ffd048438916447cb27deb1">dnxhd_defaults</a>[] = {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    { <span class="stringliteral">&quot;qmax&quot;</span>, <span class="stringliteral">&quot;1024&quot;</span> }, <span class="comment">/* Maximum quantization scale factor allowed for VC-3 */</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> },</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;};</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"><a class="line" href="dnxhdenc_8c.html#a3cb76993bab9272e7a34e17e15abb638"> 1370</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="dnxhdenc_8c.html#a3cb76993bab9272e7a34e17e15abb638">ff_dnxhd_encoder</a> = {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;dnxhd&quot;</span>,</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;VC3/DNxHD&quot;</span>),</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead36347b6ae291fc3cc95f84aecf8035a">AV_CODEC_ID_DNXHD</a>,</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="dnxhdenc_8h.html#a8cf492d293e1468c45edbe3bfed61975">DNXHDEncContext</a>),</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="dnxhdenc_8c.html#aff967446a3aa6cd68e60768e78148dad">dnxhd_encode_init</a>,</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    .encode2        = <a class="code" href="dnxhdenc_8c.html#a2aa2d834bbaed1408ea98bf855e95d79">dnxhd_encode_picture</a>,</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    .close          = <a class="code" href="dnxhdenc_8c.html#a905fb6f13c499c5a96c5d9d5b7eb6b0a">dnxhd_encode_end</a>,</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    .capabilities   = <a class="code" href="group__lavc__core.html#ga7c4f386d1d6df0214eb35f2be1c82779">AV_CODEC_CAP_SLICE_THREADS</a> | <a class="code" href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a>,</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    .caps_internal  = <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]) {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a>,</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <a class="code" href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a>,</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <a class="code" href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a>,</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <a class="code" href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a>,</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    },</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    .priv_class     = &amp;<a class="code" href="dnxhdenc_8c.html#a3ee642dc831c0b9bfacaacc7cabffe3d">dnxhd_class</a>,</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    .defaults       = <a class="code" href="dnxhdenc_8c.html#a2038f5651ffd048438916447cb27deb1">dnxhd_defaults</a>,</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    .profiles       = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<a class="code" href="profiles_8c.html#adbc55448fe261cc0223992563a956513">ff_dnxhd_profiles</a>),</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alibavutil_2internal_8h_html_af37a8d3861ada057fc7aa88d2f1a97d7"><div class="ttname"><a href="libavutil_2internal_8h.html#af37a8d3861ada057fc7aa88d2f1a97d7">FF_ALLOCZ_TYPED_ARRAY</a></div><div class="ttdeci">#define FF_ALLOCZ_TYPED_ARRAY(p, nelem)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00141">internal.h:141</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_af9920fc3fbfa347b8943ae461b50d18b"><div class="ttname"><a href="struct_a_v_frame.html#af9920fc3fbfa347b8943ae461b50d18b">AVFrame::pict_type</a></div><div class="ttdeci">enum AVPictureType pict_type</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:391</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_aff967446a3aa6cd68e60768e78148dad"><div class="ttname"><a href="dnxhdenc_8c.html#aff967446a3aa6cd68e60768e78148dad">dnxhd_encode_init</a></div><div class="ttdeci">static av_cold int dnxhd_encode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00350">dnxhdenc.c:350</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_aa6ef004d10669ab4ee062367a014ea33"><div class="ttname"><a href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_ENABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00085">internal.h:85</a></div></div>
<div class="ttc" id="aaf__astats_8c_html_a3fb64d8b9f96155a5d4138e186198917"><div class="ttname"><a href="af__astats_8c.html#a3fb64d8b9f96155a5d4138e186198917">bit_depth</a></div><div class="ttdeci">static void bit_depth(AudioStatsContext *s, uint64_t mask, uint64_t imask, AVRational *depth)</div><div class="ttdef"><b>Definition:</b> <a href="af__astats_8c_source.html#l00254">af_astats.c:254</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="dnxhdenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00046">dnxhdenc.c:46</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_ae4d1eaaee02fc6c4672f59dcf7255286"><div class="ttname"><a href="intreadwrite_8h.html#ae4d1eaaee02fc6c4672f59dcf7255286">AV_WB16</a></div><div class="ttdeci">#define AV_WB16(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00245">intreadwrite.h:245</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="asvq3_8c_html_abbb6c7c49508c1ac374683f2d1159e08"><div class="ttname"><a href="svq3_8c.html#abbb6c7c49508c1ac374683f2d1159e08">level</a></div><div class="ttdeci">uint8_t level</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00205">svq3.c:205</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="ablockdsp_8h_html"><div class="ttname"><a href="blockdsp_8h.html">blockdsp.h</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_aa2ce24397a8d51a62e9461fec6e26019"><div class="ttname"><a href="dnxhdenc_8c.html#aa2ce24397a8d51a62e9461fec6e26019">dnxhd_encode_block</a></div><div class="ttdeci">static av_always_inline void dnxhd_encode_block(DNXHDEncContext *ctx, int16_t *block, int last_index, int n)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00586">dnxhdenc.c:586</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a40c7dc3d455d1872072cbf30d44e8235"><div class="ttname"><a href="dnxhdenc_8c.html#a40c7dc3d455d1872072cbf30d44e8235">dnxhd_init_rc</a></div><div class="ttdeci">static av_cold int dnxhd_init_rc(DNXHDEncContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00333">dnxhdenc.c:333</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a97faf60ec84262fbca729c83d0b0cc62"><div class="ttname"><a href="dnxhdenc_8c.html#a97faf60ec84262fbca729c83d0b0cc62">dnxhd_calc_ac_bits</a></div><div class="ttdeci">static av_always_inline int dnxhd_calc_ac_bits(DNXHDEncContext *ctx, int16_t *block, int last_index)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00670">dnxhdenc.c:670</a></div></div>
<div class="ttc" id="aavpacket_8c_html_a6e76c2d97b4905f969bed6b69b3d0c3c"><div class="ttname"><a href="avpacket_8c.html#a6e76c2d97b4905f969bed6b69b3d0c3c">ff_side_data_set_encoder_stats</a></div><div class="ttdeci">int ff_side_data_set_encoder_stats(AVPacket *pkt, int quality, int64_t *error, int error_count, int pict_type)</div><div class="ttdef"><b>Definition:</b> <a href="avpacket_8c_source.html#l00796">avpacket.c:796</a></div></div>
<div class="ttc" id="acommon_8h_html_a19c68e2b5efcbab914d79db1e4fee734"><div class="ttname"><a href="common_8h.html#a19c68e2b5efcbab914d79db1e4fee734">MKTAG</a></div><div class="ttdeci">#define MKTAG(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00405">common.h:405</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5a2bc090d586303b25c642e3315d8671"><div class="ttname"><a href="struct_a_v_codec_context.html#a5a2bc090d586303b25c642e3315d8671">AVCodecContext::coded_frame</a></div><div class="ttdeci">attribute_deprecated AVFrame * coded_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01776">avcodec.h:1776</a></div></div>
<div class="ttc" id="astruct_d_n_x_h_d_context_html_a3407661311896c4fab6b78a6db047b6b"><div class="ttname"><a href="struct_d_n_x_h_d_context.html#a3407661311896c4fab6b78a6db047b6b">DNXHDContext::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2dnxhddec_8c_source.html#l00051">dnxhddec.c:51</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_acefde6b554a0cbac66a17db6b0c683c1"><div class="ttname"><a href="mpegvideo_8h.html#acefde6b554a0cbac66a17db6b0c683c1">ff_block_permute</a></div><div class="ttdeci">void ff_block_permute(int16_t *block, uint8_t *permutation, const uint8_t *scantable, int last)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo__enc_8c_source.html#l04608">mpegvideo_enc.c:4608</a></div></div>
<div class="ttc" id="aput__bits_8h_html_a0bcd3e73d6c48e50b9c8fe99a51d2c91"><div class="ttname"><a href="put__bits_8h.html#a0bcd3e73d6c48e50b9c8fe99a51d2c91">init_put_bits</a></div><div class="ttdeci">static void init_put_bits(PutBitContext *s, uint8_t *buffer, int buffer_size)</div><div class="ttdef"><b>Definition:</b> <a href="put__bits_8h_source.html#l00064">put_bits.h:64</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a1c232028ee2e00446091f88075e7191e"><div class="ttname"><a href="dnxhdenc_8c.html#a1c232028ee2e00446091f88075e7191e">dnxhd_10bit_dct_quantize_444</a></div><div class="ttdeci">static int dnxhd_10bit_dct_quantize_444(MpegEncContext *ctx, int16_t *block, int n, int qscale, int *overflow)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00115">dnxhdenc.c:115</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a410dd9840eae0e3351cd66410caa87af"><div class="ttname"><a href="dnxhdenc_8c.html#a410dd9840eae0e3351cd66410caa87af">dnxhd_encode_fast</a></div><div class="ttdeci">static int dnxhd_encode_fast(AVCodecContext *avctx, DNXHDEncContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01201">dnxhdenc.c:1201</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_aacd2c6f4a09d71ea05bdcc1c2e9d42dd"><div class="ttname"><a href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a></div><div class="ttdeci">mfxU16 profile</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00045">qsvenc.c:45</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a2d8be6cc417583a9887847442ea70d9d"><div class="ttname"><a href="dnxhdenc_8c.html#a2d8be6cc417583a9887847442ea70d9d">dnxhd_8bit_get_pixels_8x4_sym</a></div><div class="ttdeci">static void dnxhd_8bit_get_pixels_8x4_sym(int16_t *av_restrict block, const uint8_t *pixels, ptrdiff_t line_size)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00077">dnxhdenc.c:77</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_aafc5fd946cab2b9d67be29d48099f703"><div class="ttname"><a href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a></div><div class="ttdeci">static void put_bits(Jpeg2000EncoderContext *s, int val, int n)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00218">j2kenc.c:218</a></div></div>
<div class="ttc" id="adnxhdenc_8h_html"><div class="ttname"><a href="dnxhdenc_8h.html">dnxhdenc.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5f4579d94675579e1d46a591340f598f"><div class="ttname"><a href="struct_a_v_codec_context.html#a5f4579d94675579e1d46a591340f598f">AVCodecContext::active_thread_type</a></div><div class="ttdeci">int active_thread_type</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01804">avcodec.h:1804</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a71cfa287c2d79b8c035ca9d45afef8b5"><div class="ttname"><a href="dnxhdenc_8c.html#a71cfa287c2d79b8c035ca9d45afef8b5">DNX10BIT_QMAT_SHIFT</a></div><div class="ttdeci">#define DNX10BIT_QMAT_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00041">dnxhdenc.c:41</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a8c5a554f4519ab093940607e3e637650"><div class="ttname"><a href="avcodec_8h.html#a8c5a554f4519ab093940607e3e637650">FF_PROFILE_DNXHD</a></div><div class="ttdeci">#define FF_PROFILE_DNXHD</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01874">avcodec.h:1874</a></div></div>
<div class="ttc" id="amathops_8h_html_a8a0e1fe6ea6c0f47592aa5a51e86d680"><div class="ttname"><a href="mathops_8h.html#a8a0e1fe6ea6c0f47592aa5a51e86d680">MASK_ABS</a></div><div class="ttdeci">#define MASK_ABS(mask, level)</div><div class="ttdef"><b>Definition:</b> <a href="mathops_8h_source.html#l00155">mathops.h:155</a></div></div>
<div class="ttc" id="alibavcodec_2pixblockdsp_8c_html_ae29c4c41d977bf6ffea877b2aaf721f5"><div class="ttname"><a href="libavcodec_2pixblockdsp_8c.html#ae29c4c41d977bf6ffea877b2aaf721f5">ff_pixblockdsp_init</a></div><div class="ttdeci">av_cold void ff_pixblockdsp_init(PixblockDSPContext *c, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2pixblockdsp_8c_source.html#l00081">pixblockdsp.c:81</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_adbca9c23ef80d4f2b7b387a1f6595054"><div class="ttname"><a href="dnxhdenc_8c.html#adbca9c23ef80d4f2b7b387a1f6595054">BUCKET_BITS</a></div><div class="ttdeci">#define BUCKET_BITS</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01145">dnxhdenc.c:1145</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a8610dbf2070b4b3a23eb5cd35d590297"><div class="ttname"><a href="dnxhdenc_8c.html#a8610dbf2070b4b3a23eb5cd35d590297">RADIX_PASSES</a></div><div class="ttdeci">#define RADIX_PASSES</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01146">dnxhdenc.c:1146</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00033">cuda_runtime.h:33</a></div></div>
<div class="ttc" id="ampegvideo_8h_html"><div class="ttname"><a href="mpegvideo_8h.html">mpegvideo.h</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_ab214552d293ba8037f388fd94657ac2f"><div class="ttname"><a href="dnxhdenc_8c.html#ab214552d293ba8037f388fd94657ac2f">dnxhd_write_header</a></div><div class="ttdeci">static int dnxhd_write_header(AVCodecContext *avctx, uint8_t *buf)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00535">dnxhdenc.c:535</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a9b4bb7dc88073bf3bc03866035269e89"><div class="ttname"><a href="dnxhdenc_8c.html#a9b4bb7dc88073bf3bc03866035269e89">dnxhd_encode_rdo</a></div><div class="ttdeci">static int dnxhd_encode_rdo(AVCodecContext *avctx, DNXHDEncContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01012">dnxhdenc.c:1012</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a905fb6f13c499c5a96c5d9d5b7eb6b0a"><div class="ttname"><a href="dnxhdenc_8c.html#a905fb6f13c499c5a96c5d9d5b7eb6b0a">dnxhd_encode_end</a></div><div class="ttdeci">static av_cold int dnxhd_encode_end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01334">dnxhdenc.c:1334</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a3649a81e8414a193d685a6eee06ce902"><div class="ttname"><a href="struct_a_v_frame.html#a3649a81e8414a193d685a6eee06ce902">AVFrame::key_frame</a></div><div class="ttdeci">int key_frame</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00386">frame.h:386</a></div></div>
<div class="ttc" id="ampegvideoencdsp_8c_html_a5541c64c94768b55c658e4e88ab60103"><div class="ttname"><a href="mpegvideoencdsp_8c.html#a5541c64c94768b55c658e4e88ab60103">ff_mpegvideoencdsp_init</a></div><div class="ttdeci">av_cold void ff_mpegvideoencdsp_init(MpegvideoEncDSPContext *c, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideoencdsp_8c_source.html#l00232">mpegvideoencdsp.c:232</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a3957e6cd1aa80f1dd616b114e08b298b"><div class="ttname"><a href="dnxhdenc_8c.html#a3957e6cd1aa80f1dd616b114e08b298b">dnxhd_encode_dc</a></div><div class="ttdeci">static av_always_inline void dnxhd_encode_dc(DNXHDEncContext *ctx, int diff)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00571">dnxhdenc.c:571</a></div></div>
<div class="ttc" id="astruct_a_v_codec_default_html"><div class="ttname"><a href="struct_a_v_codec_default.html">AVCodecDefault</a></div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00208">internal.h:208</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a65c2f27287363d45e9e1da64bf569ebd"><div class="ttname"><a href="pixfmt_8h.html#a65c2f27287363d45e9e1da64bf569ebd">AV_PIX_FMT_GBRP10</a></div><div class="ttdeci">#define AV_PIX_FMT_GBRP10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00415">pixfmt.h:415</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a1eaba460617da7a8f84e53dba9ab8c14"><div class="ttname"><a href="mpegvideo_8h.html#a1eaba460617da7a8f84e53dba9ab8c14">ff_convert_matrix</a></div><div class="ttdeci">void ff_convert_matrix(MpegEncContext *s, int(*qmat)[64], uint16_t(*qmat16)[2][64], const uint16_t *quant_matrix, int bias, int qmin, int qmax, int intra)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo__enc_8c_source.html#l00090">mpegvideo_enc.c:90</a></div></div>
<div class="ttc" id="adnxhddata_8c_html_a6291b49cf2273a98dba4137b888f3b89"><div class="ttname"><a href="dnxhddata_8c.html#a6291b49cf2273a98dba4137b888f3b89">ff_dnxhd_print_profiles</a></div><div class="ttdeci">void ff_dnxhd_print_profiles(AVCodecContext *avctx, int loglevel)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhddata_8c_source.html#l01163">dnxhddata.c:1163</a></div></div>
<div class="ttc" id="aframe__thread__encoder_8c_html_a8b5173357adb02a86c027316e0acdfa0"><div class="ttname"><a href="frame__thread__encoder_8c.html#a8b5173357adb02a86c027316e0acdfa0">MAX_THREADS</a></div><div class="ttdeci">#define MAX_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="frame__thread__encoder_8c_source.html#l00034">frame_thread_encoder.c:34</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a347404320a3363d39470bffdabf448e9"><div class="ttname"><a href="dnxhdenc_8c.html#a347404320a3363d39470bffdabf448e9">LAMBDA_FRAC_BITS</a></div><div class="ttdeci">#define LAMBDA_FRAC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00043">dnxhdenc.c:43</a></div></div>
<div class="ttc" id="alibavcodec_2videodsp_8c_html_a9f55abcd843195bcf47dae7689bcf894"><div class="ttname"><a href="libavcodec_2videodsp_8c.html#a9f55abcd843195bcf47dae7689bcf894">ff_videodsp_init</a></div><div class="ttdeci">av_cold void ff_videodsp_init(VideoDSPContext *ctx, int bpc)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2videodsp_8c_source.html#l00038">videodsp.c:38</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a3f282348a93efaaf2863ee978617edc5"><div class="ttname"><a href="dnxhdenc_8c.html#a3f282348a93efaaf2863ee978617edc5">dnxhd_encode_thread</a></div><div class="ttdeci">static int dnxhd_encode_thread(AVCodecContext *avctx, void *arg, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00887">dnxhdenc.c:887</a></div></div>
<div class="ttc" id="adnxhddata_8c_html_a03bdb0c155f577b86f48b2178a5af870"><div class="ttname"><a href="dnxhddata_8c.html#a03bdb0c155f577b86f48b2178a5af870">avpriv_dnxhd_get_hr_frame_size</a></div><div class="ttdeci">int avpriv_dnxhd_get_hr_frame_size(int cid, int w, int h)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhddata_8c_source.html#l01095">dnxhddata.c:1095</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a3446126ae1f978c3b2e823c54cad523e"><div class="ttname"><a href="avcodec_8h.html#a3446126ae1f978c3b2e823c54cad523e">FF_PROFILE_DNXHR_LB</a></div><div class="ttdeci">#define FF_PROFILE_DNXHR_LB</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01875">avcodec.h:1875</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga502225f65e2092fbc45945247892cb0f"><div class="ttname"><a href="group__lavc__core.html#ga502225f65e2092fbc45945247892cb0f">AV_CODEC_FLAG_INTERLACED_DCT</a></div><div class="ttdeci">#define AV_CODEC_FLAG_INTERLACED_DCT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00321">avcodec.h:321</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff612e03cf2a557ac25e8e2032e37d9a"><div class="ttname"><a href="pixfmt_8h.html#aff612e03cf2a557ac25e8e2032e37d9a">AV_PIX_FMT_YUV444P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV444P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00402">pixfmt.h:402</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aa852b6227d0778b62e9cc4034ad3720c"><div class="ttname"><a href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">AVCodecContext::thread_count</a></div><div class="ttdeci">int thread_count</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01785">avcodec.h:1785</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a36097280ddfe8ebfc825d0f98fd00621"><div class="ttname"><a href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a></div><div class="ttdeci">#define AV_WB32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00273">intreadwrite.h:273</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="afdctdsp_8c_html_aba553d5c07fce211c12e4a09bc3227a7"><div class="ttname"><a href="fdctdsp_8c.html#aba553d5c07fce211c12e4a09bc3227a7">ff_fdctdsp_init</a></div><div class="ttdeci">av_cold void ff_fdctdsp_init(FDCTDSPContext *c, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="fdctdsp_8c_source.html#l00026">fdctdsp.c:26</a></div></div>
<div class="ttc" id="adnxhdenc_8h_html_a8cf492d293e1468c45edbe3bfed61975"><div class="ttname"><a href="dnxhdenc_8h.html#a8cf492d293e1468c45edbe3bfed61975">DNXHDEncContext</a></div><div class="ttdeci">struct DNXHDEncContext DNXHDEncContext</div></div>
<div class="ttc" id="adnxhdenc_8c_html_aa79f99b52efdb371cdbd246dcfc996e1"><div class="ttname"><a href="dnxhdenc_8c.html#aa79f99b52efdb371cdbd246dcfc996e1">dnxhd_mb_var_thread</a></div><div class="ttdeci">static int dnxhd_mb_var_thread(AVCodecContext *avctx, void *arg, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00944">dnxhdenc.c:944</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ab015db3b7fcd227193a7c17283914187"><div class="ttname"><a href="struct_a_v_codec_context.html#ab015db3b7fcd227193a7c17283914187">AVCodecContext::qmax</a></div><div class="ttdeci">int qmax</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01375">avcodec.h:1375</a></div></div>
<div class="ttc" id="avp3data_8h_html_a46a6da6b1936191571fd30b2a749f38c"><div class="ttname"><a href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a></div><div class="ttdeci">uint8_t bits</div><div class="ttdef"><b>Definition:</b> <a href="vp3data_8h_source.html#l00202">vp3data.h:202</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00162">libkvazaar.c:300</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a33d0b0329c02e7cfdebcdb6561c2a020"><div class="ttname"><a href="dnxhdenc_8c.html#a33d0b0329c02e7cfdebcdb6561c2a020">dnxhd_load_picture</a></div><div class="ttdeci">static void dnxhd_load_picture(DNXHDEncContext *ctx, const AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01245">dnxhdenc.c:1245</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a889b84d5b3657df4a4e45b17b87848f5"><div class="ttname"><a href="struct_a_v_codec_context.html#a889b84d5b3657df4a4e45b17b87848f5">AVCodecContext::bits_per_raw_sample</a></div><div class="ttdeci">int bits_per_raw_sample</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01757">avcodec.h:1757</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_acacf593700a5cf7d121196e53bd94ad2"><div class="ttname"><a href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">AVCodecContext::execute2</a></div><div class="ttdeci">int(* execute2)(struct AVCodecContext *c, int(*func)(struct AVCodecContext *c2, void *arg, int jobnr, int threadnr), void *arg2, int *ret, int count)</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01845">avcodec.h:1845</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_ac4eaac6c06f2e245653292bb5eb08b3e"><div class="ttname"><a href="dnxhdenc_8c.html#ac4eaac6c06f2e245653292bb5eb08b3e">radix_sort</a></div><div class="ttdeci">static void radix_sort(RCCMPEntry *data, RCCMPEntry *tmp, int size)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01189">dnxhdenc.c:1189</a></div></div>
<div class="ttc" id="afft__template_8c_html_a9f2587d1070b8924b276ba83988d3667"><div class="ttname"><a href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a></div><div class="ttdeci">#define pass</div><div class="ttdef"><b>Definition:</b> <a href="fft__template_8c_source.html#l00619">fft_template.c:619</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="aprofiles_8c_html_adbc55448fe261cc0223992563a956513"><div class="ttname"><a href="profiles_8c.html#adbc55448fe261cc0223992563a956513">ff_dnxhd_profiles</a></div><div class="ttdeci">const AVProfile ff_dnxhd_profiles[]</div><div class="ttdef"><b>Definition:</b> <a href="profiles_8c_source.html#l00048">profiles.c:48</a></div></div>
<div class="ttc" id="alibavcodec_2jacosubdec_8c_html_ac3a73711fd7f8a50db1c4b62e41cf852"><div class="ttname"><a href="libavcodec_2jacosubdec_8c.html#ac3a73711fd7f8a50db1c4b62e41cf852">arg</a></div><div class="ttdeci">const char * arg</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2jacosubdec_8c_source.html#l00066">jacosubdec.c:66</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a8eed6de84279b18b5c5a316854ebc576"><div class="ttname"><a href="dnxhdenc_8c.html#a8eed6de84279b18b5c5a316854ebc576">dnxhd_init_qmat</a></div><div class="ttdeci">static av_cold int dnxhd_init_qmat(DNXHDEncContext *ctx, int lbias, int cbias)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00260">dnxhdenc.c:260</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a6a1d019f5ae198b2265624695635cbb8"><div class="ttname"><a href="avcodec_8h.html#a6a1d019f5ae198b2265624695635cbb8">FF_PROFILE_DNXHR_HQ</a></div><div class="ttdeci">#define FF_PROFILE_DNXHR_HQ</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01877">avcodec.h:1877</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a3dcf4acb9f7d9c57f43802a9a1ac4ee6"><div class="ttname"><a href="dnxhdenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a></div><div class="ttdeci">#define VE</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00045">dnxhdenc.c:45</a></div></div>
<div class="ttc" id="adnxhddata_8c_html_ae56940705e3cb13309e0a2add3adaa03"><div class="ttname"><a href="dnxhddata_8c.html#ae56940705e3cb13309e0a2add3adaa03">ff_dnxhd_cid_table</a></div><div class="ttdeci">const CIDEntry ff_dnxhd_cid_table[]</div><div class="ttdef"><b>Definition:</b> <a href="dnxhddata_8c_source.html#l00935">dnxhddata.c:935</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae21e6310b40920cd61f54e9c320d8e6c"><div class="ttname"><a href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_FRAME_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00106">codec.h:106</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="asvq3_8c_html_aa90bc2b9950a6a9a3144876047f8bee2"><div class="ttname"><a href="svq3_8c.html#aa90bc2b9950a6a9a3144876047f8bee2">run</a></div><div class="ttdeci">uint8_t run</div><div class="ttdef"><b>Definition:</b> <a href="svq3_8c_source.html#l00204">svq3.c:204</a></div></div>
<div class="ttc" id="ampegvideo_8c_html_a71135d03df49cffd713309e71e5f28fa"><div class="ttname"><a href="mpegvideo_8c.html#a71135d03df49cffd713309e71e5f28fa">ff_mpv_idct_init</a></div><div class="ttdeci">av_cold void ff_mpv_idct_init(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8c_source.html#l00329">mpegvideo.c:329</a></div></div>
<div class="ttc" id="astruct_video_d_s_p_context_html"><div class="ttname"><a href="struct_video_d_s_p_context.html">VideoDSPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="videodsp_8h_source.html#l00041">videodsp.h:41</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_ad1ecf3154973c74517fb077e7075f911"><div class="ttname"><a href="dnxhdenc_8c.html#ad1ecf3154973c74517fb077e7075f911">radix_sort_pass</a></div><div class="ttdeci">static void radix_sort_pass(RCCMPEntry *dst, const RCCMPEntry *data, int size, int buckets[NBUCKETS], int pass)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01177">dnxhdenc.c:1177</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a590cd0e9e141626f42ea13f7f5a7ae63"><div class="ttname"><a href="mpegvideo_8h.html#a590cd0e9e141626f42ea13f7f5a7ae63">ff_dct_quantize_c</a></div><div class="ttdeci">int ff_dct_quantize_c(MpegEncContext *s, int16_t *block, int n, int qscale, int *overflow)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo__enc_8c_source.html#l04633">mpegvideo_enc.c:4633</a></div></div>
<div class="ttc" id="adnxhddata_8h_html_aa05141353d9435ea1c1fd5e76014ce56"><div class="ttname"><a href="dnxhddata_8h.html#aa05141353d9435ea1c1fd5e76014ce56">DNXHD_VARIABLE</a></div><div class="ttdeci">#define DNXHD_VARIABLE</div><div class="ttdef"><b>Definition:</b> <a href="dnxhddata_8h_source.html#l00040">dnxhddata.h:40</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="aprofiles_8h_html"><div class="ttname"><a href="profiles_8h.html">profiles.h</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a3d16e89bb486152878b769a4a7c8de54"><div class="ttname"><a href="dnxhdenc_8c.html#a3d16e89bb486152878b769a4a7c8de54">radix_count</a></div><div class="ttdeci">static void radix_count(const RCCMPEntry *data, int size, int buckets[RADIX_PASSES][NBUCKETS])</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01156">dnxhdenc.c:1156</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a3ee642dc831c0b9bfacaacc7cabffe3d"><div class="ttname"><a href="dnxhdenc_8c.html#a3ee642dc831c0b9bfacaacc7cabffe3d">dnxhd_class</a></div><div class="ttdeci">static const AVClass dnxhd_class</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00070">dnxhdenc.c:70</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a66e08cc645d119c6383c994529f5dff4"><div class="ttname"><a href="pixfmt_8h.html#a66e08cc645d119c6383c994529f5dff4">AV_PIX_FMT_YUV422P10</a></div><div class="ttdeci">#define AV_PIX_FMT_YUV422P10</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00400">pixfmt.h:400</a></div></div>
<div class="ttc" id="adnxhddata_8c_html_a2598c085cb4b0303c57353c0b0ed538b"><div class="ttname"><a href="dnxhddata_8c.html#a2598c085cb4b0303c57353c0b0ed538b">ff_dnxhd_get_cid_table</a></div><div class="ttdeci">int ff_dnxhd_get_cid_table(int cid)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhddata_8c_source.html#l01078">dnxhddata.c:1078</a></div></div>
<div class="ttc" id="astruct_pixblock_d_s_p_context_html_ade9a9ef4921d92aaaab1a54eda4f3ebe"><div class="ttname"><a href="struct_pixblock_d_s_p_context.html#ade9a9ef4921d92aaaab1a54eda4f3ebe">PixblockDSPContext::get_pixels</a></div><div class="ttdeci">void(* get_pixels)(int16_t *av_restrict block, const uint8_t *pixels, ptrdiff_t stride)</div><div class="ttdef"><b>Definition:</b> <a href="pixblockdsp_8h_source.html#l00029">pixblockdsp.h:29</a></div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a42ee2a62522c355706f221dd6ce5a59f"><div class="ttname"><a href="dnxhdenc_8c.html#a42ee2a62522c355706f221dd6ce5a59f">dnxhd_setup_threads_slices</a></div><div class="ttdeci">static void dnxhd_setup_threads_slices(DNXHDEncContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00925">dnxhdenc.c:925</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a296257a87354a2cde8ccea0ee3a5768e"><div class="ttname"><a href="dnxhdenc_8c.html#a296257a87354a2cde8ccea0ee3a5768e">dnxhd_10bit_dct_quantize</a></div><div class="ttdeci">static int dnxhd_10bit_dct_quantize(MpegEncContext *ctx, int16_t *block, int n, int qscale, int *overflow)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00174">dnxhdenc.c:174</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a7abe7095de73df98df4895bf9e25fc6b"><div class="ttname"><a href="struct_a_v_codec_context.html#a7abe7095de73df98df4895bf9e25fc6b">AVCodecContext::profile</a></div><div class="ttdeci">int profile</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01859">avcodec.h:1859</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a2aa2d834bbaed1408ea98bf855e95d79"><div class="ttname"><a href="dnxhdenc_8c.html#a2aa2d834bbaed1408ea98bf855e95d79">dnxhd_encode_picture</a></div><div class="ttdeci">static int dnxhd_encode_picture(AVCodecContext *avctx, AVPacket *pkt, const AVFrame *frame, int *got_packet)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01264">dnxhdenc.c:1264</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a2c974557671dd459674b170c5e64d79a"><div class="ttname"><a href="struct_a_v_codec_context.html#a2c974557671dd459674b170c5e64d79a">AVCodecContext::codec_tag</a></div><div class="ttdeci">unsigned int codec_tag</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00551">avcodec.h:551</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ac45708cccbd990e5f2f57021cc6b18c3"><div class="ttname"><a href="libavcodec_2internal_8h.html#ac45708cccbd990e5f2f57021cc6b18c3">FF_SIGNBIT</a></div><div class="ttdeci">#define FF_SIGNBIT(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00099">internal.h:99</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="adnxhdenc_8h_html_aac53c66b6d9b80a783b22795a83c5127"><div class="ttname"><a href="dnxhdenc_8h.html#aac53c66b6d9b80a783b22795a83c5127">ff_dnxhdenc_init_x86</a></div><div class="ttdeci">void ff_dnxhdenc_init_x86(DNXHDEncContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc__init_8c_source.html#l00031">dnxhdenc_init.c:31</a></div></div>
<div class="ttc" id="aidctdsp_8h_html_a6484acbbc3eb749e38a5cf57abc9bde3a9855a70f3c6fdced091979554a307c4e"><div class="ttname"><a href="idctdsp_8h.html#a6484acbbc3eb749e38a5cf57abc9bde3a9855a70f3c6fdced091979554a307c4e">FF_IDCT_PERM_NONE</a></div><div class="ttdeci">@ FF_IDCT_PERM_NONE</div><div class="ttdef"><b>Definition:</b> <a href="idctdsp_8h_source.html#l00038">idctdsp.h:38</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="aflacdsp__template_8c_html_a924f03b9b06f2793262e576df93492db"><div class="ttname"><a href="flacdsp__template_8c.html#a924f03b9b06f2793262e576df93492db">sample</a></div><div class="ttdeci">#define sample</div><div class="ttdef"><b>Definition:</b> <a href="flacdsp__template_8c_source.html#l00044">flacdsp_template.c:44</a></div></div>
<div class="ttc" id="astruct_mpeg_enc_context_html"><div class="ttname"><a href="struct_mpeg_enc_context.html">MpegEncContext</a></div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo_8h_source.html#l00081">mpegvideo.h:81</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a91bc1a1c1c4a3cc6db54d59705fded0b"><div class="ttname"><a href="avcodec_8h.html#a91bc1a1c1c4a3cc6db54d59705fded0b">FF_THREAD_SLICE</a></div><div class="ttdeci">#define FF_THREAD_SLICE</div><div class="ttdoc">Decode more than one part of a single frame at once.</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01797">avcodec.h:1797</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00606">avcodec.h:606</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a25972e1ddc23c9e2861b991ffad8d0c7"><div class="ttname"><a href="dnxhdenc_8c.html#a25972e1ddc23c9e2861b991ffad8d0c7">dnxhd_init_vlc</a></div><div class="ttdeci">static av_cold int dnxhd_init_vlc(DNXHDEncContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00205">dnxhdenc.c:205</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a89624ca73fd930b63122d79a84a3a8a2"><div class="ttname"><a href="dnxhdenc_8c.html#a89624ca73fd930b63122d79a84a3a8a2">dnxhd_ssd_block</a></div><div class="ttdeci">static av_always_inline int dnxhd_ssd_block(int16_t *qblock, int16_t *block)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00660">dnxhdenc.c:660</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga7c4f386d1d6df0214eb35f2be1c82779"><div class="ttname"><a href="group__lavc__core.html#ga7c4f386d1d6df0214eb35f2be1c82779">AV_CODEC_CAP_SLICE_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_SLICE_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00110">codec.h:110</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="aattributes_8h_html"><div class="ttname"><a href="attributes_8h.html">attributes.h</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_aba46b1e2f7f6f4cffe0d3fb6b2c8ad08"><div class="ttname"><a href="dnxhdenc_8c.html#aba46b1e2f7f6f4cffe0d3fb6b2c8ad08">dnxhd_find_qscale</a></div><div class="ttdeci">static int dnxhd_find_qscale(DNXHDEncContext *ctx)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01089">dnxhdenc.c:1089</a></div></div>
<div class="ttc" id="avf__colormatrix_8c_html_a32e154471fe091d766cfadf5f7314e77"><div class="ttname"><a href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a></div><div class="ttdeci">#define mb</div><div class="ttdef"><b>Definition:</b> <a href="vf__colormatrix_8c_source.html#l00101">vf_colormatrix.c:101</a></div></div>
<div class="ttc" id="astruct_r_c_c_m_p_entry_html"><div class="ttname"><a href="struct_r_c_c_m_p_entry.html">RCCMPEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8h_source.html#l00034">dnxhdenc.h:34</a></div></div>
<div class="ttc" id="astruct_d_n_x_h_d_enc_context_html"><div class="ttname"><a href="struct_d_n_x_h_d_enc_context.html">DNXHDEncContext</a></div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8h_source.html#l00044">dnxhdenc.h:44</a></div></div>
<div class="ttc" id="astruct_pixblock_d_s_p_context_html"><div class="ttname"><a href="struct_pixblock_d_s_p_context.html">PixblockDSPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="pixblockdsp_8h_source.html#l00028">pixblockdsp.h:28</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="aavcodec_8h_html_ac73d906f677917ede712580eaf978071"><div class="ttname"><a href="avcodec_8h.html#ac73d906f677917ede712580eaf978071">FF_PROFILE_DNXHR_SQ</a></div><div class="ttdeci">#define FF_PROFILE_DNXHR_SQ</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01876">avcodec.h:1876</a></div></div>
<div class="ttc" id="aput__bits_8h_html_a57c57e21dbbc8777ed8a0a78ba89fc7d"><div class="ttname"><a href="put__bits_8h.html#a57c57e21dbbc8777ed8a0a78ba89fc7d">put_bits_count</a></div><div class="ttdeci">static int put_bits_count(PutBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="put__bits_8h_source.html#l00083">put_bits.h:83</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab4ca16b0fda02840383d0b6d08a44660"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00048">internal.h:48</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="aavassert_8h_html_a557ed9c8df70c282bf6b7e0e07d7d5b0"><div class="ttname"><a href="avassert_8h.html#a557ed9c8df70c282bf6b7e0e07d7d5b0">av_assert1</a></div><div class="ttdeci">#define av_assert1(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00053">avassert.h:53</a></div></div>
<div class="ttc" id="aattributes_8h_html_a28f50f4c125959216885f01d56dbe866"><div class="ttname"><a href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div><div class="ttdeci">#define av_always_inline</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00049">attributes.h:49</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_a09f9d0cee65cb17a34e6e6d313c44b76"><div class="ttname"><a href="writing__filters_8txt.html#a09f9d0cee65cb17a34e6e6d313c44b76">value</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf default value</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="afdctdsp_8h_html"><div class="ttname"><a href="fdctdsp_8h.html">fdctdsp.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="astruct_d_n_x_h_d_context_html_a7a9f6c45b4121e3f54f1d7c0f24949a7"><div class="ttname"><a href="struct_d_n_x_h_d_context.html#a7a9f6c45b4121e3f54f1d7c0f24949a7">DNXHDContext::buf</a></div><div class="ttdeci">const uint8_t * buf</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2dnxhddec_8c_source.html#l00054">dnxhddec.c:54</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="amathops_8h_html_a0729a02967b7934643d747721ecdccbb"><div class="ttname"><a href="mathops_8h.html#a0729a02967b7934643d747721ecdccbb">ff_zigzag_direct</a></div><div class="ttdeci">const uint8_t ff_zigzag_direct[64]</div><div class="ttdef"><b>Definition:</b> <a href="mathtables_8c_source.html#l00098">mathtables.c:98</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_a_v_format_context_html_a1e7324262b6b78522e52064daaa7bc87"><div class="ttname"><a href="struct_a_v_format_context.html#a1e7324262b6b78522e52064daaa7bc87">AVFormatContext::pb</a></div><div class="ttdeci">AVIOContext * pb</div><div class="ttdef"><b>Definition:</b> <a href="avformat_8h_source.html#l01265">avformat.h:1265</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_aeee67849cbedd25a9d268878bc9218ef"><div class="ttname"><a href="dnxhdenc_8c.html#aeee67849cbedd25a9d268878bc9218ef">get_bucket</a></div><div class="ttdeci">static int get_bucket(int value, int shift)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01149">dnxhdenc.c:1149</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a66af0e26734255f1eacabd7d67558482"><div class="ttname"><a href="struct_a_v_codec_context.html#a66af0e26734255f1eacabd7d67558482">AVCodecContext::mb_decision</a></div><div class="ttdeci">int mb_decision</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01014">avcodec.h:1014</a></div></div>
<div class="ttc" id="ampegvideo_8h_html_a578d253d5d45b7ffc942dfbc50375576"><div class="ttname"><a href="mpegvideo_8h.html#a578d253d5d45b7ffc942dfbc50375576">ff_dct_encode_init</a></div><div class="ttdeci">int ff_dct_encode_init(MpegEncContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="mpegvideo__enc_8c_source.html#l00269">mpegvideo_enc.c:269</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a1e1aa3295a113e88686a9fae0df1ea7a"><div class="ttname"><a href="dnxhdenc_8c.html#a1e1aa3295a113e88686a9fae0df1ea7a">dnxhd_get_blocks</a></div><div class="ttdeci">static av_always_inline void dnxhd_get_blocks(DNXHDEncContext *ctx, int mb_x, int mb_y)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00689">dnxhdenc.c:689</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="adnxhddata_8c_html_af52acff91d7777320b91dee549978be8"><div class="ttname"><a href="dnxhddata_8c.html#af52acff91d7777320b91dee549978be8">ff_dnxhd_find_cid</a></div><div class="ttdeci">int ff_dnxhd_find_cid(AVCodecContext *avctx, int bit_depth)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhddata_8c_source.html#l01133">dnxhddata.c:1133</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a161af7d01500e0fad004205c954b8ded"><div class="ttname"><a href="dnxhdenc_8c.html#a161af7d01500e0fad004205c954b8ded">dnxhd_switch_matrix</a></div><div class="ttdeci">static av_always_inline int dnxhd_switch_matrix(DNXHDEncContext *ctx, int i)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00817">dnxhdenc.c:817</a></div></div>
<div class="ttc" id="aavcodec_8h_html_af55b3cbd358bd54342a3497eba37f67a"><div class="ttname"><a href="avcodec_8h.html#af55b3cbd358bd54342a3497eba37f67a">FF_PROFILE_DNXHR_HQX</a></div><div class="ttdeci">#define FF_PROFILE_DNXHR_HQX</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01878">avcodec.h:1878</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a539f109f975c674a226309aa022bcc8b"><div class="ttname"><a href="avcodec_8h.html#a539f109f975c674a226309aa022bcc8b">FF_MB_DECISION_RD</a></div><div class="ttdeci">#define FF_MB_DECISION_RD</div><div class="ttdoc">rate distortion</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01017">avcodec.h:1017</a></div></div>
<div class="ttc" id="asonic_8c_html_aee201839e95f7edeff51ad9c8e072bda"><div class="ttname"><a href="sonic_8c.html#aee201839e95f7edeff51ad9c8e072bda">shift</a></div><div class="ttdeci">static int shift(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="sonic_8c_source.html#l00082">sonic.c:82</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5837cafc419c2b5ecdb1dfa330675d13"><div class="ttname"><a href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_DISABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00084">internal.h:84</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV422P</div><div class="ttdoc">planar YUV 4:2:2, 16bpp, (1 Cr &amp; Cb sample per 2x1 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00070">pixfmt.h:70</a></div></div>
<div class="ttc" id="apacket__internal_8h_html"><div class="ttname"><a href="packet__internal_8h.html">packet_internal.h</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a4380d92b0f151c36d5304b11b6610c66"><div class="ttname"><a href="undefined_8txt.html#a4380d92b0f151c36d5304b11b6610c66">overflow</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer overflow</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00003">undefined.txt:3</a></div></div>
<div class="ttc" id="aput__bits_8h_html_a6f7bba5ea37c63f99b266928759fe6f6"><div class="ttname"><a href="put__bits_8h.html#a6f7bba5ea37c63f99b266928759fe6f6">flush_put_bits</a></div><div class="ttdeci">static void flush_put_bits(PutBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="put__bits_8h_source.html#l00117">put_bits.h:117</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:736</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="avf__palettegen_8c_html_a0fa5abf62b01f8a592bca729cb14390b"><div class="ttname"><a href="vf__palettegen_8c.html#a0fa5abf62b01f8a592bca729cb14390b">diff</a></div><div class="ttdeci">static av_always_inline int diff(const uint32_t a, const uint32_t b)</div><div class="ttdef"><b>Definition:</b> <a href="vf__palettegen_8c_source.html#l00136">vf_palettegen.c:136</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a9c40c09fa05d7001bd3171f93f233df4"><div class="ttname"><a href="libavutil_2internal_8h.html#a9c40c09fa05d7001bd3171f93f233df4">LOCAL_ALIGNED_16</a></div><div class="ttdeci">#define LOCAL_ALIGNED_16(t, v,...)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00131">internal.h:131</a></div></div>
<div class="ttc" id="astruct_video_d_s_p_context_html_a69febc8b6d61dec0aa81a1ddd6660b5a"><div class="ttname"><a href="struct_video_d_s_p_context.html#a69febc8b6d61dec0aa81a1ddd6660b5a">VideoDSPContext::emulated_edge_mc</a></div><div class="ttdeci">void(* emulated_edge_mc)(uint8_t *dst, const uint8_t *src, ptrdiff_t dst_linesize, ptrdiff_t src_linesize, int block_w, int block_h, int src_x, int src_y, int w, int h)</div><div class="ttdef"><b>Definition:</b> <a href="videodsp_8h_source.html#l00063">videodsp.h:63</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444af3898696f46dc79b74b708d8fa4b52a7">AV_OPT_TYPE_BOOL</a></div><div class="ttdeci">@ AV_OPT_TYPE_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00242">opt.h:242</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a1041022d7b0f2c72fff7586cf920654c"><div class="ttname"><a href="avcodec_8h.html#a1041022d7b0f2c72fff7586cf920654c">FF_PROFILE_DNXHR_444</a></div><div class="ttdeci">#define FF_PROFILE_DNXHR_444</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01879">avcodec.h:1879</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a791c071afd3e95fcae14cb781829754d"><div class="ttname"><a href="struct_a_v_frame.html#a791c071afd3e95fcae14cb781829754d">AVFrame::quality</a></div><div class="ttdeci">int quality</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00431">frame.h:431</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a17afa58b2bc574dedcd1cc02e1fdf165"><div class="ttname"><a href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a></div><div class="ttdeci">The exact code depends on how similar the blocks are and how related they are to the block</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00207">filter_design.txt:207</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a3cb76993bab9272e7a34e17e15abb638"><div class="ttname"><a href="dnxhdenc_8c.html#a3cb76993bab9272e7a34e17e15abb638">ff_dnxhd_encoder</a></div><div class="ttdeci">AVCodec ff_dnxhd_encoder</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01370">dnxhdenc.c:1370</a></div></div>
<div class="ttc" id="aintmath_8h_html_aef9f0f25de87ea8361407f8c7579915c"><div class="ttname"><a href="intmath_8h.html#aef9f0f25de87ea8361407f8c7579915c">av_log2_16bit</a></div><div class="ttdeci">#define av_log2_16bit</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00084">intmath.h:84</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_aed33dd2199e572250c1e1ef253a0b267"><div class="ttname"><a href="dnxhdenc_8c.html#aed33dd2199e572250c1e1ef253a0b267">dnxhd_calc_bits_thread</a></div><div class="ttdeci">static int dnxhd_calc_bits_thread(AVCodecContext *avctx, void *arg, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00830">dnxhdenc.c:830</a></div></div>
<div class="ttc" id="agroup__lavu__enc_html_gad6ce86405f7381daad36ccf516b4da98"><div class="ttname"><a href="group__lavu__enc.html#gad6ce86405f7381daad36ccf516b4da98">FF_QP2LAMBDA</a></div><div class="ttdeci">#define FF_QP2LAMBDA</div><div class="ttdoc">factor to convert from H.263 QP to lambda</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00227">avutil.h:227</a></div></div>
<div class="ttc" id="alibavcodec_2blockdsp_8c_html_a923c6716c33a9c53546b0254916e406f"><div class="ttname"><a href="libavcodec_2blockdsp_8c.html#a923c6716c33a9c53546b0254916e406f">ff_blockdsp_init</a></div><div class="ttdeci">av_cold void ff_blockdsp_init(BlockDSPContext *c, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2blockdsp_8c_source.html#l00060">blockdsp.c:60</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="aencode_8c_html_a699df1216e8d9d57959f99508e9aadf6"><div class="ttname"><a href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a></div><div class="ttdeci">int ff_alloc_packet2(AVCodecContext *avctx, AVPacket *avpkt, int64_t size, int64_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="encode_8c_source.html#l00033">encode.c:33</a></div></div>
<div class="ttc" id="av4l2_8c_html_aa99f357b50497c5c3097e1b45a7b9f57"><div class="ttname"><a href="v4l2_8c.html#aa99f357b50497c5c3097e1b45a7b9f57">first_field</a></div><div class="ttdeci">static int first_field(const struct video_data *s)</div><div class="ttdef"><b>Definition:</b> <a href="v4l2_8c_source.html#l00234">v4l2.c:234</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a8ec65e6ec49e59bbef16068bd7772ec4"><div class="ttname"><a href="dnxhdenc_8c.html#a8ec65e6ec49e59bbef16068bd7772ec4">RC_VARIANCE</a></div><div class="ttdeci">#define RC_VARIANCE</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00042">dnxhdenc.c:42</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a7257cc1d5685c92d776b6f351ccfa563"><div class="ttname"><a href="dnxhdenc_8c.html#a7257cc1d5685c92d776b6f351ccfa563">NBUCKETS</a></div><div class="ttdeci">#define NBUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01147">dnxhdenc.c:1147</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_ab426705645e30787fe99e0c056899bdc"><div class="ttname"><a href="dnxhdenc_8c.html#ab426705645e30787fe99e0c056899bdc">dnxhd_10bit_get_pixels_8x4_sym</a></div><div class="ttdeci">static av_always_inline void dnxhd_10bit_get_pixels_8x4_sym(int16_t *av_restrict block, const uint8_t *pixels, ptrdiff_t line_size)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00101">dnxhdenc.c:101</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cead36347b6ae291fc3cc95f84aecf8035a"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cead36347b6ae291fc3cc95f84aecf8035a">AV_CODEC_ID_DNXHD</a></div><div class="ttdeci">@ AV_CODEC_ID_DNXHD</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00148">codec_id.h:148</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a19914f51cfcc06bc7da34405dc1ab6be"><div class="ttname"><a href="dnxhdenc_8c.html#a19914f51cfcc06bc7da34405dc1ab6be">dnxhd_unquantize_c</a></div><div class="ttdeci">static av_always_inline void dnxhd_unquantize_c(DNXHDEncContext *ctx, int16_t *block, int n, int qscale, int last_index)</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l00612">dnxhdenc.c:612</a></div></div>
<div class="ttc" id="apixblockdsp_8h_html"><div class="ttname"><a href="pixblockdsp_8h.html">pixblockdsp.h</a></div></div>
<div class="ttc" id="adnxhdenc_8c_html_a2038f5651ffd048438916447cb27deb1"><div class="ttname"><a href="dnxhdenc_8c.html#a2038f5651ffd048438916447cb27deb1">dnxhd_defaults</a></div><div class="ttdeci">static const AVCodecDefault dnxhd_defaults[]</div><div class="ttdef"><b>Definition:</b> <a href="dnxhdenc_8c_source.html#l01365">dnxhdenc.c:1365</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_ad2e88d75f808e6d4e78d48bceb10c336"><div class="ttname"><a href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a></div><div class="ttdeci">float min</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00456">vorbis_enc_data.h:456</a></div></div>
<div class="ttc" id="astruct_d_n_x_h_d_context_html_ad83d03518c7ea2d53da7737fe4b03fed"><div class="ttname"><a href="struct_d_n_x_h_d_context.html#ad83d03518c7ea2d53da7737fe4b03fed">DNXHDContext::scantable</a></div><div class="ttdeci">ScanTable scantable</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2dnxhddec_8c_source.html#l00065">dnxhddec.c:65</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
