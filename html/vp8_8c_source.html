<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/vp8.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">vp8.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="vp8_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * VP7/VP8 compatible video decoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2010 David Conrad</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (C) 2010 Ronald S. Bultje</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 2010 Fiona Glaser</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Copyright (C) 2012 Daniel Kang</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Copyright (C) 2014 Peter Ross</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="imgutils_8h.html">libavutil/imgutils.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hwconfig_8h.html">hwconfig.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="x86_2mathops_8h.html">mathops.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rectangle_8h.html">rectangle.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2thread_8h.html">thread.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vp8_8h.html">vp8.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vp8data_8h.html">vp8data.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#if ARCH_ARM</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#   include &quot;<a class="code" href="arm_2vp8_8h.html">arm/vp8.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#if CONFIG_VP7_DECODER &amp;&amp; CONFIG_VP8_DECODER</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#define VPX(vp7, f) (vp7 ? vp7_ ## f : vp8_ ## f)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#elif CONFIG_VP7_DECODER</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#define VPX(vp7, f) vp7_ ## f</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#else // CONFIG_VP8_DECODER</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="vp8_8c.html#af1a856e594a8851a6860532a6f75d108">   47</a></span>&#160;<span class="preprocessor">#define VPX(vp7, f) vp8_ ## f</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="vp8_8c.html#adbd1fb76e053394a70d9d78ddcc19c06">   50</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#adbd1fb76e053394a70d9d78ddcc19c06">free_buffers</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="frame__thread__encoder_8c.html#a8b5173357adb02a86c027316e0acdfa0">MAX_THREADS</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#if HAVE_THREADS</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <a class="code" href="os2threads_8h.html#a4c57837c88ef09274545ae2ebd18160a">pthread_cond_destroy</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].cond);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <a class="code" href="os2threads_8h.html#af75a104513c9384ace314b0a6b1a8240">pthread_mutex_destroy</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].lock);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].filter_strength);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_top);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="vp8_8c.html#a309bffa9b10dce305412744afeb4063c">   70</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a309bffa9b10dce305412744afeb4063c">vp8_alloc_frame</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="multithreading_8txt.html#ad20d53520fe26af28cbae5338a670db5">ff_thread_get_buffer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;tf,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                    <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> ? <a class="code" href="group__lavc__core.html#ga6b4950dd3320e524f648799927f256a7">AV_GET_BUFFER_FLAG_REF</a> : 0)) &lt; 0)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;seg_map = <a class="code" href="group__lavu__buffer.html#ga27f37cc004f768b00442b6cb08091686">av_buffer_allocz</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height)))</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;hwaccel) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_a_v_h_w_accel.html">AVHWAccel</a> *hwaccel = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;hwaccel;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">if</span> (hwaccel-&gt;<a class="code" href="struct_a_v_h_w_accel.html#aecd7bfd22ce294f1ae5073164bb90d65">frame_priv_data_size</a>) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;hwaccel_priv_buf = <a class="code" href="group__lavu__buffer.html#ga27f37cc004f768b00442b6cb08091686">av_buffer_allocz</a>(hwaccel-&gt;<a class="code" href="struct_a_v_h_w_accel.html#aecd7bfd22ce294f1ae5073164bb90d65">frame_priv_data_size</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;hwaccel_priv_buf)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;hwaccel_picture_private = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;hwaccel_priv_buf-&gt;data;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a>:</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;seg_map);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="pthread__frame_8c.html#aa3f6cbc3d5b74d46b247469ca3247ad1">ff_thread_release_buffer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;tf);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="vp8_8c.html#a4162dcc65b3ab0d0fbdb9923306c3057">   95</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a4162dcc65b3ab0d0fbdb9923306c3057">vp8_release_frame</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;seg_map);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;hwaccel_priv_buf);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;hwaccel_picture_private = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="pthread__frame_8c.html#aa3f6cbc3d5b74d46b247469ca3247ad1">ff_thread_release_buffer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, &amp;<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;tf);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#if CONFIG_VP8_DECODER</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vp8_ref_frame(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *dst, <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="vp8_8c.html#a4162dcc65b3ab0d0fbdb9923306c3057">vp8_release_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dst);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2thread_8h.html#a9569969a18e074a58912d24f08f30d69">ff_thread_ref_frame</a>(&amp;dst-&gt;<a class="code" href="struct_v_p8_frame.html#ae5a3ab34a06c21676e8b7c3fdf25dc66">tf</a>, &amp;<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;tf)) &lt; 0)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;seg_map &amp;&amp;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        !(dst-&gt;<a class="code" href="struct_v_p8_frame.html#aa09bd2ea0b2fcba1d3610b5b8cd11709">seg_map</a> = <a class="code" href="group__lavu__buffer.html#gaa40ce7d3ede946a89d03323bbd7268c1">av_buffer_ref</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;seg_map))) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="vp8_8c.html#a4162dcc65b3ab0d0fbdb9923306c3057">vp8_release_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dst);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;hwaccel_picture_private) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        dst-&gt;<a class="code" href="struct_v_p8_frame.html#a6b8d6017dee8b7a7fc28eff057ed6a72">hwaccel_priv_buf</a> = <a class="code" href="group__lavu__buffer.html#gaa40ce7d3ede946a89d03323bbd7268c1">av_buffer_ref</a>(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;hwaccel_priv_buf);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">if</span> (!dst-&gt;<a class="code" href="struct_v_p8_frame.html#a6b8d6017dee8b7a7fc28eff057ed6a72">hwaccel_priv_buf</a>)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        dst-&gt;<a class="code" href="struct_v_p8_frame.html#adb246ce8cf1db52cc7b0f8e09a5ed88e">hwaccel_picture_private</a> = dst-&gt;<a class="code" href="struct_v_p8_frame.html#a6b8d6017dee8b7a7fc28eff057ed6a72">hwaccel_priv_buf</a>-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_VP8_DECODER */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="vp8_8c.html#a0046639f73e83372517ddfbc42f69d81">  128</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a0046639f73e83372517ddfbc42f69d81">vp8_decode_flush_impl</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">int</span> free_mem)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="vp8_8c.html#a4162dcc65b3ab0d0fbdb9923306c3057">vp8_release_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep));</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (free_mem)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="vp8_8c.html#adbd1fb76e053394a70d9d78ddcc19c06">free_buffers</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="vp8_8c.html#aff66205fdc310110e2739b637f530b79">  141</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#aff66205fdc310110e2739b637f530b79">vp8_decode_flush</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="vp8_8c.html#a0046639f73e83372517ddfbc42f69d81">vp8_decode_flush_impl</a>(avctx, 0);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="vp8_8c.html#a803f2641e89ebab608b10da69b1056b2">  146</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *<a class="code" href="vp8_8c.html#a803f2641e89ebab608b10da69b1056b2">vp8_find_free_buffer</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// find a free buffer</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">if</span> (&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>]  &amp;&amp;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>] &amp;&amp;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>]   &amp;&amp;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a>]) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == 5) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a>, <span class="stringliteral">&quot;Ran out of free frames!\n&quot;</span>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        abort();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;tf.f-&gt;buf[0])</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="vp8_8c.html#a4162dcc65b3ab0d0fbdb9923306c3057">vp8_release_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="vp8_8c.html#ad2e558bdf3b1b022ef2dbd392c56ecef">get_pixel_format</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a> <a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>[] = {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#if CONFIG_VP8_VAAPI_HWACCEL</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8">AV_PIX_FMT_VAAPI</a>,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#if CONFIG_VP8_NVDEC_HWACCEL</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a5ab95e18c0c9e5335f29121418eab314">AV_PIX_FMT_CUDA</a>,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    };</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="decode_8c.html#a8a7eadb05d8ea6f849a146035377ad1f">ff_get_format</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="vp8_8c.html#ad4980832bcab8fb254d3b73092b76ee3">  187</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#ad4980832bcab8fb254d3b73092b76ee3">update_dimensions</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, dim_reset = 0;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;width || ((<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>+15)/16 != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width || (<a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>+15)/16 != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height) &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base ||</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;height) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="vp8_8c.html#a0046639f73e83372517ddfbc42f69d81">vp8_decode_flush_impl</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, 1);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="libavcodec_2internal_8h.html#ac8b736a8223c5348ad85ffff597401ff">ff_set_dimensions</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        dim_reset = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base != <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a> || dim_reset) &amp;&amp;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;         !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;actually_webp &amp;&amp; !is_vp7) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt = <a class="code" href="vp8_8c.html#ad2e558bdf3b1b022ef2dbd392c56ecef">get_pixel_format</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt &lt; 0)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width  = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;coded_width  + 15) / 16;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;coded_height + 15) / 16;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout = is_vp7 || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f4579d94675579e1d46a591340f598f">active_thread_type</a> == <a class="code" href="avcodec_8h.html#a91bc1a1c1c4a3cc6db54d59705fded0b">FF_THREAD_SLICE</a> &amp;&amp;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                   avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">thread_count</a> &gt; 1;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout) { <span class="comment">// Frame threading and one thread</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base       = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height * 2 + 1) *</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                               <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_top = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width * 4);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    } <span class="keywordflow">else</span> <span class="comment">// Sliced threading</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 2) * (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height + 2) *</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                         <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz     = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width * <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz));</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border  = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1) * <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border));</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="frame__thread__encoder_8c.html#a8b5173357adb02a86c027316e0acdfa0">MAX_THREADS</a> * <span class="keyword">sizeof</span>(<a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a>));</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base || !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz || !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border ||</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data || (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_top &amp;&amp; !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout)) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="vp8_8c.html#adbd1fb76e053394a70d9d78ddcc19c06">free_buffers</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="frame__thread__encoder_8c.html#a8b5173357adb02a86c027316e0acdfa0">MAX_THREADS</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].filter_strength =</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width * <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[0].filter_strength));</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].filter_strength) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <a class="code" href="vp8_8c.html#adbd1fb76e053394a70d9d78ddcc19c06">free_buffers</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#if HAVE_THREADS</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="os2threads_8h.html#a4f8250fbf301e0e62dad0aad3ba030a9">pthread_mutex_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].lock, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="os2threads_8h.html#a90293d12cef762b6df0139309d13fdbf">pthread_cond_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].cond, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base + 1;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="vp8_8c.html#a22ef15a7a7386d0937918d59be5d714b">  251</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a22ef15a7a7386d0937918d59be5d714b">vp7_update_dimensions</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#ad4980832bcab8fb254d3b73092b76ee3">update_dimensions</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="vp8dsp_8h.html#aad13e4ab795a0349b52e0ba10ab5e99c">IS_VP7</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="vp8_8c.html#a7a3d15917fd395e6421934058466c0e9">  256</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a7a3d15917fd395e6421934058466c0e9">vp8_update_dimensions</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#ad4980832bcab8fb254d3b73092b76ee3">update_dimensions</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="vp8dsp_8h.html#a3506c126d1d68fd8245dcc21ee1f324f">IS_VP8</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="vp8_8c.html#ae0aa2235fc67308def14be87a6ba7b0b">  262</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ae0aa2235fc67308def14be87a6ba7b0b">parse_segment_info</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_map = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_feature_data = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_feature_data) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.absolute_vals = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.base_quant[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]   = <a class="code" href="vp56_8h.html#a659898867f0cdfdd193400eb840ee325">vp8_rac_get_sint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 7);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.filter_level[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vp56_8h.html#a659898867f0cdfdd193400eb840ee325">vp8_rac_get_sint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 6);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_map)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;segmentid[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8) : 255;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="vp8_8c.html#ad9c3eb6d683ec6d45b201480488da384">  284</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ad9c3eb6d683ec6d45b201480488da384">update_lf_deltas</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.ref[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 6);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.ref[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.ref[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;= <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.mode[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 6);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.mode[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.mode[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="vp8_8c.html#a1ddd2cb704ed696e34ec1bf58f58dfc0">  308</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a1ddd2cb704ed696e34ec1bf58f58dfc0">setup_partitions</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> buf_size)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="img2dec_8c.html#a98ca8d52365848dfa8cdfd76c17860e6">sizes</a> = buf;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_coeff_partitions = 1 &lt;&lt; <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c, 2);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    buf      += 3 * (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_coeff_partitions - 1);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    buf_size -= 3 * (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_coeff_partitions - 1);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (buf_size &lt; 0)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_coeff_partitions - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = <a class="code" href="avr32_2intreadwrite_8h.html#a41b740ee413e64d31482a50721eaef4f">AV_RL24</a>(<a class="code" href="img2dec_8c.html#a98ca8d52365848dfa8cdfd76c17860e6">sizes</a> + 3 * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span> (buf_size - <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> &lt; 0)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_partition_size[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp56_8h.html#a21c934dddc96e2fb3ae6fe719dfef700">ff_vp56_init_range_decoder</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_partition[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        buf      += <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        buf_size -= <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_partition_size[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = buf_size;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="vp56_8h.html#a21c934dddc96e2fb3ae6fe719dfef700">ff_vp56_init_range_decoder</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_partition[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], buf, buf_size);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="vp8_8c.html#a3d0d5372d5b31b1823fb895829cea839">  340</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a3d0d5372d5b31b1823fb895829cea839">vp7_get_quants</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">int</span> yac_qi  = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 7);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordtype">int</span> ydc_qi  = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 7) : yac_qi;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordtype">int</span> y2dc_qi = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 7) : yac_qi;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordtype">int</span> y2ac_qi = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 7) : yac_qi;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordtype">int</span> uvdc_qi = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 7) : yac_qi;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordtype">int</span> uvac_qi = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 7) : yac_qi;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[0].luma_qmul[0]    =       <a class="code" href="vp8data_8h.html#a7ce603e4f0cbfff4d7d890b91d62d4e3">vp7_ydc_qlookup</a>[ydc_qi];</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[0].luma_qmul[1]    =       <a class="code" href="vp8data_8h.html#ab76bf2c4b93c40d20f9dbfa08a6f02ec">vp7_yac_qlookup</a>[yac_qi];</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[0].luma_dc_qmul[0] =       <a class="code" href="vp8data_8h.html#a0895b6826fcecf256efad23333d8a89c">vp7_y2dc_qlookup</a>[y2dc_qi];</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[0].luma_dc_qmul[1] =       <a class="code" href="vp8data_8h.html#a3a8587480b380aed9e81151e7a1b2a74">vp7_y2ac_qlookup</a>[y2ac_qi];</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[0].chroma_qmul[0]  = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="vp8data_8h.html#a7ce603e4f0cbfff4d7d890b91d62d4e3">vp7_ydc_qlookup</a>[uvdc_qi], 132);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[0].chroma_qmul[1]  =       <a class="code" href="vp8data_8h.html#ab76bf2c4b93c40d20f9dbfa08a6f02ec">vp7_yac_qlookup</a>[uvac_qi];</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="vp8_8c.html#a5f7bf5c46c7e79d7bc0b44c71ecfbc59">  359</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a5f7bf5c46c7e79d7bc0b44c71ecfbc59">vp8_get_quants</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, base_qi;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.yac_qi     = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 7);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.ydc_delta  = <a class="code" href="vp56_8h.html#a659898867f0cdfdd193400eb840ee325">vp8_rac_get_sint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 4);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.y2dc_delta = <a class="code" href="vp56_8h.html#a659898867f0cdfdd193400eb840ee325">vp8_rac_get_sint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 4);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.y2ac_delta = <a class="code" href="vp56_8h.html#a659898867f0cdfdd193400eb840ee325">vp8_rac_get_sint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 4);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.uvdc_delta = <a class="code" href="vp56_8h.html#a659898867f0cdfdd193400eb840ee325">vp8_rac_get_sint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 4);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.uvac_delta = <a class="code" href="vp56_8h.html#a659898867f0cdfdd193400eb840ee325">vp8_rac_get_sint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 4);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.enabled) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            base_qi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.base_quant[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.absolute_vals)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                base_qi += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.yac_qi;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            base_qi = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.yac_qi;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].luma_qmul[0]    = <a class="code" href="vp8data_8h.html#afd6a9e989fc8c0657b008905dbb42c12">vp8_dc_qlookup</a>[av_clip_uintp2(base_qi + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.ydc_delta,  7)];</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].luma_qmul[1]    = <a class="code" href="vp8data_8h.html#a18ee27a988ec4bbe77119c97ca396d80">vp8_ac_qlookup</a>[av_clip_uintp2(base_qi,              7)];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].luma_dc_qmul[0] = <a class="code" href="vp8data_8h.html#afd6a9e989fc8c0657b008905dbb42c12">vp8_dc_qlookup</a>[av_clip_uintp2(base_qi + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.y2dc_delta, 7)] * 2;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">/* 101581&gt;&gt;16 is equivalent to 155/100 */</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].luma_dc_qmul[1] = <a class="code" href="vp8data_8h.html#a18ee27a988ec4bbe77119c97ca396d80">vp8_ac_qlookup</a>[av_clip_uintp2(base_qi + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.y2ac_delta, 7)] * 101581 &gt;&gt; 16;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].chroma_qmul[0]  = <a class="code" href="vp8data_8h.html#afd6a9e989fc8c0657b008905dbb42c12">vp8_dc_qlookup</a>[av_clip_uintp2(base_qi + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.uvdc_delta, 7)];</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].chroma_qmul[1]  = <a class="code" href="vp8data_8h.html#a18ee27a988ec4bbe77119c97ca396d80">vp8_ac_qlookup</a>[av_clip_uintp2(base_qi + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;quant.uvac_delta, 7)];</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].luma_dc_qmul[1] = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].luma_dc_qmul[1], 8);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].chroma_qmul[0]  = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].chroma_qmul[0], 132);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="vp8_8c.html#af75164c5647379a402c354c4fdd2d033">  405</a></span>&#160;<span class="keyword">static</span> <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075f">VP56Frame</a> <a class="code" href="vp8_8c.html#af75164c5647379a402c354c4fdd2d033">ref_to_update</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="af__silencedetect_8c.html#af4fef14ae6c1e5d4e2e074a5f0610283">update</a>, <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075f">VP56Frame</a> <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;{</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="af__silencedetect_8c.html#af4fef14ae6c1e5d4e2e074a5f0610283">update</a>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 2)) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> == <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>) ? <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a> : <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa02056c5beadb98b0e303e4595d5930dd">VP56_FRAME_NONE</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="vp8_8c.html#abfe673fcc128da8700647b1ff1d06b6e">  421</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#abfe673fcc128da8700647b1ff1d06b6e">vp78_reset_probability_tables</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++)</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;token[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], <a class="code" href="vp8data_8h.html#af90ef4ba5d9dc2e915a37e90ddfb2e0f">vp8_token_default_probs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="vp8data_8h.html#afe9ba712775f0262d4de046402a01775">vp8_coeff_band</a>[j]],</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                   <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;token[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j]));</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="vp8_8c.html#ad4ea96bcc6b3ba931bb7799b8d77c5d7">  430</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ad4ea96bcc6b3ba931bb7799b8d77c5d7">vp78_update_probability_tables</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;{</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, l, m;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">for</span> (k = 0; k &lt; 3; k++)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">for</span> (l = 0; l &lt; <a class="code" href="vp8_8h.html#afd9e08f0e6ac0b1b6d43aec6bf8055ceaa1831f0d0911d9f150fbdcf8c682e094">NUM_DCT_TOKENS</a>-1; l++)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#abbe0ed1a6f97bf7bfbac9d389843821c">vp8_token_update_probs</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j][k][l])) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="cbs__vp9_8c.html#ae3728007628bd0d9428d2afe3e83a785">prob</a> = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        <span class="keywordflow">for</span> (m = 0; <a class="code" href="vp8data_8h.html#a51842fda6e21f63dec43dd057a6ee8ef">vp8_coeff_band_indexes</a>[j][m] &gt;= 0; m++)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;token[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="vp8data_8h.html#a51842fda6e21f63dec43dd057a6ee8ef">vp8_coeff_band_indexes</a>[j][m]][k][l] = <a class="code" href="cbs__vp9_8c.html#ae3728007628bd0d9428d2afe3e83a785">prob</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="vp8_8c.html#aaa50d48f30ec4d91dafaaeb669820634">  446</a></span>&#160;<span class="preprocessor">#define VP7_MVC_SIZE 17</span></div>
<div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="vp8_8c.html#af95ddd4bf66ab1a21e198b8a1ff420b9">  447</a></span>&#160;<span class="preprocessor">#define VP8_MVC_SIZE 19</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="vp8_8c.html#a266137bd3b6e66cddccc5344942de5a9">  449</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a266137bd3b6e66cddccc5344942de5a9">vp78_update_pred16x16_pred8x8_mvc_probabilities</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                                            <span class="keywordtype">int</span> mvc_size)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred16x16[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred8x8c[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]  = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// 17.2 MV probability update</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; mvc_size; j++)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a1b8de54ff148f4b0b52d3b5431511b96">vp8_mv_update_prob</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j]))</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = <a class="code" href="vp56_8h.html#ae06b85e4bbb6e4e713247ad0e7c919cd">vp8_rac_get_nn</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="vp8_8c.html#ab1bfac6ce262d11cfccc7d1972a4eebc">  469</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ab1bfac6ce262d11cfccc7d1972a4eebc">update_refs</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordtype">int</span> update_golden = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordtype">int</span> update_altref = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_golden = <a class="code" href="vp8_8c.html#af75164c5647379a402c354c4fdd2d033">ref_to_update</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, update_golden, <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_altref = <a class="code" href="vp8_8c.html#af75164c5647379a402c354c4fdd2d033">ref_to_update</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, update_altref, <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="vp8_8c.html#a9b7e32aee90a6d98d357a4c2207875f6">  480</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a9b7e32aee90a6d98d357a4c2207875f6">copy_chroma</a>(<a class="code" href="struct_a_v_frame.html">AVFrame</a> *dst, <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;{</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">for</span> (j = 1; j &lt; 3; j++) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> / 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            memcpy(dst-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[j] + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * dst-&gt;<a class="code" href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[j],</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                   <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;data[j] + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;linesize[j], <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> / 2);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="vp8_8c.html#a2115629b0b1b34fc9cb46173ed0bd1a0">  491</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a2115629b0b1b34fc9cb46173ed0bd1a0">fade</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst, ptrdiff_t dst_linesize,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                 <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, ptrdiff_t src_linesize,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                 <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                 <span class="keywordtype">int</span> <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>, <span class="keywordtype">int</span> beta)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;{</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; j++) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *src2 = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> + j * src_linesize;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst2 = dst + j * dst_linesize;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> y = src2[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            dst2[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = av_clip_uint8(y + ((y * beta) &gt;&gt; 8) + <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="vp8_8c.html#aa7a9d712ee24915b2d548770c3385f4f">  507</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#aa7a9d712ee24915b2d548770c3385f4f">vp7_fade_frame</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>, <span class="keywordtype">int</span> beta)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;{</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe &amp;&amp; (<a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> || beta)) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width * 16;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height * 16;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, *dst;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>] ||</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>]) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Discarding interframe without a prior keyframe!\n&quot;</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        dst =</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>]-&gt;tf.f;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="comment">/* preserve the golden frame, write a new previous frame */</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>] == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>]) {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>] = <a class="code" href="vp8_8c.html#a803f2641e89ebab608b10da69b1056b2">vp8_find_free_buffer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a309bffa9b10dce305412744afeb4063c">vp8_alloc_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>], 1)) &lt; 0)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            dst = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>]-&gt;tf.f;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <a class="code" href="vp8_8c.html#a9b7e32aee90a6d98d357a4c2207875f6">copy_chroma</a>(dst, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="vp8_8c.html#a2115629b0b1b34fc9cb46173ed0bd1a0">fade</a>(dst-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0], dst-&gt;<a class="code" href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">linesize</a>[0],</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;             <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;data[0], <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;linesize[0],</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;             <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>, beta);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="vp8_8c.html#a2f47c932402141468bf24d02fa93b13b">  544</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a2f47c932402141468bf24d02fa93b13b">vp7_decode_frame_header</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> buf_size)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">int</span> part1_size, hscale, vscale, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;width;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;height;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> = 0;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">int</span> beta  = 0;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (buf_size &lt; 4) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile = (buf[0] &gt;&gt; 1) &amp; 7;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile &gt; 1) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Unknown profile %d&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe  = !(buf[0] &amp; 1);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;invisible = 0;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    part1_size   = <a class="code" href="avr32_2intreadwrite_8h.html#a41b740ee413e64d31482a50721eaef4f">AV_RL24</a>(buf) &gt;&gt; 4;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (buf_size &lt; 4 - s-&gt;<a class="code" href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a> + part1_size) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Buffer size %d is too small, needed : %d\n&quot;</span>, buf_size, 4 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile + part1_size);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    buf      += 4 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    buf_size -= 4 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.put_vp8_epel_pixels_tab, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab));</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp56_8h.html#a21c934dddc96e2fb3ae6fe719dfef700">ff_vp56_init_range_decoder</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, buf, part1_size);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    buf      += part1_size;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    buf_size -= part1_size;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">/* A. Dimension information (keyframes only) */</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 12);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 12);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        hscale = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 2);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        vscale = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 2);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span> (hscale || vscale)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Upscaling&quot;</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_golden = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_altref = <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <a class="code" href="vp8_8c.html#abfe673fcc128da8700647b1ff1d06b6e">vp78_reset_probability_tables</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred16x16, <a class="code" href="vp8data_8h.html#a5d2d8342c3522af053b90e638522167a">vp8_pred16x16_prob_inter</a>,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;               <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred16x16));</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred8x8c, <a class="code" href="vp8data_8h.html#ab269d593c5a3d7e39e0617c47bf0a229">vp8_pred8x8c_prob_inter</a>,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;               <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred8x8c));</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="vp8data_8h.html#a9d86429f675ef922c1381f670074c76b">vp7_mv_default_prob</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>],</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                   <span class="keyword">sizeof</span>(<a class="code" href="vp8data_8h.html#a9d86429f675ef922c1381f670074c76b">vp7_mv_default_prob</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]));</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        memset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation));</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        memset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta));</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0].scan, <a class="code" href="mathops_8h.html#ac8a0f0ffe3ce93875d537922ab910b95">ff_zigzag_scan</a>, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0].scan));</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile &gt; 0)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_dc_pred, 0 , <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_dc_pred));</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">/* B. Decoding information for all four macroblock-level features */</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_enabled[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_enabled[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;             <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_present_prob[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;             <span class="keywordflow">for</span> (j = 0; j &lt; 3; j++)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                 <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_index_prob[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] =</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                     <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8) : 255;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;             <span class="keywordflow">if</span> (<a class="code" href="vp8data_8h.html#a2fff38992426856f963c9ad23050b067">vp7_feature_value_size</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                 <span class="keywordflow">for</span> (j = 0; j &lt; 4; j++)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                     <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_value[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] =</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                        <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a2fff38992426856f963c9ad23050b067">vp7_feature_value_size</a>[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) : 0;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.enabled    = 0;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_map = 0;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.enabled        = 0;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_coeff_partitions = 1;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp56_8h.html#a21c934dddc96e2fb3ae6fe719dfef700">ff_vp56_init_range_decoder</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_partition[0], buf, buf_size);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base || <span class="comment">/* first frame */</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;width || <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;height ||</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        (<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> + 15) / 16 != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width || (<a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> + 15) / 16 != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a22ef15a7a7386d0937918d59be5d714b">vp7_update_dimensions</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>)) &lt; 0)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">/* C. Dequantization indices */</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="vp8_8c.html#a3d0d5372d5b31b1823fb895829cea839">vp7_get_quants</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">/* D. Golden frame update flag (a Flag) for interframes only */</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_golden = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a> : <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa02056c5beadb98b0e303e4595d5930dd">VP56_FRAME_NONE</a>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sign_bias[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>] = 0;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_last          = 1;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_probabilities = 1;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fade_present         = 1;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile &gt; 0) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_probabilities = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_probabilities)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[1] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0];</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fade_present = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#ab350db90ce129deb258d937f976b7524">vpX_rac_is_end</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">/* E. Fading information for previous frame */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fade_present &amp;&amp; <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a> = (int8_t) <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        beta  = (int8_t) <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160; </div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="comment">/* F. Loop filter type */</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.simple = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">/* G. DCT coefficient ordering specification */</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0].scan[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="mathops_8h.html#ac8a0f0ffe3ce93875d537922ab910b95">ff_zigzag_scan</a>[<a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 4)];</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">/* H. Loop filter levels  */</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile &gt; 0)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.simple = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.level     = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 6);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.sharpness = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 3);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="comment">/* I. DCT coefficient probability update; 13.3 Token Probability Updates */</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="vp8_8c.html#ad4ea96bcc6b3ba931bb7799b8d77c5d7">vp78_update_probability_tables</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mbskip_enabled = 0;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">/* J. The remaining frame header data occurs ONLY FOR INTERFRAMES */</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;intra  = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;last   = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="vp8_8c.html#a266137bd3b6e66cddccc5344942de5a9">vp78_update_pred16x16_pred8x8_mvc_probabilities</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vp8_8c.html#aaa50d48f30ec4d91dafaaeb669820634">VP7_MVC_SIZE</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#ab350db90ce129deb258d937f976b7524">vpX_rac_is_end</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#aa7a9d712ee24915b2d548770c3385f4f">vp7_fade_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a>, beta)) &lt; 0)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="vp8_8c.html#a427af93edd3d1af0f737f0cc6fb17525">  708</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a427af93edd3d1af0f737f0cc6fb17525">vp8_decode_frame_header</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf, <span class="keywordtype">int</span> buf_size)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordtype">int</span> header_size, hscale, vscale, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;width;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;height;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (buf_size &lt; 3) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficent data (%d) for header\n&quot;</span>, buf_size);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe  = !(buf[0] &amp; 1);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile   =  (buf[0]&gt;&gt;1) &amp; 7;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;invisible = !(buf[0] &amp; 0x10);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    header_size  = <a class="code" href="avr32_2intreadwrite_8h.html#a41b740ee413e64d31482a50721eaef4f">AV_RL24</a>(buf) &gt;&gt; 5;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    buf      += 3;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    buf_size -= 3;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;header_partition_size = header_size;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile &gt; 3)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown profile %d\n&quot;</span>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.put_vp8_epel_pixels_tab,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;               <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab));</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">else</span>    <span class="comment">// profile 1-3 use bilinear, 4+ aren&#39;t defined so whatever</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.put_vp8_bilinear_pixels_tab,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;               <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab));</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">if</span> (header_size &gt; buf_size - 7 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Header size larger than data provided\n&quot;</span>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="avr32_2intreadwrite_8h.html#a41b740ee413e64d31482a50721eaef4f">AV_RL24</a>(buf) != 0x2a019d) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                   <span class="stringliteral">&quot;Invalid start code 0x%x\n&quot;</span>, <a class="code" href="avr32_2intreadwrite_8h.html#a41b740ee413e64d31482a50721eaef4f">AV_RL24</a>(buf));</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>     = <a class="code" href="avr32_2intreadwrite_8h.html#a1a7214fcedcf4bd3e668506d30d7892f">AV_RL16</a>(buf + 3) &amp; 0x3fff;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>    = <a class="code" href="avr32_2intreadwrite_8h.html#a1a7214fcedcf4bd3e668506d30d7892f">AV_RL16</a>(buf + 5) &amp; 0x3fff;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        hscale    = buf[4] &gt;&gt; 6;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        vscale    = buf[6] &gt;&gt; 6;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        buf      += 7;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        buf_size -= 7;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">if</span> (hscale || vscale)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;Upscaling&quot;</span>);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160; </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_golden = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_altref = <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <a class="code" href="vp8_8c.html#abfe673fcc128da8700647b1ff1d06b6e">vp78_reset_probability_tables</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred16x16, <a class="code" href="vp8data_8h.html#a5d2d8342c3522af053b90e638522167a">vp8_pred16x16_prob_inter</a>,</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;               <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred16x16));</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred8x8c, <a class="code" href="vp8data_8h.html#ab269d593c5a3d7e39e0617c47bf0a229">vp8_pred8x8c_prob_inter</a>,</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;               <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred8x8c));</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc, <a class="code" href="vp8data_8h.html#a81d88d79d0d9c1aeae1cf7bb0fe9332c">vp8_mv_default_prob</a>,</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;               <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc));</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        memset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation));</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        memset(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta));</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp56_8h.html#a21c934dddc96e2fb3ae6fe719dfef700">ff_vp56_init_range_decoder</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, buf, header_size);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    buf      += header_size;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    buf_size -= header_size;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;colorspace = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;colorspace)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Unspecified colorspace\n&quot;</span>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fullrange = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.enabled = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)))</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="vp8_8c.html#ae0aa2235fc67308def14be87a6ba7b0b">parse_segment_info</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_map = 0; <span class="comment">// FIXME: move this to some init function?</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.simple    = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.level     = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 6);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.sharpness = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 3);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160; </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.enabled = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.update = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.update)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <a class="code" href="vp8_8c.html#ad9c3eb6d683ec6d45b201480488da384">update_lf_deltas</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp8_8c.html#a1ddd2cb704ed696e34ec1bf58f58dfc0">setup_partitions</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, buf, buf_size)) {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid partitions\n&quot;</span>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    }</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base || <span class="comment">/* first frame */</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;width || <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;height ||</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        (<a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>+15)/16 != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width || (<a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>+15)/16 != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a7a3d15917fd395e6421934058466c0e9">vp8_update_dimensions</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>)) &lt; 0)</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <a class="code" href="vp8_8c.html#a5f7bf5c46c7e79d7bc0b44c71ecfbc59">vp8_get_quants</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <a class="code" href="vp8_8c.html#ab1bfac6ce262d11cfccc7d1972a4eebc">update_refs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sign_bias[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>]               = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sign_bias[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a> <span class="comment">/* altref */</span>] = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// if we aren&#39;t saving this frame&#39;s probabilities for future frames,</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="comment">// make a copy of the current probabilities</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_probabilities = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)))</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[1] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0];</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_last = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe || <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="vp8_8c.html#ad4ea96bcc6b3ba931bb7799b8d77c5d7">vp78_update_probability_tables</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mbskip_enabled = <a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>)))</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mbskip = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;intra  = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;last   = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;golden = <a class="code" href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, 8);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <a class="code" href="vp8_8c.html#a266137bd3b6e66cddccc5344942de5a9">vp78_update_pred16x16_pred8x8_mvc_probabilities</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vp8_8c.html#af95ddd4bf66ab1a21e198b8a1ff420b9">VP8_MVC_SIZE</a>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="comment">// Record the entropy coder state here so that hwaccels can use it.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c.code_word = <a class="code" href="vp56_8h.html#a3bd56f8c5c039b9760329ea63f7caaf3">vp56_rac_renorm</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder_state_at_header_end.input     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c.buffer - (-<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c.bits / 8);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder_state_at_header_end.range     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c.high;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder_state_at_header_end.value     = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c.code_word &gt;&gt; 16;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coder_state_at_header_end.bit_count = -<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c.bits % 8;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="vp8_8c.html#ae1c3c31ca5f3e513ee29b3fffbae0d5c">  849</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ae1c3c31ca5f3e513ee29b3fffbae0d5c">clamp_mv</a>(<a class="code" href="struct_v_p8mvbounds.html">VP8mvbounds</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p56mv.html">VP56mv</a> *dst, <span class="keyword">const</span> <a class="code" href="struct_v_p56mv.html">VP56mv</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>)</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;{</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    dst-&gt;x = av_clip(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;x, av_clip(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_min.x, INT16_MIN, INT16_MAX),</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                             av_clip(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_max.x, INT16_MIN, INT16_MAX));</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    dst-&gt;<a class="code" href="struct_v_p56mv.html#a6f4a476e711d63f22055efdc59220571">y</a> = av_clip(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;y, av_clip(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_min.y, INT16_MIN, INT16_MAX),</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                             av_clip(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_max.y, INT16_MIN, INT16_MAX));</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="vp8_8c.html#a70c0b5ebe5b307f1dd7885327109dcaa">  860</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a70c0b5ebe5b307f1dd7885327109dcaa">read_mv_component</a>(<a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p, <span class="keywordtype">int</span> vp7)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>, x = 0;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, p[0])) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            x += <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, p[9 + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = (vp7 ? 7 : 9); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            x += <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, p[9 + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) &lt;&lt; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">if</span> (!(x &amp; (vp7 ? 0xF0 : 0xFFF0)) || <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, p[12]))</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            x += 8;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="comment">// small_mvtree</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ps = p + 2;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a> = <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, *ps);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        ps += 1 + 3 * <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        x  += 4 * <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a> = <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, *ps);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        ps += 1 + <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        x  += 2 * <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        x  += <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, *ps);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">return</span> (x &amp;&amp; <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, p[1])) ? -x : x;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="vp8_8c.html#a14c5ed3fe414ce0e111e09f0b0d06c2c">  888</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a14c5ed3fe414ce0e111e09f0b0d06c2c">vp7_read_mv_component</a>(<a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p)</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;{</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a70c0b5ebe5b307f1dd7885327109dcaa">read_mv_component</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, p, 1);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;}</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160; </div>
<div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="vp8_8c.html#af351ae3a3ff8ff9a1571d2b2587615c5">  893</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#af351ae3a3ff8ff9a1571d2b2587615c5">vp8_read_mv_component</a>(<a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *p)</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;{</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a70c0b5ebe5b307f1dd7885327109dcaa">read_mv_component</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, p, 0);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;}</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="vp8_8c.html#ae57430124431dedce69ca4b0479851c1">  899</a></span>&#160;<span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="vp8_8c.html#ae57430124431dedce69ca4b0479851c1">get_submv_prob</a>(uint32_t <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>, uint32_t top, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;{</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">if</span> (is_vp7)</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp8data_8h.html#af1dfa058a61402cfbfdf687de464fb1a">vp7_submv_prob</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> == top)</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp8data_8h.html#aef9252b6700bcbac33fc0d5cb09e1f63">vp8_submv_prob</a>[4 - !!<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>];</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">if</span> (!top)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp8data_8h.html#aef9252b6700bcbac33fc0d5cb09e1f63">vp8_submv_prob</a>[2];</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8data_8h.html#aef9252b6700bcbac33fc0d5cb09e1f63">vp8_submv_prob</a>[1 - !!<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>];</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;}</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="vp8_8c.html#a24a9d680f25860781de2ec316e9fbc93">  916</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a24a9d680f25860781de2ec316e9fbc93">decode_splitmvs</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>,</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;{</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordtype">int</span> part_idx;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordtype">int</span> n, num;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *top_mb;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *left_mb = &amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>[-1];</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *mbsplits_left = <a class="code" href="vp8data_8h.html#a8b252d40bdb07a8b89c6427988412d86">vp8_mbsplits</a>[left_mb-&gt;<a class="code" href="struct_v_p8_macroblock.html#a61c7ea138a9cb7b7e21929c7702b8a54">partitioning</a>];</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *mbsplits_top, *mbsplits_cur, *firstidx;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="struct_v_p56mv.html">VP56mv</a> *top_mv;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <a class="code" href="struct_v_p56mv.html">VP56mv</a> *left_mv = left_mb-&gt;<a class="code" href="struct_v_p8_macroblock.html#ac51c6ae243b59488f7655c2970e1549d">bmv</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="struct_v_p56mv.html">VP56mv</a> *cur_mv  = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>) <span class="comment">// layout is inlined, s-&gt;mb_layout is not</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        top_mb = &amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>[2];</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        top_mb = &amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>[-<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width - 1];</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    mbsplits_top = <a class="code" href="vp8data_8h.html#a8b252d40bdb07a8b89c6427988412d86">vp8_mbsplits</a>[top_mb-&gt;<a class="code" href="struct_v_p8_macroblock.html#a61c7ea138a9cb7b7e21929c7702b8a54">partitioning</a>];</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    top_mv       = top_mb-&gt;<a class="code" href="struct_v_p8_macroblock.html#ac51c6ae243b59488f7655c2970e1549d">bmv</a>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a39650033b098d07ab5367555dfde0878">vp8_mbsplit_prob</a>[0])) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a39650033b098d07ab5367555dfde0878">vp8_mbsplit_prob</a>[1]))</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            part_idx = <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a6a82e48e87a5d0e20e3c86f9719ce37d">VP8_SPLITMVMODE_16x8</a> + <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a39650033b098d07ab5367555dfde0878">vp8_mbsplit_prob</a>[2]);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            part_idx = <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a5d28e03751b16cbc97793b6f589ddc8a">VP8_SPLITMVMODE_8x8</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        part_idx = <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a6389067963899faa06bd87f9e99a281f">VP8_SPLITMVMODE_4x4</a>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    num              = <a class="code" href="vp8data_8h.html#abdd4809e2681adaf3885e8e04f7c7c90">vp8_mbsplit_count</a>[part_idx];</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    mbsplits_cur     = <a class="code" href="vp8data_8h.html#a8b252d40bdb07a8b89c6427988412d86">vp8_mbsplits</a>[part_idx],</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    firstidx         = <a class="code" href="vp8data_8h.html#a9e6e78ce258413070ecd46fdb261af04">vp8_mbfirstidx</a>[part_idx];</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;partitioning = part_idx;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">for</span> (n = 0; n &lt; num; n++) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordtype">int</span> k = firstidx[n];</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        uint32_t <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>, above;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *submv_prob;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <span class="keywordflow">if</span> (!(k &amp; 3))</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> = <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;left_mv[mbsplits_left[k + 3]]);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> = <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;cur_mv[mbsplits_cur[k - 1]]);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">if</span> (k &lt;= 3)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            above = <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;top_mv[mbsplits_top[k + 12]]);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            above = <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;cur_mv[mbsplits_cur[k - 4]]);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        submv_prob = <a class="code" href="vp8_8c.html#ae57430124431dedce69ca4b0479851c1">get_submv_prob</a>(<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>, above, is_vp7);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, submv_prob[0])) {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, submv_prob[1])) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, submv_prob[2])) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[n].y = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv.y +</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                                   <a class="code" href="vp8_8c.html#a70c0b5ebe5b307f1dd7885327109dcaa">read_mv_component</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc[0], is_vp7);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[n].x = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv.x +</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                                   <a class="code" href="vp8_8c.html#a70c0b5ebe5b307f1dd7885327109dcaa">read_mv_component</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc[1], is_vp7);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                    <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[n]);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[n], above);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[n], <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160; </div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">return</span> num;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;}</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="vp8_8c.html#a0e12c7259d60b02bea794ac46e0d8606">  998</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a0e12c7259d60b02bea794ac46e0d8606">vp7_calculate_mb_offset</a>(<span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> mb_width,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                                   <span class="keywordtype">int</span> xoffset, <span class="keywordtype">int</span> yoffset, <span class="keywordtype">int</span> boundary,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                                   <span class="keywordtype">int</span> *edge_x, <span class="keywordtype">int</span> *edge_y)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;{</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordtype">int</span> vwidth = mb_width + 1;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordtype">int</span> <span class="keyword">new</span> = (mb_y + yoffset) * vwidth + mb_x + xoffset;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">new</span> &lt; boundary || <span class="keyword">new</span> % vwidth == vwidth - 1)</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    *edge_y = <span class="keyword">new</span> / vwidth;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    *edge_x = <span class="keyword">new</span> % vwidth;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;}</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="vp8_8c.html#a3a97dd17df6d363fdc0af5d18dfe597a"> 1011</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_v_p56mv.html">VP56mv</a> *<a class="code" href="vp8_8c.html#a3a97dd17df6d363fdc0af5d18dfe597a">get_bmv_ptr</a>(<span class="keyword">const</span> <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <span class="keywordtype">int</span> subblock)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;{</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode == <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a> ? <a class="code" href="vp8data_8h.html#a8b252d40bdb07a8b89c6427988412d86">vp8_mbsplits</a>[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;partitioning][subblock] : 0];</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="vp8_8c.html#a07d1dc28b30dba006494983215769f80"> 1017</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a07d1dc28b30dba006494983215769f80">vp7_decode_mvs</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>,</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                    <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>)</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;{</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *mb_edge[12];</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keyword">enum</span> { CNT_ZERO, CNT_NEAREST, CNT_NEAR };</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keyword">enum</span> { VP8_EDGE_TOP, VP8_EDGE_LEFT, VP8_EDGE_TOPLEFT };</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordtype">int</span> idx = CNT_ZERO;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <a class="code" href="struct_v_p56mv.html">VP56mv</a> near_mv[3];</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> cnt[3] = { 0 };</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;near_mv[0]);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;near_mv[1]);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;near_mv[2]);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="vp8data_8h.html#a930c2949ce7bce027de4eceb515ca36c">VP7_MV_PRED_COUNT</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keyword">const</span> <a class="code" href="struct_v_p7_m_v_pred.html">VP7MVPred</a> * <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a> = &amp;<a class="code" href="vp8data_8h.html#af6d5ae718e8ca4ab2e8d7e11cf943d6d">vp7_mv_pred</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordtype">int</span> edge_x, edge_y;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp8_8c.html#a0e12c7259d60b02bea794ac46e0d8606">vp7_calculate_mb_offset</a>(mb_x, mb_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width, <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>-&gt;xoffset,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                    <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>-&gt;yoffset, !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile, &amp;edge_x, &amp;edge_y)) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *edge = mb_edge[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout == 1)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                                             ? <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base + 1 + edge_x +</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                               (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1) * (edge_y + 1)</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                             : <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks + edge_x +</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                               (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - edge_y - 1) * 2;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            uint32_t <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a> = <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(<a class="code" href="vp8_8c.html#a3a97dd17df6d363fdc0af5d18dfe597a">get_bmv_ptr</a>(edge, <a class="code" href="vp8data_8h.html#af6d5ae718e8ca4ab2e8d7e11cf943d6d">vp7_mv_pred</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].subblock));</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;near_mv[CNT_NEAREST])) {</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a> == <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;near_mv[CNT_NEAREST])) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                        idx = CNT_NEAREST;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;near_mv[CNT_NEAR])) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a> != <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;near_mv[CNT_NEAR]))</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                        idx = CNT_NEAR;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                        <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(&amp;near_mv[CNT_NEAR], <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                        idx = CNT_NEAR;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                    }</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                    <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(&amp;near_mv[CNT_NEAREST], <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                    idx = CNT_NEAREST;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                idx = CNT_ZERO;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            idx = CNT_ZERO;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        cnt[idx] += <a class="code" href="vp8data_8h.html#af6d5ae718e8ca4ab2e8d7e11cf943d6d">vp7_mv_pred</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_v_p7_m_v_pred.html#a58430e9106065387ed289142072e89bf">score</a>;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;partitioning = <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231ab73a2589ebb0e60166d0bbd22315f906">VP8_SPLITMVMODE_NONE</a>;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a0157e5e63abca9a3bd39b26267044a41">vp7_mode_contexts</a>[cnt[CNT_ZERO]][0])) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode = <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223a6913a59846a437ac51ebb89bdd55e0f1">VP8_MVMODE_MV</a>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a0157e5e63abca9a3bd39b26267044a41">vp7_mode_contexts</a>[cnt[CNT_NEAREST]][1])) {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a0157e5e63abca9a3bd39b26267044a41">vp7_mode_contexts</a>[cnt[CNT_NEAR]][2])) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                <span class="keywordflow">if</span> (cnt[CNT_NEAREST] &gt; cnt[CNT_NEAR])</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                    <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv, cnt[CNT_ZERO] &gt; cnt[CNT_NEAREST] ? 0 : <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;near_mv[CNT_NEAREST]));</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv, cnt[CNT_ZERO] &gt; cnt[CNT_NEAR]    ? 0 : <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;near_mv[CNT_NEAR]));</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a0157e5e63abca9a3bd39b26267044a41">vp7_mode_contexts</a>[cnt[CNT_NEAR]][3])) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode = <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[<a class="code" href="vp8_8c.html#a24a9d680f25860781de2ec316e9fbc93">decode_splitmvs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>, <a class="code" href="vp8dsp_8h.html#aad13e4ab795a0349b52e0ba10ab5e99c">IS_VP7</a>) - 1];</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv.y += <a class="code" href="vp8_8c.html#a14c5ed3fe414ce0e111e09f0b0d06c2c">vp7_read_mv_component</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc[0]);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv.x += <a class="code" href="vp8_8c.html#a14c5ed3fe414ce0e111e09f0b0d06c2c">vp7_read_mv_component</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc[1]);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv = near_mv[CNT_NEAR];</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv = near_mv[CNT_NEAREST];</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode = <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223aede20876aa8df964b6d884a1001b1f93">VP8_MVMODE_ZERO</a>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="vp8_8c.html#a35d4ce651beea4a244812169a78f7ff0"> 1108</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a35d4ce651beea4a244812169a78f7ff0">vp8_decode_mvs</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8mvbounds.html">VP8mvbounds</a> *mv_bounds, <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>,</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                    <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>)</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;{</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *mb_edge[3] = { 0      <span class="comment">/* top */</span>,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                                  <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> - 1 <span class="comment">/* left */</span>,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                                  0      <span class="comment">/* top-left */</span> };</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keyword">enum</span> { CNT_ZERO, CNT_NEAREST, CNT_NEAR, CNT_SPLITMV };</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keyword">enum</span> { VP8_EDGE_TOP, VP8_EDGE_LEFT, VP8_EDGE_TOPLEFT };</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordtype">int</span> idx = CNT_ZERO;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordtype">int</span> cur_sign_bias = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sign_bias[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame];</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    int8_t *sign_bias = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sign_bias;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <a class="code" href="struct_v_p56mv.html">VP56mv</a> near_mv[4];</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> cnt[4] = { 0 };</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>) { <span class="comment">// layout is inlined (s-&gt;mb_layout is not)</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        mb_edge[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> + 2;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        mb_edge[2] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> + 1;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        mb_edge[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width - 1;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        mb_edge[2] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width - 2;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;near_mv[0]);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;near_mv[1]);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;near_mv[2]);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="comment">/* Process MB on top, left and top-left */</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="preprocessor">#define MV_EDGE_CHECK(n)                                                      \</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="preprocessor">    {                                                                         \</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="preprocessor">        VP8Macroblock *edge = mb_edge[n];                                     \</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="preprocessor">        int edge_ref = edge-&gt;ref_frame;                                       \</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="preprocessor">        if (edge_ref != VP56_FRAME_CURRENT) {                                 \</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="preprocessor">            uint32_t mv = AV_RN32A(&amp;edge-&gt;mv);                                \</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="preprocessor">            if (mv) {                                                         \</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="preprocessor">                if (cur_sign_bias != sign_bias[edge_ref]) {                   \</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="preprocessor">                    </span><span class="comment">/* SWAR negate of the values in mv. */</span><span class="preprocessor">                    \</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="preprocessor">                    mv = ~mv;                                                 \</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="preprocessor">                    mv = ((mv &amp; 0x7fff7fff) +                                 \</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="preprocessor">                          0x00010001) ^ (mv &amp; 0x80008000);                    \</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="preprocessor">                }                                                             \</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="preprocessor">                if (!n || mv != AV_RN32A(&amp;near_mv[idx]))                      \</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="preprocessor">                    AV_WN32A(&amp;near_mv[++idx], mv);                            \</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="preprocessor">                cnt[idx] += 1 + (n != 2);                                     \</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="preprocessor">            } else                                                            \</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="preprocessor">                cnt[CNT_ZERO] += 1 + (n != 2);                                \</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="preprocessor">        }                                                                     \</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <a class="code" href="vp8_8c.html#a7febd0407b74b1d9736dd0a46e0d9a47">MV_EDGE_CHECK</a>(0)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <a class="code" href="vp8_8c.html#a7febd0407b74b1d9736dd0a46e0d9a47">MV_EDGE_CHECK</a>(1)</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <a class="code" href="vp8_8c.html#a7febd0407b74b1d9736dd0a46e0d9a47">MV_EDGE_CHECK</a>(2)</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;partitioning = <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231ab73a2589ebb0e60166d0bbd22315f906">VP8_SPLITMVMODE_NONE</a>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a8ce93664d3150196ba0087b46fbe6bed">vp8_mode_contexts</a>[cnt[CNT_ZERO]][0])) {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode = <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223a6913a59846a437ac51ebb89bdd55e0f1">VP8_MVMODE_MV</a>;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="comment">/* If we have three distinct MVs, merge first and last if they&#39;re the same */</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keywordflow">if</span> (cnt[CNT_SPLITMV] &amp;&amp;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;near_mv[1 + VP8_EDGE_TOP]) == <a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(&amp;near_mv[1 + VP8_EDGE_TOPLEFT]))</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            cnt[CNT_NEAREST] += 1;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="comment">/* Swap near and nearest if necessary */</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">if</span> (cnt[CNT_NEAR] &gt; cnt[CNT_NEAREST]) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>,     cnt[CNT_NEAREST],     cnt[CNT_NEAR]);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            <a class="code" href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a>( <a class="code" href="struct_v_p56mv.html">VP56mv</a>, near_mv[CNT_NEAREST], near_mv[CNT_NEAR]);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a8ce93664d3150196ba0087b46fbe6bed">vp8_mode_contexts</a>[cnt[CNT_NEAREST]][1])) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a8ce93664d3150196ba0087b46fbe6bed">vp8_mode_contexts</a>[cnt[CNT_NEAR]][2])) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                <span class="comment">/* Choose the best mv out of 0,0 and the nearest mv */</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                <a class="code" href="vp8_8c.html#ae1c3c31ca5f3e513ee29b3fffbae0d5c">clamp_mv</a>(mv_bounds, &amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv, &amp;near_mv[CNT_ZERO + (cnt[CNT_NEAREST] &gt;= cnt[CNT_ZERO])]);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                cnt[CNT_SPLITMV] = ((mb_edge[VP8_EDGE_LEFT]-&gt;<a class="code" href="struct_v_p8_macroblock.html#ad2a4e327f4a692d013e94beefce5cfba">mode</a>    == <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>) +</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                                    (mb_edge[VP8_EDGE_TOP]-&gt;<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>     == <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>)) * 2 +</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                    (mb_edge[VP8_EDGE_TOPLEFT]-&gt;<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> == <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160; </div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a8ce93664d3150196ba0087b46fbe6bed">vp8_mode_contexts</a>[cnt[CNT_SPLITMV]][3])) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode = <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[<a class="code" href="vp8_8c.html#a24a9d680f25860781de2ec316e9fbc93">decode_splitmvs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>, <a class="code" href="vp8dsp_8h.html#a3506c126d1d68fd8245dcc21ee1f324f">IS_VP8</a>) - 1];</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv.y  += <a class="code" href="vp8_8c.html#af351ae3a3ff8ff9a1571d2b2587615c5">vp8_read_mv_component</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc[0]);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv.x  += <a class="code" href="vp8_8c.html#af351ae3a3ff8ff9a1571d2b2587615c5">vp8_read_mv_component</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mvc[1]);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                <a class="code" href="vp8_8c.html#ae1c3c31ca5f3e513ee29b3fffbae0d5c">clamp_mv</a>(mv_bounds, &amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv, &amp;near_mv[CNT_NEAR]);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;            }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <a class="code" href="vp8_8c.html#ae1c3c31ca5f3e513ee29b3fffbae0d5c">clamp_mv</a>(mv_bounds, &amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv, &amp;near_mv[CNT_NEAREST]);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode = <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223aede20876aa8df964b6d884a1001b1f93">VP8_MVMODE_ZERO</a>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0] = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01208"></a><span class="lineno"><a class="line" href="vp8_8c.html#ab2e7c08c6bc216ff577a7b111e2bdc1d"> 1208</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ab2e7c08c6bc216ff577a7b111e2bdc1d">decode_intra4x4_modes</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                           <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> keyframe, <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;{</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *intra4x4 = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;intra4x4_pred_mode_mb;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *mb_top = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width - 1;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        memcpy(<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;intra4x4_pred_mode_top, mb_top-&gt;intra4x4_pred_mode_top, 4);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    }</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (keyframe) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *top;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<span class="keyword">const</span> <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_left;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            top = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;intra4x4_pred_mode_top;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            top = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_top + 4 * mb_x;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; 4; y++) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>       = <a class="code" href="vp8data_8h.html#acea23efb0efc4eb1062fcf62d7bc5130">vp8_pred4x4_prob_intra</a>[top[x]][<a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>[y]];</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                *intra4x4 = <a class="code" href="vp56_8h.html#a8450644c1911075dae917c145051237a">vp8_rac_get_tree</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#afd62671638daf61bd7529d2769986f79">vp8_pred4x4_tree</a>, <a class="code" href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a>);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                <a class="code" href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a>[y]   = top[x] = *intra4x4;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                intra4x4++;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            intra4x4[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vp56_8h.html#a8450644c1911075dae917c145051237a">vp8_rac_get_tree</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#afd62671638daf61bd7529d2769986f79">vp8_pred4x4_tree</a>,</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                                           <a class="code" href="vp8data_8h.html#aff94be65a7ea5542bc16b68e1338efa5">vp8_pred4x4_prob_inter</a>);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="vp8_8c.html#aaa422cb1d2d7ef84b31f8cf40490956a"> 1243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#aaa422cb1d2d7ef84b31f8cf40490956a">decode_mb_mode</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8mvbounds.html">VP8mvbounds</a> *mv_bounds,</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                    <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y,</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="structsegment.html">segment</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;{</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> vp7_feature_name[] = { <span class="stringliteral">&quot;q-index&quot;</span>,</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                                                     <span class="stringliteral">&quot;lf-delta&quot;</span>,</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                                                     <span class="stringliteral">&quot;partial-golden-update&quot;</span>,</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                                                     <span class="stringliteral">&quot;blit-pitch&quot;</span> };</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span> (is_vp7) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        *<a class="code" href="structsegment.html">segment</a> = 0;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_enabled[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_present_prob[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>])) {</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                      <span class="keywordtype">int</span> <a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a> = <a class="code" href="vp56_8h.html#a8450644c1911075dae917c145051237a">vp8_rac_get_tree</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a71808698e376e0f491a6fd992585d950">vp7_feature_index_tree</a>,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                                                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_index_prob[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                      <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                             <span class="stringliteral">&quot;Feature %s present in macroblock (value 0x%x)\n&quot;</span>,</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                             vp7_feature_name[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;feature_value[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][<a class="code" href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>]);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;           }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_map) {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>  = <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;segmentid[0]);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        *<a class="code" href="structsegment.html">segment</a> = <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;segmentid[1+<a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>]) + 2*<a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.enabled)</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        *<a class="code" href="structsegment.html">segment</a> = <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> ? *<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> : *<a class="code" href="structsegment.html">segment</a>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;segment = *<a class="code" href="structsegment.html">segment</a>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;skip = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mbskip_enabled ? <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;mbskip) : 0;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode = <a class="code" href="vp56_8h.html#a8450644c1911075dae917c145051237a">vp8_rac_get_tree</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a33e4af83ba1683487a976b5dab2dd1f2">vp8_pred16x16_tree_intra</a>,</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                                    <a class="code" href="vp8data_8h.html#a5e5eda302295a15931bd04380e247f4b">vp8_pred16x16_prob_intra</a>);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode == <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a>) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            <a class="code" href="vp8_8c.html#ab2e7c08c6bc216ff577a7b111e2bdc1d">decode_intra4x4_modes</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, 1, <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            <span class="keyword">const</span> uint32_t <a class="code" href="sipr_8c.html#ab9fb8a96b1272c77c97d6da2f92828dd">modes</a> = (is_vp7 ? <a class="code" href="vp8data_8h.html#adc907c54b776622e8f5c6e528ea0824b">vp7_pred4x4_mode</a></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                                           : <a class="code" href="vp8data_8h.html#a1b699f225db20185eb20042b57f70e7f">vp8_pred4x4_mode</a>)[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode] * 0x01010101u;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;            <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;intra4x4_pred_mode_top, <a class="code" href="sipr_8c.html#ab9fb8a96b1272c77c97d6da2f92828dd">modes</a>);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_top + 4 * mb_x, <a class="code" href="sipr_8c.html#ab9fb8a96b1272c77c97d6da2f92828dd">modes</a>);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_left, <a class="code" href="sipr_8c.html#ab9fb8a96b1272c77c97d6da2f92828dd">modes</a>);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;chroma_pred_mode = <a class="code" href="vp56_8h.html#a8450644c1911075dae917c145051237a">vp8_rac_get_tree</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a0857c4099714265398db6f1f9eeed11f">vp8_pred8x8c_tree</a>,</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                                                <a class="code" href="vp8data_8h.html#a7f8a762859b26b88db4c83a84093b1dd">vp8_pred8x8c_prob_intra</a>);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame        = <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;intra)) {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="comment">// inter MB, 16.2</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;last))</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame =</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                (!is_vp7 &amp;&amp; <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;golden)) ? <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a> <span class="comment">/* altref */</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                                                                   : <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;            <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame = <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ref_count[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame - 1]++;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="comment">// motion vectors, 16.3</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">if</span> (is_vp7)</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;            <a class="code" href="vp8_8c.html#a07d1dc28b30dba006494983215769f80">vp7_decode_mvs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y, <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;            <a class="code" href="vp8_8c.html#a35d4ce651beea4a244812169a78f7ff0">vp8_decode_mvs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, mv_bounds, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y, <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="comment">// intra MB, 16.1</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode = <a class="code" href="vp56_8h.html#a8450644c1911075dae917c145051237a">vp8_rac_get_tree</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a4bb3044658f2ebfc466f4e5d96adfb06">vp8_pred16x16_tree_inter</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred16x16);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode == <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a>)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <a class="code" href="vp8_8c.html#ab2e7c08c6bc216ff577a7b111e2bdc1d">decode_intra4x4_modes</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, 0, <a class="code" href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a>);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;chroma_pred_mode = <a class="code" href="vp56_8h.html#a8450644c1911075dae917c145051237a">vp8_rac_get_tree</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a0857c4099714265398db6f1f9eeed11f">vp8_pred8x8c_tree</a>,</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                                                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;pred8x8c);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame        = <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;partitioning     = <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231ab73a2589ebb0e60166d0bbd22315f906">VP8_SPLITMVMODE_NONE</a>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <a class="code" href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a>(&amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[0]);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;}</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01335"></a><span class="lineno"><a class="line" href="vp8_8c.html#abc0e66c2fbb4cbfa00984334c9e18354"> 1335</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#abc0e66c2fbb4cbfa00984334c9e18354">decode_block_coeffs_internal</a>(<a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>, int16_t <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[16],</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                 <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> probs[16][3][<a class="code" href="vp8_8h.html#afd9e08f0e6ac0b1b6d43aec6bf8055ceaa1831f0d0911d9f150fbdcf8c682e094">NUM_DCT_TOKENS</a> - 1],</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                                 <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *token_prob, int16_t qmul[2],</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> scan[16], <span class="keywordtype">int</span> vp7)</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;{</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a> = *<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">goto</span> skip_eob;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;restart:</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[0]))   <span class="comment">// DCT_EOB</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;skip_eob:</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[1])) { <span class="comment">// DCT_0</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            <span class="keywordflow">if</span> (++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == 16)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                <span class="keywordflow">break</span>; <span class="comment">// invalid input; blocks should end with EOB</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            token_prob = probs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][0];</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;            <span class="keywordflow">if</span> (vp7)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                <span class="keywordflow">goto</span> restart;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            <span class="keywordflow">goto</span> skip_eob;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[2])) { <span class="comment">// DCT_1</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> = 1;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            token_prob = probs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1][1];</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[3])) { <span class="comment">// DCT 2,3,4</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> = <a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[4]);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                    <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> += <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[5]);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> += 2;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                <span class="comment">// DCT_CAT*</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[6])) {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                    <span class="keywordflow">if</span> (!<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[7])) { <span class="comment">// DCT_CAT1</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                        <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> = 5 + <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#ae7b9eef88123812e40a753bba81f174f">vp8_dct_cat1_prob</a>[0]);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                    } <span class="keywordflow">else</span> {                                    <span class="comment">// DCT_CAT2</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                        <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>  = 7;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                        <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> += <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a5e5bf4ce48de3341070738e8a25aeedf">vp8_dct_cat2_prob</a>[0]) &lt;&lt; 1;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                        <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> += <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a5e5bf4ce48de3341070738e8a25aeedf">vp8_dct_cat2_prob</a>[1]);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                    }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                } <span class="keywordflow">else</span> {    <span class="comment">// DCT_CAT3 and up</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>   = <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[8]);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>   = <a class="code" href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[9 + <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>]);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                    <span class="keywordtype">int</span> <a class="code" href="x86_2vp9dsp__init_8h.html#abd14a7cc71fa43f573690135c7723886">cat</a> = (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt;&lt; 1) + <a class="code" href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a>;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                    <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>  = 3 + (8 &lt;&lt; <a class="code" href="x86_2vp9dsp__init_8h.html#abd14a7cc71fa43f573690135c7723886">cat</a>);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                    <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> += <a class="code" href="vp56_8h.html#a2ec271debc6c429f34ab0ba9d4b4b325">vp8_rac_get_coeff</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vp8data_8h.html#a1899575e50f2a10133a523a74bcc8cbf">ff_vp8_dct_cat_prob</a>[<a class="code" href="x86_2vp9dsp__init_8h.html#abd14a7cc71fa43f573690135c7723886">cat</a>]);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            }</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            token_prob = probs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1][2];</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[scan[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] = (<a class="code" href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a>(&amp;<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>) ? -<a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a> : <a class="code" href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a>) * qmul[!!<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    } <span class="keywordflow">while</span> (++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 16);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160; </div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    *<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a> = <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;}</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160; </div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01395"></a><span class="lineno"><a class="line" href="vp8_8c.html#a8ecf8fe26b573d95cd93cda4c7fee5ce"> 1395</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a8ecf8fe26b573d95cd93cda4c7fee5ce">inter_predict_dc</a>(int16_t <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[16], int16_t <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[2])</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;{</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    int16_t <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a> = <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0];</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[1] &gt; 3) {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a> += <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[0];</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 1;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[0] | !<a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a> | ((<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>)<a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[0] ^ (<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>)<a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a>) &gt;&gt; 31) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[0] = <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[1] = 0;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[0] == <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a>)</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[1]++;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[0] = <a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>[0] = <a class="code" href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;}</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"><a class="line" href="vp8_8c.html#a10c0537804d9ebb005f18cb3ef5ae2a1"> 1417</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a10c0537804d9ebb005f18cb3ef5ae2a1">vp7_decode_block_coeffs_internal</a>(<a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>,</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                                            int16_t <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[16],</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                                            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> probs[16][3][<a class="code" href="vp8_8h.html#afd9e08f0e6ac0b1b6d43aec6bf8055ceaa1831f0d0911d9f150fbdcf8c682e094">NUM_DCT_TOKENS</a> - 1],</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                                            <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *token_prob,</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                                            int16_t qmul[2],</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> scan[16])</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;{</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#abc0e66c2fbb4cbfa00984334c9e18354">decode_block_coeffs_internal</a>(<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, probs, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                                        token_prob, qmul, scan, <a class="code" href="vp8dsp_8h.html#aad13e4ab795a0349b52e0ba10ab5e99c">IS_VP7</a>);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="preprocessor">#ifndef vp8_decode_block_coeffs_internal</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"><a class="line" href="vp8_8c.html#a98b74ed294a9a1dab5d523d12e8df912"> 1429</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a98b74ed294a9a1dab5d523d12e8df912">vp8_decode_block_coeffs_internal</a>(<a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>,</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                                            int16_t <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[16],</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                                            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> probs[16][3][<a class="code" href="vp8_8h.html#afd9e08f0e6ac0b1b6d43aec6bf8055ceaa1831f0d0911d9f150fbdcf8c682e094">NUM_DCT_TOKENS</a> - 1],</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                                            <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *token_prob,</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                                            int16_t qmul[2])</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;{</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#abc0e66c2fbb4cbfa00984334c9e18354">decode_block_coeffs_internal</a>(<a class="code" href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, probs, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                                        token_prob, qmul, <a class="code" href="mathops_8h.html#ac8a0f0ffe3ce93875d537922ab910b95">ff_zigzag_scan</a>, <a class="code" href="vp8dsp_8h.html#a3506c126d1d68fd8245dcc21ee1f324f">IS_VP8</a>);</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;}</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01454"></a><span class="lineno"><a class="line" href="vp8_8c.html#af73b3eb8f4dd0a99bcec3e46907cd7ca"> 1454</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#af73b3eb8f4dd0a99bcec3e46907cd7ca">decode_block_coeffs</a>(<a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, int16_t <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>[16],</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> probs[16][3][<a class="code" href="vp8_8h.html#afd9e08f0e6ac0b1b6d43aec6bf8055ceaa1831f0d0911d9f150fbdcf8c682e094">NUM_DCT_TOKENS</a> - 1],</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">int</span> zero_nhood, int16_t qmul[2],</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> scan[16], <span class="keywordtype">int</span> vp7)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;{</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *token_prob = probs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][zero_nhood];</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, token_prob[0]))   <span class="comment">// DCT_EOB</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">return</span> vp7 ? <a class="code" href="vp8_8c.html#a10c0537804d9ebb005f18cb3ef5ae2a1">vp7_decode_block_coeffs_internal</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, probs, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                                                  token_prob, qmul, scan)</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;               : <a class="code" href="vp8_8c.html#a98b74ed294a9a1dab5d523d12e8df912">vp8_decode_block_coeffs_internal</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a>, probs, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>,</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                                                  token_prob, qmul);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;}</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01469"></a><span class="lineno"><a class="line" href="vp8_8c.html#ad9cc4f88de0cd0d512126bb64096b4a0"> 1469</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ad9cc4f88de0cd0d512126bb64096b4a0">decode_mb_coeffs</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>,</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                      <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> t_nnz[9], <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> l_nnz[9],</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                      <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, x, y, luma_start = 0, luma_ctx = 3;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="keywordtype">int</span> nnz_pred, nnz, nnz_total = 0;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structsegment.html">segment</a> = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;segment;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordtype">int</span> block_dc = 0;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode != <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a> &amp;&amp; (is_vp7 || <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode != <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>)) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        nnz_pred = t_nnz[8] + l_nnz[8];</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <span class="comment">// decode DC values and do hadamard</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        nnz = <a class="code" href="vp8_8c.html#af73b3eb8f4dd0a99bcec3e46907cd7ca">decode_block_coeffs</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block_dc, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;token[1], 0,</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                                  nnz_pred, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="structsegment.html">segment</a>].luma_dc_qmul,</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                                  <a class="code" href="mathops_8h.html#ac8a0f0ffe3ce93875d537922ab910b95">ff_zigzag_scan</a>, is_vp7);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        l_nnz[8] = t_nnz[8] = !!nnz;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <span class="keywordflow">if</span> (is_vp7 &amp;&amp; <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode &gt; <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a>) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;            nnz |=  <a class="code" href="vp8_8c.html#a8ecf8fe26b573d95cd93cda4c7fee5ce">inter_predict_dc</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block_dc,</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                                     <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;inter_dc_pred[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame - 1]);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">if</span> (nnz) {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            nnz_total += nnz;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;            block_dc   = 1;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            <span class="keywordflow">if</span> (nnz == 1)</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_luma_dc_wht_dc(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block_dc);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_luma_dc_wht(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block_dc);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        luma_start = 1;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        luma_ctx   = 0;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160; </div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="comment">// luma blocks</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; 4; y++)</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            nnz_pred = l_nnz[y] + t_nnz[x];</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            nnz = <a class="code" href="vp8_8c.html#af73b3eb8f4dd0a99bcec3e46907cd7ca">decode_block_coeffs</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[y][x],</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                                      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;token[luma_ctx],</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                                      luma_start, nnz_pred,</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                                      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="structsegment.html">segment</a>].luma_qmul,</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                                      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0].scan, is_vp7);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <span class="comment">/* nnz+block_dc may be one more than the actual last index,</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="comment">             * but we don&#39;t care */</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;non_zero_count_cache[y][x] = nnz + block_dc;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            t_nnz[x] = l_nnz[y] = !!nnz;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            nnz_total += nnz;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        }</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="comment">// chroma blocks</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="comment">// TODO: what to do about dimensions? 2nd dim for luma is x,</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="comment">// but for chroma it&#39;s (y&lt;&lt;1)|x</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 4; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 6; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; 2; y++)</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; 2; x++) {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                nnz_pred = l_nnz[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2 * y] + t_nnz[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2 * x];</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                nnz = <a class="code" href="vp8_8c.html#af73b3eb8f4dd0a99bcec3e46907cd7ca">decode_block_coeffs</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][(y &lt;&lt; 1) + x],</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                                          <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob-&gt;token[2], 0, nnz_pred,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                                          <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qmat[<a class="code" href="structsegment.html">segment</a>].chroma_qmul,</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                                          <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0].scan, is_vp7);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;non_zero_count_cache[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][(y &lt;&lt; 1) + x] = nnz;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                t_nnz[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2 * x] = l_nnz[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + 2 * y] = !!nnz;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                nnz_total += nnz;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160; </div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="comment">// if there were no coded coeffs despite the macroblock not being marked skip,</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="comment">// we MUST not do the inner loop filter and should not do IDCT</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// Since skip isn&#39;t used for bitstream prediction, just manually set it.</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (!nnz_total)</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;skip = 1;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;}</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160; </div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01544"></a><span class="lineno"><a class="line" href="vp8_8c.html#abb2be2528c6f44d54650832bb957b5d5"> 1544</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#abb2be2528c6f44d54650832bb957b5d5">backup_mb_border</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *top_border, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *src_y,</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                      <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *src_cb, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *src_cr,</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                      ptrdiff_t linesize, ptrdiff_t uvlinesize, <span class="keywordtype">int</span> simple)</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;{</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <a class="code" href="intreadwrite_8h.html#a2bff2b6e75bc7a0df5c6edb8bfb814c3">AV_COPY128</a>(top_border, src_y + 15 * linesize);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keywordflow">if</span> (!simple) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <a class="code" href="intreadwrite_8h.html#a50654c20c1149e9f6f8bb80a335231e7">AV_COPY64</a>(top_border + 16, src_cb + 7 * uvlinesize);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <a class="code" href="intreadwrite_8h.html#a50654c20c1149e9f6f8bb80a335231e7">AV_COPY64</a>(top_border + 24, src_cr + 7 * uvlinesize);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;}</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01556"></a><span class="lineno"><a class="line" href="vp8_8c.html#a6dbc42a737f5b870a503eee50468f508"> 1556</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a6dbc42a737f5b870a503eee50468f508">xchg_mb_border</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *top_border, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *src_y, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *src_cb,</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *src_cr, ptrdiff_t linesize, ptrdiff_t uvlinesize, <span class="keywordtype">int</span> mb_x,</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                    <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> mb_width, <span class="keywordtype">int</span> simple, <span class="keywordtype">int</span> xchg)</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;{</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *top_border_m1 = top_border - 32;     <span class="comment">// for TL prediction</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    src_y  -= linesize;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    src_cb -= uvlinesize;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    src_cr -= uvlinesize;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="preprocessor">#define XCHG(a, b, xchg)                                                      \</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="preprocessor">    do {                                                                      \</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="preprocessor">        if (xchg)                                                             \</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="preprocessor">            AV_SWAP64(b, a);                                                  \</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="preprocessor">        else                                                                  \</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="preprocessor">            AV_COPY64(b, a);                                                  \</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="preprocessor">    } while (0)</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <a class="code" href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a>(top_border_m1 + 8, src_y - 8, xchg);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a>(top_border, src_y, xchg);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <a class="code" href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a>(top_border + 8, src_y + 8, 1);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">if</span> (mb_x &lt; mb_width - 1)</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <a class="code" href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a>(top_border + 32, src_y + 16, 1);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="comment">// only copy chroma for normal loop filter</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="comment">// or to initialize the top row to 127</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">if</span> (!simple || !mb_y) {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <a class="code" href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a>(top_border_m1 + 16, src_cb - 8, xchg);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <a class="code" href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a>(top_border_m1 + 24, src_cr - 8, xchg);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        <a class="code" href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a>(top_border + 16, src_cb, 1);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <a class="code" href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a>(top_border + 24, src_cr, 1);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01590"></a><span class="lineno"><a class="line" href="vp8_8c.html#a4d3e8cee826fd2cc4398b0c47aaf3597"> 1590</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a4d3e8cee826fd2cc4398b0c47aaf3597">check_dc_pred8x8_mode</a>(<span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;{</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="keywordflow">if</span> (!mb_x)</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <span class="keywordflow">return</span> mb_y ? <a class="code" href="h264pred_8h.html#a193b01df2ba3a6bbf60b537a4d23e622">TOP_DC_PRED8x8</a> : <a class="code" href="h264pred_8h.html#af5efe46e43d436cb7fb8621bf5eb7baf">DC_128_PRED8x8</a>;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">return</span> mb_y ? <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> : <a class="code" href="h264pred_8h.html#aac13e4f170a3ad0b8dc084e972843a20">LEFT_DC_PRED8x8</a>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;}</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01599"></a><span class="lineno"><a class="line" href="vp8_8c.html#a9b82839b1b2d576e29e9ba22dd094a46"> 1599</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a9b82839b1b2d576e29e9ba22dd094a46">check_tm_pred8x8_mode</a>(<span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> vp7)</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;{</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keywordflow">if</span> (!mb_x)</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <span class="keywordflow">return</span> mb_y ? <a class="code" href="h264pred_8h.html#a64bb3aa91a1f8c47740b3ffb362dd036">VERT_PRED8x8</a> : (vp7 ? <a class="code" href="h264pred_8h.html#af5efe46e43d436cb7fb8621bf5eb7baf">DC_128_PRED8x8</a> : <a class="code" href="h264pred_8h.html#a6b62b86789ab57bc12383545cffc2a32">DC_129_PRED8x8</a>);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="keywordflow">return</span> mb_y ? <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> : <a class="code" href="h264pred_8h.html#a57f7f8e777743aadc79c36f2db11f6fe">HOR_PRED8x8</a>;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;}</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01608"></a><span class="lineno"><a class="line" href="vp8_8c.html#aab17bd5cd25c4b13c5c19646047e3af2"> 1608</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#aab17bd5cd25c4b13c5c19646047e3af2">check_intra_pred8x8_mode_emuedge</a>(<span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> vp7)</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;{</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>) {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="h264pred_8h.html#aa4aaa913ae62b8eec6beabbcf896c70d">DC_PRED8x8</a>:</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a4d3e8cee826fd2cc4398b0c47aaf3597">check_dc_pred8x8_mode</a>(<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, mb_x, mb_y);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="h264pred_8h.html#a64bb3aa91a1f8c47740b3ffb362dd036">VERT_PRED8x8</a>:</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <span class="keywordflow">return</span> !mb_y ? (vp7 ? <a class="code" href="h264pred_8h.html#af5efe46e43d436cb7fb8621bf5eb7baf">DC_128_PRED8x8</a> : <a class="code" href="h264pred_8h.html#a6148274c8784365775bfd8d751c8aa3a">DC_127_PRED8x8</a>) : <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="h264pred_8h.html#a57f7f8e777743aadc79c36f2db11f6fe">HOR_PRED8x8</a>:</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <span class="keywordflow">return</span> !mb_x ? (vp7 ? <a class="code" href="h264pred_8h.html#af5efe46e43d436cb7fb8621bf5eb7baf">DC_128_PRED8x8</a> : <a class="code" href="h264pred_8h.html#a6b62b86789ab57bc12383545cffc2a32">DC_129_PRED8x8</a>) : <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="h264pred_8h.html#aeeb95e1dee8db8d80df9dacc07d0a84c">PLANE_PRED8x8</a>: <span class="comment">/* TM */</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a9b82839b1b2d576e29e9ba22dd094a46">check_tm_pred8x8_mode</a>(<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, mb_x, mb_y, vp7);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;}</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160; </div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01624"></a><span class="lineno"><a class="line" href="vp8_8c.html#aa7052320334b59fb2a0772dfa1c26698"> 1624</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#aa7052320334b59fb2a0772dfa1c26698">check_tm_pred4x4_mode</a>(<span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> vp7)</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;{</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">if</span> (!mb_x) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="keywordflow">return</span> mb_y ? <a class="code" href="h264pred_8h.html#a2966416165c7ff5d0868ac180755da51">VERT_VP8_PRED</a> : (vp7 ? <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca771574e39134daab118369aabdcdf767">DC_128_PRED</a> : <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecae75e941928a27c27ec75b2fd502b3c48">DC_129_PRED</a>);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <span class="keywordflow">return</span> mb_y ? <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> : <a class="code" href="h264pred_8h.html#a24c0b99a037b35ad99cc17beca99ae26">HOR_VP8_PRED</a>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;}</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01634"></a><span class="lineno"><a class="line" href="vp8_8c.html#a44c556ad20dc8aa4c4eee3c0124b1746"> 1634</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a44c556ad20dc8aa4c4eee3c0124b1746">check_intra_pred4x4_mode_emuedge</a>(<span class="keywordtype">int</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y,</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                                     <span class="keywordtype">int</span> *copy_buf, <span class="keywordtype">int</span> vp7)</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;{</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca7ba9a3d80ed4c0514a825afd4cbf9d8e">VERT_PRED</a>:</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="keywordflow">if</span> (!mb_x &amp;&amp; mb_y) {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            *copy_buf = 1;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <span class="comment">/* fall-through */</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca58d49f2441b6434f266f6927ce1c420b">DIAG_DOWN_LEFT_PRED</a>:</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca13d0dce96d24944d45b7b8b37fa237e2">VERT_LEFT_PRED</a>:</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keywordflow">return</span> !mb_y ? (vp7 ? <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca771574e39134daab118369aabdcdf767">DC_128_PRED</a> : <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca390ba2c40204f8889092e2f7b325a7ef">DC_127_PRED</a>) : <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecaca53c32a372459fc6c74a36f66e454a2">HOR_PRED</a>:</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <span class="keywordflow">if</span> (!mb_y) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            *copy_buf = 1;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <span class="comment">/* fall-through */</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca2ef6e147229d049339a3b6d80c3d72b9">HOR_UP_PRED</a>:</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <span class="keywordflow">return</span> !mb_x ? (vp7 ? <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca771574e39134daab118369aabdcdf767">DC_128_PRED</a> : <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecae75e941928a27c27ec75b2fd502b3c48">DC_129_PRED</a>) : <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca3dfc65d3345dc7b54337aa05885ebbbc">TM_VP8_PRED</a>:</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#aa7052320334b59fb2a0772dfa1c26698">check_tm_pred4x4_mode</a>(<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, mb_x, mb_y, vp7);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecaee86abbe5868eaea023a934f0ce73882">DC_PRED</a>: <span class="comment">/* 4x4 DC doesn&#39;t use the same &quot;H.264-style&quot; exceptions</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">                   * as 16x16/8x8 DC */</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca5f322cfece0841e1a553ba5f5ccfb3e4">DIAG_DOWN_RIGHT_PRED</a>:</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca03a6514a01b1b71013465d825ff3dacf">VERT_RIGHT_PRED</a>:</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecabaf22a735ce5367d66dd63f905db8d3f">HOR_DOWN_PRED</a>:</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="keywordflow">if</span> (!mb_y || !mb_x)</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            *copy_buf = 1;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;}</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160; </div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01670"></a><span class="lineno"><a class="line" href="vp8_8c.html#a146ce9644475c2a3dc35ad2074d6f3f9"> 1670</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a146ce9644475c2a3dc35ad2074d6f3f9">intra_predict</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst[3],</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                   <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;{</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordtype">int</span> x, y, <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>, nnz;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    uint32_t tr;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="comment">/* for the first row, we need to run xchg_mb_border to init the top edge</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">     * to 127 otherwise, skip it if we aren&#39;t going to deblock */</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="keywordflow">if</span> (mb_y &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;deblock_filter || !mb_y) &amp;&amp; <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;thread_nr == 0)</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <a class="code" href="vp8_8c.html#a6dbc42a737f5b870a503eee50468f508">xchg_mb_border</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border[mb_x + 1], dst[0], dst[1], dst[2],</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                       <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize, mb_x, mb_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width,</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                       <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.simple, 1);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode &lt; <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a>) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> = <a class="code" href="vp8_8c.html#aab17bd5cd25c4b13c5c19646047e3af2">check_intra_pred8x8_mode_emuedge</a>(<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode, mb_x, mb_y, is_vp7);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hpc.pred16x16[<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>](dst[0], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ptr = dst[0];</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *intra4x4 = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;intra4x4_pred_mode_mb;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> lo = is_vp7 ? 128 : 127;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> hi = is_vp7 ? 128 : 129;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> tr_top[4] = { lo, lo, lo, lo };</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="comment">// all blocks on the right edge of the macroblock use bottom edge</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <span class="comment">// the top macroblock for their topright edge</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *tr_right = ptr - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize + 16;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="comment">// if we&#39;re on the right edge of the frame, said edge is extended</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="comment">// from the top macroblock</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <span class="keywordflow">if</span> (mb_y &amp;&amp; mb_x == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width - 1) {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            tr       = tr_right[-1] * 0x01010101<a class="code" href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            tr_right = (<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *) &amp;tr;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;skip)</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            <a class="code" href="intreadwrite_8h.html#a7c3f497db4f11e02df33b15dddbe5fed">AV_ZERO128</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;non_zero_count_cache);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; 4; y++) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *topright = ptr + 4 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="vf__vaguedenoiser_8c.html#a119184041ca9d38a2ef373e1227323f9">copy</a> = 0;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                ptrdiff_t linesize = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst = ptr + 4 * x;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                <a class="code" href="libavutil_2internal_8h.html#ae6bb8a70e3d6334a5331f3ab99b909d0">LOCAL_ALIGNED</a>(4, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>, copy_dst, [5 * 8]);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                <span class="keywordflow">if</span> ((y == 0 || x == 3) &amp;&amp; mb_y == 0) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                    topright = tr_top;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x == 3)</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                    topright = tr_right;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160; </div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> = <a class="code" href="vp8_8c.html#a44c556ad20dc8aa4c4eee3c0124b1746">check_intra_pred4x4_mode_emuedge</a>(intra4x4[x], mb_x + x,</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                                                        mb_y + y, &amp;<a class="code" href="vf__vaguedenoiser_8c.html#a119184041ca9d38a2ef373e1227323f9">copy</a>, is_vp7);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vf__vaguedenoiser_8c.html#a119184041ca9d38a2ef373e1227323f9">copy</a>) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                    dst      = copy_dst + 12;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                    linesize = 8;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                    <span class="keywordflow">if</span> (!(mb_y + y)) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                        copy_dst[3] = lo;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                        <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(copy_dst + 4, lo * 0x01010101U);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                        <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(copy_dst + 4, ptr + 4 * x - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                        <span class="keywordflow">if</span> (!(mb_x + x)) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                            copy_dst[3] = hi;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                            copy_dst[3] = ptr[4 * x - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize - 1];</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                        }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                    }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                    <span class="keywordflow">if</span> (!(mb_x + x)) {</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                        copy_dst[11] =</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                        copy_dst[19] =</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                        copy_dst[27] =</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                        copy_dst[35] = hi;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                        copy_dst[11] = ptr[4 * x                   - 1];</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                        copy_dst[19] = ptr[4 * x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize     - 1];</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                        copy_dst[27] = ptr[4 * x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize * 2 - 1];</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                        copy_dst[35] = ptr[4 * x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize * 3 - 1];</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                    }</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hpc.pred4x4[<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>](dst, topright, linesize);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="vf__vaguedenoiser_8c.html#a119184041ca9d38a2ef373e1227323f9">copy</a>) {</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(ptr + 4 * x,                   copy_dst + 12);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(ptr + 4 * x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize,     copy_dst + 20);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(ptr + 4 * x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize * 2, copy_dst + 28);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                    <a class="code" href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a>(ptr + 4 * x + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize * 3, copy_dst + 36);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                nnz = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;non_zero_count_cache[y][x];</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                <span class="keywordflow">if</span> (nnz) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                    <span class="keywordflow">if</span> (nnz == 1)</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_idct_dc_add(ptr + 4 * x,</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                                                  <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[y][x], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize);</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_idct_add(ptr + 4 * x,</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                                               <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[y][x], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                }</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                topright += 4;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            }</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160; </div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            ptr      += 4 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;            intra4x4 += 4;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    }</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a> = <a class="code" href="vp8_8c.html#aab17bd5cd25c4b13c5c19646047e3af2">check_intra_pred8x8_mode_emuedge</a>(<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;chroma_pred_mode,</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                                            mb_x, mb_y, is_vp7);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hpc.pred8x8[<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>](dst[1], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hpc.pred8x8[<a class="code" href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>](dst[2], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160; </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordflow">if</span> (mb_y &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;deblock_filter || !mb_y) &amp;&amp; <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;thread_nr == 0)</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <a class="code" href="vp8_8c.html#a6dbc42a737f5b870a503eee50468f508">xchg_mb_border</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border[mb_x + 1], dst[0], dst[1], dst[2],</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                       <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize, mb_x, mb_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width,</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                       <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.simple, 0);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;}</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"><a class="line" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795"> 1784</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[3][8] = {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    { 0, 1, 2, 1, 2, 1, 2, 1 }, <span class="comment">// nr. of left extra pixels,</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                                <span class="comment">// also function pointer index</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    { 0, 3, 5, 3, 5, 3, 5, 3 }, <span class="comment">// nr. of extra pixels required</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    { 0, 2, 3, 2, 3, 2, 3, 2 }, <span class="comment">// nr. of right extra pixels</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;};</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01808"></a><span class="lineno"><a class="line" href="vp8_8c.html#ad35cadd8c6629d1b3a8a63531fb53bf0"> 1808</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ad35cadd8c6629d1b3a8a63531fb53bf0">vp8_mc_luma</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst,</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                 <a class="code" href="struct_thread_frame.html">ThreadFrame</a> *<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, <span class="keyword">const</span> <a class="code" href="struct_v_p56mv.html">VP56mv</a> *<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>,</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                 <span class="keywordtype">int</span> x_off, <span class="keywordtype">int</span> y_off, <span class="keywordtype">int</span> block_w, <span class="keywordtype">int</span> block_h,</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                 <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, ptrdiff_t linesize,</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                 <a class="code" href="vp8dsp_8h.html#aca34b8b939810ae98874301f86bd5330">vp8_mc_func</a> mc_func[3][3])</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;{</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>-&gt;f-&gt;data[0];</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>)) {</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        ptrdiff_t src_linesize = linesize;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160; </div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <span class="keywordtype">int</span> mx = (<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>-&gt;x * 2) &amp; 7, mx_idx = <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[0][mx];</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="keywordtype">int</span> my = (<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>-&gt;y * 2) &amp; 7, my_idx = <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[0][my];</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        x_off += <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>-&gt;x &gt;&gt; 2;</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        y_off += <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>-&gt;y &gt;&gt; 2;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="comment">// edge emulation</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <a class="code" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a>(<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, (3 + y_off + block_h + <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[2][my]) &gt;&gt; 4, 0);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> += y_off * linesize + x_off;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <span class="keywordflow">if</span> (x_off &lt; mx_idx || x_off &gt;= <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  - block_w - <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[2][mx] ||</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            y_off &lt; my_idx || y_off &gt;= <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> - block_h - <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[2][my]) {</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vdsp.emulated_edge_mc(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;edge_emu_buffer,</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                                     <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> - my_idx * linesize - mx_idx,</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                                     <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a>, linesize,</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                                     block_w + <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[1][mx],</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                                     block_h + <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[1][my],</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                                     x_off - mx_idx, y_off - my_idx,</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                                     <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;edge_emu_buffer + mx_idx + <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a> * my_idx;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            src_linesize = <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        }</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        mc_func[my_idx][mx_idx](dst, linesize, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>, src_linesize, block_h, mx, my);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <a class="code" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a>(<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, (3 + y_off + block_h) &gt;&gt; 4, 0);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        mc_func[0][0](dst, linesize, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> + y_off * linesize + x_off,</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                      linesize, block_h, 0, 0);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    }</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;}</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01866"></a><span class="lineno"><a class="line" href="vp8_8c.html#aa3b38921ec23b90789c5c9251b64eb66"> 1866</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#aa3b38921ec23b90789c5c9251b64eb66">vp8_mc_chroma</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst1,</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                   <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst2, <a class="code" href="struct_thread_frame.html">ThreadFrame</a> *<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, <span class="keyword">const</span> <a class="code" href="struct_v_p56mv.html">VP56mv</a> *<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>,</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                   <span class="keywordtype">int</span> x_off, <span class="keywordtype">int</span> y_off, <span class="keywordtype">int</span> block_w, <span class="keywordtype">int</span> block_h,</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                   <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, ptrdiff_t linesize,</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                   <a class="code" href="vp8dsp_8h.html#aca34b8b939810ae98874301f86bd5330">vp8_mc_func</a> mc_func[3][3])</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;{</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a> = <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>-&gt;f-&gt;data[1], *src2 = <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>-&gt;f-&gt;data[2];</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a>(<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>)) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <span class="keywordtype">int</span> mx = <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>-&gt;x &amp; 7, mx_idx = <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[0][mx];</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        <span class="keywordtype">int</span> my = <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>-&gt;y &amp; 7, my_idx = <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[0][my];</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160; </div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        x_off += <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>-&gt;x &gt;&gt; 3;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        y_off += <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>-&gt;y &gt;&gt; 3;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160; </div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <span class="comment">// edge emulation</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a> += y_off * linesize + x_off;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        src2 += y_off * linesize + x_off;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        <a class="code" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a>(<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, (3 + y_off + block_h + <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[2][my]) &gt;&gt; 3, 0);</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        <span class="keywordflow">if</span> (x_off &lt; mx_idx || x_off &gt;= <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  - block_w - <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[2][mx] ||</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            y_off &lt; my_idx || y_off &gt;= <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> - block_h - <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[2][my]) {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vdsp.emulated_edge_mc(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;edge_emu_buffer,</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                                     <a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a> - my_idx * linesize - mx_idx,</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                                     <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a>, linesize,</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                     block_w + <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[1][mx],</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                                     block_h + <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[1][my],</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                                     x_off - mx_idx, y_off - my_idx, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            <a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a> = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;edge_emu_buffer + mx_idx + <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a> * my_idx;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            mc_func[my_idx][mx_idx](dst1, linesize, <a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a>, <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a>, block_h, mx, my);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; </div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vdsp.emulated_edge_mc(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;edge_emu_buffer,</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                                     src2 - my_idx * linesize - mx_idx,</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                                     <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a>, linesize,</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                                     block_w + <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[1][mx],</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                                     block_h + <a class="code" href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a>[1][my],</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                                     x_off - mx_idx, y_off - my_idx, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>);</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            src2 = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;edge_emu_buffer + mx_idx + <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a> * my_idx;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            mc_func[my_idx][mx_idx](dst2, linesize, src2, <a class="code" href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a>, block_h, mx, my);</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            mc_func[my_idx][mx_idx](dst1, linesize, <a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a>, linesize, block_h, mx, my);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;            mc_func[my_idx][mx_idx](dst2, linesize, src2, linesize, block_h, mx, my);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        }</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <a class="code" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a>(<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, (3 + y_off + block_h) &gt;&gt; 3, 0);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        mc_func[0][0](dst1, linesize, <a class="code" href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a> + y_off * linesize + x_off, linesize, block_h, 0, 0);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        mc_func[0][0](dst2, linesize, src2 + y_off * linesize + x_off, linesize, block_h, 0, 0);</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;}</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160; </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01916"></a><span class="lineno"><a class="line" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1"> 1916</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst[3],</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                 <a class="code" href="struct_thread_frame.html">ThreadFrame</a> *ref_frame, <span class="keywordtype">int</span> x_off, <span class="keywordtype">int</span> y_off,</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                 <span class="keywordtype">int</span> bx_off, <span class="keywordtype">int</span> by_off, <span class="keywordtype">int</span> block_w, <span class="keywordtype">int</span> block_h,</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                 <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="struct_v_p56mv.html">VP56mv</a> *<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>)</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;{</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <a class="code" href="struct_v_p56mv.html">VP56mv</a> uvmv = *<a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="comment">/* Y */</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <a class="code" href="vp8_8c.html#ad35cadd8c6629d1b3a8a63531fb53bf0">vp8_mc_luma</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst[0] + by_off * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize + bx_off,</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                ref_frame, <a class="code" href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a>, x_off + bx_off, y_off + by_off,</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;                block_w, block_h, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize,</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab[block_w == 8]);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160; </div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="comment">/* U/V */</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile == 3) {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        <span class="comment">/* this block only applies VP8; it is safe to check</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment">         * only the profile, as VP7 profile &lt;= 1 */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        uvmv.x &amp;= ~7;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        uvmv.<a class="code" href="struct_v_p56mv.html#a6f4a476e711d63f22055efdc59220571">y</a> &amp;= ~7;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    x_off   &gt;&gt;= 1;</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    y_off   &gt;&gt;= 1;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    bx_off  &gt;&gt;= 1;</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    by_off  &gt;&gt;= 1;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>   &gt;&gt;= 1;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>  &gt;&gt;= 1;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    block_w &gt;&gt;= 1;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    block_h &gt;&gt;= 1;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <a class="code" href="vp8_8c.html#aa3b38921ec23b90789c5c9251b64eb66">vp8_mc_chroma</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst[1] + by_off * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize + bx_off,</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                  dst[2] + by_off * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize + bx_off, ref_frame,</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                  &amp;uvmv, x_off + bx_off, y_off + by_off,</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                  block_w, block_h, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize,</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                  <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab[1 + (block_w == 4)]);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;}</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160; </div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="comment">/* Fetch pixels for estimated mv 4 macroblocks ahead.</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="comment"> * Optimized for 64-byte cache lines. Inspired by ffh264 prefetch_motion. */</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="vp8_8c.html#a6135c3e61c6b999f61ee49e22166d9a9"> 1954</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a6135c3e61c6b999f61ee49e22166d9a9">prefetch_motion</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y,</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                     <span class="keywordtype">int</span> mb_xy, <span class="keywordtype">int</span> <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>)</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;{</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="comment">/* Don&#39;t prefetch refs that haven&#39;t been used very often this frame. */</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ref_count[<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> - 1] &gt; (mb_xy &gt;&gt; 5)) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        <span class="keywordtype">int</span> x_off = mb_x &lt;&lt; 4, y_off = mb_y &lt;&lt; 4;</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        <span class="keywordtype">int</span> mx = (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv.x &gt;&gt; 2) + x_off + 8;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        <span class="keywordtype">int</span> my = (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv.y &gt;&gt; 2) + y_off;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> **<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>]-&gt;tf.f-&gt;data;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        <span class="keywordtype">int</span> off = mx + (my + (mb_x &amp; 3) * 4) * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize + 64;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="comment">/* For threading, a ff_thread_await_progress here might be useful, but</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="comment">         * it actually slows down the decoder. Since a bad prefetch doesn&#39;t</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="comment">         * generate bad decoder output, we don&#39;t run it here. */</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vdsp.prefetch(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[0] + off, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize, 4);</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        off = (mx &gt;&gt; 1) + ((my &gt;&gt; 1) + (mb_x &amp; 7)) * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize + 64;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vdsp.prefetch(<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[1] + off, <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[2] - <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>[1], 2);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    }</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; </div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l01977"></a><span class="lineno"><a class="line" href="vp8_8c.html#a7268c9ac605d247d6a0955d0328368be"> 1977</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a7268c9ac605d247d6a0955d0328368be">inter_predict</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst[3],</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                   <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y)</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;{</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordtype">int</span> x_off = mb_x &lt;&lt; 4, y_off = mb_y &lt;&lt; 4;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a> = 16 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> = 16 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <a class="code" href="struct_thread_frame.html">ThreadFrame</a> *<a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame]-&gt;tf;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <a class="code" href="struct_v_p56mv.html">VP56mv</a> *bmv = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;partitioning) {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231ab73a2589ebb0e60166d0bbd22315f906">VP8_SPLITMVMODE_NONE</a>:</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                    0, 0, 16, 16, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mv);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a6389067963899faa06bd87f9e99a281f">VP8_SPLITMVMODE_4x4</a>: {</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        <a class="code" href="struct_v_p56mv.html">VP56mv</a> uvmv;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160; </div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        <span class="comment">/* Y */</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; 4; y++) {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                <a class="code" href="vp8_8c.html#ad35cadd8c6629d1b3a8a63531fb53bf0">vp8_mc_luma</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst[0] + 4 * y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize + x * 4,</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                            <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, &amp;bmv[4 * y + x],</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                            4 * x + x_off, 4 * y + y_off, 4, 4,</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                            <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize,</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab[2]);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;            }</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160; </div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="comment">/* U/V */</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        x_off  &gt;&gt;= 1;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        y_off  &gt;&gt;= 1;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>  &gt;&gt;= 1;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &gt;&gt;= 1;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; 2; y++) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;            <span class="keywordflow">for</span> (x = 0; x &lt; 2; x++) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                uvmv.x = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[2 * y       * 4 + 2 * x    ].x +</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                         <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[2 * y       * 4 + 2 * x + 1].x +</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                         <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[(2 * y + 1) * 4 + 2 * x    ].x +</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;                         <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[(2 * y + 1) * 4 + 2 * x + 1].x;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                uvmv.<a class="code" href="struct_v_p56mv.html#a6f4a476e711d63f22055efdc59220571">y</a> = <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[2 * y       * 4 + 2 * x    ].y +</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                         <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[2 * y       * 4 + 2 * x + 1].y +</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                         <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[(2 * y + 1) * 4 + 2 * x    ].y +</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                         <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;bmv[(2 * y + 1) * 4 + 2 * x + 1].y;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                uvmv.x = (uvmv.x + 2 + <a class="code" href="libavcodec_2internal_8h.html#ac45708cccbd990e5f2f57021cc6b18c3">FF_SIGNBIT</a>(uvmv.x)) &gt;&gt; 2;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                uvmv.<a class="code" href="struct_v_p56mv.html#a6f4a476e711d63f22055efdc59220571">y</a> = (uvmv.<a class="code" href="struct_v_p56mv.html#a6f4a476e711d63f22055efdc59220571">y</a> + 2 + <a class="code" href="libavcodec_2internal_8h.html#ac45708cccbd990e5f2f57021cc6b18c3">FF_SIGNBIT</a>(uvmv.<a class="code" href="struct_v_p56mv.html#a6f4a476e711d63f22055efdc59220571">y</a>)) &gt;&gt; 2;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;profile == 3) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                    uvmv.x &amp;= ~7;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                    uvmv.<a class="code" href="struct_v_p56mv.html#a6f4a476e711d63f22055efdc59220571">y</a> &amp;= ~7;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                <a class="code" href="vp8_8c.html#aa3b38921ec23b90789c5c9251b64eb66">vp8_mc_chroma</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst[1] + 4 * y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize + x * 4,</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                              dst[2] + 4 * y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize + x * 4, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>,</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                              &amp;uvmv, 4 * x + x_off, 4 * y + y_off, 4, 4,</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                              <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize,</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                              <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;put_pixels_tab[2]);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;            }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;        }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a6a82e48e87a5d0e20e3c86f9719ce37d">VP8_SPLITMVMODE_16x8</a>:</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                    0, 0, 16, 8, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;bmv[0]);</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                    0, 8, 16, 8, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;bmv[1]);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231abdf75a48fca9a8c72a4093af3a7f5281">VP8_SPLITMVMODE_8x16</a>:</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                    0, 0, 8, 16, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;bmv[0]);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                    8, 0, 8, 16, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;bmv[1]);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a5d28e03751b16cbc97793b6f589ddc8a">VP8_SPLITMVMODE_8x8</a>:</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                    0, 0, 8, 8, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;bmv[0]);</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                    8, 0, 8, 8, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;bmv[1]);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;                    0, 8, 8, 8, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;bmv[2]);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <a class="code" href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a>, x_off, y_off,</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                    8, 8, 8, 8, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;bmv[3]);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;}</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160; </div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l02061"></a><span class="lineno"><a class="line" href="vp8_8c.html#a12d6390cc0e06d3e1adebd06777654dd"> 2061</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a12d6390cc0e06d3e1adebd06777654dd">idct_mb</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst[3], <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>)</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;{</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <span class="keywordtype">int</span> x, y, ch;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode != <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a>) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *y_dst = dst[0];</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <span class="keywordflow">for</span> (y = 0; y &lt; 4; y++) {</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            uint32_t nnz4 = <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;non_zero_count_cache[y]);</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <span class="keywordflow">if</span> (nnz4) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                <span class="keywordflow">if</span> (nnz4 &amp; ~0x01010101) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                    <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                        <span class="keywordflow">if</span> ((<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>) nnz4 == 1)</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_idct_dc_add(y_dst + 4 * x,</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                                                      <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[y][x],</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                                                      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>) nnz4 &gt; 1)</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_idct_add(y_dst + 4 * x,</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                                                   <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[y][x],</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                                                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                        nnz4 &gt;&gt;= 8;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                        <span class="keywordflow">if</span> (!nnz4)</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                    }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_idct_dc_add4y(y_dst, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[y], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize);</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                }</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            }</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;            y_dst += 4 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        }</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160; </div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="keywordflow">for</span> (ch = 0; ch &lt; 2; ch++) {</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        uint32_t nnz4 = <a class="code" href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;non_zero_count_cache[4 + ch]);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        <span class="keywordflow">if</span> (nnz4) {</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *ch_dst = dst[1 + ch];</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;            <span class="keywordflow">if</span> (nnz4 &amp; ~0x01010101) {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                <span class="keywordflow">for</span> (y = 0; y &lt; 2; y++) {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                    <span class="keywordflow">for</span> (x = 0; x &lt; 2; x++) {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                        <span class="keywordflow">if</span> ((<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>) nnz4 == 1)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_idct_dc_add(ch_dst + 4 * x,</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                                                      <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[4 + ch][(y &lt;&lt; 1) + x],</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                                                      <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>) nnz4 &gt; 1)</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_idct_add(ch_dst + 4 * x,</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;                                                   <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[4 + ch][(y &lt;&lt; 1) + x],</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;                                                   <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;                        nnz4 &gt;&gt;= 8;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                        <span class="keywordflow">if</span> (!nnz4)</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                            <span class="keywordflow">goto</span> chroma_idct_end;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;                    }</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                    ch_dst += 4 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                }</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_idct_dc_add4uv(ch_dst, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;block[4 + ch], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            }</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        }</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;chroma_idct_end:</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        ;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    }</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;}</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l02123"></a><span class="lineno"><a class="line" href="vp8_8c.html#a1013faa00d490063c4f9005bad511b37"> 2123</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a1013faa00d490063c4f9005bad511b37">filter_level_for_mb</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>,</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                         <a class="code" href="struct_v_p8_filter_strength.html">VP8FilterStrength</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;{</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    <span class="keywordtype">int</span> interior_limit, filter_level;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.enabled) {</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        filter_level = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.filter_level[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;segment];</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.absolute_vals)</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;            filter_level += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.level;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        filter_level = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.level;</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.enabled) {</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;        filter_level += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.ref[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;ref_frame];</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        filter_level += <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta.mode[<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode];</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    filter_level = av_clip_uintp2(filter_level, 6);</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160; </div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    interior_limit = filter_level;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.sharpness) {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        interior_limit &gt;&gt;= (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.sharpness + 3) &gt;&gt; 2;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        interior_limit = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(interior_limit, 9 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.sharpness);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    }</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    interior_limit = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(interior_limit, 1);</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;filter_level = filter_level;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;inner_limit = interior_limit;</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;inner_filter = is_vp7 || !<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;skip || <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode == <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a> ||</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                      <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode == <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>;</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;}</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160; </div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l02156"></a><span class="lineno"><a class="line" href="vp8_8c.html#aa91af00563089982493df49e46a5ee00"> 2156</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#aa91af00563089982493df49e46a5ee00">filter_mb</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst[3], <a class="code" href="struct_v_p8_filter_strength.html">VP8FilterStrength</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>,</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;               <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;{</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordtype">int</span> mbedge_lim, bedge_lim_y, bedge_lim_uv, hev_thresh;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <span class="keywordtype">int</span> filter_level = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;filter_level;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordtype">int</span> inner_limit = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;inner_limit;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="keywordtype">int</span> inner_filter = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;inner_filter;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    ptrdiff_t linesize   = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    ptrdiff_t uvlinesize = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> hev_thresh_lut[2][64] = {</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;          2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;          3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;          3, 3, 3, 3 },</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1,</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;          1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;          2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;          2, 2, 2, 2 }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    };</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160; </div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordflow">if</span> (!filter_level)</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160; </div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <span class="keywordflow">if</span> (is_vp7) {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        bedge_lim_y  = filter_level;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        bedge_lim_uv = filter_level * 2;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        mbedge_lim   = filter_level + 2;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        bedge_lim_y  =</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        bedge_lim_uv = filter_level * 2 + inner_limit;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;        mbedge_lim   = bedge_lim_y + 4;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    }</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    hev_thresh = hev_thresh_lut[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe][filter_level];</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160; </div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="keywordflow">if</span> (mb_x) {</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_h_loop_filter16y(dst[0], linesize,</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                                       mbedge_lim, inner_limit, hev_thresh);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_h_loop_filter8uv(dst[1], dst[2], uvlinesize,</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                                       mbedge_lim, inner_limit, hev_thresh);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    }</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160; </div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;<span class="preprocessor">#define H_LOOP_FILTER_16Y_INNER(cond)                                         \</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;<span class="preprocessor">    if (cond &amp;&amp; inner_filter) {                                               \</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;<span class="preprocessor">        s-&gt;vp8dsp.vp8_h_loop_filter16y_inner(dst[0] +  4, linesize,           \</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;<span class="preprocessor">                                             bedge_lim_y, inner_limit,        \</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<span class="preprocessor">                                             hev_thresh);                     \</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;<span class="preprocessor">        s-&gt;vp8dsp.vp8_h_loop_filter16y_inner(dst[0] +  8, linesize,           \</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="preprocessor">                                             bedge_lim_y, inner_limit,        \</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="preprocessor">                                             hev_thresh);                     \</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="preprocessor">        s-&gt;vp8dsp.vp8_h_loop_filter16y_inner(dst[0] + 12, linesize,           \</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="preprocessor">                                             bedge_lim_y, inner_limit,        \</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="preprocessor">                                             hev_thresh);                     \</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="preprocessor">        s-&gt;vp8dsp.vp8_h_loop_filter8uv_inner(dst[1] +  4, dst[2] + 4,         \</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="preprocessor">                                             uvlinesize,  bedge_lim_uv,       \</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="preprocessor">                                             inner_limit, hev_thresh);        \</span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160; </div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <a class="code" href="vp8_8c.html#a0741e57a53b5efc12adb2d6032775a6c">H_LOOP_FILTER_16Y_INNER</a>(!is_vp7)</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160; </div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keywordflow">if</span> (mb_y) {</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter16y(dst[0], linesize,</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                                       mbedge_lim, inner_limit, hev_thresh);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter8uv(dst[1], dst[2], uvlinesize,</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                                       mbedge_lim, inner_limit, hev_thresh);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160; </div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordflow">if</span> (inner_filter) {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter16y_inner(dst[0] +  4 * linesize,</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                                             linesize, bedge_lim_y,</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                                             inner_limit, hev_thresh);</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter16y_inner(dst[0] +  8 * linesize,</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                                             linesize, bedge_lim_y,</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                                             inner_limit, hev_thresh);</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter16y_inner(dst[0] + 12 * linesize,</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                                             linesize, bedge_lim_y,</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                                             inner_limit, hev_thresh);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter8uv_inner(dst[1] +  4 * uvlinesize,</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                                             dst[2] +  4 * uvlinesize,</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;                                             uvlinesize, bedge_lim_uv,</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                                             inner_limit, hev_thresh);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    }</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160; </div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <a class="code" href="vp8_8c.html#a0741e57a53b5efc12adb2d6032775a6c">H_LOOP_FILTER_16Y_INNER</a>(is_vp7)</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;}</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160; </div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l02243"></a><span class="lineno"><a class="line" href="vp8_8c.html#a49d7ed64941fb72b43a02c438c4cc8e2"> 2243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a49d7ed64941fb72b43a02c438c4cc8e2">filter_mb_simple</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst, <a class="code" href="struct_v_p8_filter_strength.html">VP8FilterStrength</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>,</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;                      <span class="keywordtype">int</span> mb_x, <span class="keywordtype">int</span> mb_y)</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;{</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    <span class="keywordtype">int</span> mbedge_lim, bedge_lim;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="keywordtype">int</span> filter_level = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;filter_level;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="keywordtype">int</span> inner_limit  = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;inner_limit;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="keywordtype">int</span> inner_filter = <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>-&gt;inner_filter;</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    ptrdiff_t linesize = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160; </div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="keywordflow">if</span> (!filter_level)</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; </div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    bedge_lim  = 2 * filter_level + inner_limit;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    mbedge_lim = bedge_lim + 4;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160; </div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <span class="keywordflow">if</span> (mb_x)</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_h_loop_filter_simple(dst, linesize, mbedge_lim);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="keywordflow">if</span> (inner_filter) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_h_loop_filter_simple(dst +  4, linesize, bedge_lim);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_h_loop_filter_simple(dst +  8, linesize, bedge_lim);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_h_loop_filter_simple(dst + 12, linesize, bedge_lim);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    }</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160; </div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keywordflow">if</span> (mb_y)</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter_simple(dst, linesize, mbedge_lim);</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordflow">if</span> (inner_filter) {</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter_simple(dst +  4 * linesize, linesize, bedge_lim);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter_simple(dst +  8 * linesize, linesize, bedge_lim);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp.vp8_v_loop_filter_simple(dst + 12 * linesize, linesize, bedge_lim);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;}</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"><a class="line" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87"> 2275</a></span>&#160;<span class="preprocessor">#define MARGIN (16 &lt;&lt; 2)</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l02277"></a><span class="lineno"><a class="line" href="vp8_8c.html#a4c6868765383d5f74d88175fb361aba5"> 2277</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a4c6868765383d5f74d88175fb361aba5">vp78_decode_mv_mb_modes</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *curframe,</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;                                    <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *prev_frame, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;{</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordtype">int</span> mb_x, mb_y;</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_min.y = -<a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a>;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_max.y = ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - 1) &lt;&lt; 6) + <a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a>;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">for</span> (mb_y = 0; mb_y &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height; mb_y++) {</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base +</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                            ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1) * (mb_y + 1) + 1);</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <span class="keywordtype">int</span> mb_xy = mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160; </div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_left, <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecaee86abbe5868eaea023a934f0ce73882">DC_PRED</a> * 0x01010101);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_min.x = -<a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_max.x = ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width - 1) &lt;&lt; 6) + <a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a>;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160; </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#ab350db90ce129deb258d937f976b7524">vpX_rac_is_end</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;c)) {</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        }</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="keywordflow">for</span> (mb_x = 0; mb_x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width; mb_x++, mb_xy++, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>++) {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;            <span class="keywordflow">if</span> (mb_y == 0)</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>((<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width - 1)-&gt;intra4x4_pred_mode_top,</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;                         <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecaee86abbe5868eaea023a934f0ce73882">DC_PRED</a> * 0x01010101);</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;            <a class="code" href="vp8_8c.html#aaa422cb1d2d7ef84b31f8cf40490956a">decode_mb_mode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y, curframe-&gt;<a class="code" href="struct_v_p8_frame.html#aa09bd2ea0b2fcba1d3610b5b8cd11709">seg_map</a>-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a> + mb_xy,</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;                           prev_frame &amp;&amp; prev_frame-&gt;<a class="code" href="struct_v_p8_frame.html#aa09bd2ea0b2fcba1d3610b5b8cd11709">seg_map</a> ?</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;                           prev_frame-&gt;<a class="code" href="struct_v_p8_frame.html#aa09bd2ea0b2fcba1d3610b5b8cd11709">seg_map</a>-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a> + mb_xy : <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1, is_vp7);</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_min.x -= 64;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_max.x -= 64;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_min.y -= 64;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_max.y -= 64;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    }</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;}</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160; </div>
<div class="line"><a name="l02314"></a><span class="lineno"><a class="line" href="vp8_8c.html#a8aa2435341ddf68be846bf37e652956b"> 2314</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a8aa2435341ddf68be846bf37e652956b">vp7_decode_mv_mb_modes</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *cur_frame,</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;                                   <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *prev_frame)</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;{</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a4c6868765383d5f74d88175fb361aba5">vp78_decode_mv_mb_modes</a>(avctx, cur_frame, prev_frame, <a class="code" href="vp8dsp_8h.html#aad13e4ab795a0349b52e0ba10ab5e99c">IS_VP7</a>);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;}</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160; </div>
<div class="line"><a name="l02320"></a><span class="lineno"><a class="line" href="vp8_8c.html#a8a1fe28fd6437804b93c524acd9078de"> 2320</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a8a1fe28fd6437804b93c524acd9078de">vp8_decode_mv_mb_modes</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *cur_frame,</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;                                   <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *prev_frame)</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;{</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a4c6868765383d5f74d88175fb361aba5">vp78_decode_mv_mb_modes</a>(avctx, cur_frame, prev_frame, <a class="code" href="vp8dsp_8h.html#a3506c126d1d68fd8245dcc21ee1f324f">IS_VP8</a>);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;}</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="preprocessor">#if HAVE_THREADS</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="preprocessor">#define check_thread_pos(td, otd, mb_x_check, mb_y_check)                     \</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="preprocessor">    do {                                                                      \</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="preprocessor">        int tmp = (mb_y_check &lt;&lt; 16) | (mb_x_check &amp; 0xFFFF);                 \</span></div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="preprocessor">        if (atomic_load(&amp;otd-&gt;thread_mb_pos) &lt; tmp) {                         \</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="preprocessor">            pthread_mutex_lock(&amp;otd-&gt;lock);                                   \</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="preprocessor">            atomic_store(&amp;td-&gt;wait_mb_pos, tmp);                              \</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="preprocessor">            do {                                                              \</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="preprocessor">                if (atomic_load(&amp;otd-&gt;thread_mb_pos) &gt;= tmp)                  \</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="preprocessor">                    break;                                                    \</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="preprocessor">                pthread_cond_wait(&amp;otd-&gt;cond, &amp;otd-&gt;lock);                    \</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="preprocessor">            } while (1);                                                      \</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<span class="preprocessor">            atomic_store(&amp;td-&gt;wait_mb_pos, INT_MAX);                          \</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<span class="preprocessor">            pthread_mutex_unlock(&amp;otd-&gt;lock);                                 \</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="preprocessor">        }                                                                     \</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="preprocessor">    } while (0)</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160; </div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="preprocessor">#define update_pos(td, mb_y, mb_x)                                            \</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="preprocessor">    do {                                                                      \</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="preprocessor">        int pos              = (mb_y &lt;&lt; 16) | (mb_x &amp; 0xFFFF);                \</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="preprocessor">        int sliced_threading = (avctx-&gt;active_thread_type == FF_THREAD_SLICE) &amp;&amp; \</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="preprocessor">                               (num_jobs &gt; 1);                                \</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="preprocessor">        int is_null          = !next_td || !prev_td;                          \</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="preprocessor">        int pos_check        = (is_null) ? 1 :                                \</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;<span class="preprocessor">            (next_td != td &amp;&amp; pos &gt;= atomic_load(&amp;next_td-&gt;wait_mb_pos)) ||   \</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;<span class="preprocessor">            (prev_td != td &amp;&amp; pos &gt;= atomic_load(&amp;prev_td-&gt;wait_mb_pos));     \</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;<span class="preprocessor">        atomic_store(&amp;td-&gt;thread_mb_pos, pos);                                \</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;<span class="preprocessor">        if (sliced_threading &amp;&amp; pos_check) {                                  \</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;<span class="preprocessor">            pthread_mutex_lock(&amp;td-&gt;lock);                                    \</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;<span class="preprocessor">            pthread_cond_broadcast(&amp;td-&gt;cond);                                \</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<span class="preprocessor">            pthread_mutex_unlock(&amp;td-&gt;lock);                                  \</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;<span class="preprocessor">        }                                                                     \</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="preprocessor">    } while (0)</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"><a class="line" href="vp8_8c.html#a7e67457ad61f3803a905c64ff3170e9d"> 2360</a></span>&#160;<span class="preprocessor">#define check_thread_pos(td, otd, mb_x_check, mb_y_check) while(0)</span></div>
<div class="line"><a name="l02361"></a><span class="lineno"><a class="line" href="vp8_8c.html#afc4c84b104f6b051ea98458bd000d9c1"> 2361</a></span>&#160;<span class="preprocessor">#define update_pos(td, mb_y, mb_x) while(0)</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160; </div>
<div class="line"><a name="l02364"></a><span class="lineno"><a class="line" href="vp8_8c.html#affd5b93ae28c94ba10e6eae1d03326e9"> 2364</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#affd5b93ae28c94ba10e6eae1d03326e9">decode_mb_row_no_filter</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata,</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;                                        <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;{</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *prev_td, *next_td, *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[threadnr];</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <span class="keywordtype">int</span> mb_y = <a class="code" href="dummy_2stdatomic_8h.html#acced2a78b2a440317feed51f3e505d1d">atomic_load</a>(&amp;<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;thread_mb_pos) &gt;&gt; 16;</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="keywordtype">int</span> mb_x, mb_xy = mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width;</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="keywordtype">int</span> num_jobs = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_jobs;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *curframe = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curframe, *prev_frame = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="struct_v_p56_range_coder.html">VP56RangeCoder</a> *<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>  = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;coeff_partition[mb_y &amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_coeff_partitions - 1)];</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst[3] = {</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;        curframe-&gt;<a class="code" href="struct_v_p8_frame.html#ae5a3ab34a06c21676e8b7c3fdf25dc66">tf</a>.<a class="code" href="struct_thread_frame.html#a6d4ef36cc340178903e148e89903f1a1">f</a>-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0] + 16 * mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize,</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;        curframe-&gt;<a class="code" href="struct_v_p8_frame.html#ae5a3ab34a06c21676e8b7c3fdf25dc66">tf</a>.<a class="code" href="struct_thread_frame.html#a6d4ef36cc340178903e148e89903f1a1">f</a>-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[1] +  8 * mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize,</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        curframe-&gt;<a class="code" href="struct_v_p8_frame.html#ae5a3ab34a06c21676e8b7c3fdf25dc66">tf</a>.<a class="code" href="struct_thread_frame.html#a6d4ef36cc340178903e148e89903f1a1">f</a>-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[2] +  8 * mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    };</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160; </div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#ab350db90ce129deb258d937f976b7524">vpX_rac_is_end</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160; </div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <span class="keywordflow">if</span> (mb_y == 0)</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;        prev_td = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        prev_td = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[(jobnr + num_jobs - 1) % num_jobs];</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">if</span> (mb_y == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - 1)</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        next_td = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        next_td = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[(jobnr + 1) % num_jobs];</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout == 1)</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base + ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1) * (mb_y + 1) + 1);</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <span class="comment">// Make sure the previous frame has read its segmentation map,</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        <span class="comment">// if we re-use the same map.</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;        <span class="keywordflow">if</span> (prev_frame &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.enabled &amp;&amp;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;            !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_map)</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;            <a class="code" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a>(&amp;prev_frame-&gt;tf, mb_y, 0);</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks + (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - mb_y - 1) * 2;</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;        memset(<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> - 1, 0, <span class="keyword">sizeof</span>(*<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>)); <span class="comment">// zero left macroblock</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;        <a class="code" href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_left, <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecaee86abbe5868eaea023a934f0ce73882">DC_PRED</a> * 0x01010101);</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    }</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160; </div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">if</span> (!is_vp7 || mb_y == 0)</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        memset(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;left_nnz, 0, <span class="keyword">sizeof</span>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;left_nnz));</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160; </div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds.mv_min.x = -<a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a>;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds.mv_max.x = ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width - 1) &lt;&lt; 6) + <a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a>;</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160; </div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    <span class="keywordflow">for</span> (mb_x = 0; mb_x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width; mb_x++, mb_xy++, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>++) {</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vp56_8h.html#ab350db90ce129deb258d937f976b7524">vpX_rac_is_end</a>(<a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>))</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;        <span class="comment">// Wait for previous thread to read mb_x+2, and reach mb_y-1.</span></div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        <span class="keywordflow">if</span> (prev_td != <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>) {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;            <span class="keywordflow">if</span> (threadnr != 0) {</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                <a class="code" href="vp8_8c.html#a7e67457ad61f3803a905c64ff3170e9d">check_thread_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, prev_td,</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                                 mb_x + (is_vp7 ? 2 : 1),</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;                                 mb_y - (is_vp7 ? 2 : 1));</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                <a class="code" href="vp8_8c.html#a7e67457ad61f3803a905c64ff3170e9d">check_thread_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, prev_td,</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                                 mb_x + (is_vp7 ? 2 : 1) + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 3,</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                                 mb_y - (is_vp7 ? 2 : 1));</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;            }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        }</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160; </div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vdsp.prefetch(dst[0] + (mb_x &amp; 3) * 4 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize + 64,</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                         <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize, 4);</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vdsp.prefetch(dst[1] + (mb_x &amp; 7) * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize + 64,</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                         dst[2] - dst[1], 2);</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160; </div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout)</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;            <a class="code" href="vp8_8c.html#aaa422cb1d2d7ef84b31f8cf40490956a">decode_mb_mode</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y, curframe-&gt;<a class="code" href="struct_v_p8_frame.html#aa09bd2ea0b2fcba1d3610b5b8cd11709">seg_map</a>-&gt;<a class="code" href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">data</a> + mb_xy,</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                           prev_frame &amp;&amp; prev_frame-&gt;seg_map ?</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                           prev_frame-&gt;seg_map-&gt;data + mb_xy : <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, is_vp7);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160; </div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;        <a class="code" href="vp8_8c.html#a6135c3e61c6b999f61ee49e22166d9a9">prefetch_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y, mb_xy, <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>);</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160; </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;skip)</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;            <a class="code" href="vp8_8c.html#ad9cc4f88de0cd0d512126bb64096b4a0">decode_mb_coeffs</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz[mb_x], <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;left_nnz, is_vp7);</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160; </div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode &lt;= <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a>)</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;            <a class="code" href="vp8_8c.html#a146ce9644475c2a3dc35ad2074d6f3f9">intra_predict</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y, is_vp7);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;            <a class="code" href="vp8_8c.html#a7268c9ac605d247d6a0955d0328368be">inter_predict</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y);</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160; </div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        <a class="code" href="vp8_8c.html#a6135c3e61c6b999f61ee49e22166d9a9">prefetch_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y, mb_xy, <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>);</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160; </div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;skip) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;            <a class="code" href="vp8_8c.html#a12d6390cc0e06d3e1adebd06777654dd">idct_mb</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, dst, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>);</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;            <a class="code" href="intreadwrite_8h.html#a485836c035a7aab045094ca27381964b">AV_ZERO64</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;left_nnz);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;            <a class="code" href="intreadwrite_8h.html#aa8cb04659ca903c9933cc41e7d9e62f0">AV_WN64</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz[mb_x], 0);   <span class="comment">// array of 9, so unaligned</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;            <span class="comment">/* Reset DC block predictors if they would exist</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<span class="comment">             * if the mb had coefficients */</span></div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode != <a class="code" href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a> &amp;&amp; <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>-&gt;mode != <a class="code" href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a>) {</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;left_nnz[8]     = 0;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz[mb_x][8] = 0;</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;            }</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160; </div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;deblock_filter)</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;            <a class="code" href="vp8_8c.html#a1013faa00d490063c4f9005bad511b37">filter_level_for_mb</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, &amp;<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;filter_strength[mb_x], is_vp7);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160; </div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;deblock_filter &amp;&amp; num_jobs != 1 &amp;&amp; threadnr == num_jobs - 1) {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.simple)</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;                <a class="code" href="vp8_8c.html#abb2be2528c6f44d54650832bb957b5d5">backup_mb_border</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border[mb_x + 1], dst[0],</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;                                 <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize, 0, 1);</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                <a class="code" href="vp8_8c.html#abb2be2528c6f44d54650832bb957b5d5">backup_mb_border</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border[mb_x + 1], dst[0],</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                                 dst[1], dst[2], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize, 0);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        }</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160; </div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        <a class="code" href="vp8_8c.html#a6135c3e61c6b999f61ee49e22166d9a9">prefetch_motion</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>, mb_x, mb_y, mb_xy, <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a>);</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        dst[0]      += 16;</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;        dst[1]      += 8;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;        dst[2]      += 8;</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds.mv_min.x -= 64;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;        <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds.mv_max.x -= 64;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160; </div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        <span class="keywordflow">if</span> (mb_x == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1) {</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;            <a class="code" href="vp8_8c.html#afc4c84b104f6b051ea98458bd000d9c1">update_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, mb_y, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 3);</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;            <a class="code" href="vp8_8c.html#afc4c84b104f6b051ea98458bd000d9c1">update_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, mb_y, mb_x);</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        }</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    }</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;}</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160; </div>
<div class="line"><a name="l02492"></a><span class="lineno"><a class="line" href="vp8_8c.html#adf6a2c60434618ba89e1737dbe894925"> 2492</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#adf6a2c60434618ba89e1737dbe894925">vp7_decode_mb_row_no_filter</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata,</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;                                        <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;{</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#affd5b93ae28c94ba10e6eae1d03326e9">decode_mb_row_no_filter</a>(avctx, tdata, jobnr, threadnr, 1);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;}</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160; </div>
<div class="line"><a name="l02498"></a><span class="lineno"><a class="line" href="vp8_8c.html#a255b79d173d7412f0cd7ceb667f3acd7"> 2498</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a255b79d173d7412f0cd7ceb667f3acd7">vp8_decode_mb_row_no_filter</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata,</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                                        <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;{</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#affd5b93ae28c94ba10e6eae1d03326e9">decode_mb_row_no_filter</a>(avctx, tdata, jobnr, threadnr, 0);</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;}</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160; </div>
<div class="line"><a name="l02504"></a><span class="lineno"><a class="line" href="vp8_8c.html#a3c929e7f67de59ed6f4c597c14b08170"> 2504</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a3c929e7f67de59ed6f4c597c14b08170">filter_mb_row</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata,</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;                              <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;{</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[threadnr];</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="keywordtype">int</span> mb_x, mb_y = <a class="code" href="dummy_2stdatomic_8h.html#acced2a78b2a440317feed51f3e505d1d">atomic_load</a>(&amp;<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;thread_mb_pos) &gt;&gt; 16, num_jobs = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_jobs;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *curframe = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curframe-&gt;tf.f;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <a class="code" href="struct_v_p8_macroblock.html">VP8Macroblock</a> *<a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *prev_td, *next_td;</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *dst[3] = {</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        curframe-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[0] + 16 * mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize,</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        curframe-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[1] +  8 * mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize,</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        curframe-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[2] +  8 * mb_y * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    };</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160; </div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout == 1)</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base + ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1) * (mb_y + 1) + 1);</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks + (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - mb_y - 1) * 2;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160; </div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordflow">if</span> (mb_y == 0)</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;        prev_td = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;        prev_td = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[(jobnr + num_jobs - 1) % num_jobs];</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    <span class="keywordflow">if</span> (mb_y == <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - 1)</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;        next_td = <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        next_td = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[(jobnr + 1) % num_jobs];</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160; </div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="keywordflow">for</span> (mb_x = 0; mb_x &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width; mb_x++, <a class="code" href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a>++) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        <a class="code" href="struct_v_p8_filter_strength.html">VP8FilterStrength</a> *<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> = &amp;<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;filter_strength[mb_x];</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        <span class="keywordflow">if</span> (prev_td != <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>)</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;            <a class="code" href="vp8_8c.html#a7e67457ad61f3803a905c64ff3170e9d">check_thread_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, prev_td,</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                             (mb_x + 1) + (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 3), mb_y - 1);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;        <span class="keywordflow">if</span> (next_td != <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>)</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;            <span class="keywordflow">if</span> (next_td != &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[0])</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                <a class="code" href="vp8_8c.html#a7e67457ad61f3803a905c64ff3170e9d">check_thread_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, next_td, mb_x + 1, mb_y + 1);</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160; </div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        <span class="keywordflow">if</span> (num_jobs == 1) {</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.simple)</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                <a class="code" href="vp8_8c.html#abb2be2528c6f44d54650832bb957b5d5">backup_mb_border</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border[mb_x + 1], dst[0],</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;                                 <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize, 0, 1);</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;                <a class="code" href="vp8_8c.html#abb2be2528c6f44d54650832bb957b5d5">backup_mb_border</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_border[mb_x + 1], dst[0],</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;                                 dst[1], dst[2], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize, 0);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        }</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160; </div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.simple)</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;            <a class="code" href="vp8_8c.html#a49d7ed64941fb72b43a02c438c4cc8e2">filter_mb_simple</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dst[0], <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, mb_x, mb_y);</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;            <a class="code" href="vp8_8c.html#aa91af00563089982493df49e46a5ee00">filter_mb</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, dst, <a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a>, mb_x, mb_y, is_vp7);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        dst[0] += 16;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        dst[1] += 8;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        dst[2] += 8;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160; </div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        <a class="code" href="vp8_8c.html#afc4c84b104f6b051ea98458bd000d9c1">update_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, mb_y, (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 3) + mb_x);</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;}</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160; </div>
<div class="line"><a name="l02563"></a><span class="lineno"><a class="line" href="vp8_8c.html#a5a91b719ad046ac494b55f393b3fa774"> 2563</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#a5a91b719ad046ac494b55f393b3fa774">vp7_filter_mb_row</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata,</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                              <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;{</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <a class="code" href="vp8_8c.html#a3c929e7f67de59ed6f4c597c14b08170">filter_mb_row</a>(avctx, tdata, jobnr, threadnr, 1);</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;}</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160; </div>
<div class="line"><a name="l02569"></a><span class="lineno"><a class="line" href="vp8_8c.html#ab49f548863a8bcd93908cd17d286712e"> 2569</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vp8_8c.html#ab49f548863a8bcd93908cd17d286712e">vp8_filter_mb_row</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata,</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                              <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;{</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <a class="code" href="vp8_8c.html#a3c929e7f67de59ed6f4c597c14b08170">filter_mb_row</a>(avctx, tdata, jobnr, threadnr, 0);</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;}</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160; </div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l02576"></a><span class="lineno"><a class="line" href="vp8_8c.html#a19aee5dd32dae2ad1b7be6adbf5600ab"> 2576</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a19aee5dd32dae2ad1b7be6adbf5600ab">vp78_decode_mb_row_sliced</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata, <span class="keywordtype">int</span> jobnr,</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                              <span class="keywordtype">int</span> threadnr, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;{</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[jobnr];</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *next_td = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *prev_td = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *curframe = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curframe;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keywordtype">int</span> mb_y, num_jobs = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_jobs;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160; </div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;thread_nr = threadnr;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds.mv_min.y   = -<a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a> - 64 * threadnr;</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds.mv_max.y   = ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - 1) &lt;&lt; 6) + <a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a> - 64 * threadnr;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    <span class="keywordflow">for</span> (mb_y = jobnr; mb_y &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height; mb_y += num_jobs) {</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        <a class="code" href="dummy_2stdatomic_8h.html#a0241b1f231c55cdf092b2d509e8d83df">atomic_store</a>(&amp;<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;thread_mb_pos, mb_y &lt;&lt; 16);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;decode_mb_row_no_filter(avctx, tdata, jobnr, threadnr);</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;            <a class="code" href="vp8_8c.html#afc4c84b104f6b051ea98458bd000d9c1">update_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height, INT_MAX &amp; 0xFFFF);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        }</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;deblock_filter)</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter_mb_row(avctx, tdata, jobnr, threadnr);</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        <a class="code" href="vp8_8c.html#afc4c84b104f6b051ea98458bd000d9c1">update_pos</a>(<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>, mb_y, INT_MAX &amp; 0xFFFF);</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160; </div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds.mv_min.y -= 64 * num_jobs;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        <a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;mv_bounds.mv_max.y -= 64 * num_jobs;</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160; </div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f4579d94675579e1d46a591340f598f">active_thread_type</a> == <a class="code" href="avcodec_8h.html#a116c7fb56ac57ccca3e08b80467b2a40">FF_THREAD_FRAME</a>)</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;            <a class="code" href="pthread__frame_8c.html#a1c689544e66e3dd516af1d6e6f045367">ff_thread_report_progress</a>(&amp;curframe-&gt;<a class="code" href="struct_v_p8_frame.html#ae5a3ab34a06c21676e8b7c3fdf25dc66">tf</a>, mb_y, 0);</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    }</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160; </div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;}</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160; </div>
<div class="line"><a name="l02610"></a><span class="lineno"><a class="line" href="vp8_8c.html#a354da4880ac14c73683893d748ae4eef"> 2610</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a354da4880ac14c73683893d748ae4eef">vp7_decode_mb_row_sliced</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata,</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;                                    <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;{</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a19aee5dd32dae2ad1b7be6adbf5600ab">vp78_decode_mb_row_sliced</a>(avctx, tdata, jobnr, threadnr, <a class="code" href="vp8dsp_8h.html#aad13e4ab795a0349b52e0ba10ab5e99c">IS_VP7</a>);</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;}</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160; </div>
<div class="line"><a name="l02616"></a><span class="lineno"><a class="line" href="vp8_8c.html#a05b75a5e23be9100effa59ca931b8078"> 2616</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a05b75a5e23be9100effa59ca931b8078">vp8_decode_mb_row_sliced</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *tdata,</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;                                    <span class="keywordtype">int</span> jobnr, <span class="keywordtype">int</span> threadnr)</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;{</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a19aee5dd32dae2ad1b7be6adbf5600ab">vp78_decode_mb_row_sliced</a>(avctx, tdata, jobnr, threadnr, <a class="code" href="vp8dsp_8h.html#a3506c126d1d68fd8245dcc21ee1f324f">IS_VP8</a>);</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;}</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l02623"></a><span class="lineno"><a class="line" href="vp8_8c.html#aa4bf4b2ed3e7a441dc49ff8a04967bf5"> 2623</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#aa4bf4b2ed3e7a441dc49ff8a04967bf5">vp78_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> *got_frame,</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;                      <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;{</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, referenced, num_jobs;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="keyword">enum</span> <a class="code" href="group__lavc__decoding.html#ga352363bce7d3ed82c101b3bc001d1c16">AVDiscard</a> skip_thresh;</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <a class="code" href="struct_v_p8_frame.html">VP8Frame</a> *<a class="code" href="attributes_8h.html#a934ff195492486f0f9d22770103e757b">av_uninit</a>(curframe), *prev_frame;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160; </div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keywordflow">if</span> (is_vp7)</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a2f47c932402141468bf24d02fa93b13b">vp7_decode_frame_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a427af93edd3d1af0f737f0cc6fb17525">vp8_decode_frame_header</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160; </div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160; </div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;actually_webp) {</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;        <span class="comment">// avctx-&gt;pix_fmt already set in caller.</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_vp7 &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>) {</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt = <a class="code" href="vp8_8c.html#ad2e558bdf3b1b022ef2dbd392c56ecef">get_pixel_format</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt &lt; 0) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(EINVAL);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;        }</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    }</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160; </div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    prev_frame = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>];</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160; </div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    referenced = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_last || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_golden == <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a> ||</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;                 <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_altref == <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160; </div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    skip_thresh = !referenced ? <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8">AVDISCARD_NONREF</a></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                              : !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe ? <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1">AVDISCARD_NONKEY</a></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;                                             : <a class="code" href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a>;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160; </div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af869b808363998c80adf7df6a944a5a6">skip_frame</a> &gt;= skip_thresh) {</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;invisible = 1;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        memcpy(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[0], &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[0], <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[0]) * 4);</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        <span class="keywordflow">goto</span> skip_decode;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;    }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;deblock_filter = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter.level &amp;&amp; avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6be328131743a97103b89e028e62e771">skip_loop_filter</a> &lt; skip_thresh;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160; </div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    <span class="comment">// release no longer referenced frames</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 5; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].tf.f-&gt;buf[0] &amp;&amp;</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;            &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != prev_frame &amp;&amp;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;            &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>] &amp;&amp;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;            &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>]   &amp;&amp;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;            &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a>])</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;            <a class="code" href="vp8_8c.html#a4162dcc65b3ab0d0fbdb9923306c3057">vp8_release_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160; </div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    curframe = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>] = <a class="code" href="vp8_8c.html#a803f2641e89ebab608b10da69b1056b2">vp8_find_free_buffer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160; </div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;colorspace)</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8cd8caa7d40319324ce3d879a2edbd9f">colorspace</a> = <a class="code" href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a32a0719616b0bb89f4be9d885341bfa4">AVCOL_SPC_BT470BG</a>;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;fullrange)</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">color_range</a> = <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a>;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">color_range</a> = <a class="code" href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a>;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160; </div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="comment">/* Given that arithmetic probabilities are updated every frame, it&#39;s quite</span></div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;<span class="comment">     * likely that the values we have on a random interframe are complete</span></div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;<span class="comment">     * junk if we didn&#39;t start decode on a keyframe. So just don&#39;t display</span></div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="comment">     * anything rather than junk. */</span></div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe &amp;&amp; (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>] ||</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                         !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>]   ||</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;                         !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a>])) {</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>,</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;               <span class="stringliteral">&quot;Discarding interframe without a prior keyframe!\n&quot;</span>);</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    }</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    curframe-&gt;tf.f-&gt;key_frame = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    curframe-&gt;tf.f-&gt;pict_type = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe ? <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                                            : <a class="code" href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a>;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a309bffa9b10dce305412744afeb4063c">vp8_alloc_frame</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, curframe, referenced)) &lt; 0)</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160; </div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="comment">// check if golden and altref are swapped</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_altref != <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa02056c5beadb98b0e303e4595d5930dd">VP56_FRAME_NONE</a>)</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a>] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_altref];</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a>] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a>];</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160; </div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_golden != <a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa02056c5beadb98b0e303e4595d5930dd">VP56_FRAME_NONE</a>)</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_golden];</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a>];</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160; </div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_last)</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>] = curframe;</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a>];</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160; </div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[<a class="code" href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a>] = curframe;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a803e2f964ea430fd2eebaf861e4cf494">update_thread_context</a>)</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;        <a class="code" href="multithreading_8txt.html#a97c3cac75166393103fbc1594899e0b3">ff_thread_finish_setup</a>(avctx);</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160; </div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f33349843a2a9fa8360ead8fc28eee1">hwaccel</a>) {</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f33349843a2a9fa8360ead8fc28eee1">hwaccel</a>-&gt;<a class="code" href="struct_a_v_h_w_accel.html#a40b92f781dbaaecc9c82f636b790629b">start_frame</a>(avctx, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160; </div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f33349843a2a9fa8360ead8fc28eee1">hwaccel</a>-&gt;<a class="code" href="struct_a_v_h_w_accel.html#ab1effeed94fc20e372a60fec7c4d741b">decode_slice</a>(avctx, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>, avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>);</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160; </div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f33349843a2a9fa8360ead8fc28eee1">hwaccel</a>-&gt;<a class="code" href="struct_a_v_h_w_accel.html#ae7f4bdfa848f4c38bb6d9d059c11a297">end_frame</a>(avctx);</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160; </div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;linesize   = curframe-&gt;tf.f-&gt;linesize[0];</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;uvlinesize = curframe-&gt;tf.f-&gt;linesize[1];</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160; </div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;        memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz, 0, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width * <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;top_nnz));</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;        <span class="comment">/* Zero macroblock structures for top/top-left prediction</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;<span class="comment">         * from outside the frame. */</span></div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout)</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;            memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height * 2 - 1, 0,</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                   (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width + 1) * <span class="keyword">sizeof</span>(*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks));</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;keyframe)</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;            memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;intra4x4_pred_mode_top, <a class="code" href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecaee86abbe5868eaea023a934f0ce73882">DC_PRED</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width * 4);</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160; </div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;        memset(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ref_count, 0, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ref_count));</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160; </div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_layout == 1) {</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;            <span class="comment">// Make sure the previous frame has read its segmentation map,</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;            <span class="comment">// if we re-use the same map.</span></div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;            <span class="keywordflow">if</span> (prev_frame &amp;&amp; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.enabled &amp;&amp;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;                !<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation.update_map)</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;                <a class="code" href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a>(&amp;prev_frame-&gt;<a class="code" href="struct_v_p8_frame.html#ae5a3ab34a06c21676e8b7c3fdf25dc66">tf</a>, 1, 0);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;            <span class="keywordflow">if</span> (is_vp7)</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a8aa2435341ddf68be846bf37e652956b">vp7_decode_mv_mb_modes</a>(avctx, curframe, prev_frame);</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a8a1fe28fd6437804b93c524acd9078de">vp8_decode_mv_mb_modes</a>(avctx, curframe, prev_frame);</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;        }</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160; </div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a5f4579d94675579e1d46a591340f598f">active_thread_type</a> == <a class="code" href="avcodec_8h.html#a116c7fb56ac57ccca3e08b80467b2a40">FF_THREAD_FRAME</a>)</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;            num_jobs = 1;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;            num_jobs = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_coeff_partitions, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">thread_count</a>);</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;num_jobs   = num_jobs;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;curframe   = curframe;</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prev_frame = prev_frame;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_min.y   = -<a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a>;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mv_bounds.mv_max.y   = ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height - 1) &lt;&lt; 6) + <a class="code" href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a>;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="frame__thread__encoder_8c.html#a8b5173357adb02a86c027316e0acdfa0">MAX_THREADS</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;            <a class="code" href="struct_v_p8_thread_data.html">VP8ThreadData</a> *<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a> = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;            <a class="code" href="dummy_2stdatomic_8h.html#af8a9cbe9495fcafaa892b24b383acf96">atomic_init</a>(&amp;<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;thread_mb_pos, 0);</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;            <a class="code" href="dummy_2stdatomic_8h.html#af8a9cbe9495fcafaa892b24b383acf96">atomic_init</a>(&amp;<a class="code" href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a>-&gt;wait_mb_pos, INT_MAX);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;        }</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;        <span class="keywordflow">if</span> (is_vp7)</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">execute2</a>(avctx, <a class="code" href="vp8_8c.html#a354da4880ac14c73683893d748ae4eef">vp7_decode_mb_row_sliced</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;                            num_jobs);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">execute2</a>(avctx, <a class="code" href="vp8_8c.html#a05b75a5e23be9100effa59ca931b8078">vp8_decode_mb_row_sliced</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;thread_data, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;                            num_jobs);</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    }</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160; </div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    <a class="code" href="pthread__frame_8c.html#a1c689544e66e3dd516af1d6e6f045367">ff_thread_report_progress</a>(&amp;curframe-&gt;tf, INT_MAX, 0);</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    memcpy(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[0], &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[0], <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[0]) * 4);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160; </div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;skip_decode:</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="comment">// if future frames don&#39;t use the updated probabilities,</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    <span class="comment">// reset them to the values we saved</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;update_probabilities)</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0] = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[1];</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160; </div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;invisible) {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a>(<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, curframe-&gt;tf.f)) &lt; 0)</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;        *got_frame = 1;</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    }</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160; </div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="keywordflow">return</span> avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;err:</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    memcpy(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;next_framep[0], &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[0], <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[0]) * 4);</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;}</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160; </div>
<div class="line"><a name="l02809"></a><span class="lineno"><a class="line" href="vp8_8h.html#aeee0e537eb758cf49beb728cdf1228cf"> 2809</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#aeee0e537eb758cf49beb728cdf1228cf">ff_vp8_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> *got_frame,</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;                        <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;{</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#aa4bf4b2ed3e7a441dc49ff8a04967bf5">vp78_decode_frame</a>(avctx, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, got_frame, avpkt, <a class="code" href="vp8dsp_8h.html#a3506c126d1d68fd8245dcc21ee1f324f">IS_VP8</a>);</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;}</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160; </div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;<span class="preprocessor">#if CONFIG_VP7_DECODER</span></div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vp7_decode_frame(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, <span class="keywordtype">int</span> *got_frame,</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;                            <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;{</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#aa4bf4b2ed3e7a441dc49ff8a04967bf5">vp78_decode_frame</a>(avctx, <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>, got_frame, avpkt, <a class="code" href="vp8dsp_8h.html#aad13e4ab795a0349b52e0ba10ab5e99c">IS_VP7</a>);</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;}</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_VP7_DECODER */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160; </div>
<div class="line"><a name="l02823"></a><span class="lineno"><a class="line" href="vp8_8h.html#aadcad852b9bd1bcc3b795b53f86264a0"> 2823</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a0f7529ce47dd5375a9288b5d9a07e5f9">ff_vp8_decode_free</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;{</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160; </div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160; </div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <a class="code" href="vp8_8c.html#a0046639f73e83372517ddfbc42f69d81">vp8_decode_flush_impl</a>(avctx, 1);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        <a class="code" href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].tf.f);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160; </div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;}</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160; </div>
<div class="line"><a name="l02838"></a><span class="lineno"><a class="line" href="vp8_8c.html#a454dedcadd284a0cd6d53497a20e51dd"> 2838</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a454dedcadd284a0cd6d53497a20e51dd">vp8_init_frames</a>(<a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;{</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].tf.f = <a class="code" href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a>();</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].tf.f)</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    }</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;}</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160; </div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div>
<div class="line"><a name="l02850"></a><span class="lineno"><a class="line" href="vp8_8c.html#a54ce7280cf0171ad85340d5c68cb0a2c"> 2850</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a54ce7280cf0171ad85340d5c68cb0a2c">vp78_decode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">int</span> is_vp7)</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;{</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160; </div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx = avctx;</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp7   = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">codec</a>-&gt;<a class="code" href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">id</a> == <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3fc7f7a6861e3744f32e38a3c9d15c20">AV_CODEC_ID_VP7</a>;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a>;</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> = <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160; </div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <a class="code" href="libavcodec_2videodsp_8c.html#a9f55abcd843195bcf47dae7689bcf894">ff_videodsp_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vdsp, 8);</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160; </div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    <a class="code" href="libavcodec_2vp8dsp_8c.html#a6cbb8f6c38ac81b5fc25af34e7adb6a3">ff_vp78dsp_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp);</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;    <span class="keywordflow">if</span> (CONFIG_VP7_DECODER &amp;&amp; is_vp7) {</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;        <a class="code" href="libavcodec_2h264pred_8c.html#a26a390b3c8d98a2da44646b85703b967">ff_h264_pred_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hpc, <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3fc7f7a6861e3744f32e38a3c9d15c20">AV_CODEC_ID_VP7</a>, 8, 1);</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;        <a class="code" href="vp8dsp_8h.html#a8458f14919e4ff1f1b5ae845bb3560d6">ff_vp7dsp_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp);</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;decode_mb_row_no_filter = <a class="code" href="vp8_8c.html#adf6a2c60434618ba89e1737dbe894925">vp7_decode_mb_row_no_filter</a>;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter_mb_row           = <a class="code" href="vp8_8c.html#a5a91b719ad046ac494b55f393b3fa774">vp7_filter_mb_row</a>;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CONFIG_VP8_DECODER &amp;&amp; !is_vp7) {</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;        <a class="code" href="libavcodec_2h264pred_8c.html#a26a390b3c8d98a2da44646b85703b967">ff_h264_pred_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;hpc, <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>, 8, 1);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;        <a class="code" href="vp8dsp_8h.html#ac48b29dcaa20cdb76f50437a9144c0f5">ff_vp8dsp_init</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;vp8dsp);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;decode_mb_row_no_filter = <a class="code" href="vp8_8c.html#a255b79d173d7412f0cd7ceb667f3acd7">vp8_decode_mb_row_no_filter</a>;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;filter_mb_row           = <a class="code" href="vp8_8c.html#ab49f548863a8bcd93908cd17d286712e">vp8_filter_mb_row</a>;</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    }</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160; </div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <span class="comment">/* does not change for VP8 */</span></div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0].scan, <a class="code" href="mathops_8h.html#ac8a0f0ffe3ce93875d537922ab910b95">ff_zigzag_scan</a>, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0].scan));</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160; </div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vp8_8c.html#a454dedcadd284a0cd6d53497a20e51dd">vp8_init_frames</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0) {</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        <a class="code" href="vp8_8c.html#a0f7529ce47dd5375a9288b5d9a07e5f9">ff_vp8_decode_free</a>(avctx);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    }</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160; </div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;}</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160; </div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;<span class="preprocessor">#if CONFIG_VP7_DECODER</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vp7_decode_init(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;{</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a54ce7280cf0171ad85340d5c68cb0a2c">vp78_decode_init</a>(avctx, <a class="code" href="vp8dsp_8h.html#aad13e4ab795a0349b52e0ba10ab5e99c">IS_VP7</a>);</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;}</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_VP7_DECODER */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160; </div>
<div class="line"><a name="l02893"></a><span class="lineno"><a class="line" href="vp8_8h.html#a4015bb0166ea694bafad9e699f4d4c06"> 2893</a></span>&#160;<a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="vp8_8c.html#a356e27c7d319b79df0b556307636b4e5">ff_vp8_decode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;{</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vp8_8c.html#a54ce7280cf0171ad85340d5c68cb0a2c">vp78_decode_init</a>(avctx, <a class="code" href="vp8dsp_8h.html#a3506c126d1d68fd8245dcc21ee1f324f">IS_VP8</a>);</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;}</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160; </div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;<span class="preprocessor">#if CONFIG_VP8_DECODER</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;<span class="preprocessor">#if HAVE_THREADS</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;<span class="preprocessor">#define REBASE(pic) ((pic) ? (pic) - &amp;s_src-&gt;frames[0] + &amp;s-&gt;frames[0] : NULL)</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160; </div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> vp8_decode_update_thread_context(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *dst,</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>)</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;{</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <a class="code" href="struct_v_p8_context.html">VP8Context</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = dst-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>, *s_src = <a class="code" href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a>-&gt;priv_data;</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160; </div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;macroblocks_base &amp;&amp;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        (s_src-&gt;mb_width != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width || s_src-&gt;mb_height != <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height)) {</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;        <a class="code" href="vp8_8c.html#adbd1fb76e053394a70d9d78ddcc19c06">free_buffers</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_width  = s_src-&gt;mb_width;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;mb_height = s_src-&gt;mb_height;</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    }</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160; </div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pix_fmt      = s_src-&gt;pix_fmt;</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prob[0]      = s_src-&gt;prob[!s_src-&gt;update_probabilities];</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;segmentation = s_src-&gt;segmentation;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lf_delta     = s_src-&gt;lf_delta;</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    memcpy(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sign_bias, s_src-&gt;sign_bias, <span class="keyword">sizeof</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sign_bias));</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160; </div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a>(s_src-&gt;frames); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;        <span class="keywordflow">if</span> (s_src-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].tf.f-&gt;buf[0]) {</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = vp8_ref_frame(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], &amp;s_src-&gt;frames[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;        }</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    }</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160; </div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[0] = REBASE(s_src-&gt;next_framep[0]);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[1] = REBASE(s_src-&gt;next_framep[1]);</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[2] = REBASE(s_src-&gt;next_framep[2]);</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;framep[3] = REBASE(s_src-&gt;next_framep[3]);</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160; </div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;}</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* HAVE_THREADS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_VP8_DECODER */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160; </div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;<span class="preprocessor">#if CONFIG_VP7_DECODER</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="allcodecs_8c.html#aadfddb881dface3d8c49cad5bc3d9911">ff_vp7_decoder</a> = {</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>                  = <span class="stringliteral">&quot;vp7&quot;</span>,</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    .long_name             = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;On2 VP7&quot;</span>),</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    .type                  = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    .id                    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3fc7f7a6861e3744f32e38a3c9d15c20">AV_CODEC_ID_VP7</a>,</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    .priv_data_size        = <span class="keyword">sizeof</span>(<a class="code" href="vp8_8h.html#af199b54d178af58596951f9b0d616dd9">VP8Context</a>),</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>                  = vp7_decode_init,</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    .close                 = <a class="code" href="vp8_8c.html#a0f7529ce47dd5375a9288b5d9a07e5f9">ff_vp8_decode_free</a>,</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>                = vp7_decode_frame,</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    .capabilities          = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    .<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>                 = <a class="code" href="vp8_8c.html#aff66205fdc310110e2739b637f530b79">vp8_decode_flush</a>,</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;};</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_VP7_DECODER */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160; </div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;<span class="preprocessor">#if CONFIG_VP8_DECODER</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="allcodecs_8c.html#a1b4dcd7d2d8d41fcdd56e64c2d9ea461">ff_vp8_decoder</a> = {</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>                  = <span class="stringliteral">&quot;vp8&quot;</span>,</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    .long_name             = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;On2 VP8&quot;</span>),</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    .type                  = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    .id                    = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a>,</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    .priv_data_size        = <span class="keyword">sizeof</span>(<a class="code" href="vp8_8h.html#af199b54d178af58596951f9b0d616dd9">VP8Context</a>),</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>                  = <a class="code" href="vp8_8c.html#a356e27c7d319b79df0b556307636b4e5">ff_vp8_decode_init</a>,</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    .close                 = <a class="code" href="vp8_8c.html#a0f7529ce47dd5375a9288b5d9a07e5f9">ff_vp8_decode_free</a>,</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>                = <a class="code" href="vp8_8c.html#aeee0e537eb758cf49beb728cdf1228cf">ff_vp8_decode_frame</a>,</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    .capabilities          = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a> | <a class="code" href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a> |</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                             <a class="code" href="group__lavc__core.html#ga7c4f386d1d6df0214eb35f2be1c82779">AV_CODEC_CAP_SLICE_THREADS</a>,</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    .<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>                 = <a class="code" href="vp8_8c.html#aff66205fdc310110e2739b637f530b79">vp8_decode_flush</a>,</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    .<a class="code" href="multithreading_8txt.html#a4e871baf97bc0c256543f0fde05c8307">update_thread_context</a> = <a class="code" href="libavutil_2internal_8h.html#ab9aca4492668a79bc015f43ad944021e">ONLY_IF_THREADS_ENABLED</a>(vp8_decode_update_thread_context),</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    .hw_configs            = (<span class="keyword">const</span> <a class="code" href="struct_a_v_codec_h_w_config_internal.html">AVCodecHWConfigInternal</a>*[]) {</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;<span class="preprocessor">#if CONFIG_VP8_VAAPI_HWACCEL</span></div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;                               <a class="code" href="hwconfig_8h.html#aa68c779f38e712638d155e481ce20a79">HWACCEL_VAAPI</a>(vp8),</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;<span class="preprocessor">#if CONFIG_VP8_NVDEC_HWACCEL</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                               <a class="code" href="hwconfig_8h.html#a70bd26e4d09c023615aba0c4e82269fe">HWACCEL_NVDEC</a>(vp8),</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                               <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                           },</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    .caps_internal         = <a class="code" href="libavcodec_2internal_8h.html#a133d9f0e29862e9f1726beafc530e052">FF_CODEC_CAP_ALLOCATE_PROGRESS</a>,</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;};</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_VP7_DECODER */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="avp8data_8h_html_a8ce93664d3150196ba0087b46fbe6bed"><div class="ttname"><a href="vp8data_8h.html#a8ce93664d3150196ba0087b46fbe6bed">vp8_mode_contexts</a></div><div class="ttdeci">static const int vp8_mode_contexts[6][4]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00118">vp8data.h:118</a></div></div>
<div class="ttc" id="avp56_8h_html_ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf"><div class="ttname"><a href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa57e7fef7744075076dd1908b8a452bcf">VP56_FRAME_GOLDEN2</a></div><div class="ttdeci">@ VP56_FRAME_GOLDEN2</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00045">vp56.h:45</a></div></div>
<div class="ttc" id="ahwconfig_8h_html"><div class="ttname"><a href="hwconfig_8h.html">hwconfig.h</a></div></div>
<div class="ttc" id="avp8data_8h_html_ae7b9eef88123812e40a753bba81f174f"><div class="ttname"><a href="vp8data_8h.html#ae7b9eef88123812e40a753bba81f174f">vp8_dct_cat1_prob</a></div><div class="ttdeci">static const uint8_t vp8_dct_cat1_prob[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00342">vp8data.h:342</a></div></div>
<div class="ttc" id="avp8data_8h_html_a930c2949ce7bce027de4eceb515ca36c"><div class="ttname"><a href="vp8data_8h.html#a930c2949ce7bce027de4eceb515ca36c">VP7_MV_PRED_COUNT</a></div><div class="ttdeci">#define VP7_MV_PRED_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00068">vp8data.h:68</a></div></div>
<div class="ttc" id="avp8_8c_html_a0f7529ce47dd5375a9288b5d9a07e5f9"><div class="ttname"><a href="vp8_8c.html#a0f7529ce47dd5375a9288b5d9a07e5f9">ff_vp8_decode_free</a></div><div class="ttdeci">av_cold int ff_vp8_decode_free(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02823">vp8.c:2823</a></div></div>
<div class="ttc" id="avp8data_8h_html_adc907c54b776622e8f5c6e528ea0824b"><div class="ttname"><a href="vp8data_8h.html#adc907c54b776622e8f5c6e528ea0824b">vp7_pred4x4_mode</a></div><div class="ttdeci">static const uint8_t vp7_pred4x4_mode[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00033">vp8data.h:33</a></div></div>
<div class="ttc" id="ah264pred_8h_html_a57f7f8e777743aadc79c36f2db11f6fe"><div class="ttname"><a href="h264pred_8h.html#a57f7f8e777743aadc79c36f2db11f6fe">HOR_PRED8x8</a></div><div class="ttdeci">#define HOR_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00069">h264pred.h:69</a></div></div>
<div class="ttc" id="avp8data_8h_html_af6d5ae718e8ca4ab2e8d7e11cf943d6d"><div class="ttname"><a href="vp8data_8h.html#af6d5ae718e8ca4ab2e8d7e11cf943d6d">vp7_mv_pred</a></div><div class="ttdeci">static const VP7MVPred vp7_mv_pred[VP7_MV_PRED_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00069">vp8data.h:69</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a5ab95e18c0c9e5335f29121418eab314"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a5ab95e18c0c9e5335f29121418eab314">AV_PIX_FMT_CUDA</a></div><div class="ttdeci">@ AV_PIX_FMT_CUDA</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00235">pixfmt.h:235</a></div></div>
<div class="ttc" id="aregdef_8h_html_ab2c359e6c325062d33a4152752d8a820"><div class="ttname"><a href="regdef_8h.html#ab2c359e6c325062d33a4152752d8a820">td</a></div><div class="ttdeci">#define td</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00070">regdef.h:70</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="avp56_8h_html_a2ec271debc6c429f34ab0ba9d4b4b325"><div class="ttname"><a href="vp56_8h.html#a2ec271debc6c429f34ab0ba9d4b4b325">vp8_rac_get_coeff</a></div><div class="ttdeci">static av_always_inline int vp8_rac_get_coeff(VP56RangeCoder *c, const uint8_t *prob)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00407">vp56.h:407</a></div></div>
<div class="ttc" id="avp8_8c_html_a0e12c7259d60b02bea794ac46e0d8606"><div class="ttname"><a href="vp8_8c.html#a0e12c7259d60b02bea794ac46e0d8606">vp7_calculate_mb_offset</a></div><div class="ttdeci">static int vp7_calculate_mb_offset(int mb_x, int mb_y, int mb_width, int xoffset, int yoffset, int boundary, int *edge_x, int *edge_y)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00998">vp8.c:998</a></div></div>
<div class="ttc" id="adummy_2stdatomic_8h_html_a0241b1f231c55cdf092b2d509e8d83df"><div class="ttname"><a href="dummy_2stdatomic_8h.html#a0241b1f231c55cdf092b2d509e8d83df">atomic_store</a></div><div class="ttdeci">#define atomic_store(object, desired)</div><div class="ttdef"><b>Definition:</b> <a href="dummy_2stdatomic_8h_source.html#l00085">stdatomic.h:85</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="astruct_v_p8_frame_html"><div class="ttname"><a href="struct_v_p8_frame.html">VP8Frame</a></div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00138">vp8.h:138</a></div></div>
<div class="ttc" id="avf__curves_8c_html_a33ac7b8ce37a3a60855883424fcf8b62"><div class="ttname"><a href="vf__curves_8c.html#a33ac7b8ce37a3a60855883424fcf8b62">r</a></div><div class="ttdeci">const char * r</div><div class="ttdef"><b>Definition:</b> <a href="vf__curves_8c_source.html#l00114">vf_curves.c:114</a></div></div>
<div class="ttc" id="avp8_8c_html_a5a91b719ad046ac494b55f393b3fa774"><div class="ttname"><a href="vp8_8c.html#a5a91b719ad046ac494b55f393b3fa774">vp7_filter_mb_row</a></div><div class="ttdeci">static void vp7_filter_mb_row(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02563">vp8.c:2563</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="ah264pred_8h_html_aa4aaa913ae62b8eec6beabbcf896c70d"><div class="ttname"><a href="h264pred_8h.html#aa4aaa913ae62b8eec6beabbcf896c70d">DC_PRED8x8</a></div><div class="ttdeci">#define DC_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00068">h264pred.h:68</a></div></div>
<div class="ttc" id="avp8dsp_8h_html_aad13e4ab795a0349b52e0ba10ab5e99c"><div class="ttname"><a href="vp8dsp_8h.html#aad13e4ab795a0349b52e0ba10ab5e99c">IS_VP7</a></div><div class="ttdeci">#define IS_VP7</div><div class="ttdef"><b>Definition:</b> <a href="vp8dsp_8h_source.html#l00105">vp8dsp.h:105</a></div></div>
<div class="ttc" id="avp8_8c_html_a14c5ed3fe414ce0e111e09f0b0d06c2c"><div class="ttname"><a href="vp8_8c.html#a14c5ed3fe414ce0e111e09f0b0d06c2c">vp7_read_mv_component</a></div><div class="ttdeci">static int vp7_read_mv_component(VP56RangeCoder *c, const uint8_t *p)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00888">vp8.c:888</a></div></div>
<div class="ttc" id="avp8_8c_html_a54ce7280cf0171ad85340d5c68cb0a2c"><div class="ttname"><a href="vp8_8c.html#a54ce7280cf0171ad85340d5c68cb0a2c">vp78_decode_init</a></div><div class="ttdeci">static av_always_inline int vp78_decode_init(AVCodecContext *avctx, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02850">vp8.c:2850</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca771574e39134daab118369aabdcdf767"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca771574e39134daab118369aabdcdf767">DC_128_PRED</a></div><div class="ttdeci">@ DC_128_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00058">vp9.h:58</a></div></div>
<div class="ttc" id="adecode_8c_html_a8a7eadb05d8ea6f849a146035377ad1f"><div class="ttname"><a href="decode_8c.html#a8a7eadb05d8ea6f849a146035377ad1f">ff_get_format</a></div><div class="ttdeci">int ff_get_format(AVCodecContext *avctx, const enum AVPixelFormat *fmt)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l01299">decode.c:1299</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="alibavcodec_2thread_8h_html_a9569969a18e074a58912d24f08f30d69"><div class="ttname"><a href="libavcodec_2thread_8h.html#a9569969a18e074a58912d24f08f30d69">ff_thread_ref_frame</a></div><div class="ttdeci">int ff_thread_ref_frame(ThreadFrame *dst, const ThreadFrame *src)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l01876">utils.c:1876</a></div></div>
<div class="ttc" id="avp56_8h_html_ab350db90ce129deb258d937f976b7524"><div class="ttname"><a href="vp56_8h.html#ab350db90ce129deb258d937f976b7524">vpX_rac_is_end</a></div><div class="ttdeci">static av_always_inline int vpX_rac_is_end(VP56RangeCoder *c)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00237">vp56.h:237</a></div></div>
<div class="ttc" id="acommon_8h_html_a09a0bb7d8fcfac416de7a5fe7fd8b0f1"><div class="ttname"><a href="common_8h.html#a09a0bb7d8fcfac416de7a5fe7fd8b0f1">FFSWAP</a></div><div class="ttdeci">#define FFSWAP(type, a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00099">common.h:99</a></div></div>
<div class="ttc" id="avp8_8c_html_a70c0b5ebe5b307f1dd7885327109dcaa"><div class="ttname"><a href="vp8_8c.html#a70c0b5ebe5b307f1dd7885327109dcaa">read_mv_component</a></div><div class="ttdeci">static av_always_inline int read_mv_component(VP56RangeCoder *c, const uint8_t *p, int vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00860">vp8.c:860</a></div></div>
<div class="ttc" id="acbs__h2645_8c_html_a134a0c87e88a327dcbeee6de7b0d6282"><div class="ttname"><a href="cbs__h2645_8c.html#a134a0c87e88a327dcbeee6de7b0d6282">u</a></div><div class="ttdeci">#define u(width, name, range_min, range_max)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h2645_8c_source.html#l00262">cbs_h2645.c:262</a></div></div>
<div class="ttc" id="avp8_8c_html_a9b82839b1b2d576e29e9ba22dd094a46"><div class="ttname"><a href="vp8_8c.html#a9b82839b1b2d576e29e9ba22dd094a46">check_tm_pred8x8_mode</a></div><div class="ttdeci">static av_always_inline int check_tm_pred8x8_mode(int mode, int mb_x, int mb_y, int vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01599">vp8.c:1599</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6be328131743a97103b89e028e62e771"><div class="ttname"><a href="struct_a_v_codec_context.html#a6be328131743a97103b89e028e62e771">AVCodecContext::skip_loop_filter</a></div><div class="ttdeci">enum AVDiscard skip_loop_filter</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01982">avcodec.h:1990</a></div></div>
<div class="ttc" id="avp8data_8h_html_aef9252b6700bcbac33fc0d5cb09e1f63"><div class="ttname"><a href="vp8data_8h.html#aef9252b6700bcbac33fc0d5cb09e1f63">vp8_submv_prob</a></div><div class="ttdeci">static const uint8_t vp8_submv_prob[5][3]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00153">vp8data.h:153</a></div></div>
<div class="ttc" id="alibavutil_2thread_8h_html"><div class="ttname"><a href="libavutil_2thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a4f8250fbf301e0e62dad0aad3ba030a9"><div class="ttname"><a href="os2threads_8h.html#a4f8250fbf301e0e62dad0aad3ba030a9">pthread_mutex_init</a></div><div class="ttdeci">static av_always_inline int pthread_mutex_init(pthread_mutex_t *mutex, const pthread_mutexattr_t *attr)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00104">os2threads.h:104</a></div></div>
<div class="ttc" id="avp8data_8h_html_a7ce603e4f0cbfff4d7d890b91d62d4e3"><div class="ttname"><a href="vp8data_8h.html#a7ce603e4f0cbfff4d7d890b91d62d4e3">vp7_ydc_qlookup</a></div><div class="ttdeci">static const uint16_t vp7_ydc_qlookup[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00778">vp8data.h:778</a></div></div>
<div class="ttc" id="astruct_a_v_buffer_ref_html_acb8452e99cd75074b93800b532c6ea4b"><div class="ttname"><a href="struct_a_v_buffer_ref.html#acb8452e99cd75074b93800b532c6ea4b">AVBufferRef::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00089">buffer.h:89</a></div></div>
<div class="ttc" id="avp8_8c_html_ae1c3c31ca5f3e513ee29b3fffbae0d5c"><div class="ttname"><a href="vp8_8c.html#ae1c3c31ca5f3e513ee29b3fffbae0d5c">clamp_mv</a></div><div class="ttdeci">static av_always_inline void clamp_mv(VP8mvbounds *s, VP56mv *dst, const VP56mv *src)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00849">vp8.c:849</a></div></div>
<div class="ttc" id="ah264pred_8h_html_a24c0b99a037b35ad99cc17beca99ae26"><div class="ttname"><a href="h264pred_8h.html#a24c0b99a037b35ad99cc17beca99ae26">HOR_VP8_PRED</a></div><div class="ttdeci">#define HOR_VP8_PRED</div><div class="ttdoc">VERT_VP8_PRED for details</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00064">h264pred.h:63</a></div></div>
<div class="ttc" id="alibavcodec_24xm_8c_html_a19c59215a57cc549287f6d8481937b12"><div class="ttname"><a href="libavcodec_24xm_8c.html#a19c59215a57cc549287f6d8481937b12">mv</a></div><div class="ttdeci">static const int8_t mv[256][2]</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_24xm_8c_source.html#l00077">4xm.c:77</a></div></div>
<div class="ttc" id="avp8_8c_html_a07d1dc28b30dba006494983215769f80"><div class="ttname"><a href="vp8_8c.html#a07d1dc28b30dba006494983215769f80">vp7_decode_mvs</a></div><div class="ttdeci">static av_always_inline void vp7_decode_mvs(VP8Context *s, VP8Macroblock *mb, int mb_x, int mb_y, int layout)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01017">vp8.c:1017</a></div></div>
<div class="ttc" id="avp8data_8h_html_a9d86429f675ef922c1381f670074c76b"><div class="ttname"><a href="vp8data_8h.html#a9d86429f675ef922c1381f670074c76b">vp7_mv_default_prob</a></div><div class="ttdeci">static const uint8_t vp7_mv_default_prob[2][17]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00744">vp8data.h:744</a></div></div>
<div class="ttc" id="avp8_8c_html_a44c556ad20dc8aa4c4eee3c0124b1746"><div class="ttname"><a href="vp8_8c.html#a44c556ad20dc8aa4c4eee3c0124b1746">check_intra_pred4x4_mode_emuedge</a></div><div class="ttdeci">static av_always_inline int check_intra_pred4x4_mode_emuedge(int mode, int mb_x, int mb_y, int *copy_buf, int vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01634">vp8.c:1634</a></div></div>
<div class="ttc" id="astruct_a_v_codec_h_w_config_internal_html"><div class="ttname"><a href="struct_a_v_codec_h_w_config_internal.html">AVCodecHWConfigInternal</a></div><div class="ttdef"><b>Definition:</b> <a href="hwconfig_8h_source.html#l00029">hwconfig.h:29</a></div></div>
<div class="ttc" id="avp8data_8h_html_a1899575e50f2a10133a523a74bcc8cbf"><div class="ttname"><a href="vp8data_8h.html#a1899575e50f2a10133a523a74bcc8cbf">ff_vp8_dct_cat_prob</a></div><div class="ttdeci">const uint8_t *const ff_vp8_dct_cat_prob[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00362">vp8data.h:362</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga979d73f3228814aee56aeca0636e37cc"><div class="ttname"><a href="group__lavu__frame.html#ga979d73f3228814aee56aeca0636e37cc">av_frame_free</a></div><div class="ttdeci">void av_frame_free(AVFrame **frame)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00203">frame.c:203</a></div></div>
<div class="ttc" id="avp8_8c_html_aa7052320334b59fb2a0772dfa1c26698"><div class="ttname"><a href="vp8_8c.html#aa7052320334b59fb2a0772dfa1c26698">check_tm_pred4x4_mode</a></div><div class="ttdeci">static av_always_inline int check_tm_pred4x4_mode(int mode, int mb_x, int mb_y, int vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01624">vp8.c:1624</a></div></div>
<div class="ttc" id="aqsvenc_8c_html_aacd2c6f4a09d71ea05bdcc1c2e9d42dd"><div class="ttname"><a href="qsvenc_8c.html#aacd2c6f4a09d71ea05bdcc1c2e9d42dd">profile</a></div><div class="ttdeci">mfxU16 profile</div><div class="ttdef"><b>Definition:</b> <a href="qsvenc_8c_source.html#l00045">qsvenc.c:45</a></div></div>
<div class="ttc" id="avp8data_8h_html_a0895b6826fcecf256efad23333d8a89c"><div class="ttname"><a href="vp8data_8h.html#a0895b6826fcecf256efad23333d8a89c">vp7_y2dc_qlookup</a></div><div class="ttdeci">static const uint16_t vp7_y2dc_qlookup[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00803">vp8data.h:803</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca3dfc65d3345dc7b54337aa05885ebbbc"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca3dfc65d3345dc7b54337aa05885ebbbc">TM_VP8_PRED</a></div><div class="ttdeci">@ TM_VP8_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00055">vp9.h:55</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aafce51dfb8b012df5cbbf59918c410f29">AVCOL_RANGE_JPEG</a></div><div class="ttdeci">@ AVCOL_RANGE_JPEG</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00586">pixfmt.h:586</a></div></div>
<div class="ttc" id="astruct_thread_frame_html_a6d4ef36cc340178903e148e89903f1a1"><div class="ttname"><a href="struct_thread_frame.html#a6d4ef36cc340178903e148e89903f1a1">ThreadFrame::f</a></div><div class="ttdeci">AVFrame * f</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2thread_8h_source.html#l00035">thread.h:35</a></div></div>
<div class="ttc" id="avp8_8c_html_a8ecf8fe26b573d95cd93cda4c7fee5ce"><div class="ttname"><a href="vp8_8c.html#a8ecf8fe26b573d95cd93cda4c7fee5ce">inter_predict_dc</a></div><div class="ttdeci">static av_always_inline int inter_predict_dc(int16_t block[16], int16_t pred[2])</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01395">vp8.c:1395</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aecaee86abbe5868eaea023a934f0ce73882"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecaee86abbe5868eaea023a934f0ce73882">DC_PRED</a></div><div class="ttdeci">@ DC_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00048">vp9.h:48</a></div></div>
<div class="ttc" id="avp8_8c_html_a3a97dd17df6d363fdc0af5d18dfe597a"><div class="ttname"><a href="vp8_8c.html#a3a97dd17df6d363fdc0af5d18dfe597a">get_bmv_ptr</a></div><div class="ttdeci">static const VP56mv * get_bmv_ptr(const VP8Macroblock *mb, int subblock)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01011">vp8.c:1011</a></div></div>
<div class="ttc" id="ainput_8c_html_ad6cdb6a14abe3eab42eaaadc93409aec"><div class="ttname"><a href="input_8c.html#ad6cdb6a14abe3eab42eaaadc93409aec">b</a></div><div class="ttdeci">#define b</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00041">input.c:41</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5f4579d94675579e1d46a591340f598f"><div class="ttname"><a href="struct_a_v_codec_context.html#a5f4579d94675579e1d46a591340f598f">AVCodecContext::active_thread_type</a></div><div class="ttdeci">int active_thread_type</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01804">avcodec.h:1804</a></div></div>
<div class="ttc" id="avp8_8c_html_aaa50d48f30ec4d91dafaaeb669820634"><div class="ttname"><a href="vp8_8c.html#aaa50d48f30ec4d91dafaaeb669820634">VP7_MVC_SIZE</a></div><div class="ttdeci">#define VP7_MVC_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00446">vp8.c:446</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca13d0dce96d24944d45b7b8b37fa237e2"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca13d0dce96d24944d45b7b8b37fa237e2">VERT_LEFT_PRED</a></div><div class="ttdeci">@ VERT_LEFT_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00053">vp9.h:53</a></div></div>
<div class="ttc" id="avp8_8c_html_a5f7bf5c46c7e79d7bc0b44c71ecfbc59"><div class="ttname"><a href="vp8_8c.html#a5f7bf5c46c7e79d7bc0b44c71ecfbc59">vp8_get_quants</a></div><div class="ttdeci">static void vp8_get_quants(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00359">vp8.c:359</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_ga27f37cc004f768b00442b6cb08091686"><div class="ttname"><a href="group__lavu__buffer.html#ga27f37cc004f768b00442b6cb08091686">av_buffer_allocz</a></div><div class="ttdeci">AVBufferRef * av_buffer_allocz(int size)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00083">buffer.c:83</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a83fe05faaabe74423b69af94ef8bfd59"><div class="ttname"><a href="intreadwrite_8h.html#a83fe05faaabe74423b69af94ef8bfd59">AV_WN32A</a></div><div class="ttdeci">#define AV_WN32A(p, v)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00538">intreadwrite.h:538</a></div></div>
<div class="ttc" id="avp8_8c_html_af75164c5647379a402c354c4fdd2d033"><div class="ttname"><a href="vp8_8c.html#af75164c5647379a402c354c4fdd2d033">ref_to_update</a></div><div class="ttdeci">static VP56Frame ref_to_update(VP8Context *s, int update, VP56Frame ref)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00405">vp8.c:405</a></div></div>
<div class="ttc" id="ax86_2vp9dsp__init_8h_html_abd14a7cc71fa43f573690135c7723886"><div class="ttname"><a href="x86_2vp9dsp__init_8h.html#abd14a7cc71fa43f573690135c7723886">cat</a></div><div class="ttdeci">#define cat(a, bpp, b)</div><div class="ttdef"><b>Definition:</b> <a href="x86_2vp9dsp__init_8h_source.html#l00029">vp9dsp_init.h:29</a></div></div>
<div class="ttc" id="avp8_8c_html_a98b74ed294a9a1dab5d523d12e8df912"><div class="ttname"><a href="vp8_8c.html#a98b74ed294a9a1dab5d523d12e8df912">vp8_decode_block_coeffs_internal</a></div><div class="ttdeci">static int vp8_decode_block_coeffs_internal(VP56RangeCoder *r, int16_t block[16], uint8_t probs[16][3][NUM_DCT_TOKENS - 1], int i, uint8_t *token_prob, int16_t qmul[2])</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01429">vp8.c:1429</a></div></div>
<div class="ttc" id="avp8_8c_html_abb2be2528c6f44d54650832bb957b5d5"><div class="ttname"><a href="vp8_8c.html#abb2be2528c6f44d54650832bb957b5d5">backup_mb_border</a></div><div class="ttdeci">static av_always_inline void backup_mb_border(uint8_t *top_border, uint8_t *src_y, uint8_t *src_cb, uint8_t *src_cr, ptrdiff_t linesize, ptrdiff_t uvlinesize, int simple)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01544">vp8.c:1544</a></div></div>
<div class="ttc" id="astruct_v_p8_frame_html_a6b8d6017dee8b7a7fc28eff057ed6a72"><div class="ttname"><a href="struct_v_p8_frame.html#a6b8d6017dee8b7a7fc28eff057ed6a72">VP8Frame::hwaccel_priv_buf</a></div><div class="ttdeci">AVBufferRef * hwaccel_priv_buf</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00142">vp8.h:142</a></div></div>
<div class="ttc" id="avp8_8h_html_a763bfdfe969afcc21bc1f5b2eb2b4231a6389067963899faa06bd87f9e99a281f"><div class="ttname"><a href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a6389067963899faa06bd87f9e99a281f">VP8_SPLITMVMODE_4x4</a></div><div class="ttdeci">@ VP8_SPLITMVMODE_4x4</div><div class="ttdoc">4x4 blocks of 4x4px each</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00071">vp8.h:71</a></div></div>
<div class="ttc" id="astruct_a_v_h_w_accel_html"><div class="ttname"><a href="struct_a_v_h_w_accel.html">AVHWAccel</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02410">avcodec.h:2410</a></div></div>
<div class="ttc" id="ah264pred_8h_html_a2966416165c7ff5d0868ac180755da51"><div class="ttname"><a href="h264pred_8h.html#a2966416165c7ff5d0868ac180755da51">VERT_VP8_PRED</a></div><div class="ttdeci">#define VERT_VP8_PRED</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00062">h264pred.h:60</a></div></div>
<div class="ttc" id="amultithreading_8txt_html_ab66ca23680e500f1f51b1608e8a5419a"><div class="ttname"><a href="multithreading_8txt.html#ab66ca23680e500f1f51b1608e8a5419a">ff_thread_await_progress</a></div><div class="ttdeci">the pkt_dts and pkt_pts fields in AVFrame will work as usual Restrictions on codec whose streams don t reset across will not work because their bitstreams cannot be decoded in parallel *The contents of buffers must not be read before ff_thread_await_progress() has been called on them. reget_buffer() and buffer age optimizations no longer work. *The contents of buffers must not be written to after ff_thread_report_progress() has been called on them. This includes draw_edges(). Porting codecs to frame threading</div></div>
<div class="ttc" id="astruct_v_p8_filter_strength_html"><div class="ttname"><a href="struct_v_p8_filter_strength.html">VP8FilterStrength</a></div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00075">vp8.h:75</a></div></div>
<div class="ttc" id="avp56_8h_html_ae06b85e4bbb6e4e713247ad0e7c919cd"><div class="ttname"><a href="vp56_8h.html#ae06b85e4bbb6e4e713247ad0e7c919cd">vp8_rac_get_nn</a></div><div class="ttdeci">static av_unused int vp8_rac_get_nn(VP56RangeCoder *c)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00372">vp56.h:372</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="avp8_8c_html_af95ddd4bf66ab1a21e198b8a1ff420b9"><div class="ttname"><a href="vp8_8c.html#af95ddd4bf66ab1a21e198b8a1ff420b9">VP8_MVC_SIZE</a></div><div class="ttdeci">#define VP8_MVC_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00447">vp8.c:447</a></div></div>
<div class="ttc" id="avp8_8c_html_a255b79d173d7412f0cd7ceb667f3acd7"><div class="ttname"><a href="vp8_8c.html#a255b79d173d7412f0cd7ceb667f3acd7">vp8_decode_mb_row_no_filter</a></div><div class="ttdeci">static int vp8_decode_mb_row_no_filter(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02498">vp8.c:2498</a></div></div>
<div class="ttc" id="avp8data_8h_html_a0857c4099714265398db6f1f9eeed11f"><div class="ttname"><a href="vp8data_8h.html#a0857c4099714265398db6f1f9eeed11f">vp8_pred8x8c_tree</a></div><div class="ttdeci">static const int8_t vp8_pred8x8c_tree[3][2]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00180">vp8data.h:180</a></div></div>
<div class="ttc" id="avp8_8c_html_a8439cfff569bb5da36ee361bb386d60f"><div class="ttname"><a href="vp8_8c.html#a8439cfff569bb5da36ee361bb386d60f">XCHG</a></div><div class="ttdeci">#define XCHG(a, b, xchg)</div></div>
<div class="ttc" id="acbs__mpeg2_8c_html_a5420f92a5fa8c2d1740e1eaf8a18aa15"><div class="ttname"><a href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a></div><div class="ttdeci">#define bit(string, value)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__mpeg2_8c_source.html#l00058">cbs_mpeg2.c:58</a></div></div>
<div class="ttc" id="avp8_8c_html_afc4c84b104f6b051ea98458bd000d9c1"><div class="ttname"><a href="vp8_8c.html#afc4c84b104f6b051ea98458bd000d9c1">update_pos</a></div><div class="ttdeci">#define update_pos(td, mb_y, mb_x)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02361">vp8.c:2361</a></div></div>
<div class="ttc" id="aarm_2vp8_8h_html"><div class="ttname"><a href="arm_2vp8_8h.html">vp8.h</a></div></div>
<div class="ttc" id="avp8_8c_html_ad4980832bcab8fb254d3b73092b76ee3"><div class="ttname"><a href="vp8_8c.html#ad4980832bcab8fb254d3b73092b76ee3">update_dimensions</a></div><div class="ttdeci">static av_always_inline int update_dimensions(VP8Context *s, int width, int height, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00187">vp8.c:187</a></div></div>
<div class="ttc" id="avp56_8h_html_a652a23ea68d76d7ede09d27ba608da44"><div class="ttname"><a href="vp56_8h.html#a652a23ea68d76d7ede09d27ba608da44">vp56_rac_get_prob_branchy</a></div><div class="ttdeci">static av_always_inline int vp56_rac_get_prob_branchy(VP56RangeCoder *c, int prob)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00285">vp56.h:285</a></div></div>
<div class="ttc" id="apixfmt_8h_html_aff71a069509a1ad3ff54d53a1c894c85a32a0719616b0bb89f4be9d885341bfa4"><div class="ttname"><a href="pixfmt_8h.html#aff71a069509a1ad3ff54d53a1c894c85a32a0719616b0bb89f4be9d885341bfa4">AVCOL_SPC_BT470BG</a></div><div class="ttdeci">@ AVCOL_SPC_BT470BG</div><div class="ttdoc">also ITU-R BT601-6 625 / ITU-R BT1358 625 / ITU-R BT1700 625 PAL &amp; SECAM / IEC 61966-2-4 xvYCC601</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00518">pixfmt.h:518</a></div></div>
<div class="ttc" id="avp8_8h_html_a763bfdfe969afcc21bc1f5b2eb2b4231a5d28e03751b16cbc97793b6f589ddc8a"><div class="ttname"><a href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a5d28e03751b16cbc97793b6f589ddc8a">VP8_SPLITMVMODE_8x8</a></div><div class="ttdeci">@ VP8_SPLITMVMODE_8x8</div><div class="ttdoc">2x2 blocks of 8x8px each</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00070">vp8.h:70</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af869b808363998c80adf7df6a944a5a6"><div class="ttname"><a href="struct_a_v_codec_context.html#af869b808363998c80adf7df6a944a5a6">AVCodecContext::skip_frame</a></div><div class="ttdeci">enum AVDiscard skip_frame</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01982">avcodec.h:2004</a></div></div>
<div class="ttc" id="astruct_v_p8_context_html"><div class="ttname"><a href="struct_v_p8_context.html">VP8Context</a></div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00147">vp8.h:147</a></div></div>
<div class="ttc" id="avp56_8h_html_a991fcc7c4ecc15c20242128ad76a557a"><div class="ttname"><a href="vp56_8h.html#a991fcc7c4ecc15c20242128ad76a557a">vp8_rac_get</a></div><div class="ttdeci">static av_always_inline int vp8_rac_get(VP56RangeCoder *c)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00322">vp56.h:322</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca390ba2c40204f8889092e2f7b325a7ef"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca390ba2c40204f8889092e2f7b325a7ef">DC_127_PRED</a></div><div class="ttdeci">@ DC_127_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00059">vp9.h:59</a></div></div>
<div class="ttc" id="avp8_8c_html_a1013faa00d490063c4f9005bad511b37"><div class="ttname"><a href="vp8_8c.html#a1013faa00d490063c4f9005bad511b37">filter_level_for_mb</a></div><div class="ttdeci">static av_always_inline void filter_level_for_mb(VP8Context *s, VP8Macroblock *mb, VP8FilterStrength *f, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02123">vp8.c:2123</a></div></div>
<div class="ttc" id="avp8data_8h_html_a1b8de54ff148f4b0b52d3b5431511b96"><div class="ttname"><a href="vp8data_8h.html#a1b8de54ff148f4b0b52d3b5431511b96">vp8_mv_update_prob</a></div><div class="ttdeci">static const uint8_t vp8_mv_update_prob[2][19]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00733">vp8data.h:733</a></div></div>
<div class="ttc" id="acheckasm_8h_html_a73a3b169ac8c3419cbe15327e75ffcfd"><div class="ttname"><a href="checkasm_8h.html#a73a3b169ac8c3419cbe15327e75ffcfd">fail</a></div><div class="ttdeci">#define fail()</div><div class="ttdef"><b>Definition:</b> <a href="checkasm_8h_source.html#l00123">checkasm.h:123</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca7ba9a3d80ed4c0514a825afd4cbf9d8e"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca7ba9a3d80ed4c0514a825afd4cbf9d8e">VERT_PRED</a></div><div class="ttdeci">@ VERT_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00046">vp9.h:46</a></div></div>
<div class="ttc" id="avp8_8c_html_a146ce9644475c2a3dc35ad2074d6f3f9"><div class="ttname"><a href="vp8_8c.html#a146ce9644475c2a3dc35ad2074d6f3f9">intra_predict</a></div><div class="ttdeci">static av_always_inline void intra_predict(VP8Context *s, VP8ThreadData *td, uint8_t *dst[3], VP8Macroblock *mb, int mb_x, int mb_y, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01670">vp8.c:1670</a></div></div>
<div class="ttc" id="astruct_a_v_h_w_accel_html_a40b92f781dbaaecc9c82f636b790629b"><div class="ttname"><a href="struct_a_v_h_w_accel.html#a40b92f781dbaaecc9c82f636b790629b">AVHWAccel::start_frame</a></div><div class="ttdeci">int(* start_frame)(AVCodecContext *avctx, const uint8_t *buf, uint32_t buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02472">avcodec.h:2472</a></div></div>
<div class="ttc" id="amultithreading_8txt_html_ad20d53520fe26af28cbae5338a670db5"><div class="ttname"><a href="multithreading_8txt.html#ad20d53520fe26af28cbae5338a670db5">ff_thread_get_buffer</a></div><div class="ttdeci">the pkt_dts and pkt_pts fields in AVFrame will work as usual Restrictions on codec whose streams don t reset across will not work because their bitstreams cannot be decoded in parallel *The contents of buffers must not be read before as well as code calling up to before the decode process starts Call have so the codec calls ff_thread_report set FF_CODEC_CAP_ALLOCATE_PROGRESS in AVCodec caps_internal and use ff_thread_get_buffer() to allocate frames. The frames must then be freed with ff_thread_release_buffer(). Otherwise decode directly into the user-supplied frames. Call ff_thread_report_progress() after some part of the current picture has decoded. A good place to put this is where draw_horiz_band() is called - add this if it isn 't called anywhere</div></div>
<div class="ttc" id="astruct_v_p8mvbounds_html"><div class="ttname"><a href="struct_v_p8mvbounds.html">VP8mvbounds</a></div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00101">vp8.h:101</a></div></div>
<div class="ttc" id="avp56_8h_html_a659898867f0cdfdd193400eb840ee325"><div class="ttname"><a href="vp56_8h.html#a659898867f0cdfdd193400eb840ee325">vp8_rac_get_sint</a></div><div class="ttdeci">static av_unused int vp8_rac_get_sint(VP56RangeCoder *c, int bits)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00350">vp56.h:350</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca5f322cfece0841e1a553ba5f5ccfb3e4"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca5f322cfece0841e1a553ba5f5ccfb3e4">DIAG_DOWN_RIGHT_PRED</a></div><div class="ttdeci">@ DIAG_DOWN_RIGHT_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00050">vp9.h:50</a></div></div>
<div class="ttc" id="aframe__thread__encoder_8c_html_a8b5173357adb02a86c027316e0acdfa0"><div class="ttname"><a href="frame__thread__encoder_8c.html#a8b5173357adb02a86c027316e0acdfa0">MAX_THREADS</a></div><div class="ttdeci">#define MAX_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="frame__thread__encoder_8c_source.html#l00034">frame_thread_encoder.c:34</a></div></div>
<div class="ttc" id="alibavcodec_2videodsp_8c_html_a9f55abcd843195bcf47dae7689bcf894"><div class="ttname"><a href="libavcodec_2videodsp_8c.html#a9f55abcd843195bcf47dae7689bcf894">ff_videodsp_init</a></div><div class="ttdeci">av_cold void ff_videodsp_init(VideoDSPContext *ctx, int bpc)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2videodsp_8c_source.html#l00038">videodsp.c:38</a></div></div>
<div class="ttc" id="aaf__silencedetect_8c_html_af4fef14ae6c1e5d4e2e074a5f0610283"><div class="ttname"><a href="af__silencedetect_8c.html#af4fef14ae6c1e5d4e2e074a5f0610283">update</a></div><div class="ttdeci">static av_always_inline void update(SilenceDetectContext *s, AVFrame *insamples, int is_silence, int current_sample, int64_t nb_samples_notify, AVRational time_base)</div><div class="ttdef"><b>Definition:</b> <a href="af__silencedetect_8c_source.html#l00078">af_silencedetect.c:78</a></div></div>
<div class="ttc" id="avp8_8c_html_aab17bd5cd25c4b13c5c19646047e3af2"><div class="ttname"><a href="vp8_8c.html#aab17bd5cd25c4b13c5c19646047e3af2">check_intra_pred8x8_mode_emuedge</a></div><div class="ttdeci">static av_always_inline int check_intra_pred8x8_mode_emuedge(int mode, int mb_x, int mb_y, int vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01608">vp8.c:1608</a></div></div>
<div class="ttc" id="avp8_8c_html_ab49f548863a8bcd93908cd17d286712e"><div class="ttname"><a href="vp8_8c.html#ab49f548863a8bcd93908cd17d286712e">vp8_filter_mb_row</a></div><div class="ttdeci">static void vp8_filter_mb_row(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02569">vp8.c:2569</a></div></div>
<div class="ttc" id="avp8_8c_html_a3d0d5372d5b31b1823fb895829cea839"><div class="ttname"><a href="vp8_8c.html#a3d0d5372d5b31b1823fb895829cea839">vp7_get_quants</a></div><div class="ttdeci">static void vp7_get_quants(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00340">vp8.c:340</a></div></div>
<div class="ttc" id="avp8_8h_html_a763bfdfe969afcc21bc1f5b2eb2b4231a6a82e48e87a5d0e20e3c86f9719ce37d"><div class="ttname"><a href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231a6a82e48e87a5d0e20e3c86f9719ce37d">VP8_SPLITMVMODE_16x8</a></div><div class="ttdeci">@ VP8_SPLITMVMODE_16x8</div><div class="ttdoc">2 16x8 blocks (vertical)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00068">vp8.h:68</a></div></div>
<div class="ttc" id="avp8_8c_html_a454dedcadd284a0cd6d53497a20e51dd"><div class="ttname"><a href="vp8_8c.html#a454dedcadd284a0cd6d53497a20e51dd">vp8_init_frames</a></div><div class="ttdeci">static av_cold int vp8_init_frames(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02838">vp8.c:2838</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_gac700017c5270c79c1e1befdeeb008b2f"><div class="ttname"><a href="group__lavu__frame.html#gac700017c5270c79c1e1befdeeb008b2f">av_frame_alloc</a></div><div class="ttdeci">AVFrame * av_frame_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00190">frame.c:190</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aa852b6227d0778b62e9cc4034ad3720c"><div class="ttname"><a href="struct_a_v_codec_context.html#aa852b6227d0778b62e9cc4034ad3720c">AVCodecContext::thread_count</a></div><div class="ttdeci">int thread_count</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01785">avcodec.h:1785</a></div></div>
<div class="ttc" id="astruct_a_v_h_w_accel_html_aecd7bfd22ce294f1ae5073164bb90d65"><div class="ttname"><a href="struct_a_v_h_w_accel.html#aecd7bfd22ce294f1ae5073164bb90d65">AVHWAccel::frame_priv_data_size</a></div><div class="ttdeci">int frame_priv_data_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02520">avcodec.h:2520</a></div></div>
<div class="ttc" id="avp8dsp_8h_html_a8458f14919e4ff1f1b5ae845bb3560d6"><div class="ttname"><a href="vp8dsp_8h.html#a8458f14919e4ff1f1b5ae845bb3560d6">ff_vp7dsp_init</a></div><div class="ttdeci">void ff_vp7dsp_init(VP8DSPContext *c)</div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="avp8dsp_8h_html_ac48b29dcaa20cdb76f50437a9144c0f5"><div class="ttname"><a href="vp8dsp_8h.html#ac48b29dcaa20cdb76f50437a9144c0f5">ff_vp8dsp_init</a></div><div class="ttdeci">void ff_vp8dsp_init(VP8DSPContext *c)</div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aecaca53c32a372459fc6c74a36f66e454a2"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecaca53c32a372459fc6c74a36f66e454a2">HOR_PRED</a></div><div class="ttdeci">@ HOR_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00047">vp9.h:47</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="astruct_v_p56mv_html_a6f4a476e711d63f22055efdc59220571"><div class="ttname"><a href="struct_v_p56mv.html#a6f4a476e711d63f22055efdc59220571">VP56mv::y</a></div><div class="ttdeci">int16_t y</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00068">vp56.h:68</a></div></div>
<div class="ttc" id="avp8data_8h_html_a5e5bf4ce48de3341070738e8a25aeedf"><div class="ttname"><a href="vp8data_8h.html#a5e5bf4ce48de3341070738e8a25aeedf">vp8_dct_cat2_prob</a></div><div class="ttdeci">static const uint8_t vp8_dct_cat2_prob[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00345">vp8data.h:345</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a5f33349843a2a9fa8360ead8fc28eee1"><div class="ttname"><a href="struct_a_v_codec_context.html#a5f33349843a2a9fa8360ead8fc28eee1">AVCodecContext::hwaccel</a></div><div class="ttdeci">const struct AVHWAccel * hwaccel</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01690">avcodec.h:1690</a></div></div>
<div class="ttc" id="apthread__frame_8c_html_a1c689544e66e3dd516af1d6e6f045367"><div class="ttname"><a href="pthread__frame_8c.html#a1c689544e66e3dd516af1d6e6f045367">ff_thread_report_progress</a></div><div class="ttdeci">void ff_thread_report_progress(ThreadFrame *f, int n, int field)</div><div class="ttdef"><b>Definition:</b> <a href="pthread__frame_8c_source.html#l00561">pthread_frame.c:561</a></div></div>
<div class="ttc" id="adecode__audio_8c_html_a1704ae53d7f426e1b67341785b5b2b58"><div class="ttname"><a href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a></div><div class="ttdeci">static void decode(AVCodecContext *dec_ctx, AVPacket *pkt, AVFrame *frame, FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="decode__audio_8c_source.html#l00071">decode_audio.c:71</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="avp8data_8h_html_a1b699f225db20185eb20042b57f70e7f"><div class="ttname"><a href="vp8data_8h.html#a1b699f225db20185eb20042b57f70e7f">vp8_pred4x4_mode</a></div><div class="ttdeci">static const uint8_t vp8_pred4x4_mode[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00040">vp8data.h:40</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a485836c035a7aab045094ca27381964b"><div class="ttname"><a href="intreadwrite_8h.html#a485836c035a7aab045094ca27381964b">AV_ZERO64</a></div><div class="ttdeci">#define AV_ZERO64(d)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00633">intreadwrite.h:633</a></div></div>
<div class="ttc" id="avp8data_8h_html_ab269d593c5a3d7e39e0617c47bf0a229"><div class="ttname"><a href="vp8data_8h.html#ab269d593c5a3d7e39e0617c47bf0a229">vp8_pred8x8c_prob_inter</a></div><div class="ttdeci">static const uint8_t vp8_pred8x8c_prob_inter[3]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00189">vp8data.h:189</a></div></div>
<div class="ttc" id="ah264pred_8h_html_a6b62b86789ab57bc12383545cffc2a32"><div class="ttname"><a href="h264pred_8h.html#a6b62b86789ab57bc12383545cffc2a32">DC_129_PRED8x8</a></div><div class="ttdeci">#define DC_129_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00086">h264pred.h:86</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a0bba4ee59e0894465c7aaa11c73bcbd5"><div class="ttname"><a href="intreadwrite_8h.html#a0bba4ee59e0894465c7aaa11c73bcbd5">AV_ZERO32</a></div><div class="ttdeci">#define AV_ZERO32(d)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00629">intreadwrite.h:629</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga6b4950dd3320e524f648799927f256a7"><div class="ttname"><a href="group__lavc__core.html#ga6b4950dd3320e524f648799927f256a7">AV_GET_BUFFER_FLAG_REF</a></div><div class="ttdeci">#define AV_GET_BUFFER_FLAG_REF</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00509">avcodec.h:509</a></div></div>
<div class="ttc" id="avp8data_8h_html_a33e4af83ba1683487a976b5dab2dd1f2"><div class="ttname"><a href="vp8data_8h.html#a33e4af83ba1683487a976b5dab2dd1f2">vp8_pred16x16_tree_intra</a></div><div class="ttdeci">static const int8_t vp8_pred16x16_tree_intra[4][2]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00047">vp8data.h:47</a></div></div>
<div class="ttc" id="avp8_8c_html_ae0aa2235fc67308def14be87a6ba7b0b"><div class="ttname"><a href="vp8_8c.html#ae0aa2235fc67308def14be87a6ba7b0b">parse_segment_info</a></div><div class="ttdeci">static void parse_segment_info(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00262">vp8.c:262</a></div></div>
<div class="ttc" id="avp8data_8h_html_aff94be65a7ea5542bc16b68e1338efa5"><div class="ttname"><a href="vp8data_8h.html#aff94be65a7ea5542bc16b68e1338efa5">vp8_pred4x4_prob_inter</a></div><div class="ttdeci">static const uint8_t vp8_pred4x4_prob_inter[9]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00192">vp8data.h:192</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00162">libkvazaar.c:300</a></div></div>
<div class="ttc" id="astruct_v_p7_m_v_pred_html_a58430e9106065387ed289142072e89bf"><div class="ttname"><a href="struct_v_p7_m_v_pred.html#a58430e9106065387ed289142072e89bf">VP7MVPred::score</a></div><div class="ttdeci">uint8_t score</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00065">vp8data.h:65</a></div></div>
<div class="ttc" id="avp8data_8h_html_a8b252d40bdb07a8b89c6427988412d86"><div class="ttname"><a href="vp8data_8h.html#a8b252d40bdb07a8b89c6427988412d86">vp8_mbsplits</a></div><div class="ttdeci">static const uint8_t vp8_mbsplits[5][16]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00127">vp8data.h:127</a></div></div>
<div class="ttc" id="atests_2movenc_8c_html_a93cc7296f13f507c1fd7abd0db36b898"><div class="ttname"><a href="tests_2movenc_8c.html#a93cc7296f13f507c1fd7abd0db36b898">ctx</a></div><div class="ttdeci">AVFormatContext * ctx</div><div class="ttdef"><b>Definition:</b> <a href="tests_2movenc_8c_source.html#l00048">movenc.c:48</a></div></div>
<div class="ttc" id="avp8_8c_html_af73b3eb8f4dd0a99bcec3e46907cd7ca"><div class="ttname"><a href="vp8_8c.html#af73b3eb8f4dd0a99bcec3e46907cd7ca">decode_block_coeffs</a></div><div class="ttdeci">static av_always_inline int decode_block_coeffs(VP56RangeCoder *c, int16_t block[16], uint8_t probs[16][3][NUM_DCT_TOKENS - 1], int i, int zero_nhood, int16_t qmul[2], const uint8_t scan[16], int vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01454">vp8.c:1454</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_acacf593700a5cf7d121196e53bd94ad2"><div class="ttname"><a href="struct_a_v_codec_context.html#acacf593700a5cf7d121196e53bd94ad2">AVCodecContext::execute2</a></div><div class="ttdeci">int(* execute2)(struct AVCodecContext *c, int(*func)(struct AVCodecContext *c2, void *arg, int jobnr, int threadnr), void *arg2, int *ret, int count)</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01845">avcodec.h:1845</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a1a7214fcedcf4bd3e668506d30d7892f"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a1a7214fcedcf4bd3e668506d30d7892f">AV_RL16</a></div><div class="ttdeci">#define AV_RL16</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00042">intreadwrite.h:42</a></div></div>
<div class="ttc" id="avp8data_8h_html_a0157e5e63abca9a3bd39b26267044a41"><div class="ttname"><a href="vp8data_8h.html#a0157e5e63abca9a3bd39b26267044a41">vp7_mode_contexts</a></div><div class="ttdeci">static const int vp7_mode_contexts[31][4]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00084">vp8data.h:84</a></div></div>
<div class="ttc" id="avp8_8c_html_a4c6868765383d5f74d88175fb361aba5"><div class="ttname"><a href="vp8_8c.html#a4c6868765383d5f74d88175fb361aba5">vp78_decode_mv_mb_modes</a></div><div class="ttdeci">static av_always_inline int vp78_decode_mv_mb_modes(AVCodecContext *avctx, VP8Frame *curframe, VP8Frame *prev_frame, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02277">vp8.c:2277</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV420P</div><div class="ttdoc">planar YUV 4:2:0, 12bpp, (1 Cr &amp; Cb sample per 2x2 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00066">pixfmt.h:66</a></div></div>
<div class="ttc" id="adummy_2stdatomic_8h_html_acced2a78b2a440317feed51f3e505d1d"><div class="ttname"><a href="dummy_2stdatomic_8h.html#acced2a78b2a440317feed51f3e505d1d">atomic_load</a></div><div class="ttdeci">#define atomic_load(object)</div><div class="ttdef"><b>Definition:</b> <a href="dummy_2stdatomic_8h_source.html#l00093">stdatomic.h:93</a></div></div>
<div class="ttc" id="avp8_8c_html_a8a1fe28fd6437804b93c524acd9078de"><div class="ttname"><a href="vp8_8c.html#a8a1fe28fd6437804b93c524acd9078de">vp8_decode_mv_mb_modes</a></div><div class="ttdeci">static int vp8_decode_mv_mb_modes(AVCodecContext *avctx, VP8Frame *cur_frame, VP8Frame *prev_frame)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02320">vp8.c:2320</a></div></div>
<div class="ttc" id="avp8_8h_html_a763bfdfe969afcc21bc1f5b2eb2b4231abdf75a48fca9a8c72a4093af3a7f5281"><div class="ttname"><a href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231abdf75a48fca9a8c72a4093af3a7f5281">VP8_SPLITMVMODE_8x16</a></div><div class="ttdeci">@ VP8_SPLITMVMODE_8x16</div><div class="ttdoc">2 8x16 blocks (horizontal)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00069">vp8.h:69</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_afd12020da5a235dfcf0c3c748fb5baed"><div class="ttname"><a href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a></div><div class="ttdeci">int32_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="avp8data_8h_html_a81d88d79d0d9c1aeae1cf7bb0fe9332c"><div class="ttname"><a href="vp8data_8h.html#a81d88d79d0d9c1aeae1cf7bb0fe9332c">vp8_mv_default_prob</a></div><div class="ttdeci">static const uint8_t vp8_mv_default_prob[2][19]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00755">vp8data.h:755</a></div></div>
<div class="ttc" id="avp8data_8h_html_a51842fda6e21f63dec43dd057a6ee8ef"><div class="ttname"><a href="vp8data_8h.html#a51842fda6e21f63dec43dd057a6ee8ef">vp8_coeff_band_indexes</a></div><div class="ttdeci">static const int8_t vp8_coeff_band_indexes[8][10]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00331">vp8data.h:331</a></div></div>
<div class="ttc" id="ah264pred_8h_html_a193b01df2ba3a6bbf60b537a4d23e622"><div class="ttname"><a href="h264pred_8h.html#a193b01df2ba3a6bbf60b537a4d23e622">TOP_DC_PRED8x8</a></div><div class="ttdeci">#define TOP_DC_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00075">h264pred.h:75</a></div></div>
<div class="ttc" id="astruct_v_p8_thread_data_html"><div class="ttname"><a href="struct_v_p8_thread_data.html">VP8ThreadData</a></div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00106">vp8.h:106</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="avp8data_8h_html_a5d2d8342c3522af053b90e638522167a"><div class="ttname"><a href="vp8data_8h.html#a5d2d8342c3522af053b90e638522167a">vp8_pred16x16_prob_inter</a></div><div class="ttdeci">static const uint8_t vp8_pred16x16_prob_inter[4]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00164">vp8data.h:164</a></div></div>
<div class="ttc" id="avp8_8c_html_a0046639f73e83372517ddfbc42f69d81"><div class="ttname"><a href="vp8_8c.html#a0046639f73e83372517ddfbc42f69d81">vp8_decode_flush_impl</a></div><div class="ttdeci">static void vp8_decode_flush_impl(AVCodecContext *avctx, int free_mem)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00128">vp8.c:128</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_gae21e6310b40920cd61f54e9c320d8e6c"><div class="ttname"><a href="group__lavc__core.html#gae21e6310b40920cd61f54e9c320d8e6c">AV_CODEC_CAP_FRAME_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_FRAME_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00106">codec.h:106</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a07517e3890ba7e19a612945483dc066a">AVDISCARD_ALL</a></div><div class="ttdeci">@ AVDISCARD_ALL</div><div class="ttdoc">discard all</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00236">avcodec.h:236</a></div></div>
<div class="ttc" id="avp8_8c_html_ad9cc4f88de0cd0d512126bb64096b4a0"><div class="ttname"><a href="vp8_8c.html#ad9cc4f88de0cd0d512126bb64096b4a0">decode_mb_coeffs</a></div><div class="ttdeci">static av_always_inline void decode_mb_coeffs(VP8Context *s, VP8ThreadData *td, VP56RangeCoder *c, VP8Macroblock *mb, uint8_t t_nnz[9], uint8_t l_nnz[9], int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01469">vp8.c:1469</a></div></div>
<div class="ttc" id="aaacdec__template_8c_html_affa0ccbe2ef7fd24bb8c61e28d1a6631"><div class="ttname"><a href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a></div><div class="ttdeci">static void flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="aacdec__template_8c_source.html#l00592">aacdec_template.c:592</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="aimg2dec_8c_html_a98ca8d52365848dfa8cdfd76c17860e6"><div class="ttname"><a href="img2dec_8c.html#a98ca8d52365848dfa8cdfd76c17860e6">sizes</a></div><div class="ttdeci">static const int sizes[][2]</div><div class="ttdef"><b>Definition:</b> <a href="img2dec_8c_source.html#l00053">img2dec.c:53</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a2bff2b6e75bc7a0df5c6edb8bfb814c3"><div class="ttname"><a href="intreadwrite_8h.html#a2bff2b6e75bc7a0df5c6edb8bfb814c3">AV_COPY128</a></div><div class="ttdeci">#define AV_COPY128(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00609">intreadwrite.h:609</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_ga135e9e929b5033bb8f68322497b2effc"><div class="ttname"><a href="group__lavu__buffer.html#ga135e9e929b5033bb8f68322497b2effc">av_buffer_unref</a></div><div class="ttdeci">void av_buffer_unref(AVBufferRef **buf)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00125">buffer.c:125</a></div></div>
<div class="ttc" id="avp8_8c_html_a354da4880ac14c73683893d748ae4eef"><div class="ttname"><a href="vp8_8c.html#a354da4880ac14c73683893d748ae4eef">vp7_decode_mb_row_sliced</a></div><div class="ttdeci">static int vp7_decode_mb_row_sliced(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02610">vp8.c:2610</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a50654c20c1149e9f6f8bb80a335231e7"><div class="ttname"><a href="intreadwrite_8h.html#a50654c20c1149e9f6f8bb80a335231e7">AV_COPY64</a></div><div class="ttdeci">#define AV_COPY64(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00605">intreadwrite.h:605</a></div></div>
<div class="ttc" id="avp8_8c_html_a7a3d15917fd395e6421934058466c0e9"><div class="ttname"><a href="vp8_8c.html#a7a3d15917fd395e6421934058466c0e9">vp8_update_dimensions</a></div><div class="ttdeci">static int vp8_update_dimensions(VP8Context *s, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00256">vp8.c:256</a></div></div>
<div class="ttc" id="avp56_8h_html_ae2969e890e83ab7ac85afe4a570ef7eb"><div class="ttname"><a href="vp56_8h.html#ae2969e890e83ab7ac85afe4a570ef7eb">vp8_rac_get_uint</a></div><div class="ttdeci">static int vp8_rac_get_uint(VP56RangeCoder *c, int bits)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00338">vp56.h:338</a></div></div>
<div class="ttc" id="avp56_8h_html_a8450644c1911075dae917c145051237a"><div class="ttname"><a href="vp56_8h.html#a8450644c1911075dae917c145051237a">vp8_rac_get_tree</a></div><div class="ttdeci">static av_always_inline int vp8_rac_get_tree(VP56RangeCoder *c, const int8_t(*tree)[2], const uint8_t *probs)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00394">vp56.h:394</a></div></div>
<div class="ttc" id="avp8_8h_html_afd9e08f0e6ac0b1b6d43aec6bf8055ceaa1831f0d0911d9f150fbdcf8c682e094"><div class="ttname"><a href="vp8_8h.html#afd9e08f0e6ac0b1b6d43aec6bf8055ceaa1831f0d0911d9f150fbdcf8c682e094">NUM_DCT_TOKENS</a></div><div class="ttdeci">@ NUM_DCT_TOKENS</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00056">vp8.h:55</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78ea02be39f151a8ace7a65c86e13053e817">AV_PICTURE_TYPE_I</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_I</div><div class="ttdoc">Intra.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00274">avutil.h:274</a></div></div>
<div class="ttc" id="atests_2checkasm_2vp8dsp_8c_html_a858376c0918f93e656c8c0d76c63dbe8"><div class="ttname"><a href="tests_2checkasm_2vp8dsp_8c.html#a858376c0918f93e656c8c0d76c63dbe8">src</a></div><div class="ttdeci">#define src</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2vp8dsp_8c_source.html#l00254">vp8dsp.c:254</a></div></div>
<div class="ttc" id="avp8_8c_html_a7e67457ad61f3803a905c64ff3170e9d"><div class="ttname"><a href="vp8_8c.html#a7e67457ad61f3803a905c64ff3170e9d">check_thread_pos</a></div><div class="ttdeci">#define check_thread_pos(td, otd, mb_x_check, mb_y_check)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02360">vp8.c:2360</a></div></div>
<div class="ttc" id="avp8data_8h_html_ab76bf2c4b93c40d20f9dbfa08a6f02ec"><div class="ttname"><a href="vp8data_8h.html#ab76bf2c4b93c40d20f9dbfa08a6f02ec">vp7_yac_qlookup</a></div><div class="ttdeci">static const uint16_t vp7_yac_qlookup[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00790">vp8data.h:790</a></div></div>
<div class="ttc" id="avp8data_8h_html_af90ef4ba5d9dc2e915a37e90ddfb2e0f"><div class="ttname"><a href="vp8data_8h.html#af90ef4ba5d9dc2e915a37e90ddfb2e0f">vp8_token_default_probs</a></div><div class="ttdeci">static const uint8_t vp8_token_default_probs[4][8][3][NUM_DCT_TOKENS - 1]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00369">vp8data.h:369</a></div></div>
<div class="ttc" id="ah264pred_8h_html_a64bb3aa91a1f8c47740b3ffb362dd036"><div class="ttname"><a href="h264pred_8h.html#a64bb3aa91a1f8c47740b3ffb362dd036">VERT_PRED8x8</a></div><div class="ttdeci">#define VERT_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00070">h264pred.h:70</a></div></div>
<div class="ttc" id="avp8_8c_html_a34518bfd3d945bb8b4c13f8f747da8e1"><div class="ttname"><a href="vp8_8c.html#a34518bfd3d945bb8b4c13f8f747da8e1">vp8_mc_part</a></div><div class="ttdeci">static av_always_inline void vp8_mc_part(VP8Context *s, VP8ThreadData *td, uint8_t *dst[3], ThreadFrame *ref_frame, int x_off, int y_off, int bx_off, int by_off, int block_w, int block_h, int width, int height, VP56mv *mv)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01916">vp8.c:1916</a></div></div>
<div class="ttc" id="avp8_8c_html_aa4bf4b2ed3e7a441dc49ff8a04967bf5"><div class="ttname"><a href="vp8_8c.html#aa4bf4b2ed3e7a441dc49ff8a04967bf5">vp78_decode_frame</a></div><div class="ttdeci">static av_always_inline int vp78_decode_frame(AVCodecContext *avctx, void *data, int *got_frame, AVPacket *avpkt, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02623">vp8.c:2623</a></div></div>
<div class="ttc" id="avp8data_8h_html_abbe0ed1a6f97bf7bfbac9d389843821c"><div class="ttname"><a href="vp8data_8h.html#abbe0ed1a6f97bf7bfbac9d389843821c">vp8_token_update_probs</a></div><div class="ttdeci">static const uint8_t vp8_token_update_probs[4][8][3][NUM_DCT_TOKENS - 1]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00540">vp8data.h:540</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_ab9aca4492668a79bc015f43ad944021e"><div class="ttname"><a href="libavutil_2internal_8h.html#ab9aca4492668a79bc015f43ad944021e">ONLY_IF_THREADS_ENABLED</a></div><div class="ttdeci">#define ONLY_IF_THREADS_ENABLED(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00192">internal.h:192</a></div></div>
<div class="ttc" id="avp8data_8h_html_abdd4809e2681adaf3885e8e04f7c7c90"><div class="ttname"><a href="vp8data_8h.html#abdd4809e2681adaf3885e8e04f7c7c90">vp8_mbsplit_count</a></div><div class="ttdeci">static const uint8_t vp8_mbsplit_count[4]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00142">vp8data.h:142</a></div></div>
<div class="ttc" id="astruct_v_p8_frame_html_aa09bd2ea0b2fcba1d3610b5b8cd11709"><div class="ttname"><a href="struct_v_p8_frame.html#aa09bd2ea0b2fcba1d3610b5b8cd11709">VP8Frame::seg_map</a></div><div class="ttdeci">AVBufferRef * seg_map</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00140">vp8.h:140</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a41b740ee413e64d31482a50721eaef4f"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a41b740ee413e64d31482a50721eaef4f">AV_RL24</a></div><div class="ttdeci">#define AV_RL24</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00078">intreadwrite.h:78</a></div></div>
<div class="ttc" id="avp8_8c_html_aeee0e537eb758cf49beb728cdf1228cf"><div class="ttname"><a href="vp8_8c.html#aeee0e537eb758cf49beb728cdf1228cf">ff_vp8_decode_frame</a></div><div class="ttdeci">int ff_vp8_decode_frame(AVCodecContext *avctx, void *data, int *got_frame, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02809">vp8.c:2809</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a7c3f497db4f11e02df33b15dddbe5fed"><div class="ttname"><a href="intreadwrite_8h.html#a7c3f497db4f11e02df33b15dddbe5fed">AV_ZERO128</a></div><div class="ttdeci">#define AV_ZERO128(d)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00637">intreadwrite.h:637</a></div></div>
<div class="ttc" id="avp8_8c_html_affd5b93ae28c94ba10e6eae1d03326e9"><div class="ttname"><a href="vp8_8c.html#affd5b93ae28c94ba10e6eae1d03326e9">decode_mb_row_no_filter</a></div><div class="ttdeci">static av_always_inline int decode_mb_row_no_filter(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02364">vp8.c:2364</a></div></div>
<div class="ttc" id="avp8data_8h_html_a2fff38992426856f963c9ad23050b067"><div class="ttname"><a href="vp8data_8h.html#a2fff38992426856f963c9ad23050b067">vp7_feature_value_size</a></div><div class="ttdeci">static const uint8_t vp7_feature_value_size[2][4]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00766">vp8data.h:766</a></div></div>
<div class="ttc" id="agxfenc_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="gxfenc_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="gxfenc_8c_source.html#l00089">gxfenc.c:89</a></div></div>
<div class="ttc" id="aundefined_8txt_html_a12d8853991e25cc8d069554379c29ef6"><div class="ttname"><a href="undefined_8txt.html#a12d8853991e25cc8d069554379c29ef6">c</a></div><div class="ttdeci">Undefined Behavior In the C some operations are like signed integer dereferencing freed accessing outside allocated Undefined Behavior must not occur in a C it is not safe even if the output of undefined operations is unused The unsafety may seem nit picking but Optimizing compilers have in fact optimized code on the assumption that no undefined Behavior occurs Optimizing code based on wrong assumptions can and has in some cases lead to effects beyond the output of computations The signed integer overflow problem in speed critical code Code which is highly optimized and works with signed integers sometimes has the problem that often the output of the computation does not c</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00032">undefined.txt:32</a></div></div>
<div class="ttc" id="avp8_8h_html"><div class="ttname"><a href="vp8_8h.html">vp8.h</a></div></div>
<div class="ttc" id="avp8dsp_8h_html_aca34b8b939810ae98874301f86bd5330"><div class="ttname"><a href="vp8dsp_8h.html#aca34b8b939810ae98874301f86bd5330">vp8_mc_func</a></div><div class="ttdeci">void(* vp8_mc_func)(uint8_t *dst, ptrdiff_t dstStride, uint8_t *src, ptrdiff_t srcStride, int h, int x, int y)</div><div class="ttdef"><b>Definition:</b> <a href="vp8dsp_8h_source.html#l00033">vp8dsp.h:33</a></div></div>
<div class="ttc" id="avp8_8c_html_a356e27c7d319b79df0b556307636b4e5"><div class="ttname"><a href="vp8_8c.html#a356e27c7d319b79df0b556307636b4e5">ff_vp8_decode_init</a></div><div class="ttdeci">av_cold int ff_vp8_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02893">vp8.c:2893</a></div></div>
<div class="ttc" id="apthread__frame_8c_html_aa3f6cbc3d5b74d46b247469ca3247ad1"><div class="ttname"><a href="pthread__frame_8c.html#aa3f6cbc3d5b74d46b247469ca3247ad1">ff_thread_release_buffer</a></div><div class="ttdeci">void ff_thread_release_buffer(AVCodecContext *avctx, ThreadFrame *f)</div><div class="ttdef"><b>Definition:</b> <a href="pthread__frame_8c_source.html#l00999">pthread_frame.c:999</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ac45708cccbd990e5f2f57021cc6b18c3"><div class="ttname"><a href="libavcodec_2internal_8h.html#ac45708cccbd990e5f2f57021cc6b18c3">FF_SIGNBIT</a></div><div class="ttdeci">#define FF_SIGNBIT(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00099">internal.h:99</a></div></div>
<div class="ttc" id="avp8data_8h_html_a9e6e78ce258413070ecd46fdb261af04"><div class="ttname"><a href="vp8data_8h.html#a9e6e78ce258413070ecd46fdb261af04">vp8_mbfirstidx</a></div><div class="ttdeci">static const uint8_t vp8_mbfirstidx[4][16]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00135">vp8data.h:135</a></div></div>
<div class="ttc" id="ah264pred_8h_html_a6148274c8784365775bfd8d751c8aa3a"><div class="ttname"><a href="h264pred_8h.html#a6148274c8784365775bfd8d751c8aa3a">DC_127_PRED8x8</a></div><div class="ttdeci">#define DC_127_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00085">h264pred.h:85</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16a31c8164477d9f571f82003065d2ab6f1">AVDISCARD_NONKEY</a></div><div class="ttdeci">@ AVDISCARD_NONKEY</div><div class="ttdoc">discard all frames except keyframes</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00235">avcodec.h:235</a></div></div>
<div class="ttc" id="avp8_8c_html_a6dbc42a737f5b870a503eee50468f508"><div class="ttname"><a href="vp8_8c.html#a6dbc42a737f5b870a503eee50468f508">xchg_mb_border</a></div><div class="ttdeci">static av_always_inline void xchg_mb_border(uint8_t *top_border, uint8_t *src_y, uint8_t *src_cb, uint8_t *src_cr, ptrdiff_t linesize, ptrdiff_t uvlinesize, int mb_x, int mb_y, int mb_width, int simple, int xchg)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01556">vp8.c:1556</a></div></div>
<div class="ttc" id="amathops_8h_html_ac8a0f0ffe3ce93875d537922ab910b95"><div class="ttname"><a href="mathops_8h.html#ac8a0f0ffe3ce93875d537922ab910b95">ff_zigzag_scan</a></div><div class="ttdeci">const uint8_t ff_zigzag_scan[16+1]</div><div class="ttdef"><b>Definition:</b> <a href="mathtables_8c_source.html#l00109">mathtables.c:109</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00050">codec.h:50</a></div></div>
<div class="ttc" id="astruct_a_v_h_w_accel_html_ae7f4bdfa848f4c38bb6d9d059c11a297"><div class="ttname"><a href="struct_a_v_h_w_accel.html#ae7f4bdfa848f4c38bb6d9d059c11a297">AVHWAccel::end_frame</a></div><div class="ttdeci">int(* end_frame)(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02511">avcodec.h:2511</a></div></div>
<div class="ttc" id="avp8data_8h_html_afd62671638daf61bd7529d2769986f79"><div class="ttname"><a href="vp8data_8h.html#afd62671638daf61bd7529d2769986f79">vp8_pred4x4_tree</a></div><div class="ttdeci">static const int8_t vp8_pred4x4_tree[9][2]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00168">vp8data.h:168</a></div></div>
<div class="ttc" id="avp8_8c_html_a7febd0407b74b1d9736dd0a46e0d9a47"><div class="ttname"><a href="vp8_8c.html#a7febd0407b74b1d9736dd0a46e0d9a47">MV_EDGE_CHECK</a></div><div class="ttdeci">#define MV_EDGE_CHECK(n)</div></div>
<div class="ttc" id="asnow_8txt_html_a719d7e9253d560ae4bac6546c3abc071"><div class="ttname"><a href="snow_8txt.html#a719d7e9253d560ae4bac6546c3abc071">dc</a></div><div class="ttdeci">Tag MUST be and&lt; 10hcoeff half pel interpolation filter coefficients, hcoeff[0] are the 2 middle coefficients[1] are the next outer ones and so on, resulting in a filter like:...eff[2], hcoeff[1], hcoeff[0], hcoeff[0], hcoeff[1], hcoeff[2] ... the sign of the coefficients is not explicitly stored but alternates after each coeff and coeff[0] is positive, so ...,+,-,+,-,+,+,-,+,-,+,... hcoeff[0] is not explicitly stored but found by subtracting the sum of all stored coefficients with signs from 32 hcoeff[0]=32 - hcoeff[1] - hcoeff[2] - ... a good choice for hcoeff and htaps is htaps=6 hcoeff={40,-10, 2} an alternative which requires more computations at both encoder and decoder side and may or may not be better is htaps=8 hcoeff={42,-14, 6,-2}ref_frames minimum of the number of available reference frames and max_ref_frames for example the first frame after a key frame always has ref_frames=1spatial_decomposition_type wavelet type 0 is a 9/7 symmetric compact integer wavelet 1 is a 5/3 symmetric compact integer wavelet others are reserved stored as delta from last, last is reset to 0 if always_reset||keyframeqlog quality(logarithmic quantizer scale) stored as delta from last, last is reset to 0 if always_reset||keyframemv_scale stored as delta from last, last is reset to 0 if always_reset||keyframe FIXME check that everything works fine if this changes between framesqbias dequantization bias stored as delta from last, last is reset to 0 if always_reset||keyframeblock_max_depth maximum depth of the block tree stored as delta from last, last is reset to 0 if always_reset||keyframequant_table quantization tableHighlevel bitstream structure:==============================--------------------------------------------|Header|--------------------------------------------|------------------------------------|||Block0||||split?||||yes no||||......... intra?||||:Block01 :yes no||||:Block02 :....... ..........||||:Block03 ::y DC ::ref index:||||:Block04 ::cb DC ::motion x :||||......... :cr DC ::motion y :||||....... ..........|||------------------------------------||------------------------------------|||Block1|||...|--------------------------------------------|------------ ------------ ------------|||Y subbands||Cb subbands||Cr subbands||||--- ---||--- ---||--- ---|||||LL0||HL0||||LL0||HL0||||LL0||HL0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||LH0||HH0||||LH0||HH0||||LH0||HH0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HL1||LH1||||HL1||LH1||||HL1||LH1|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HH1||HL2||||HH1||HL2||||HH1||HL2|||||...||...||...|||------------ ------------ ------------|--------------------------------------------Decoding process:=================------------|||Subbands|------------||||------------|Intra DC||||LL0 subband prediction ------------|\ Dequantization ------------------- \||Reference frames|\ IDWT|------- -------|Motion \|||Frame 0||Frame 1||Compensation . OBMC v -------|------- -------|--------------. \------&gt; Frame n output Frame Frame&lt;----------------------------------/|...|------------------- Range Coder:============Binary Range Coder:------------------- The implemented range coder is an adapted version based upon &quot;Range encoding: an algorithm for removing redundancy from a digitised message.&quot; by G. N. N. Martin. The symbols encoded by the Snow range coder are bits(0|1). The associated probabilities are not fix but change depending on the symbol mix seen so far. bit seen|new state ---------+----------------------------------------------- 0|256 - state_transition_table[256 - old_state];1|state_transition_table[old_state];state_transition_table={ 0, 0, 0, 0, 0, 0, 0, 0, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 190, 191, 192, 194, 194, 195, 196, 197, 198, 199, 200, 201, 202, 202, 204, 205, 206, 207, 208, 209, 209, 210, 211, 212, 213, 215, 215, 216, 217, 218, 219, 220, 220, 222, 223, 224, 225, 226, 227, 227, 229, 229, 230, 231, 232, 234, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 248, 0, 0, 0, 0, 0, 0, 0};FIXME Range Coding of integers:------------------------- FIXME Neighboring Blocks:===================left and top are set to the respective blocks unless they are outside of the image in which case they are set to the Null block top-left is set to the top left block unless it is outside of the image in which case it is set to the left block if this block has no larger parent block or it is at the left side of its parent block and the top right block is not outside of the image then the top right block is used for top-right else the top-left block is used Null block y, cb, cr are 128 level, ref, mx and my are 0 Motion Vector Prediction:=========================1. the motion vectors of all the neighboring blocks are scaled to compensate for the difference of reference frames scaled_mv=(mv *(256 *(current_reference+1)/(mv.reference+1))+128)&gt; the median of the scaled top and top right vectors is used as motion vector prediction the used motion vector is the sum of the predictor and(mvx_diff, mvy_diff) *mv_scale Intra DC Prediction block[y][x] dc[1]</div><div class="ttdef"><b>Definition:</b> <a href="snow_8txt_source.html#l00400">snow.txt:400</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="avf__vaguedenoiser_8c_html_a119184041ca9d38a2ef373e1227323f9"><div class="ttname"><a href="vf__vaguedenoiser_8c.html#a119184041ca9d38a2ef373e1227323f9">copy</a></div><div class="ttdeci">static void copy(const float *p1, float *p2, const int length)</div><div class="ttdef"><b>Definition:</b> <a href="vf__vaguedenoiser_8c_source.html#l00194">vf_vaguedenoiser.c:194</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga88b0ecbc4eb3453eef3fbefa3bddeb7c"><div class="ttname"><a href="group__lavu__frame.html#ga88b0ecbc4eb3453eef3fbefa3bddeb7c">av_frame_ref</a></div><div class="ttdeci">int av_frame_ref(AVFrame *dst, const AVFrame *src)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00443">frame.c:443</a></div></div>
<div class="ttc" id="avp8data_8h_html_afe9ba712775f0262d4de046402a01775"><div class="ttname"><a href="vp8data_8h.html#afe9ba712775f0262d4de046402a01775">vp8_coeff_band</a></div><div class="ttdeci">static const uint8_t vp8_coeff_band[16]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00325">vp8data.h:325</a></div></div>
<div class="ttc" id="avp8_8c_html_a2d2a78c4e510d69cb369374e98e40795"><div class="ttname"><a href="vp8_8c.html#a2d2a78c4e510d69cb369374e98e40795">subpel_idx</a></div><div class="ttdeci">static const uint8_t subpel_idx[3][8]</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01784">vp8.c:1784</a></div></div>
<div class="ttc" id="avp8_8c_html_aa3b38921ec23b90789c5c9251b64eb66"><div class="ttname"><a href="vp8_8c.html#aa3b38921ec23b90789c5c9251b64eb66">vp8_mc_chroma</a></div><div class="ttdeci">static av_always_inline void vp8_mc_chroma(VP8Context *s, VP8ThreadData *td, uint8_t *dst1, uint8_t *dst2, ThreadFrame *ref, const VP56mv *mv, int x_off, int y_off, int block_w, int block_h, int width, int height, ptrdiff_t linesize, vp8_mc_func mc_func[3][3])</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01866">vp8.c:1866</a></div></div>
<div class="ttc" id="arectangle_8h_html"><div class="ttname"><a href="rectangle_8h.html">rectangle.h</a></div></div>
<div class="ttc" id="avp8_8c_html_a22ef15a7a7386d0937918d59be5d714b"><div class="ttname"><a href="vp8_8c.html#a22ef15a7a7386d0937918d59be5d714b">vp7_update_dimensions</a></div><div class="ttdeci">static int vp7_update_dimensions(VP8Context *s, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00251">vp8.c:251</a></div></div>
<div class="ttc" id="avp8_8h_html_a3b21ec743ec26e26795ebe60baca2066"><div class="ttname"><a href="vp8_8h.html#a3b21ec743ec26e26795ebe60baca2066">EDGE_EMU_LINESIZE</a></div><div class="ttdeci">#define EDGE_EMU_LINESIZE</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00132">vp8.h:132</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="avp8_8c_html_aa91af00563089982493df49e46a5ee00"><div class="ttname"><a href="vp8_8c.html#aa91af00563089982493df49e46a5ee00">filter_mb</a></div><div class="ttdeci">static av_always_inline void filter_mb(VP8Context *s, uint8_t *dst[3], VP8FilterStrength *f, int mb_x, int mb_y, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02156">vp8.c:2156</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca03a6514a01b1b71013465d825ff3dacf"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca03a6514a01b1b71013465d825ff3dacf">VERT_RIGHT_PRED</a></div><div class="ttdeci">@ VERT_RIGHT_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00051">vp9.h:51</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_a01a53d07936f4c7ee280444793b6967b"><div class="ttname"><a href="struct_a_v_codec.html#a01a53d07936f4c7ee280444793b6967b">AVCodec::id</a></div><div class="ttdeci">enum AVCodecID id</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00202">codec.h:204</a></div></div>
<div class="ttc" id="avp8_8c_html_a4162dcc65b3ab0d0fbdb9923306c3057"><div class="ttname"><a href="vp8_8c.html#a4162dcc65b3ab0d0fbdb9923306c3057">vp8_release_frame</a></div><div class="ttdeci">static void vp8_release_frame(VP8Context *s, VP8Frame *f)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00095">vp8.c:95</a></div></div>
<div class="ttc" id="avp8_8c_html_aaa422cb1d2d7ef84b31f8cf40490956a"><div class="ttname"><a href="vp8_8c.html#aaa422cb1d2d7ef84b31f8cf40490956a">decode_mb_mode</a></div><div class="ttdeci">static av_always_inline void decode_mb_mode(VP8Context *s, VP8mvbounds *mv_bounds, VP8Macroblock *mb, int mb_x, int mb_y, uint8_t *segment, uint8_t *ref, int layout, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01243">vp8.c:1243</a></div></div>
<div class="ttc" id="avp8_8c_html_adbd1fb76e053394a70d9d78ddcc19c06"><div class="ttname"><a href="vp8_8c.html#adbd1fb76e053394a70d9d78ddcc19c06">free_buffers</a></div><div class="ttdeci">static void free_buffers(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00050">vp8.c:50</a></div></div>
<div class="ttc" id="avp8_8c_html_a8aa2435341ddf68be846bf37e652956b"><div class="ttname"><a href="vp8_8c.html#a8aa2435341ddf68be846bf37e652956b">vp7_decode_mv_mb_modes</a></div><div class="ttdeci">static int vp7_decode_mv_mb_modes(AVCodecContext *avctx, VP8Frame *cur_frame, VP8Frame *prev_frame)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02314">vp8.c:2314</a></div></div>
<div class="ttc" id="ah264pred_8h_html_af5efe46e43d436cb7fb8621bf5eb7baf"><div class="ttname"><a href="h264pred_8h.html#af5efe46e43d436cb7fb8621bf5eb7baf">DC_128_PRED8x8</a></div><div class="ttdeci">#define DC_128_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00076">h264pred.h:76</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a91bc1a1c1c4a3cc6db54d59705fded0b"><div class="ttname"><a href="avcodec_8h.html#a91bc1a1c1c4a3cc6db54d59705fded0b">FF_THREAD_SLICE</a></div><div class="ttdeci">#define FF_THREAD_SLICE</div><div class="ttdoc">Decode more than one part of a single frame at once.</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01797">avcodec.h:1797</a></div></div>
<div class="ttc" id="avp8data_8h_html_a7f8a762859b26b88db4c83a84093b1dd"><div class="ttname"><a href="vp8data_8h.html#a7f8a762859b26b88db4c83a84093b1dd">vp8_pred8x8c_prob_intra</a></div><div class="ttdeci">static const uint8_t vp8_pred8x8c_prob_intra[3]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00186">vp8data.h:186</a></div></div>
<div class="ttc" id="avp8_8c_html_af351ae3a3ff8ff9a1571d2b2587615c5"><div class="ttname"><a href="vp8_8c.html#af351ae3a3ff8ff9a1571d2b2587615c5">vp8_read_mv_component</a></div><div class="ttdeci">static int vp8_read_mv_component(VP56RangeCoder *c, const uint8_t *p)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00893">vp8.c:893</a></div></div>
<div class="ttc" id="avp56_8h_html_ab2ea5646eb819361c0c9bc9bceac075fa02056c5beadb98b0e303e4595d5930dd"><div class="ttname"><a href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa02056c5beadb98b0e303e4595d5930dd">VP56_FRAME_NONE</a></div><div class="ttdeci">@ VP56_FRAME_NONE</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00041">vp56.h:41</a></div></div>
<div class="ttc" id="avp8_8c_html_a35d4ce651beea4a244812169a78f7ff0"><div class="ttname"><a href="vp8_8c.html#a35d4ce651beea4a244812169a78f7ff0">vp8_decode_mvs</a></div><div class="ttdeci">static av_always_inline void vp8_decode_mvs(VP8Context *s, VP8mvbounds *mv_bounds, VP8Macroblock *mb, int mb_x, int mb_y, int layout)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01108">vp8.c:1108</a></div></div>
<div class="ttc" id="avp8data_8h_html_acea23efb0efc4eb1062fcf62d7bc5130"><div class="ttname"><a href="vp8data_8h.html#acea23efb0efc4eb1062fcf62d7bc5130">vp8_pred4x4_prob_intra</a></div><div class="ttdeci">static const uint8_t vp8_pred4x4_prob_intra[10][10][9]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00196">vp8data.h:196</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a64f9f90ece96c7bab4aee3deacf170e0"><div class="ttname"><a href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a></div><div class="ttdeci">#define height</div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="aallcodecs_8c_html_aadfddb881dface3d8c49cad5bc3d9911"><div class="ttname"><a href="allcodecs_8c.html#aadfddb881dface3d8c49cad5bc3d9911">ff_vp7_decoder</a></div><div class="ttdeci">AVCodec ff_vp7_decoder</div></div>
<div class="ttc" id="agroup__lavc__core_html_ga7c4f386d1d6df0214eb35f2be1c82779"><div class="ttname"><a href="group__lavc__core.html#ga7c4f386d1d6df0214eb35f2be1c82779">AV_CODEC_CAP_SLICE_THREADS</a></div><div class="ttdeci">#define AV_CODEC_CAP_SLICE_THREADS</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00110">codec.h:110</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_aa52bfc6605f6a3059a0c3226cc0f6567"><div class="ttname"><a href="struct_a_v_frame.html#aa52bfc6605f6a3059a0c3226cc0f6567">AVFrame::linesize</a></div><div class="ttdeci">int linesize[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00339">frame.h:339</a></div></div>
<div class="ttc" id="avp8_8c_html_a427af93edd3d1af0f737f0cc6fb17525"><div class="ttname"><a href="vp8_8c.html#a427af93edd3d1af0f737f0cc6fb17525">vp8_decode_frame_header</a></div><div class="ttdeci">static int vp8_decode_frame_header(VP8Context *s, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00708">vp8.c:708</a></div></div>
<div class="ttc" id="avp8data_8h_html_a39650033b098d07ab5367555dfde0878"><div class="ttname"><a href="vp8data_8h.html#a39650033b098d07ab5367555dfde0878">vp8_mbsplit_prob</a></div><div class="ttdeci">static const uint8_t vp8_mbsplit_prob[3]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00145">vp8data.h:145</a></div></div>
<div class="ttc" id="avp8_8c_html_a1ddd2cb704ed696e34ec1bf58f58dfc0"><div class="ttname"><a href="vp8_8c.html#a1ddd2cb704ed696e34ec1bf58f58dfc0">setup_partitions</a></div><div class="ttdeci">static int setup_partitions(VP8Context *s, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00308">vp8.c:308</a></div></div>
<div class="ttc" id="avp8data_8h_html_a4bb3044658f2ebfc466f4e5d96adfb06"><div class="ttname"><a href="vp8data_8h.html#a4bb3044658f2ebfc466f4e5d96adfb06">vp8_pred16x16_tree_inter</a></div><div class="ttdeci">static const int8_t vp8_pred16x16_tree_inter[4][2]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00054">vp8data.h:54</a></div></div>
<div class="ttc" id="avp56_8h_html_a21c934dddc96e2fb3ae6fe719dfef700"><div class="ttname"><a href="vp56_8h.html#a21c934dddc96e2fb3ae6fe719dfef700">ff_vp56_init_range_decoder</a></div><div class="ttdeci">int ff_vp56_init_range_decoder(VP56RangeCoder *c, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="vp56rac_8c_source.html#l00040">vp56rac.c:40</a></div></div>
<div class="ttc" id="astruct_v_p56_range_coder_html"><div class="ttname"><a href="struct_v_p56_range_coder.html">VP56RangeCoder</a></div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00085">vp56.h:85</a></div></div>
<div class="ttc" id="avp8data_8h_html_a71808698e376e0f491a6fd992585d950"><div class="ttname"><a href="vp8data_8h.html#a71808698e376e0f491a6fd992585d950">vp7_feature_index_tree</a></div><div class="ttdeci">static const int8_t vp7_feature_index_tree[4][2]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00771">vp8data.h:771</a></div></div>
<div class="ttc" id="ahwconfig_8h_html_a70bd26e4d09c023615aba0c4e82269fe"><div class="ttname"><a href="hwconfig_8h.html#a70bd26e4d09c023615aba0c4e82269fe">HWACCEL_NVDEC</a></div><div class="ttdeci">#define HWACCEL_NVDEC(codec)</div><div class="ttdef"><b>Definition:</b> <a href="hwconfig_8h_source.html#l00071">hwconfig.h:71</a></div></div>
<div class="ttc" id="aallcodecs_8c_html_a1b4dcd7d2d8d41fcdd56e64c2d9ea461"><div class="ttname"><a href="allcodecs_8c.html#a1b4dcd7d2d8d41fcdd56e64c2d9ea461">ff_vp8_decoder</a></div><div class="ttdeci">AVCodec ff_vp8_decoder</div></div>
<div class="ttc" id="ah264pred_8h_html_aeeb95e1dee8db8d80df9dacc07d0a84c"><div class="ttname"><a href="h264pred_8h.html#aeeb95e1dee8db8d80df9dacc07d0a84c">PLANE_PRED8x8</a></div><div class="ttdeci">#define PLANE_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00071">h264pred.h:71</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5abb09cadf3b2d6b5ce5980401bcf638a8">AV_PIX_FMT_VAAPI</a></div><div class="ttdeci">@ AV_PIX_FMT_VAAPI</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00122">pixfmt.h:122</a></div></div>
<div class="ttc" id="avf__colormatrix_8c_html_a32e154471fe091d766cfadf5f7314e77"><div class="ttname"><a href="vf__colormatrix_8c.html#a32e154471fe091d766cfadf5f7314e77">mb</a></div><div class="ttdeci">#define mb</div><div class="ttdef"><b>Definition:</b> <a href="vf__colormatrix_8c_source.html#l00101">vf_colormatrix.c:101</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a4c57837c88ef09274545ae2ebd18160a"><div class="ttname"><a href="os2threads_8h.html#a4c57837c88ef09274545ae2ebd18160a">pthread_cond_destroy</a></div><div class="ttdeci">static av_always_inline int pthread_cond_destroy(pthread_cond_t *cond)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00144">os2threads.h:144</a></div></div>
<div class="ttc" id="astruct_v_p8_macroblock_html"><div class="ttname"><a href="struct_v_p8_macroblock.html">VP8Macroblock</a></div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00081">vp8.h:81</a></div></div>
<div class="ttc" id="astruct_v_p8_frame_html_ae5a3ab34a06c21676e8b7c3fdf25dc66"><div class="ttname"><a href="struct_v_p8_frame.html#ae5a3ab34a06c21676e8b7c3fdf25dc66">VP8Frame::tf</a></div><div class="ttdeci">ThreadFrame tf</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00139">vp8.h:139</a></div></div>
<div class="ttc" id="avp8_8h_html_a7085694406beaace33603f97b2d118a5"><div class="ttname"><a href="vp8_8h.html#a7085694406beaace33603f97b2d118a5">MODE_I4x4</a></div><div class="ttdeci">#define MODE_I4x4</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00059">vp8.h:59</a></div></div>
<div class="ttc" id="aavcodec_8h_html_a116c7fb56ac57ccca3e08b80467b2a40"><div class="ttname"><a href="avcodec_8h.html#a116c7fb56ac57ccca3e08b80467b2a40">FF_THREAD_FRAME</a></div><div class="ttdeci">#define FF_THREAD_FRAME</div><div class="ttdoc">Decode more than one frame at once.</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01796">avcodec.h:1796</a></div></div>
<div class="ttc" id="avp8_8c_html_a0741e57a53b5efc12adb2d6032775a6c"><div class="ttname"><a href="vp8_8c.html#a0741e57a53b5efc12adb2d6032775a6c">H_LOOP_FILTER_16Y_INNER</a></div><div class="ttdeci">#define H_LOOP_FILTER_16Y_INNER(cond)</div></div>
<div class="ttc" id="avp8_8c_html_a19aee5dd32dae2ad1b7be6adbf5600ab"><div class="ttname"><a href="vp8_8c.html#a19aee5dd32dae2ad1b7be6adbf5600ab">vp78_decode_mb_row_sliced</a></div><div class="ttdeci">static av_always_inline int vp78_decode_mb_row_sliced(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02576">vp8.c:2576</a></div></div>
<div class="ttc" id="aos2threads_8h_html_af75a104513c9384ace314b0a6b1a8240"><div class="ttname"><a href="os2threads_8h.html#af75a104513c9384ace314b0a6b1a8240">pthread_mutex_destroy</a></div><div class="ttdeci">static av_always_inline int pthread_mutex_destroy(pthread_mutex_t *mutex)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00112">os2threads.h:112</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a669858250c93520fd944ba5d6eb1884d"><div class="ttname"><a href="filter__design_8txt.html#a669858250c93520fd944ba5d6eb1884d">layout</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel layout</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00018">filter_design.txt:18</a></div></div>
<div class="ttc" id="avp8_8c_html_a12d6390cc0e06d3e1adebd06777654dd"><div class="ttname"><a href="vp8_8c.html#a12d6390cc0e06d3e1adebd06777654dd">idct_mb</a></div><div class="ttdeci">static av_always_inline void idct_mb(VP8Context *s, VP8ThreadData *td, uint8_t *dst[3], VP8Macroblock *mb)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02061">vp8.c:2061</a></div></div>
<div class="ttc" id="astruct_v_p8_macroblock_html_ac51c6ae243b59488f7655c2970e1549d"><div class="ttname"><a href="struct_v_p8_macroblock.html#ac51c6ae243b59488f7655c2970e1549d">VP8Macroblock::bmv</a></div><div class="ttdeci">VP56mv bmv[16]</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00093">vp8.h:93</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea3fc7f7a6861e3744f32e38a3c9d15c20"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea3fc7f7a6861e3744f32e38a3c9d15c20">AV_CODEC_ID_VP7</a></div><div class="ttdeci">@ AV_CODEC_ID_VP7</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00230">codec_id.h:230</a></div></div>
<div class="ttc" id="atests_2checkasm_2h264pred_8c_html_a631c6befc8ec221896734437f964a631"><div class="ttname"><a href="tests_2checkasm_2h264pred_8c.html#a631c6befc8ec221896734437f964a631">src1</a></div><div class="ttdeci">#define src1</div><div class="ttdef"><b>Definition:</b> <a href="tests_2checkasm_2h264pred_8c_source.html#l00139">h264pred.c:139</a></div></div>
<div class="ttc" id="avp8_8c_html_abc0e66c2fbb4cbfa00984334c9e18354"><div class="ttname"><a href="vp8_8c.html#abc0e66c2fbb4cbfa00984334c9e18354">decode_block_coeffs_internal</a></div><div class="ttdeci">static av_always_inline int decode_block_coeffs_internal(VP56RangeCoder *r, int16_t block[16], uint8_t probs[16][3][NUM_DCT_TOKENS - 1], int i, uint8_t *token_prob, int16_t qmul[2], const uint8_t scan[16], int vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01335">vp8.c:1335</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aecae75e941928a27c27ec75b2fd502b3c48"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecae75e941928a27c27ec75b2fd502b3c48">DC_129_PRED</a></div><div class="ttdeci">@ DC_129_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00060">vp9.h:60</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="asipr_8c_html_ab9fb8a96b1272c77c97d6da2f92828dd"><div class="ttname"><a href="sipr_8c.html#ab9fb8a96b1272c77c97d6da2f92828dd">modes</a></div><div class="ttdeci">static const SiprModeParam modes[MODE_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="sipr_8c_source.html#l00069">sipr.c:69</a></div></div>
<div class="ttc" id="avp8_8c_html_ab2e7c08c6bc216ff577a7b111e2bdc1d"><div class="ttname"><a href="vp8_8c.html#ab2e7c08c6bc216ff577a7b111e2bdc1d">decode_intra4x4_modes</a></div><div class="ttdeci">static av_always_inline void decode_intra4x4_modes(VP8Context *s, VP56RangeCoder *c, VP8Macroblock *mb, int mb_x, int keyframe, int layout)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01208">vp8.c:1208</a></div></div>
<div class="ttc" id="avp56_8h_html_ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb"><div class="ttname"><a href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fa888c6b04564d7c14f072262a2a8c05cb">VP56_FRAME_GOLDEN</a></div><div class="ttdeci">@ VP56_FRAME_GOLDEN</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00044">vp56.h:44</a></div></div>
<div class="ttc" id="astruct_v_p7_m_v_pred_html"><div class="ttname"><a href="struct_v_p7_m_v_pred.html">VP7MVPred</a></div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00061">vp8data.h:61</a></div></div>
<div class="ttc" id="astruct_v_p8_frame_html_adb246ce8cf1db52cc7b0f8e09a5ed88e"><div class="ttname"><a href="struct_v_p8_frame.html#adb246ce8cf1db52cc7b0f8e09a5ed88e">VP8Frame::hwaccel_picture_private</a></div><div class="ttdeci">void * hwaccel_picture_private</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00143">vp8.h:143</a></div></div>
<div class="ttc" id="avp8_8c_html_aa7a9d712ee24915b2d548770c3385f4f"><div class="ttname"><a href="vp8_8c.html#aa7a9d712ee24915b2d548770c3385f4f">vp7_fade_frame</a></div><div class="ttdeci">static int vp7_fade_frame(VP8Context *s, int alpha, int beta)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00507">vp8.c:507</a></div></div>
<div class="ttc" id="aattributes_8h_html_a28f50f4c125959216885f01d56dbe866"><div class="ttname"><a href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div><div class="ttdeci">#define av_always_inline</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00049">attributes.h:49</a></div></div>
<div class="ttc" id="avp8_8c_html_a6135c3e61c6b999f61ee49e22166d9a9"><div class="ttname"><a href="vp8_8c.html#a6135c3e61c6b999f61ee49e22166d9a9">prefetch_motion</a></div><div class="ttdeci">static av_always_inline void prefetch_motion(VP8Context *s, VP8Macroblock *mb, int mb_x, int mb_y, int mb_xy, int ref)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01954">vp8.c:1954</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_af4d73eb3f0a39c7cb3a97ce7296b80bf"><div class="ttname"><a href="intreadwrite_8h.html#af4d73eb3f0a39c7cb3a97ce7296b80bf">AV_COPY32</a></div><div class="ttdeci">#define AV_COPY32(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00601">intreadwrite.h:601</a></div></div>
<div class="ttc" id="astruct_thread_frame_html"><div class="ttname"><a href="struct_thread_frame.html">ThreadFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2thread_8h_source.html#l00034">thread.h:34</a></div></div>
<div class="ttc" id="amultithreading_8txt_html_a4e871baf97bc0c256543f0fde05c8307"><div class="ttname"><a href="multithreading_8txt.html#a4e871baf97bc0c256543f0fde05c8307">update_thread_context</a></div><div class="ttdeci">the pkt_dts and pkt_pts fields in AVFrame will work as usual Restrictions on codec whose streams don t reset across will not work because their bitstreams cannot be decoded in parallel *The contents of buffers must not be read before as well as code calling up to before the decode process starts Call have update_thread_context() run it in the next thread. Add AV_CODEC_CAP_FRAME_THREADS to the codec capabilities. There will be very little speed gain at this point but it should work. If there are inter-frame dependencies</div></div>
<div class="ttc" id="avp8_8c_html_abfe673fcc128da8700647b1ff1d06b6e"><div class="ttname"><a href="vp8_8c.html#abfe673fcc128da8700647b1ff1d06b6e">vp78_reset_probability_tables</a></div><div class="ttdeci">static void vp78_reset_probability_tables(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00421">vp8.c:421</a></div></div>
<div class="ttc" id="avp8_8c_html_a2f47c932402141468bf24d02fa93b13b"><div class="ttname"><a href="vp8_8c.html#a2f47c932402141468bf24d02fa93b13b">vp7_decode_frame_header</a></div><div class="ttdeci">static int vp7_decode_frame_header(VP8Context *s, const uint8_t *buf, int buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00544">vp8.c:544</a></div></div>
<div class="ttc" id="avp8_8c_html_a2115629b0b1b34fc9cb46173ed0bd1a0"><div class="ttname"><a href="vp8_8c.html#a2115629b0b1b34fc9cb46173ed0bd1a0">fade</a></div><div class="ttdeci">static void fade(uint8_t *dst, ptrdiff_t dst_linesize, const uint8_t *src, ptrdiff_t src_linesize, int width, int height, int alpha, int beta)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00491">vp8.c:491</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b"><div class="ttname"><a href="pixfmt_8h.html#a3da0bf691418bc22c4bcbe6583ad589aa00fd8f9315f17e8a0eda86c87da63c0b">AVCOL_RANGE_MPEG</a></div><div class="ttdeci">@ AVCOL_RANGE_MPEG</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00569">pixfmt.h:569</a></div></div>
<div class="ttc" id="avp8_8c_html_a05b75a5e23be9100effa59ca931b8078"><div class="ttname"><a href="vp8_8c.html#a05b75a5e23be9100effa59ca931b8078">vp8_decode_mb_row_sliced</a></div><div class="ttdeci">static int vp8_decode_mb_row_sliced(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02616">vp8.c:2616</a></div></div>
<div class="ttc" id="avp8_8h_html_a763bfdfe969afcc21bc1f5b2eb2b4231ab73a2589ebb0e60166d0bbd22315f906"><div class="ttname"><a href="vp8_8h.html#a763bfdfe969afcc21bc1f5b2eb2b4231ab73a2589ebb0e60166d0bbd22315f906">VP8_SPLITMVMODE_NONE</a></div><div class="ttdeci">@ VP8_SPLITMVMODE_NONE</div><div class="ttdoc">(only used in prediction) no split MVs</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00072">vp8.h:72</a></div></div>
<div class="ttc" id="ah264pred_8h_html_aac13e4f170a3ad0b8dc084e972843a20"><div class="ttname"><a href="h264pred_8h.html#aac13e4f170a3ad0b8dc084e972843a20">LEFT_DC_PRED8x8</a></div><div class="ttdeci">#define LEFT_DC_PRED8x8</div><div class="ttdef"><b>Definition:</b> <a href="h264pred_8h_source.html#l00074">h264pred.h:74</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_aac5f469c36afd41f4635ae16ef99aaeb"><div class="ttname"><a href="intreadwrite_8h.html#aac5f469c36afd41f4635ae16ef99aaeb">AV_RN32A</a></div><div class="ttdeci">#define AV_RN32A(p)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00526">intreadwrite.h:526</a></div></div>
<div class="ttc" id="avp8_8c_html_a10c0537804d9ebb005f18cb3ef5ae2a1"><div class="ttname"><a href="vp8_8c.html#a10c0537804d9ebb005f18cb3ef5ae2a1">vp7_decode_block_coeffs_internal</a></div><div class="ttdeci">static int vp7_decode_block_coeffs_internal(VP56RangeCoder *r, int16_t block[16], uint8_t probs[16][3][NUM_DCT_TOKENS - 1], int i, uint8_t *token_prob, int16_t qmul[2], const uint8_t scan[16])</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01417">vp8.c:1417</a></div></div>
<div class="ttc" id="aattributes_8h_html_a934ff195492486f0f9d22770103e757b"><div class="ttname"><a href="attributes_8h.html#a934ff195492486f0f9d22770103e757b">av_uninit</a></div><div class="ttdeci">#define av_uninit(x)</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00156">attributes.h:156</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="avp56_8h_html_ab2ea5646eb819361c0c9bc9bceac075f"><div class="ttname"><a href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075f">VP56Frame</a></div><div class="ttdeci">VP56Frame</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00040">vp56.h:40</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga96970a2980bf6ad28cd403e7dc52d6c5"><div class="ttname"><a href="group__lavu__log__constants.html#ga96970a2980bf6ad28cd403e7dc52d6c5">AV_LOG_FATAL</a></div><div class="ttdeci">#define AV_LOG_FATAL</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00188">log.h:188</a></div></div>
<div class="ttc" id="avp8_8c_html_a4d3e8cee826fd2cc4398b0c47aaf3597"><div class="ttname"><a href="vp8_8c.html#a4d3e8cee826fd2cc4398b0c47aaf3597">check_dc_pred8x8_mode</a></div><div class="ttdeci">static av_always_inline int check_dc_pred8x8_mode(int mode, int mb_x, int mb_y)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01590">vp8.c:1590</a></div></div>
<div class="ttc" id="astruct_v_p8_macroblock_html_ad2a4e327f4a692d013e94beefce5cfba"><div class="ttname"><a href="struct_v_p8_macroblock.html#ad2a4e327f4a692d013e94beefce5cfba">VP8Macroblock::mode</a></div><div class="ttdeci">uint8_t mode</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00085">vp8.h:85</a></div></div>
<div class="ttc" id="asiprdata_8h_html_a3cce87604695942e930d8853d9cad953"><div class="ttname"><a href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a></div><div class="ttdeci">static const float pred[4]</div><div class="ttdef"><b>Definition:</b> <a href="siprdata_8h_source.html#l00259">siprdata.h:259</a></div></div>
<div class="ttc" id="avp8_8c_html_adf6a2c60434618ba89e1737dbe894925"><div class="ttname"><a href="vp8_8c.html#adf6a2c60434618ba89e1737dbe894925">vp7_decode_mb_row_no_filter</a></div><div class="ttdeci">static int vp7_decode_mb_row_no_filter(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02492">vp8.c:2492</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_v_p56mv_html"><div class="ttname"><a href="struct_v_p56mv.html">VP56mv</a></div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00066">vp56.h:66</a></div></div>
<div class="ttc" id="avp8data_8h_html_a5e5eda302295a15931bd04380e247f4b"><div class="ttname"><a href="vp8data_8h.html#a5e5eda302295a15931bd04380e247f4b">vp8_pred16x16_prob_intra</a></div><div class="ttdeci">static const uint8_t vp8_pred16x16_prob_intra[4]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00161">vp8data.h:161</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="avp8data_8h_html_a18ee27a988ec4bbe77119c97ca396d80"><div class="ttname"><a href="vp8data_8h.html#a18ee27a988ec4bbe77119c97ca396d80">vp8_ac_qlookup</a></div><div class="ttdeci">static const uint16_t vp8_ac_qlookup[VP8_MAX_QUANT+1]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00722">vp8data.h:722</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_ae3728007628bd0d9428d2afe3e83a785"><div class="ttname"><a href="cbs__vp9_8c.html#ae3728007628bd0d9428d2afe3e83a785">prob</a></div><div class="ttdeci">#define prob(name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00373">cbs_vp9.c:373</a></div></div>
<div class="ttc" id="amultithreading_8txt_html_a97c3cac75166393103fbc1594899e0b3"><div class="ttname"><a href="multithreading_8txt.html#a97c3cac75166393103fbc1594899e0b3">ff_thread_finish_setup</a></div><div class="ttdeci">the pkt_dts and pkt_pts fields in AVFrame will work as usual Restrictions on codec whose streams don t reset across will not work because their bitstreams cannot be decoded in parallel *The contents of buffers must not be read before as well as code calling up to before the decode process starts Call ff_thread_finish_setup() afterwards. If some code can 't be moved</div></div>
<div class="ttc" id="avp8_8c_html_a7268c9ac605d247d6a0955d0328368be"><div class="ttname"><a href="vp8_8c.html#a7268c9ac605d247d6a0955d0328368be">inter_predict</a></div><div class="ttdeci">static av_always_inline void inter_predict(VP8Context *s, VP8ThreadData *td, uint8_t *dst[3], VP8Macroblock *mb, int mb_x, int mb_y)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01977">vp8.c:1977</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="ax86_2mathops_8h_html"><div class="ttname"><a href="x86_2mathops_8h.html">mathops.h</a></div></div>
<div class="ttc" id="asnow_8txt_html_a7c18a837a38b8c96472a1d0abe1711d1"><div class="ttname"><a href="snow_8txt.html#a7c18a837a38b8c96472a1d0abe1711d1">left</a></div><div class="ttdeci">Tag MUST be and&lt; 10hcoeff half pel interpolation filter coefficients, hcoeff[0] are the 2 middle coefficients[1] are the next outer ones and so on, resulting in a filter like:...eff[2], hcoeff[1], hcoeff[0], hcoeff[0], hcoeff[1], hcoeff[2] ... the sign of the coefficients is not explicitly stored but alternates after each coeff and coeff[0] is positive, so ...,+,-,+,-,+,+,-,+,-,+,... hcoeff[0] is not explicitly stored but found by subtracting the sum of all stored coefficients with signs from 32 hcoeff[0]=32 - hcoeff[1] - hcoeff[2] - ... a good choice for hcoeff and htaps is htaps=6 hcoeff={40,-10, 2} an alternative which requires more computations at both encoder and decoder side and may or may not be better is htaps=8 hcoeff={42,-14, 6,-2}ref_frames minimum of the number of available reference frames and max_ref_frames for example the first frame after a key frame always has ref_frames=1spatial_decomposition_type wavelet type 0 is a 9/7 symmetric compact integer wavelet 1 is a 5/3 symmetric compact integer wavelet others are reserved stored as delta from last, last is reset to 0 if always_reset||keyframeqlog quality(logarithmic quantizer scale) stored as delta from last, last is reset to 0 if always_reset||keyframemv_scale stored as delta from last, last is reset to 0 if always_reset||keyframe FIXME check that everything works fine if this changes between framesqbias dequantization bias stored as delta from last, last is reset to 0 if always_reset||keyframeblock_max_depth maximum depth of the block tree stored as delta from last, last is reset to 0 if always_reset||keyframequant_table quantization tableHighlevel bitstream structure:==============================--------------------------------------------|Header|--------------------------------------------|------------------------------------|||Block0||||split?||||yes no||||......... intra?||||:Block01 :yes no||||:Block02 :....... ..........||||:Block03 ::y DC ::ref index:||||:Block04 ::cb DC ::motion x :||||......... :cr DC ::motion y :||||....... ..........|||------------------------------------||------------------------------------|||Block1|||...|--------------------------------------------|------------ ------------ ------------|||Y subbands||Cb subbands||Cr subbands||||--- ---||--- ---||--- ---|||||LL0||HL0||||LL0||HL0||||LL0||HL0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||LH0||HH0||||LH0||HH0||||LH0||HH0|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HL1||LH1||||HL1||LH1||||HL1||LH1|||||--- ---||--- ---||--- ---||||--- ---||--- ---||--- ---|||||HH1||HL2||||HH1||HL2||||HH1||HL2|||||...||...||...|||------------ ------------ ------------|--------------------------------------------Decoding process:=================------------|||Subbands|------------||||------------|Intra DC||||LL0 subband prediction ------------|\ Dequantization ------------------- \||Reference frames|\ IDWT|------- -------|Motion \|||Frame 0||Frame 1||Compensation . OBMC v -------|------- -------|--------------. \------&gt; Frame n output Frame Frame&lt;----------------------------------/|...|------------------- Range Coder:============Binary Range Coder:------------------- The implemented range coder is an adapted version based upon &quot;Range encoding: an algorithm for removing redundancy from a digitised message.&quot; by G. N. N. Martin. The symbols encoded by the Snow range coder are bits(0|1). The associated probabilities are not fix but change depending on the symbol mix seen so far. bit seen|new state ---------+----------------------------------------------- 0|256 - state_transition_table[256 - old_state];1|state_transition_table[old_state];state_transition_table={ 0, 0, 0, 0, 0, 0, 0, 0, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 190, 191, 192, 194, 194, 195, 196, 197, 198, 199, 200, 201, 202, 202, 204, 205, 206, 207, 208, 209, 209, 210, 211, 212, 213, 215, 215, 216, 217, 218, 219, 220, 220, 222, 223, 224, 225, 226, 227, 227, 229, 229, 230, 231, 232, 234, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 248, 0, 0, 0, 0, 0, 0, 0};FIXME Range Coding of integers:------------------------- FIXME Neighboring Blocks:===================left and top are set to the respective blocks unless they are outside of the image in which case they are set to the Null block top-left is set to the top left block unless it is outside of the image in which case it is set to the left block if this block has no larger parent block or it is at the left side of its parent block and the top right block is not outside of the image then the top right block is used for top-right else the top-left block is used Null block y, cb, cr are 128 level, ref, mx and my are 0 Motion Vector Prediction:=========================1. the motion vectors of all the neighboring blocks are scaled to compensate for the difference of reference frames scaled_mv=(mv *(256 *(current_reference+1)/(mv.reference+1))+128)&gt; the median of the scaled left</div><div class="ttdef"><b>Definition:</b> <a href="snow_8txt_source.html#l00386">snow.txt:386</a></div></div>
<div class="ttc" id="asinewin__tablegen__template_8c_html_a3508a98d3ee7e2c9a4841fe264cf70f7"><div class="ttname"><a href="sinewin__tablegen__template_8c.html#a3508a98d3ee7e2c9a4841fe264cf70f7">FF_ARRAY_ELEMS</a></div><div class="ttdeci">#define FF_ARRAY_ELEMS(a)</div><div class="ttdef"><b>Definition:</b> <a href="sinewin__tablegen__template_8c_source.html#l00038">sinewin_tablegen_template.c:38</a></div></div>
<div class="ttc" id="avp8_8c_html_a24a9d680f25860781de2ec316e9fbc93"><div class="ttname"><a href="vp8_8c.html#a24a9d680f25860781de2ec316e9fbc93">decode_splitmvs</a></div><div class="ttdeci">static av_always_inline int decode_splitmvs(VP8Context *s, VP56RangeCoder *c, VP8Macroblock *mb, int layout, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00916">vp8.c:916</a></div></div>
<div class="ttc" id="avp56_8h_html_ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589"><div class="ttname"><a href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fada5bf219278696e7d79448f0e1cbb589">VP56_FRAME_CURRENT</a></div><div class="ttdeci">@ VP56_FRAME_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00042">vp56.h:42</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1d0f65014a8d1bf78cec8cbed2304992"><div class="ttname"><a href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">AVFrame::data</a></div><div class="ttdeci">uint8_t * data[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00322">frame.h:322</a></div></div>
<div class="ttc" id="alibavcodec_2h264pred_8c_html_a26a390b3c8d98a2da44646b85703b967"><div class="ttname"><a href="libavcodec_2h264pred_8c.html#a26a390b3c8d98a2da44646b85703b967">ff_h264_pred_init</a></div><div class="ttdeci">av_cold void ff_h264_pred_init(H264PredContext *h, int codec_id, const int bit_depth, int chroma_format_idc)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2h264pred_8c_source.html#l00411">h264pred.c:411</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca2ef6e147229d049339a3b6d80c3d72b9"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca2ef6e147229d049339a3b6d80c3d72b9">HOR_UP_PRED</a></div><div class="ttdeci">@ HOR_UP_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00054">vp9.h:54</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_ace46e41b9bd6cac88fb7109ffd657f9a"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#ace46e41b9bd6cac88fb7109ffd657f9a">AV_RL32</a></div><div class="ttdeci">#define AV_RL32</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00146">intreadwrite.h:146</a></div></div>
<div class="ttc" id="avp8data_8h_html"><div class="ttname"><a href="vp8data_8h.html">vp8data.h</a></div></div>
<div class="ttc" id="aebur128_8h_html_a1a6b6fb557d8d37d59700faf4e4c9167"><div class="ttname"><a href="ebur128_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a></div><div class="ttdeci">mode</div><div class="ttdef"><b>Definition:</b> <a href="ebur128_8h_source.html#l00083">ebur128.h:83</a></div></div>
<div class="ttc" id="avp56_8h_html_ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960"><div class="ttname"><a href="vp56_8h.html#ab2ea5646eb819361c0c9bc9bceac075fae3237efe01f02cc00bd2fbb564915960">VP56_FRAME_PREVIOUS</a></div><div class="ttdeci">@ VP56_FRAME_PREVIOUS</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00043">vp56.h:43</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_a803e2f964ea430fd2eebaf861e4cf494"><div class="ttname"><a href="struct_a_v_codec.html#a803e2f964ea430fd2eebaf861e4cf494">AVCodec::update_thread_context</a></div><div class="ttdeci">int(* update_thread_context)(struct AVCodecContext *dst, const struct AVCodecContext *src)</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00253">codec.h:253</a></div></div>
<div class="ttc" id="avp8_8c_html_a49d7ed64941fb72b43a02c438c4cc8e2"><div class="ttname"><a href="vp8_8c.html#a49d7ed64941fb72b43a02c438c4cc8e2">filter_mb_simple</a></div><div class="ttdeci">static av_always_inline void filter_mb_simple(VP8Context *s, uint8_t *dst, VP8FilterStrength *f, int mb_x, int mb_y)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02243">vp8.c:2243</a></div></div>
<div class="ttc" id="avp8dsp_8h_html_a3506c126d1d68fd8245dcc21ee1f324f"><div class="ttname"><a href="vp8dsp_8h.html#a3506c126d1d68fd8245dcc21ee1f324f">IS_VP8</a></div><div class="ttdeci">#define IS_VP8</div><div class="ttdef"><b>Definition:</b> <a href="vp8dsp_8h_source.html#l00106">vp8dsp.h:106</a></div></div>
<div class="ttc" id="avp8_8h_html_aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43"><div class="ttname"><a href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223af766ad49f1c0a2bf51801a765fb35e43">VP8_MVMODE_SPLIT</a></div><div class="ttdeci">@ VP8_MVMODE_SPLIT</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00065">vp8.h:64</a></div></div>
<div class="ttc" id="atests_2jpeg2000dwt_8c_html_a5cabdd8be5af41f675fed06498e094b7"><div class="ttname"><a href="tests_2jpeg2000dwt_8c.html#a5cabdd8be5af41f675fed06498e094b7">ref</a></div><div class="ttdeci">static int ref[MAX_W *MAX_W]</div><div class="ttdef"><b>Definition:</b> <a href="tests_2jpeg2000dwt_8c_source.html#l00107">jpeg2000dwt.c:107</a></div></div>
<div class="ttc" id="avp8_8h_html_af199b54d178af58596951f9b0d616dd9"><div class="ttname"><a href="vp8_8h.html#af199b54d178af58596951f9b0d616dd9">VP8Context</a></div><div class="ttdeci">struct VP8Context VP8Context</div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aecabaf22a735ce5367d66dd63f905db8d3f"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aecabaf22a735ce5367d66dd63f905db8d3f">HOR_DOWN_PRED</a></div><div class="ttdeci">@ HOR_DOWN_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00052">vp9.h:52</a></div></div>
<div class="ttc" id="astructsegment_html"><div class="ttname"><a href="structsegment.html">segment</a></div><div class="ttdef"><b>Definition:</b> <a href="hls_8c_source.html#l00068">hls.c:68</a></div></div>
<div class="ttc" id="agroup__lavu__buffer_html_gaa40ce7d3ede946a89d03323bbd7268c1"><div class="ttname"><a href="group__lavu__buffer.html#gaa40ce7d3ede946a89d03323bbd7268c1">av_buffer_ref</a></div><div class="ttdeci">AVBufferRef * av_buffer_ref(AVBufferRef *buf)</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00093">buffer.c:93</a></div></div>
<div class="ttc" id="avp8_8c_html_ad35cadd8c6629d1b3a8a63531fb53bf0"><div class="ttname"><a href="vp8_8c.html#ad35cadd8c6629d1b3a8a63531fb53bf0">vp8_mc_luma</a></div><div class="ttdeci">static av_always_inline void vp8_mc_luma(VP8Context *s, VP8ThreadData *td, uint8_t *dst, ThreadFrame *ref, const VP56mv *mv, int x_off, int y_off, int block_w, int block_h, int width, int height, ptrdiff_t linesize, vp8_mc_func mc_func[3][3])</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l01808">vp8.c:1808</a></div></div>
<div class="ttc" id="avp8_8c_html_ae57430124431dedce69ca4b0479851c1"><div class="ttname"><a href="vp8_8c.html#ae57430124431dedce69ca4b0479851c1">get_submv_prob</a></div><div class="ttdeci">static av_always_inline const uint8_t * get_submv_prob(uint32_t left, uint32_t top, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00899">vp8.c:899</a></div></div>
<div class="ttc" id="avp8_8c_html_ad4ea96bcc6b3ba931bb7799b8d77c5d7"><div class="ttname"><a href="vp8_8c.html#ad4ea96bcc6b3ba931bb7799b8d77c5d7">vp78_update_probability_tables</a></div><div class="ttdeci">static void vp78_update_probability_tables(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00430">vp8.c:430</a></div></div>
<div class="ttc" id="agroup__lavu__picture_html_ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193"><div class="ttname"><a href="group__lavu__picture.html#ggae6cbcab1f70d8e476757f1c1f5a0a78eaa6fc0479507a03f173f07fc75dab2193">AV_PICTURE_TYPE_P</a></div><div class="ttdeci">@ AV_PICTURE_TYPE_P</div><div class="ttdoc">Predicted.</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00275">avutil.h:275</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ac8b736a8223c5348ad85ffff597401ff"><div class="ttname"><a href="libavcodec_2internal_8h.html#ac8b736a8223c5348ad85ffff597401ff">ff_set_dimensions</a></div><div class="ttdeci">int ff_set_dimensions(AVCodecContext *s, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2utils_8c_source.html#l00106">utils.c:106</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_ae6bb8a70e3d6334a5331f3ab99b909d0"><div class="ttname"><a href="libavutil_2internal_8h.html#ae6bb8a70e3d6334a5331f3ab99b909d0">LOCAL_ALIGNED</a></div><div class="ttdeci">#define LOCAL_ALIGNED(a, t, v,...)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00114">internal.h:114</a></div></div>
<div class="ttc" id="avp56_8h_html_a9159465c877f5e9a6976a5d0709ee10a"><div class="ttname"><a href="vp56_8h.html#a9159465c877f5e9a6976a5d0709ee10a">vp56_rac_get_prob</a></div><div class="ttdeci">#define vp56_rac_get_prob</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00268">vp56.h:268</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_a133d9f0e29862e9f1726beafc530e052"><div class="ttname"><a href="libavcodec_2internal_8h.html#a133d9f0e29862e9f1726beafc530e052">FF_CODEC_CAP_ALLOCATE_PROGRESS</a></div><div class="ttdeci">#define FF_CODEC_CAP_ALLOCATE_PROGRESS</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00075">internal.h:75</a></div></div>
<div class="ttc" id="avp8_8c_html_a266137bd3b6e66cddccc5344942de5a9"><div class="ttname"><a href="vp8_8c.html#a266137bd3b6e66cddccc5344942de5a9">vp78_update_pred16x16_pred8x8_mvc_probabilities</a></div><div class="ttdeci">static void vp78_update_pred16x16_pred8x8_mvc_probabilities(VP8Context *s, int mvc_size)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00449">vp8.c:449</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="avp8_8c_html_ab1bfac6ce262d11cfccc7d1972a4eebc"><div class="ttname"><a href="vp8_8c.html#ab1bfac6ce262d11cfccc7d1972a4eebc">update_refs</a></div><div class="ttdeci">static void update_refs(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00469">vp8.c:469</a></div></div>
<div class="ttc" id="avp8_8c_html_ad9c3eb6d683ec6d45b201480488da384"><div class="ttname"><a href="vp8_8c.html#ad9c3eb6d683ec6d45b201480488da384">update_lf_deltas</a></div><div class="ttdeci">static void update_lf_deltas(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00284">vp8.c:284</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:736</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="avp8_8c_html_a3c929e7f67de59ed6f4c597c14b08170"><div class="ttname"><a href="vp8_8c.html#a3c929e7f67de59ed6f4c597c14b08170">filter_mb_row</a></div><div class="ttdeci">static av_always_inline void filter_mb_row(AVCodecContext *avctx, void *tdata, int jobnr, int threadnr, int is_vp7)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02504">vp8.c:2504</a></div></div>
<div class="ttc" id="ailbcdata_8h_html_a545b8c1c045fcc34b81d3ca822620277"><div class="ttname"><a href="ilbcdata_8h.html#a545b8c1c045fcc34b81d3ca822620277">alpha</a></div><div class="ttdeci">static const int16_t alpha[]</div><div class="ttdef"><b>Definition:</b> <a href="ilbcdata_8h_source.html#l00055">ilbcdata.h:55</a></div></div>
<div class="ttc" id="avp8_8c_html_ad2e558bdf3b1b022ef2dbd392c56ecef"><div class="ttname"><a href="vp8_8c.html#ad2e558bdf3b1b022ef2dbd392c56ecef">get_pixel_format</a></div><div class="ttdeci">static enum AVPixelFormat get_pixel_format(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00146">vp8.c:170</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="ahwconfig_8h_html_aa68c779f38e712638d155e481ce20a79"><div class="ttname"><a href="hwconfig_8h.html#aa68c779f38e712638d155e481ce20a79">HWACCEL_VAAPI</a></div><div class="ttdeci">#define HWACCEL_VAAPI(codec)</div><div class="ttdef"><b>Definition:</b> <a href="hwconfig_8h_source.html#l00073">hwconfig.h:73</a></div></div>
<div class="ttc" id="avp9_8h_html_a59fe1b30a50c6a1d90c35cb53e8c0aeca58d49f2441b6434f266f6927ce1c420b"><div class="ttname"><a href="vp9_8h.html#a59fe1b30a50c6a1d90c35cb53e8c0aeca58d49f2441b6434f266f6927ce1c420b">DIAG_DOWN_LEFT_PRED</a></div><div class="ttdeci">@ DIAG_DOWN_LEFT_PRED</div><div class="ttdef"><b>Definition:</b> <a href="vp9_8h_source.html#l00049">vp9.h:49</a></div></div>
<div class="ttc" id="avp8_8c_html_a803f2641e89ebab608b10da69b1056b2"><div class="ttname"><a href="vp8_8c.html#a803f2641e89ebab608b10da69b1056b2">vp8_find_free_buffer</a></div><div class="ttdeci">static VP8Frame * vp8_find_free_buffer(VP8Context *s)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00146">vp8.c:146</a></div></div>
<div class="ttc" id="aimgutils_8h_html"><div class="ttname"><a href="imgutils_8h.html">imgutils.h</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea77772369e1d305824b08b53a8d5c56b6">AV_CODEC_ID_VP8</a></div><div class="ttdeci">@ AV_CODEC_ID_VP8</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00189">codec_id.h:189</a></div></div>
<div class="ttc" id="avf__owdenoise_8c_html_a35c8a1e85abdf2de13b1be2fe51f293b"><div class="ttname"><a href="vf__owdenoise_8c.html#a35c8a1e85abdf2de13b1be2fe51f293b">coeff</a></div><div class="ttdeci">static const double coeff[2][5]</div><div class="ttdef"><b>Definition:</b> <a href="vf__owdenoise_8c_source.html#l00072">vf_owdenoise.c:72</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a17afa58b2bc574dedcd1cc02e1fdf165"><div class="ttname"><a href="filter__design_8txt.html#a17afa58b2bc574dedcd1cc02e1fdf165">block</a></div><div class="ttdeci">The exact code depends on how similar the blocks are and how related they are to the block</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00207">filter_design.txt:207</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_aa8cb04659ca903c9933cc41e7d9e62f0"><div class="ttname"><a href="intreadwrite_8h.html#aa8cb04659ca903c9933cc41e7d9e62f0">AV_WN64</a></div><div class="ttdeci">#define AV_WN64(p, v)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00380">intreadwrite.h:380</a></div></div>
<div class="ttc" id="avp8_8h_html_aaee3a7831ebcd42c884646789a753223aede20876aa8df964b6d884a1001b1f93"><div class="ttname"><a href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223aede20876aa8df964b6d884a1001b1f93">VP8_MVMODE_ZERO</a></div><div class="ttdeci">@ VP8_MVMODE_ZERO</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00062">vp8.h:62</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a255bf7100a4ba6dcb6ee5d87740a4f35"><div class="ttname"><a href="struct_a_v_codec_context.html#a255bf7100a4ba6dcb6ee5d87740a4f35">AVCodecContext::color_range</a></div><div class="ttdeci">enum AVColorRange color_range</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1161</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="avp8_8c_html_a9b7e32aee90a6d98d357a4c2207875f6"><div class="ttname"><a href="vp8_8c.html#a9b7e32aee90a6d98d357a4c2207875f6">copy_chroma</a></div><div class="ttdeci">static void copy_chroma(AVFrame *dst, AVFrame *src, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00480">vp8.c:480</a></div></div>
<div class="ttc" id="aos2threads_8h_html_a90293d12cef762b6df0139309d13fdbf"><div class="ttname"><a href="os2threads_8h.html#a90293d12cef762b6df0139309d13fdbf">pthread_cond_init</a></div><div class="ttdeci">static av_always_inline int pthread_cond_init(pthread_cond_t *cond, const pthread_condattr_t *attr)</div><div class="ttdef"><b>Definition:</b> <a href="os2threads_8h_source.html#l00133">os2threads.h:133</a></div></div>
<div class="ttc" id="avp8data_8h_html_a3a8587480b380aed9e81151e7a1b2a74"><div class="ttname"><a href="vp8data_8h.html#a3a8587480b380aed9e81151e7a1b2a74">vp7_y2ac_qlookup</a></div><div class="ttdeci">static const uint16_t vp7_y2ac_qlookup[]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00816">vp8data.h:816</a></div></div>
<div class="ttc" id="adummy_2stdatomic_8h_html_af8a9cbe9495fcafaa892b24b383acf96"><div class="ttname"><a href="dummy_2stdatomic_8h.html#af8a9cbe9495fcafaa892b24b383acf96">atomic_init</a></div><div class="ttdeci">#define atomic_init(obj, value)</div><div class="ttdef"><b>Definition:</b> <a href="dummy_2stdatomic_8h_source.html#l00033">stdatomic.h:33</a></div></div>
<div class="ttc" id="avp8data_8h_html_af1dfa058a61402cfbfdf687de464fb1a"><div class="ttname"><a href="vp8data_8h.html#af1dfa058a61402cfbfdf687de464fb1a">vp7_submv_prob</a></div><div class="ttdeci">static const uint8_t vp7_submv_prob[3]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00149">vp8data.h:149</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a6e606effa68724cae2ef5cc05f7fd9cb"><div class="ttname"><a href="struct_a_v_codec_context.html#a6e606effa68724cae2ef5cc05f7fd9cb">AVCodecContext::codec</a></div><div class="ttdeci">const struct AVCodec * codec</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00535">avcodec.h:535</a></div></div>
<div class="ttc" id="astruct_v_p8_macroblock_html_a61c7ea138a9cb7b7e21929c7702b8a54"><div class="ttname"><a href="struct_v_p8_macroblock.html#a61c7ea138a9cb7b7e21929c7702b8a54">VP8Macroblock::partitioning</a></div><div class="ttdeci">uint8_t partitioning</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00087">vp8.h:87</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_ga352363bce7d3ed82c101b3bc001d1c16"><div class="ttname"><a href="group__lavc__decoding.html#ga352363bce7d3ed82c101b3bc001d1c16">AVDiscard</a></div><div class="ttdeci">AVDiscard</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00227">avcodec.h:227</a></div></div>
<div class="ttc" id="agroup__lavc__decoding_html_gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8"><div class="ttname"><a href="group__lavc__decoding.html#gga352363bce7d3ed82c101b3bc001d1c16ac5a5a87ffcd6fb2362ac18449d29bde8">AVDISCARD_NONREF</a></div><div class="ttdeci">@ AVDISCARD_NONREF</div><div class="ttdoc">discard all non reference</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00232">avcodec.h:232</a></div></div>
<div class="ttc" id="avp56_8h_html_a3bd56f8c5c039b9760329ea63f7caaf3"><div class="ttname"><a href="vp56_8h.html#a3bd56f8c5c039b9760329ea63f7caaf3">vp56_rac_renorm</a></div><div class="ttdeci">static av_always_inline unsigned int vp56_rac_renorm(VP56RangeCoder *c)</div><div class="ttdef"><b>Definition:</b> <a href="vp56_8h_source.html#l00244">vp56.h:244</a></div></div>
<div class="ttc" id="avp8data_8h_html_afd6a9e989fc8c0657b008905dbb42c12"><div class="ttname"><a href="vp8data_8h.html#afd6a9e989fc8c0657b008905dbb42c12">vp8_dc_qlookup</a></div><div class="ttdeci">static const uint8_t vp8_dc_qlookup[VP8_MAX_QUANT+1]</div><div class="ttdef"><b>Definition:</b> <a href="vp8data_8h_source.html#l00711">vp8data.h:711</a></div></div>
<div class="ttc" id="astruct_a_v_h_w_accel_html_ab1effeed94fc20e372a60fec7c4d741b"><div class="ttname"><a href="struct_a_v_h_w_accel.html#ab1effeed94fc20e372a60fec7c4d741b">AVHWAccel::decode_slice</a></div><div class="ttdeci">int(* decode_slice)(AVCodecContext *avctx, const uint8_t *buf, uint32_t buf_size)</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l02500">avcodec.h:2500</a></div></div>
<div class="ttc" id="avp8_8c_html_aff66205fdc310110e2739b637f530b79"><div class="ttname"><a href="vp8_8c.html#aff66205fdc310110e2739b637f530b79">vp8_decode_flush</a></div><div class="ttdeci">static void vp8_decode_flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00141">vp8.c:141</a></div></div>
<div class="ttc" id="avp8_8h_html_aaee3a7831ebcd42c884646789a753223a6913a59846a437ac51ebb89bdd55e0f1"><div class="ttname"><a href="vp8_8h.html#aaee3a7831ebcd42c884646789a753223a6913a59846a437ac51ebb89bdd55e0f1">VP8_MVMODE_MV</a></div><div class="ttdeci">@ VP8_MVMODE_MV</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8h_source.html#l00063">vp8.h:63</a></div></div>
<div class="ttc" id="avp8_8c_html_ab05a798afd72aac947f417e1dab73c87"><div class="ttname"><a href="vp8_8c.html#ab05a798afd72aac947f417e1dab73c87">MARGIN</a></div><div class="ttdeci">#define MARGIN</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l02275">vp8.c:2275</a></div></div>
<div class="ttc" id="avp8_8c_html_a309bffa9b10dce305412744afeb4063c"><div class="ttname"><a href="vp8_8c.html#a309bffa9b10dce305412744afeb4063c">vp8_alloc_frame</a></div><div class="ttdeci">static int vp8_alloc_frame(VP8Context *s, VP8Frame *f, int ref)</div><div class="ttdef"><b>Definition:</b> <a href="vp8_8c_source.html#l00070">vp8.c:70</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8cd8caa7d40319324ce3d879a2edbd9f"><div class="ttname"><a href="struct_a_v_codec_context.html#a8cd8caa7d40319324ce3d879a2edbd9f">AVCodecContext::colorspace</a></div><div class="ttdeci">enum AVColorSpace colorspace</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01132">avcodec.h:1154</a></div></div>
<div class="ttc" id="alibavcodec_2vp8dsp_8c_html_a6cbb8f6c38ac81b5fc25af34e7adb6a3"><div class="ttname"><a href="libavcodec_2vp8dsp_8c.html#a6cbb8f6c38ac81b5fc25af34e7adb6a3">ff_vp78dsp_init</a></div><div class="ttdeci">av_cold void ff_vp78dsp_init(VP8DSPContext *dsp)</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2vp8dsp_8c_source.html#l00666">vp8dsp.c:666</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
