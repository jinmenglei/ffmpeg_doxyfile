<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/vorbisdec.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">vorbisdec.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="vorbisdec_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a6e2ce511d1a2900287942128184f5ed2">    1</a></span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avassert_8h.html">libavutil/avassert.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="float__dsp_8h.html">libavutil/float_dsp.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ab9ef831966fb2c5f522c19e809354830">   35</a></span>&#160;<span class="preprocessor">#define BITSTREAM_READER_LE</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="x86_2fft_8h.html">fft.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="get__bits_8h.html">get_bits.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vorbis_8h.html">vorbis.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vorbisdsp_8h.html">vorbisdsp.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="xiph_8h.html">xiph.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a09d0b41869c61a93740b0da1f0f65570">   44</a></span>&#160;<span class="preprocessor">#define V_NB_BITS 8</span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a4e6ab5d9c9f7ced957db84dfda36b486">   45</a></span>&#160;<span class="preprocessor">#define V_NB_BITS2 11</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a16346c45a3bd60512843417319f5daaf">   46</a></span>&#160;<span class="preprocessor">#define V_MAX_VLCS (1 &lt;&lt; 16)</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#aa98bdbd57792be1a8d243b050d9776c4">   47</a></span>&#160;<span class="preprocessor">#define V_MAX_PARTITIONS (1 &lt;&lt; 20)</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structvorbis__codebook.html">   49</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structvorbis__codebook.html">vorbis_codebook</a> {</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">   50</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>      <a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structvorbis__codebook.html#a4bbfacba9c47cc8005fdd96b6ca05d4e">   51</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>      <a class="code" href="structvorbis__codebook.html#a4bbfacba9c47cc8005fdd96b6ca05d4e">lookup_type</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">   52</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>      <a class="code" href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">maxdepth</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structvorbis__codebook.html#aa0d70eb6ee3f70b4e1c9b00fe409cebd">   53</a></span>&#160;    <a class="code" href="struct_v_l_c.html">VLC</a>          <a class="code" href="structvorbis__codebook.html#aa0d70eb6ee3f70b4e1c9b00fe409cebd">vlc</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">   54</a></span>&#160;    <span class="keywordtype">float</span>       *<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">   55</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#add996a98dfebd9161c43f2efa1853d6a">   56</a></span>&#160;} <a class="code" href="vorbisdec_8c.html#add996a98dfebd9161c43f2efa1853d6a">vorbis_codebook</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">typedef</span> <span class="keyword">union  </span>vorbis_floor_u  <a class="code" href="vorbisdec_8c.html#a6e2ce511d1a2900287942128184f5ed2">vorbis_floor_data</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>vorbis_floor0_s <a class="code" href="vorbisdec_8c.html#a345459b32b2bc75249c3260257c02d96">vorbis_floor0</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>vorbis_floor1_s <a class="code" href="vorbisdec_8c.html#a9b140f1e5ca1c8bfafdaa58df7957a58">vorbis_floor1</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">struct </span><a class="code" href="structvorbis__context__s.html">vorbis_context_s</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">typedef</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a0f5488588be73c95cf04763b0014f332">   63</a></span>&#160;<a class="code" href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a> (* <a class="code" href="vorbisdec_8c.html#a0f5488588be73c95cf04763b0014f332">vorbis_floor_decode_func</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    (<span class="keyword">struct </span><a class="code" href="structvorbis__context__s.html">vorbis_context_s</a> *, <a class="code" href="vorbisdec_8c.html#a6e2ce511d1a2900287942128184f5ed2">vorbis_floor_data</a> *, <span class="keywordtype">float</span> *);</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structvorbis__floor.html">   65</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structvorbis__floor.html">vorbis_floor</a> {</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structvorbis__floor.html#ace00b6715e85dd24a282a30df58450ff">   66</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="structvorbis__floor.html#ace00b6715e85dd24a282a30df58450ff">floor_type</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structvorbis__floor.html#a259b831c26a4c4b12b63fac3656b7d0c">   67</a></span>&#160;    <a class="code" href="vorbisdec_8c.html#a0f5488588be73c95cf04763b0014f332">vorbis_floor_decode_func</a> <a class="code" href="structvorbis__floor.html#a259b831c26a4c4b12b63fac3656b7d0c">decode</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="unionvorbis__floor_1_1vorbis__floor__u.html">   68</a></span>&#160;    <span class="keyword">union </span><a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html">vorbis_floor_u</a> {</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html">   69</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html">vorbis_floor0_s</a> {</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6fe8d4beb533e9f8cf036df41700f1f4">   70</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6fe8d4beb533e9f8cf036df41700f1f4">order</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#af407280865dcaf827b82e7de3a6f7d11">   71</a></span>&#160;            uint16_t      <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#af407280865dcaf827b82e7de3a6f7d11">rate</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#ae264b9ecead72988b5e755ebd56f4d14">   72</a></span>&#160;            uint16_t      <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#ae264b9ecead72988b5e755ebd56f4d14">bark_map_size</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a14d91c08adf2e43e7580a25a81503786">   73</a></span>&#160;            <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>      *<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a14d91c08adf2e43e7580a25a81503786">map</a>[2];</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a3206fe6f697928ae0058cdd2821db2d2">   74</a></span>&#160;            uint32_t      <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a3206fe6f697928ae0058cdd2821db2d2">map_size</a>[2];</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#aad04f409bae4cfc06758e1da446c1e4b">   75</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#aad04f409bae4cfc06758e1da446c1e4b">amplitude_bits</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a442b8e46124c5957d37b5a0b88cadf2e">   76</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a442b8e46124c5957d37b5a0b88cadf2e">amplitude_offset</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a381e091545b7fbca9cb36d8b39bf49ea">   77</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a381e091545b7fbca9cb36d8b39bf49ea">num_books</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">   78</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>      *<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">book_list</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6c31f513a0193c4d468241116515b56b">   79</a></span>&#160;            <span class="keywordtype">float</span>        *<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6c31f513a0193c4d468241116515b56b">lsp</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">   80</a></span>&#160;        } <a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html">   81</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html">vorbis_floor1_s</a> {</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">   82</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">partitions</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">   83</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">partition_class</a>[32];</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#abf6d82f45efb7b39b1d7260657654a80">   84</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#abf6d82f45efb7b39b1d7260657654a80">class_dimensions</a>[16];</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#add8885f88622f353839f42e51095ef7b">   85</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#add8885f88622f353839f42e51095ef7b">class_subclasses</a>[16];</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7dd2246e26ff4c0de561df621d2ed633">   86</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7dd2246e26ff4c0de561df621d2ed633">class_masterbook</a>[16];</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a31f10ff78dc6ba4315de0499891d1b10">   87</a></span>&#160;            int16_t       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a31f10ff78dc6ba4315de0499891d1b10">subclass_books</a>[16][8];</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7f553fba9b523e73ddd822a8b65b102b">   88</a></span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7f553fba9b523e73ddd822a8b65b102b">multiplier</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#aa1d464f2ced2655afb03cdd2e9cac649">   89</a></span>&#160;            uint16_t      <a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#aa1d464f2ced2655afb03cdd2e9cac649">x_list_dim</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">   90</a></span>&#160;            <a class="code" href="structvorbis__floor1__entry.html">vorbis_floor1_entry</a> *<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">   91</a></span>&#160;        } <a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">   92</a></span>&#160;    } <a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a6891f3a93f001d42635c9293a5583b7e">   93</a></span>&#160;} <a class="code" href="vorbisdec_8c.html#a6891f3a93f001d42635c9293a5583b7e">vorbis_floor</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structvorbis__residue.html">   95</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structvorbis__residue.html">vorbis_residue</a> {</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">   96</a></span>&#160;    uint16_t      <a class="code" href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">type</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">   97</a></span>&#160;    uint32_t      <a class="code" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">begin</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">   98</a></span>&#160;    uint32_t      <a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">   99</a></span>&#160;    <span class="keywordtype">unsigned</span>      <a class="code" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">partition_size</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">  100</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">classifications</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">  101</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">classbook</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#a2b8367501ca8aa202fdaa23b2e98d45a">  102</a></span>&#160;    int16_t       <a class="code" href="structvorbis__residue.html#a2b8367501ca8aa202fdaa23b2e98d45a">books</a>[64][8];</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#ada95d87aeb1653552702419d232550a6">  103</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__residue.html#ada95d87aeb1653552702419d232550a6">maxpass</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#a0b485a3e12ff28f064825a7b60450fca">  104</a></span>&#160;    uint16_t      <a class="code" href="structvorbis__residue.html#a0b485a3e12ff28f064825a7b60450fca">ptns_to_read</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">  105</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>      *<a class="code" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">classifs</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a55dea4a6efa37dde86029d12fd226bf9">  106</a></span>&#160;} <a class="code" href="vorbisdec_8c.html#a55dea4a6efa37dde86029d12fd226bf9">vorbis_residue</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structvorbis__mapping.html">  108</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structvorbis__mapping.html">vorbis_mapping</a> {</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">  109</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">submaps</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">  110</a></span>&#160;    uint16_t      <a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">  111</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>      *<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">  112</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>      *<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">  113</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>      *<a class="code" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">mux</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structvorbis__mapping.html#a1bf0f73429bb67aecb2734fabf7bf076">  114</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__mapping.html#a1bf0f73429bb67aecb2734fabf7bf076">submap_floor</a>[16];</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structvorbis__mapping.html#aef96dbbf5b13b2732989cb635b7e34c9">  115</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__mapping.html#aef96dbbf5b13b2732989cb635b7e34c9">submap_residue</a>[16];</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#aeeafdc0ba9321e1e79b264b6b9713d2a">  116</a></span>&#160;} <a class="code" href="vorbisdec_8c.html#aeeafdc0ba9321e1e79b264b6b9713d2a">vorbis_mapping</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structvorbis__mode.html">  118</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structvorbis__mode.html">vorbis_mode</a> {</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structvorbis__mode.html#ab47ff5085843a15ea0bfe10ce8d23c86">  119</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__mode.html#ab47ff5085843a15ea0bfe10ce8d23c86">blockflag</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structvorbis__mode.html#a144c76e09e4a10635e30b3f2c310fe90">  120</a></span>&#160;    uint16_t      <a class="code" href="structvorbis__mode.html#a144c76e09e4a10635e30b3f2c310fe90">windowtype</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structvorbis__mode.html#ac0bd316168e8c92abb7cf91e4210631a">  121</a></span>&#160;    uint16_t      <a class="code" href="structvorbis__mode.html#ac0bd316168e8c92abb7cf91e4210631a">transformtype</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structvorbis__mode.html#aa5152490a9cd0e4602cf4667fcc6cb58">  122</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__mode.html#aa5152490a9cd0e4602cf4667fcc6cb58">mapping</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a1c97ebe2d11f636140d0f338452f40d0">  123</a></span>&#160;} <a class="code" href="vorbisdec_8c.html#a1c97ebe2d11f636140d0f338452f40d0">vorbis_mode</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html">  125</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structvorbis__context__s.html">vorbis_context_s</a> {</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">  126</a></span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">  127</a></span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> <a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#ad48fc7c1a8b9c5a65df79cc785090588">  128</a></span>&#160;    <a class="code" href="struct_vorbis_d_s_p_context.html">VorbisDSPContext</a> <a class="code" href="structvorbis__context__s.html#ad48fc7c1a8b9c5a65df79cc785090588">dsp</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">  129</a></span>&#160;    <a class="code" href="struct_a_v_float_d_s_p_context.html">AVFloatDSPContext</a> *<a class="code" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">fdsp</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a3653b043aa47a0fbc4f5853182ad01a0">  131</a></span>&#160;    <a class="code" href="struct_f_f_t_context.html">FFTContext</a> <a class="code" href="structvorbis__context__s.html#a3653b043aa47a0fbc4f5853182ad01a0">mdct</a>[2];</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a41ef995d8d0abd5f6cfdadfc69755f43">  132</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__context__s.html#a41ef995d8d0abd5f6cfdadfc69755f43">first_frame</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#abb8b4c621322a655dc089311aa910344">  133</a></span>&#160;    uint32_t      <a class="code" href="structvorbis__context__s.html#abb8b4c621322a655dc089311aa910344">version</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">  134</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a5d8ccd809287dc57e29c6a3cfd83ce89">  135</a></span>&#160;    uint32_t      <a class="code" href="structvorbis__context__s.html#a5d8ccd809287dc57e29c6a3cfd83ce89">audio_samplerate</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a4071006ae512fb8170d01f35b889d68e">  136</a></span>&#160;    uint32_t      <a class="code" href="structvorbis__context__s.html#a4071006ae512fb8170d01f35b889d68e">bitrate_maximum</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#adae41b075888900db9b7158759ff2634">  137</a></span>&#160;    uint32_t      <a class="code" href="structvorbis__context__s.html#adae41b075888900db9b7158759ff2634">bitrate_nominal</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#ace069824d5df8a7b1c67ad759e8f059b">  138</a></span>&#160;    uint32_t      <a class="code" href="structvorbis__context__s.html#ace069824d5df8a7b1c67ad759e8f059b">bitrate_minimum</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">  139</a></span>&#160;    uint32_t      <a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[2];</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a0c29f16b6b4e440496b2366de28ab1cc">  140</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span>  *<a class="code" href="structvorbis__context__s.html#a0c29f16b6b4e440496b2366de28ab1cc">win</a>[2];</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">  141</a></span>&#160;    uint16_t      <a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">  142</a></span>&#160;    <a class="code" href="structvorbis__codebook.html">vorbis_codebook</a> *<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a5491acfac9a1ec48d8323893572e970f">  143</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__context__s.html#a5491acfac9a1ec48d8323893572e970f">floor_count</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">  144</a></span>&#160;    <a class="code" href="structvorbis__floor.html">vorbis_floor</a> *<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">  145</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">residue_count</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">  146</a></span>&#160;    <a class="code" href="structvorbis__residue.html">vorbis_residue</a> *<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">  147</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">mapping_count</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">  148</a></span>&#160;    <a class="code" href="structvorbis__mapping.html">vorbis_mapping</a> *<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">  149</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">mode_count</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">  150</a></span>&#160;    <a class="code" href="structvorbis__mode.html">vorbis_mode</a>  *<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a4ad7c684d3798c39e450b66ab3671d7a">  151</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>       <a class="code" href="structvorbis__context__s.html#a4ad7c684d3798c39e450b66ab3671d7a">mode_number</a>; <span class="comment">// mode number for the current packet</span></div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#a25d082ed3b73e8f287aac3a3c2d4c830">  152</a></span>&#160;    int8_t       <a class="code" href="structvorbis__context__s.html#a25d082ed3b73e8f287aac3a3c2d4c830">previous_window</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">  153</a></span>&#160;    <span class="keywordtype">float</span>        *<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">  154</a></span>&#160;    <span class="keywordtype">float</span>        *<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a773eb61337b9250b6f96ebed2e7c18d4">  155</a></span>&#160;} <a class="code" href="vorbisdec_8c.html#a773eb61337b9250b6f96ebed2e7c18d4">vorbis_context</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">/* Helper functions */</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a43594c35b7731f77735f9ee0a8439679">  159</a></span>&#160;<span class="preprocessor">#define BARK(x) \</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">    (13.1f * atan(0.00074f * (x)) + 2.24f * atan(1.85e-8f * (x) * (x)) + 1e-4f * (x))</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ac5545d56b03902f706c5c9ded8b7b316">  162</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="vorbisdec_8c.html#ac5545d56b03902f706c5c9ded8b7b316">idx_err_str</a>[] = <span class="stringliteral">&quot;Index value %d out of range (0 - %d) for %s at %s:%i\n&quot;</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#aa8f9e77d06c1cbc599f6eb4254ef7971">  163</a></span>&#160;<span class="preprocessor">#define VALIDATE_INDEX(idx, limit) \</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">    if (idx &gt;= limit) {\</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">        av_log(vc-&gt;avctx, AV_LOG_ERROR,\</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">               idx_err_str,\</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">               (int)(idx), (int)(limit - 1), #idx, __FILE__, __LINE__);\</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">        return AVERROR_INVALIDDATA;\</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">  170</a></span>&#160;<span class="preprocessor">#define GET_VALIDATED_INDEX(idx, bits, limit) \</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">    {\</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">        idx = get_bits(gb, bits);\</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">        VALIDATE_INDEX(idx, limit)\</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a21dbd4f00909aee6602a16b329d71872">  176</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="vorbisdec_8c.html#a21dbd4f00909aee6602a16b329d71872">vorbisfloat2float</a>(<span class="keywordtype">unsigned</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">double</span> mant = <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &amp; 0x1fffff;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">long</span> <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>    = (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &amp; 0x7fe00000<a class="code" href="arm_2vp56__arith_8h.html#a7577d49f3bfffb1cf048eef843177784">L</a>) &gt;&gt; 21;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &amp; 0x80000000)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        mant = -mant;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> ldexp(mant, <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a> - 20 - 768);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">// Free all allocated memory -----------------------------------------</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">  188</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">fdsp</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">residue_count</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">classifs</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="fft_8h.html#afee52a8ecff75737ecbdca0f9ae0a377">ff_mdct_end</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3653b043aa47a0fbc4f5853182ad01a0">mdct</a>[0]);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="fft_8h.html#afee52a8ecff75737ecbdca0f9ae0a377">ff_mdct_end</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3653b043aa47a0fbc4f5853182ad01a0">mdct</a>[1]);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__codebook.html#aa0d70eb6ee3f70b4e1c9b00fe409cebd">vlc</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#a5491acfac9a1ec48d8323893572e970f">floor_count</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__floor.html#ace00b6715e85dd24a282a30df58450ff">floor_type</a> == 0) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a14d91c08adf2e43e7580a25a81503786">map</a>[0]);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a14d91c08adf2e43e7580a25a81503786">map</a>[1]);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">book_list</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6c31f513a0193c4d468241116515b56b">lsp</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">mapping_count</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">mux</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">// Parse setup header -------------------------------------------------</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">// Process codebooks part</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a5fd83bcb4ca55912c57cd50d76be3bcf">  238</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a5fd83bcb4ca55912c57cd50d76be3bcf">vorbis_parse_setup_hdr_codebooks</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>  *tmp_vlc_bits  = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    uint32_t *tmp_vlc_codes = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    uint16_t *codebook_multiplicands = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = 0;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) + 1;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; Codebooks: %d \n&quot;</span>, vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a> * <span class="keyword">sizeof</span>(*vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>));</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    tmp_vlc_bits  = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="vorbisdec_8c.html#a16346c45a3bd60512843417319f5daaf">V_MAX_VLCS</a> * <span class="keyword">sizeof</span>(*tmp_vlc_bits));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    tmp_vlc_codes = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(<a class="code" href="vorbisdec_8c.html#a16346c45a3bd60512843417319f5daaf">V_MAX_VLCS</a> * <span class="keyword">sizeof</span>(*tmp_vlc_codes));</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    codebook_multiplicands = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(<a class="code" href="vorbisdec_8c.html#a16346c45a3bd60512843417319f5daaf">V_MAX_VLCS</a> * <span class="keyword">sizeof</span>(*codebook_multiplicands));</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a> ||</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        !tmp_vlc_bits || !tmp_vlc_codes || !codebook_multiplicands) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a> = 0; <a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>; ++<a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a>) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="structvorbis__codebook.html">vorbis_codebook</a> *codebook_setup = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[<a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a>];</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordtype">unsigned</span> ordered, t, entries, used_entries = 0;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; %u. Codebook\n&quot;</span>, <a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 24) != 0x564342) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                   <span class="stringliteral">&quot; %u. Codebook setup data corrupt.\n&quot;</span>, <a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>=<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> (codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a> &gt; 16 || codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a> == 0) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                   <span class="stringliteral">&quot; %u. Codebook&#39;s dimension is invalid (%d).\n&quot;</span>,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                   <a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a>, codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        entries = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 24);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span> (entries &gt; <a class="code" href="vorbisdec_8c.html#a16346c45a3bd60512843417319f5daaf">V_MAX_VLCS</a>) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                   <span class="stringliteral">&quot; %u. Codebook has too many entries (%u).\n&quot;</span>,</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                   <a class="code" href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a>, entries);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        ordered = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; codebook_dimensions %d, codebook_entries %u\n&quot;</span>,</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>, entries);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span> (!ordered) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordtype">unsigned</span> ce, <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordtype">unsigned</span> sparse = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; not ordered \n&quot;</span>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">if</span> (sparse) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; sparse \n&quot;</span>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                used_entries = 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">for</span> (ce = 0; ce &lt; entries; ++ce) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    <a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a> = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a>) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        tmp_vlc_bits[ce] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5) + 1;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                        ++used_entries;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        tmp_vlc_bits[ce] = 0;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; not sparse \n&quot;</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                used_entries = entries;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">for</span> (ce = 0; ce &lt; entries; ++ce)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    tmp_vlc_bits[ce] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5) + 1;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordtype">unsigned</span> current_entry  = 0;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordtype">unsigned</span> current_length = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5) + 1;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; ordered, current length: %u\n&quot;</span>, current_length);  <span class="comment">//FIXME</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            used_entries = entries;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">for</span> (; current_entry &lt; used_entries &amp;&amp; current_length &lt;= 32; ++current_length) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, number;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; number bits: %u &quot;</span>, <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(entries - current_entry));</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                number = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(entries - current_entry));</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; number: %u\n&quot;</span>, number);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = current_entry; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; number+current_entry; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; used_entries)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        tmp_vlc_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = current_length;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                current_entry+=number;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">if</span> (current_entry&gt;used_entries) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; More codelengths than codes in codebook. \n&quot;</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a4bbfacba9c47cc8005fdd96b6ca05d4e">lookup_type</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; lookup type: %d : %s \n&quot;</span>, codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a4bbfacba9c47cc8005fdd96b6ca05d4e">lookup_type</a>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a4bbfacba9c47cc8005fdd96b6ca05d4e">lookup_type</a> ? <span class="stringliteral">&quot;vq&quot;</span> : <span class="stringliteral">&quot;no lookup&quot;</span>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">// If the codebook is used for (inverse) VQ, calculate codevectors.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">if</span> (codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a4bbfacba9c47cc8005fdd96b6ca05d4e">lookup_type</a> == 1) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordtype">unsigned</span> codebook_lookup_values = <a class="code" href="vorbis_8c.html#a1ecb4229f8bcd10d6222bbe0c97e915e">ff_vorbis_nth_root</a>(entries, codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordtype">float</span> codebook_minimum_value = <a class="code" href="vorbisdec_8c.html#a21dbd4f00909aee6602a16b329d71872">vorbisfloat2float</a>(<a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32));</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordtype">float</span> codebook_delta_value   = <a class="code" href="vorbisdec_8c.html#a21dbd4f00909aee6602a16b329d71872">vorbisfloat2float</a>(<a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32));</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordtype">unsigned</span> codebook_value_bits = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4) + 1;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordtype">unsigned</span> codebook_sequence_p = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; We expect %d numbers for building the codevectors. \n&quot;</span>,</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    codebook_lookup_values);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;  delta %f minmum %f \n&quot;</span>,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    codebook_delta_value, codebook_minimum_value);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; codebook_lookup_values; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                codebook_multiplicands[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, codebook_value_bits);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; multiplicands*delta+minmum : %e \n&quot;</span>,</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                        (<span class="keywordtype">float</span>)codebook_multiplicands[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] * codebook_delta_value + codebook_minimum_value);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; multiplicand %u\n&quot;</span>, codebook_multiplicands[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">// Weed out unused vlcs and build codevector vector</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">if</span> (used_entries) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a> =</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(used_entries, codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a> *</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                               <span class="keyword">sizeof</span>(*codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a>));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="keywordflow">if</span> (!codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a>) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a> = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">for</span> (j = 0, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; entries; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keywordtype">unsigned</span> <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> = codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <span class="keywordflow">if</span> (tmp_vlc_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    <span class="keywordtype">float</span> last = 0.0;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    <span class="keywordtype">unsigned</span> lookup_offset = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <span class="stringliteral">&quot;Lookup offset %u ,&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>; ++k) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                        <span class="keywordtype">unsigned</span> multiplicand_offset = lookup_offset % codebook_lookup_values;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                        codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a>[j * <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> + k] = codebook_multiplicands[multiplicand_offset] * codebook_delta_value + codebook_minimum_value + last;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        <span class="keywordflow">if</span> (codebook_sequence_p)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                            last = codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a>[j * <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> + k];</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                        lookup_offset/=codebook_lookup_values;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    tmp_vlc_bits[j] = tmp_vlc_bits[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <span class="stringliteral">&quot;real lookup offset %u, vector: &quot;</span>, j);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>; ++k)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <span class="stringliteral">&quot; %f &quot;</span>,</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                                codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a>[j * <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> + k]);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    ++j;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">if</span> (j != used_entries) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Bug in codevector vector building code. \n&quot;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            entries = used_entries;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a4bbfacba9c47cc8005fdd96b6ca05d4e">lookup_type</a> &gt;= 2) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Codebook lookup type not supported. \n&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">// Initialize VLC table</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="vorbis_8c.html#a6fd6cc7d3019c199f05ed1f56d418d22">ff_vorbis_len2vlc</a>(tmp_vlc_bits, tmp_vlc_codes, entries)) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Invalid code lengths while generating vlcs. \n&quot;</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">maxdepth</a> = 0;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">for</span> (t = 0; t &lt; entries; ++t)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> (tmp_vlc_bits[t] &gt;= codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">maxdepth</a>)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">maxdepth</a> = tmp_vlc_bits[t];</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">if</span> (codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">maxdepth</a> &gt; 3 * <a class="code" href="vorbisdec_8c.html#a09d0b41869c61a93740b0da1f0f65570">V_NB_BITS</a>)</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a> = <a class="code" href="vorbisdec_8c.html#a4e6ab5d9c9f7ced957db84dfda36b486">V_NB_BITS2</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a> = <a class="code" href="vorbisdec_8c.html#a09d0b41869c61a93740b0da1f0f65570">V_NB_BITS</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">maxdepth</a> = (codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">maxdepth</a>+codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a> - 1) / codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a>(&amp;codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#aa0d70eb6ee3f70b4e1c9b00fe409cebd">vlc</a>, codebook_setup-&gt;<a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a>,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                            entries, tmp_vlc_bits, <span class="keyword">sizeof</span>(*tmp_vlc_bits),</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                            <span class="keyword">sizeof</span>(*tmp_vlc_bits), tmp_vlc_codes,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                            <span class="keyword">sizeof</span>(*tmp_vlc_codes), <span class="keyword">sizeof</span>(*tmp_vlc_codes),</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                            <a class="code" href="vlc_8h.html#a72f2dfad95e305316a60c3aecfc3f4cc">INIT_VLC_LE</a>))) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Error generating vlc tables. \n&quot;</span>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(tmp_vlc_bits);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(tmp_vlc_codes);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(codebook_multiplicands);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">// Error:</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<a class="code" href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a>:</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(tmp_vlc_bits);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(tmp_vlc_codes);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a>(codebook_multiplicands);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">// Process time domain transforms part (unused in Vorbis I)</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ab1385a1679ad37352932ada49b66240b">  473</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#ab1385a1679ad37352932ada49b66240b">vorbis_parse_setup_hdr_tdtransforms</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, vorbis_time_count = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6) + 1;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vorbis_time_count; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordtype">unsigned</span> vorbis_tdtransform = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; Vorbis time domain transform %u: %u\n&quot;</span>,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                vorbis_time_count, vorbis_tdtransform);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">if</span> (vorbis_tdtransform) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Vorbis time domain transform data nonzero. \n&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">// Process floors part</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#ab8b8ee82a22cee8a6aed469204197a8f">vorbis_floor0_decode</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                <a class="code" href="vorbisdec_8c.html#a6e2ce511d1a2900287942128184f5ed2">vorbis_floor_data</a> *vfu, <span class="keywordtype">float</span> *vec);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#af9b942ca34ea261dd39567ff07d77a72">create_map</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc, <span class="keywordtype">unsigned</span> floor_number);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a941df5a981fdafa3d44af1dacf7e3409">vorbis_floor1_decode</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                <a class="code" href="vorbisdec_8c.html#a6e2ce511d1a2900287942128184f5ed2">vorbis_floor_data</a> *vfu, <span class="keywordtype">float</span> *vec);</div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ada6da52126ef8c2708bf0a7910bf85fa">  499</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#ada6da52126ef8c2708bf0a7910bf85fa">vorbis_parse_setup_hdr_floors</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a5491acfac9a1ec48d8323893572e970f">floor_count</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6) + 1;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a> = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#a5491acfac9a1ec48d8323893572e970f">floor_count</a> * <span class="keyword">sizeof</span>(*vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>));</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#a5491acfac9a1ec48d8323893572e970f">floor_count</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="structvorbis__floor.html">vorbis_floor</a> *floor_setup = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        floor_setup-&gt;<a class="code" href="structvorbis__floor.html#ace00b6715e85dd24a282a30df58450ff">floor_type</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; %d. floor type %d \n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, floor_setup-&gt;<a class="code" href="structvorbis__floor.html#ace00b6715e85dd24a282a30df58450ff">floor_type</a>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">if</span> (floor_setup-&gt;<a class="code" href="structvorbis__floor.html#ace00b6715e85dd24a282a30df58450ff">floor_type</a> == 1) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordtype">int</span> maximum_class = -1;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordtype">unsigned</span> rangebits, rangemax, floor1_values = 2;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a259b831c26a4c4b12b63fac3656b7d0c">decode</a> = <a class="code" href="vorbisdec_8c.html#a941df5a981fdafa3d44af1dacf7e3409">vorbis_floor1_decode</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">partitions</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; %d.floor: %d partitions \n&quot;</span>,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                    <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">partitions</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">partitions</a>; ++j) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">partition_class</a>[j] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                <span class="keywordflow">if</span> (floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">partition_class</a>[j] &gt; maximum_class)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                    maximum_class = floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">partition_class</a>[j];</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; %d. floor %d partition class %d \n&quot;</span>,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                        <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">partition_class</a>[j]);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; maximum class %d \n&quot;</span>, maximum_class);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt;= maximum_class; ++j) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#abf6d82f45efb7b39b1d7260657654a80">class_dimensions</a>[j] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3) + 1;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#add8885f88622f353839f42e51095ef7b">class_subclasses</a>[j] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; %d floor %d class dim: %d subclasses %d \n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                        floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#abf6d82f45efb7b39b1d7260657654a80">class_dimensions</a>[j],</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                        floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#add8885f88622f353839f42e51095ef7b">class_subclasses</a>[j]);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <span class="keywordflow">if</span> (floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#add8885f88622f353839f42e51095ef7b">class_subclasses</a>[j]) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7dd2246e26ff4c0de561df621d2ed633">class_masterbook</a>[j], 8, vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;   masterbook: %d \n&quot;</span>, floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7dd2246e26ff4c0de561df621d2ed633">class_masterbook</a>[j]);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                <span class="keywordflow">for</span> (k = 0; k &lt; (1 &lt;&lt; floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#add8885f88622f353839f42e51095ef7b">class_subclasses</a>[j]); ++k) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                    int16_t <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) - 1;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a> != -1)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                        <a class="code" href="vorbisdec_8c.html#aa8f9e77d06c1cbc599f6eb4254ef7971">VALIDATE_INDEX</a>(<a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                    floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a31f10ff78dc6ba4315de0499891d1b10">subclass_books</a>[j][k] = <a class="code" href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;    book %d. : %d \n&quot;</span>, k, floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a31f10ff78dc6ba4315de0499891d1b10">subclass_books</a>[j][k]);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7f553fba9b523e73ddd822a8b65b102b">multiplier</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2) + 1;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#aa1d464f2ced2655afb03cdd2e9cac649">x_list_dim</a> = 2;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">partitions</a>; ++j)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#aa1d464f2ced2655afb03cdd2e9cac649">x_list_dim</a>+=floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#abf6d82f45efb7b39b1d7260657654a80">class_dimensions</a>[floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">partition_class</a>[j]];</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a> = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#aa1d464f2ced2655afb03cdd2e9cac649">x_list_dim</a>,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                                   <span class="keyword">sizeof</span>(*floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>));</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">if</span> (!floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            rangebits = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">if</span> (!rangebits &amp;&amp; floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">partitions</a>) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                       <span class="stringliteral">&quot;A rangebits value of 0 is not compliant with the Vorbis I specification.\n&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            rangemax = (1 &lt;&lt; rangebits);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> (rangemax &gt; vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1] / 2) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                       <span class="stringliteral">&quot;Floor value is too large for blocksize: %u (%&quot;</span>PRIu32<span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                       rangemax, vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1] / 2);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>[0].<a class="code" href="structvorbis__floor1__entry.html#a2e2f9bfad8dc6adb9eeff280a5322a33">x</a> = 0;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>[1].<a class="code" href="structvorbis__floor1__entry.html#a2e2f9bfad8dc6adb9eeff280a5322a33">x</a> = rangemax;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">partitions</a>; ++j) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                <span class="keywordflow">for</span> (k = 0; k &lt; floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#abf6d82f45efb7b39b1d7260657654a80">class_dimensions</a>[floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">partition_class</a>[j]]; ++k, ++floor1_values) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>[floor1_values].<a class="code" href="structvorbis__floor1__entry.html#a2e2f9bfad8dc6adb9eeff280a5322a33">x</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, rangebits);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; %u. floor1 Y coord. %d\n&quot;</span>, floor1_values,</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>[floor1_values].<a class="code" href="structvorbis__floor1__entry.html#a2e2f9bfad8dc6adb9eeff280a5322a33">x</a>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">// Precalculate order of x coordinates - needed for decode</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vorbis_8c.html#a1daf4fde3896f162291dc9eca12f27cd">ff_vorbis_ready_floor1_list</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>,</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                                            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">list</a>,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                                            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">t1</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#aa1d464f2ced2655afb03cdd2e9cac649">x_list_dim</a>)) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (floor_setup-&gt;<a class="code" href="structvorbis__floor.html#ace00b6715e85dd24a282a30df58450ff">floor_type</a> == 0) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordtype">unsigned</span> max_codebook_dim = 0;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a259b831c26a4c4b12b63fac3656b7d0c">decode</a> = <a class="code" href="vorbisdec_8c.html#ab8b8ee82a22cee8a6aed469204197a8f">vorbis_floor0_decode</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6fe8d4beb533e9f8cf036df41700f1f4">order</a>          = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb,  8);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="keywordflow">if</span> (!floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6fe8d4beb533e9f8cf036df41700f1f4">order</a>) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Floor 0 order is 0.\n&quot;</span>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#af407280865dcaf827b82e7de3a6f7d11">rate</a>           = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <span class="keywordflow">if</span> (!floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#af407280865dcaf827b82e7de3a6f7d11">rate</a>) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Floor 0 rate is 0.\n&quot;</span>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#ae264b9ecead72988b5e755ebd56f4d14">bark_map_size</a>  = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            <span class="keywordflow">if</span> (!floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#ae264b9ecead72988b5e755ebd56f4d14">bark_map_size</a>) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                       <span class="stringliteral">&quot;Floor 0 bark map size is 0.\n&quot;</span>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#aad04f409bae4cfc06758e1da446c1e4b">amplitude_bits</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb,  6);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a442b8e46124c5957d37b5a0b88cadf2e">amplitude_offset</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a381e091545b7fbca9cb36d8b39bf49ea">num_books</a>        = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4) + 1;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <span class="comment">/* allocate mem for booklist */</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">book_list</a> =</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a381e091545b7fbca9cb36d8b39bf49ea">num_books</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="keywordflow">if</span> (!floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">book_list</a>)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="comment">/* read book indexes */</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordtype">int</span> idx;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <span class="keywordtype">unsigned</span> book_idx;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                <span class="keywordflow">for</span> (idx = 0; idx &lt; floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a381e091545b7fbca9cb36d8b39bf49ea">num_books</a>; ++idx) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                    <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(book_idx, 8, vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">book_list</a>[idx] = book_idx;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[book_idx].<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a> &gt; max_codebook_dim)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                        max_codebook_dim = vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[book_idx].<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#af9b942ca34ea261dd39567ff07d77a72">create_map</a>(vc, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)) &lt; 0)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="comment">/* codebook dim is for padding if codebook dim doesn&#39;t *</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">             * divide order+1 then we need to read more data       */</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6c31f513a0193c4d468241116515b56b">lsp</a> =</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>((floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6fe8d4beb533e9f8cf036df41700f1f4">order</a> + 1 + max_codebook_dim),</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                                <span class="keyword">sizeof</span>(*floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6c31f513a0193c4d468241116515b56b">lsp</a>));</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">if</span> (!floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6c31f513a0193c4d468241116515b56b">lsp</a>)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="comment">/* debug output parsed headers */</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 order: %u\n&quot;</span>, floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6fe8d4beb533e9f8cf036df41700f1f4">order</a>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 rate: %u\n&quot;</span>, floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#af407280865dcaf827b82e7de3a6f7d11">rate</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 bark map size: %u\n&quot;</span>,</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#ae264b9ecead72988b5e755ebd56f4d14">bark_map_size</a>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 amplitude bits: %u\n&quot;</span>,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#aad04f409bae4cfc06758e1da446c1e4b">amplitude_bits</a>);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 amplitude offset: %u\n&quot;</span>,</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a442b8e46124c5957d37b5a0b88cadf2e">amplitude_offset</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 number of books: %u\n&quot;</span>,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a381e091545b7fbca9cb36d8b39bf49ea">num_books</a>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 book list pointer: %p\n&quot;</span>,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">book_list</a>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <span class="keywordtype">int</span> idx;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                <span class="keywordflow">for</span> (idx = 0; idx &lt; floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a381e091545b7fbca9cb36d8b39bf49ea">num_books</a>; ++idx) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;  Book %d: %u\n&quot;</span>, idx + 1,</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                            floor_setup-&gt;<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">book_list</a>[idx]);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid floor type!\n&quot;</span>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">// Process residues part</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a5bc48e67590da82dd62641838bdf1015">  689</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a5bc48e67590da82dd62641838bdf1015">vorbis_parse_setup_hdr_residues</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">residue_count</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6)+1;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>      = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">residue_count</a> * <span class="keyword">sizeof</span>(*vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>));</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; There are %d residues. \n&quot;</span>, vc-&gt;<a class="code" href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">residue_count</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">residue_count</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="structvorbis__residue.html">vorbis_residue</a> *res_setup = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> cascade[64];</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordtype">unsigned</span> high_bits, low_bits;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        res_setup-&gt;<a class="code" href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">type</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; %u. residue type %d\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, res_setup-&gt;<a class="code" href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">type</a>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        res_setup-&gt;<a class="code" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">begin</a>          = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 24);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        res_setup-&gt;<a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a>            = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 24);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        res_setup-&gt;<a class="code" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">partition_size</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 24) + 1;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="comment">/* Validations to prevent a buffer overflow later. */</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> (res_setup-&gt;<a class="code" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">begin</a>&gt;res_setup-&gt;<a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a> ||</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            (res_setup-&gt;<a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a>-res_setup-&gt;<a class="code" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">begin</a>) / res_setup-&gt;<a class="code" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">partition_size</a> &gt; <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="vorbisdec_8c.html#aa98bdbd57792be1a8d243b050d9776c4">V_MAX_PARTITIONS</a>, 65535)) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                   <span class="stringliteral">&quot;partition out of bounds: type, begin, end, size, blocksize: %&quot;</span>PRIu16<span class="stringliteral">&quot;, %&quot;</span>PRIu32<span class="stringliteral">&quot;, %&quot;</span>PRIu32<span class="stringliteral">&quot;, %u, %&quot;</span>PRIu32<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                   res_setup-&gt;<a class="code" href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">type</a>, res_setup-&gt;<a class="code" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">begin</a>, res_setup-&gt;<a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a>,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                   res_setup-&gt;<a class="code" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">partition_size</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1] / 2);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        res_setup-&gt;<a class="code" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">classifications</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6) + 1;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(res_setup-&gt;<a class="code" href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">classbook</a>, 8, vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        res_setup-&gt;<a class="code" href="structvorbis__residue.html#a0b485a3e12ff28f064825a7b60450fca">ptns_to_read</a> =</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            (res_setup-&gt;<a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a> - res_setup-&gt;<a class="code" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">begin</a>) / res_setup-&gt;<a class="code" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">partition_size</a>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        res_setup-&gt;<a class="code" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">classifs</a> = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(res_setup-&gt;<a class="code" href="structvorbis__residue.html#a0b485a3e12ff28f064825a7b60450fca">ptns_to_read</a>,</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                                        vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> *</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                                        <span class="keyword">sizeof</span>(*res_setup-&gt;<a class="code" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">classifs</a>));</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">if</span> (!res_setup-&gt;<a class="code" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">classifs</a>)</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;    begin %&quot;</span>PRIu32<span class="stringliteral">&quot; end %&quot;</span>PRIu32<span class="stringliteral">&quot; part.size %u classif.s %&quot;</span>PRIu8<span class="stringliteral">&quot; classbook %&quot;</span>PRIu8<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                res_setup-&gt;<a class="code" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">begin</a>, res_setup-&gt;<a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a>, res_setup-&gt;<a class="code" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">partition_size</a>,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                res_setup-&gt;<a class="code" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">classifications</a>, res_setup-&gt;<a class="code" href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">classbook</a>);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; res_setup-&gt;<a class="code" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">classifications</a>; ++j) {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            high_bits = 0;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            low_bits  = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 3);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb))</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                high_bits = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 5);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            cascade[j] = (high_bits &lt;&lt; 3) + low_bits;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;     %u class cascade depth: %d\n&quot;</span>, j, <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(cascade[j]));</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        res_setup-&gt;<a class="code" href="structvorbis__residue.html#ada95d87aeb1653552702419d232550a6">maxpass</a> = 0;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; res_setup-&gt;<a class="code" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">classifications</a>; ++j) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="keywordflow">for</span> (k = 0; k &lt; 8; ++k) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                <span class="keywordflow">if</span> (cascade[j]&amp;(1 &lt;&lt; k)) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                    <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(res_setup-&gt;<a class="code" href="structvorbis__residue.html#a2b8367501ca8aa202fdaa23b2e98d45a">books</a>[j][k], 8, vc-&gt;<a class="code" href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">codebook_count</a>)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;     %u class cascade depth %u book: %d\n&quot;</span>,</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                            j, k, res_setup-&gt;<a class="code" href="structvorbis__residue.html#a2b8367501ca8aa202fdaa23b2e98d45a">books</a>[j][k]);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    <span class="keywordflow">if</span> (k&gt;res_setup-&gt;<a class="code" href="structvorbis__residue.html#ada95d87aeb1653552702419d232550a6">maxpass</a>)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                        res_setup-&gt;<a class="code" href="structvorbis__residue.html#ada95d87aeb1653552702419d232550a6">maxpass</a> = k;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    res_setup-&gt;<a class="code" href="structvorbis__residue.html#a2b8367501ca8aa202fdaa23b2e98d45a">books</a>[j][k] = -1;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">// Process mappings part</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a8bf3e4e5b35d7eef1c7f25377e6d3780">  770</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a8bf3e4e5b35d7eef1c7f25377e6d3780">vorbis_parse_setup_hdr_mappings</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;{</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">mapping_count</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6)+1;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>      = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">mapping_count</a> * <span class="keyword">sizeof</span>(*vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>));</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; There are %d mappings. \n&quot;</span>, vc-&gt;<a class="code" href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">mapping_count</a>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">mapping_count</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <a class="code" href="structvorbis__mapping.html">vorbis_mapping</a> *mapping_setup = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16)) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Other mappings than type 0 are not compliant with the Vorbis I specification. \n&quot;</span>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">submaps</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4) + 1;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">submaps</a> = 1;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) + 1;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> &lt; 2) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                       <span class="stringliteral">&quot;Square polar channel mapping with less than two channels is not compliant with the Vorbis I specification.\n&quot;</span>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;            mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>      = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a> *</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                                                       <span class="keyword">sizeof</span>(*mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>));</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a>          = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a> *</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                                                       <span class="keyword">sizeof</span>(*mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a>));</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="keywordflow">if</span> (!mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a> || !mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a>; ++j) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>[j], <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> - 1), vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>)</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a>[j],     <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> - 1), vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a> = 0;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;   %u mapping coupling steps: %d\n&quot;</span>,</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a>);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2)) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;%u. mapping setup data invalid.\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>; <span class="comment">// following spec.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">if</span> (mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">submaps</a>&gt;1) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">mux</a> = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>,</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                            <span class="keyword">sizeof</span>(*mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">mux</a>));</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <span class="keywordflow">if</span> (!mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">mux</a>)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>; ++j)</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">mux</a>[j] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">submaps</a>; ++j) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            <a class="code" href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a>(gb, 8); <span class="comment">// FIXME check?</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a1bf0f73429bb67aecb2734fabf7bf076">submap_floor</a>[j],   8, vc-&gt;<a class="code" href="structvorbis__context__s.html#a5491acfac9a1ec48d8323893572e970f">floor_count</a>)</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#aef96dbbf5b13b2732989cb635b7e34c9">submap_residue</a>[j], 8, vc-&gt;<a class="code" href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">residue_count</a>)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;   %u mapping %u submap : floor %d, residue %d\n&quot;</span>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j,</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#a1bf0f73429bb67aecb2734fabf7bf076">submap_floor</a>[j],</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    mapping_setup-&gt;<a class="code" href="structvorbis__mapping.html#aef96dbbf5b13b2732989cb635b7e34c9">submap_residue</a>[j]);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;}</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">// Process modes part</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160; </div>
<div class="line"><a name="l00850"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#af9b942ca34ea261dd39567ff07d77a72">  850</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#af9b942ca34ea261dd39567ff07d77a72">create_map</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc, <span class="keywordtype">unsigned</span> floor_number)</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;{</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="structvorbis__floor.html">vorbis_floor</a> *floors = vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <a class="code" href="vorbisdec_8c.html#a345459b32b2bc75249c3260257c02d96">vorbis_floor0</a> *vf;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordtype">int</span> idx;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordtype">int</span> blockflag, n;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> *<a class="code" href="hwcontext__vdpau_8c.html#a2996cc16b36e13c9010705bad768e866">map</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordflow">for</span> (blockflag = 0; blockflag &lt; 2; ++blockflag) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        n = vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[blockflag] / 2;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        floors[floor_number].<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a14d91c08adf2e43e7580a25a81503786">map</a>[blockflag] =</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(n + 1, <span class="keyword">sizeof</span>(<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>)); <span class="comment">// n + sentinel</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">if</span> (!floors[floor_number].<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>.t0.map[blockflag])</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="hwcontext__vdpau_8c.html#a2996cc16b36e13c9010705bad768e866">map</a> =  floors[floor_number].<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>.<a class="code" href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a14d91c08adf2e43e7580a25a81503786">map</a>[blockflag];</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        vf  = &amp;floors[floor_number].<a class="code" href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">data</a>.<a class="code" href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">t0</a>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160; </div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordflow">for</span> (idx = 0; idx &lt; n; ++idx) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <a class="code" href="hwcontext__vdpau_8c.html#a2996cc16b36e13c9010705bad768e866">map</a>[idx] = <a class="code" href="cuda__runtime_8h.html#ab49e3b691545ec566bbf71491e06504c">floor</a>(<a class="code" href="vorbisdec_8c.html#a43594c35b7731f77735f9ee0a8439679">BARK</a>((vf-&gt;rate * idx) / (2.0f * n)) *</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                             (vf-&gt;bark_map_size / <a class="code" href="vorbisdec_8c.html#a43594c35b7731f77735f9ee0a8439679">BARK</a>(vf-&gt;rate / 2.0f)));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="keywordflow">if</span> (vf-&gt;bark_map_size-1 &lt; <a class="code" href="hwcontext__vdpau_8c.html#a2996cc16b36e13c9010705bad768e866">map</a>[idx])</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                <a class="code" href="hwcontext__vdpau_8c.html#a2996cc16b36e13c9010705bad768e866">map</a>[idx] = vf-&gt;bark_map_size - 1;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <a class="code" href="hwcontext__vdpau_8c.html#a2996cc16b36e13c9010705bad768e866">map</a>[n] = -1;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        vf-&gt;map_size[blockflag] = n;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">for</span> (idx = 0; idx &lt;= n; ++idx) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 map: map at pos %d is %&quot;</span>PRId32<span class="stringliteral">&quot;\n&quot;</span>, idx, <a class="code" href="hwcontext__vdpau_8c.html#a2996cc16b36e13c9010705bad768e866">map</a>[idx]);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;}</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ace1841dbaaabcd3e17dfe3342abfd96e">  885</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#ace1841dbaaabcd3e17dfe3342abfd96e">vorbis_parse_setup_hdr_modes</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;{</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">mode_count</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 6) + 1;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>      = <a class="code" href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">mode_count</a> * <span class="keyword">sizeof</span>(*vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>));</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; There are %d modes.\n&quot;</span>, vc-&gt;<a class="code" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">mode_count</a>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160; </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">mode_count</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <a class="code" href="structvorbis__mode.html">vorbis_mode</a> *mode_setup = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        mode_setup-&gt;<a class="code" href="structvorbis__mode.html#ab47ff5085843a15ea0bfe10ce8d23c86">blockflag</a>     = <a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        mode_setup-&gt;<a class="code" href="structvorbis__mode.html#a144c76e09e4a10635e30b3f2c310fe90">windowtype</a>    = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16); <span class="comment">//FIXME check</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        mode_setup-&gt;<a class="code" href="structvorbis__mode.html#ac0bd316168e8c92abb7cf91e4210631a">transformtype</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 16); <span class="comment">//FIXME check</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(mode_setup-&gt;<a class="code" href="structvorbis__mode.html#aa5152490a9cd0e4602cf4667fcc6cb58">mapping</a>, 8, vc-&gt;<a class="code" href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">mapping_count</a>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; %u mode: blockflag %d, windowtype %d, transformtype %d, mapping %d\n&quot;</span>,</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, mode_setup-&gt;<a class="code" href="structvorbis__mode.html#ab47ff5085843a15ea0bfe10ce8d23c86">blockflag</a>, mode_setup-&gt;<a class="code" href="structvorbis__mode.html#a144c76e09e4a10635e30b3f2c310fe90">windowtype</a>,</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                mode_setup-&gt;<a class="code" href="structvorbis__mode.html#ac0bd316168e8c92abb7cf91e4210631a">transformtype</a>, mode_setup-&gt;<a class="code" href="structvorbis__mode.html#aa5152490a9cd0e4602cf4667fcc6cb58">mapping</a>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;}</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">// Process the whole setup header using the functions above</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#af2f0bb2100a446eef3edd2d2eff59595">  914</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#af2f0bb2100a446eef3edd2d2eff59595">vorbis_parse_setup_hdr</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;{</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;v&#39;</span>) || (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;o&#39;</span>) ||</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;r&#39;</span>) || (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;b&#39;</span>) ||</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;i&#39;</span>) || (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;s&#39;</span>)) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis setup header packet corrupt (no vorbis signature). \n&quot;</span>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#a5fd83bcb4ca55912c57cd50d76be3bcf">vorbis_parse_setup_hdr_codebooks</a>(vc))) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis setup header packet corrupt (codebooks). \n&quot;</span>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#ab1385a1679ad37352932ada49b66240b">vorbis_parse_setup_hdr_tdtransforms</a>(vc))) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis setup header packet corrupt (time domain transforms). \n&quot;</span>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#ada6da52126ef8c2708bf0a7910bf85fa">vorbis_parse_setup_hdr_floors</a>(vc))) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis setup header packet corrupt (floors). \n&quot;</span>);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#a5bc48e67590da82dd62641838bdf1015">vorbis_parse_setup_hdr_residues</a>(vc))) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis setup header packet corrupt (residues). \n&quot;</span>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#a8bf3e4e5b35d7eef1c7f25377e6d3780">vorbis_parse_setup_hdr_mappings</a>(vc))) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis setup header packet corrupt (mappings). \n&quot;</span>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#ace1841dbaaabcd3e17dfe3342abfd96e">vorbis_parse_setup_hdr_modes</a>(vc))) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis setup header packet corrupt (modes). \n&quot;</span>);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis setup header packet corrupt (framing flag). \n&quot;</span>);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>; <span class="comment">// framing flag bit unset error</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;}</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">// Process the identification header</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a84d656a41f50860c9cc71a99d4864e6b">  960</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a84d656a41f50860c9cc71a99d4864e6b">vorbis_parse_id_hdr</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordtype">unsigned</span> bl0, bl1;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;v&#39;</span>) || (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;o&#39;</span>) ||</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;r&#39;</span>) || (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;b&#39;</span>) ||</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;i&#39;</span>) || (<a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8) != <span class="charliteral">&#39;s&#39;</span>)) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis id header packet corrupt (no vorbis signature). \n&quot;</span>);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#abb8b4c621322a655dc089311aa910344">version</a>        = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);    <span class="comment">//FIXME check 0</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> &lt;= 0) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid number of channels\n&quot;</span>);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a5d8ccd809287dc57e29c6a3cfd83ce89">audio_samplerate</a> = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#a5d8ccd809287dc57e29c6a3cfd83ce89">audio_samplerate</a> &lt;= 0) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid samplerate\n&quot;</span>);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a4071006ae512fb8170d01f35b889d68e">bitrate_maximum</a> = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#adae41b075888900db9b7158759ff2634">bitrate_nominal</a> = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#ace069824d5df8a7b1c67ad759e8f059b">bitrate_minimum</a> = <a class="code" href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a>(gb, 32);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    bl0 = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    bl1 = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 4);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">if</span> (bl0 &gt; 13 || bl0 &lt; 6 || bl1 &gt; 13 || bl1 &lt; 6 || bl1 &lt; bl0) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis id header packet corrupt (illegal blocksize). \n&quot;</span>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[0] = (1 &lt;&lt; bl0);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1] = (1 &lt;&lt; bl1);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a0c29f16b6b4e440496b2366de28ab1cc">win</a>[0] = <a class="code" href="vorbis_8h.html#af74273353e4cb824e59cf32623276810">ff_vorbis_vwin</a>[bl0 - 6];</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a0c29f16b6b4e440496b2366de28ab1cc">win</a>[1] = <a class="code" href="vorbis_8h.html#af74273353e4cb824e59cf32623276810">ff_vorbis_vwin</a>[bl1 - 6];</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) == 0) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Vorbis id header packet corrupt (framing flag not set). \n&quot;</span>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a> =  <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1]  / 2, vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> * <span class="keyword">sizeof</span>(*vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a>));</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a>            =  <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1] / 4, vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> * <span class="keyword">sizeof</span>(*vc-&gt;<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a>));</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a> || !vc-&gt;<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a>)</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a25d082ed3b73e8f287aac3a3c2d4c830">previous_window</a>  = -1;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <a class="code" href="fft_8h.html#a58a526e6fc1130d7dabfec1e90680e3c">ff_mdct_init</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3653b043aa47a0fbc4f5853182ad01a0">mdct</a>[0], bl0, 1, -1.0);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <a class="code" href="fft_8h.html#a58a526e6fc1130d7dabfec1e90680e3c">ff_mdct_init</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3653b043aa47a0fbc4f5853182ad01a0">mdct</a>[1], bl1, 1, -1.0);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">fdsp</a> = <a class="code" href="libavutil_2float__dsp_8c.html#abf4186be59dc9de8cda94ee7beacaf67">avpriv_float_dsp_alloc</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>-&gt;<a class="code" href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">flags</a> &amp; <a class="code" href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a>);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">fdsp</a>)</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; vorbis version %&quot;</span>PRIu32<span class="stringliteral">&quot; \n audio_channels %&quot;</span>PRIu8<span class="stringliteral">&quot; \n audio_samplerate %&quot;</span>PRIu32<span class="stringliteral">&quot; \n bitrate_max %&quot;</span>PRIu32<span class="stringliteral">&quot; \n bitrate_nom %&quot;</span>PRIu32<span class="stringliteral">&quot; \n bitrate_min %&quot;</span>PRIu32<span class="stringliteral">&quot; \n blk_0 %&quot;</span>PRIu32<span class="stringliteral">&quot; blk_1 %&quot;</span>PRIu32<span class="stringliteral">&quot; \n &quot;</span>,</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            vc-&gt;<a class="code" href="structvorbis__context__s.html#abb8b4c621322a655dc089311aa910344">version</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#a5d8ccd809287dc57e29c6a3cfd83ce89">audio_samplerate</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#a4071006ae512fb8170d01f35b889d68e">bitrate_maximum</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#adae41b075888900db9b7158759ff2634">bitrate_nominal</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#ace069824d5df8a7b1c67ad759e8f059b">bitrate_minimum</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[0], vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1]);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">    BLK = vc-&gt;blocksize[0];</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">    for (i = 0; i &lt; BLK / 2; ++i) {</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">        vc-&gt;win[0][i] = sin(0.5*3.14159265358*(sin(((float)i + 0.5) / (float)BLK*3.14159265358))*(sin(((float)i + 0.5) / (float)BLK*3.14159265358)));</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">// Process the extradata using the functions above (identification header, setup header)</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a21238e478c9791b7a5f619e2da702f58"> 1030</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a21238e478c9791b7a5f619e2da702f58">vorbis_decode_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;{</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="build__system_8txt.html#ad5f19473a15f2270898499b3f26b5948">headers</a>   = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">extradata</a>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordtype">int</span> headers_len    = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">extradata_size</a>;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *header_start[3];</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordtype">int</span> header_len[3];</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordtype">int</span> hdr_type, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a> = avctx;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <a class="code" href="vorbisdsp_8c.html#aaa7a4fcaf50a875b08c9ddef3b07c5d6">ff_vorbisdsp_init</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#ad48fc7c1a8b9c5a65df79cc785090588">dsp</a>);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">sample_fmt</a> = <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160; </div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span> (!headers_len) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Extradata missing.\n&quot;</span>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="xiph_8c.html#a3c4ba1310b067a4d8a0326e393a99cd4">avpriv_split_xiph_headers</a>(<a class="code" href="build__system_8txt.html#ad5f19473a15f2270898499b3f26b5948">headers</a>, headers_len, 30, header_start, header_len)) &lt; 0) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Extradata corrupt.\n&quot;</span>);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160; </div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(gb, header_start[0], header_len[0]*8);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    hdr_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">if</span> (hdr_type != 1) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;First header is not the id header.\n&quot;</span>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#a84d656a41f50860c9cc71a99d4864e6b">vorbis_parse_id_hdr</a>(vc))) {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Id header corrupt.\n&quot;</span>);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <a class="code" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a>(vc);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <a class="code" href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a>(gb, header_start[2], header_len[2]*8);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    hdr_type = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 8);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">if</span> (hdr_type != 5) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Third header is not the setup header.\n&quot;</span>);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <a class="code" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a>(vc);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#af2f0bb2100a446eef3edd2d2eff59595">vorbis_parse_setup_hdr</a>(vc))) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Setup header corrupt.\n&quot;</span>);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <a class="code" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a>(vc);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> &gt; 8)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a> = 0;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a> = <a class="code" href="vorbis_8h.html#ad48f1a3e351b48e6c779ceab7080b6bc">ff_vorbis_channel_layouts</a>[vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> - 1];</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>    = vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> = vc-&gt;<a class="code" href="structvorbis__context__s.html#a5d8ccd809287dc57e29c6a3cfd83ce89">audio_samplerate</a>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;}</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">// Decode audiopackets -------------------------------------------------</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">// Read and decode floor</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ab8b8ee82a22cee8a6aed469204197a8f"> 1095</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#ab8b8ee82a22cee8a6aed469204197a8f">vorbis_floor0_decode</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc,</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                                <a class="code" href="vorbisdec_8c.html#a6e2ce511d1a2900287942128184f5ed2">vorbis_floor_data</a> *vfu, <span class="keywordtype">float</span> *vec)</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;{</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="vorbisdec_8c.html#a345459b32b2bc75249c3260257c02d96">vorbis_floor0</a> *vf = &amp;vfu-&gt;t0;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordtype">float</span> *lsp = vf-&gt;lsp;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordtype">unsigned</span> book_idx;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    uint64_t amplitude;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordtype">unsigned</span> blockflag = vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>[vc-&gt;<a class="code" href="structvorbis__context__s.html#a4ad7c684d3798c39e450b66ab3671d7a">mode_number</a>].<a class="code" href="structvorbis__mode.html#ab47ff5085843a15ea0bfe10ce8d23c86">blockflag</a>;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="keywordflow">if</span> (!vf-&gt;amplitude_bits)</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    amplitude = <a class="code" href="get__bits_8h.html#a8140d9222d8e812f1540ad4592f72eb5">get_bits64</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>, vf-&gt;amplitude_bits);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">if</span> (amplitude &gt; 0) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <span class="keywordtype">float</span> last = 0;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keywordtype">unsigned</span> idx, lsp_len = 0;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <a class="code" href="structvorbis__codebook.html">vorbis_codebook</a> <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160; </div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        book_idx = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>, <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(vf-&gt;num_books));</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">if</span> (book_idx &gt;= vf-&gt;num_books) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;floor0 dec: booknumber too high!\n&quot;</span>);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            book_idx =  0;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        }</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 dec: booknumber: %u\n&quot;</span>, book_idx);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a> = vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vf-&gt;book_list[book_idx]];</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="comment">/* Invalid codebook! */</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors)</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="keywordflow">while</span> (lsp_len&lt;vf-&gt;order) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordtype">int</span> vec_off;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 dec: book dimension: %d\n&quot;</span>, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.dimensions);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 dec: maximum depth: %d\n&quot;</span>, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.maxdepth);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            <span class="comment">/* read temp vector */</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            vec_off = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.vlc.table,</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                               <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.nb_bits, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.maxdepth);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            <span class="keywordflow">if</span> (vec_off &lt; 0)</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            vec_off *= <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.dimensions;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 dec: vector offset: %d\n&quot;</span>, vec_off);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            <span class="comment">/* copy each vector component and add last to it */</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.dimensions; ++idx)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                lsp[lsp_len+idx] = <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[vec_off+idx] + last;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;            last = lsp[lsp_len+idx-1]; <span class="comment">/* set last to last vector component */</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            lsp_len += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.dimensions;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="comment">/* DEBUG: output lsp coeffs */</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            <span class="keywordtype">int</span> idx;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <span class="keywordflow">for</span> (idx = 0; idx &lt; lsp_len; ++idx)</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 dec: coeff at %d is %f\n&quot;</span>, idx, lsp[idx]);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160; </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <span class="comment">/* synthesize floor output vector */</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <span class="keywordtype">int</span> order = vf-&gt;order;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordtype">float</span> wstep = <a class="code" href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / vf-&gt;bark_map_size;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; order; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                lsp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 2.0<a class="code" href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a> * cos(lsp[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor0 synth: map_size = %&quot;</span>PRIu32<span class="stringliteral">&quot;; m = %d; wstep = %f\n&quot;</span>,</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                    vf-&gt;map_size[blockflag], order, wstep);</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <span class="keywordflow">while</span> (i &lt; vf-&gt;map_size[blockflag]) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                <span class="keywordtype">int</span> j, iter_cond = vf-&gt;map[blockflag][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                <span class="keywordtype">float</span> p = 0.5f;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <span class="keywordtype">float</span> q = 0.5f;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                <span class="keywordtype">float</span> two_cos_w = 2.0f * cos(wstep * iter_cond); <span class="comment">// needed all times</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                <span class="comment">/* similar part for the q and p products */</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="keywordflow">for</span> (j = 0; j + 1 &lt; order; j += 2) {</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                    q *= lsp[j]     - two_cos_w;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                    p *= lsp[j + 1] - two_cos_w;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                <span class="keywordflow">if</span> (j == order) { <span class="comment">// even order</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                    p *= p * (2.0f - two_cos_w);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                    q *= q * (2.0f + two_cos_w);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                } <span class="keywordflow">else</span> { <span class="comment">// odd order</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                    q *= two_cos_w-lsp[j]; <span class="comment">// one more time for q</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                    <span class="comment">/* final step and square */</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                    p *= p * (4.f - two_cos_w * two_cos_w);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                    q *= q;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160; </div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                <span class="keywordflow">if</span> (p + q == 0.0)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                <span class="comment">/* calculate linear floor value */</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                q = <a class="code" href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a>((((amplitude*vf-&gt;amplitude_offset) /</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                          (((1ULL &lt;&lt; vf-&gt;amplitude_bits) - 1) * sqrt(p + q)))</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                         - vf-&gt;amplitude_offset) * .11512925f);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                <span class="comment">/* fill vector */</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    vec[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = q; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                } <span class="keywordflow">while</span> (vf-&gt;map[blockflag][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] == iter_cond);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="comment">/* this channel is unused */</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; Floor0 decoded\n&quot;</span>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;}</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a941df5a981fdafa3d44af1dacf7e3409"> 1209</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a941df5a981fdafa3d44af1dacf7e3409">vorbis_floor1_decode</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc,</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                                <a class="code" href="vorbisdec_8c.html#a6e2ce511d1a2900287942128184f5ed2">vorbis_floor_data</a> *vfu, <span class="keywordtype">float</span> *vec)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;{</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="vorbisdec_8c.html#a9b140f1e5ca1c8bfafdaa58df7957a58">vorbis_floor1</a> *vf = &amp;vfu-&gt;t1;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    uint16_t range_v[4] = { 256, 128, 86, 64 };</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordtype">unsigned</span> range = range_v[vf-&gt;multiplier - 1];</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    uint16_t floor1_Y[258];</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    uint16_t floor1_Y_final[258];</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordtype">int</span> floor1_flag[258];</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordtype">unsigned</span> partition_class, cdim, cbits, csub, cval, <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <span class="keywordtype">int</span> book, adx, ady, dy, off, predicted, err;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) <span class="comment">// silence</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment">// Read values (or differences) for the floor&#39;s points</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    floor1_Y[0] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(range - 1));</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    floor1_Y[1] = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(range - 1));</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;floor 0 Y %d floor 1 Y %d \n&quot;</span>, floor1_Y[0], floor1_Y[1]);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a> = 2;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vf-&gt;partitions; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        partition_class = vf-&gt;partition_class[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        cdim   = vf-&gt;class_dimensions[partition_class];</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        cbits  = vf-&gt;class_subclasses[partition_class];</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        csub = (1 &lt;&lt; cbits) - 1;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        cval = 0;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Cbits %u\n&quot;</span>, cbits);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;        <span class="keywordflow">if</span> (cbits) <span class="comment">// this reads all subclasses for this partition&#39;s class</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            cval = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vf-&gt;class_masterbook[partition_class]].<a class="code" href="structvorbis__codebook.html#aa0d70eb6ee3f70b4e1c9b00fe409cebd">vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>,</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                            vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vf-&gt;class_masterbook[partition_class]].<a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a>, 3);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; cdim; ++j) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            book = vf-&gt;subclass_books[partition_class][cval &amp; csub];</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160; </div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;book %d Cbits %u cval %u  bits:%d\n&quot;</span>,</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                    book, cbits, cval, <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb));</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            cval = cval &gt;&gt; cbits;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <span class="keywordflow">if</span> (book &gt; -1) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                <span class="keywordtype">int</span> v = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[book].<a class="code" href="structvorbis__codebook.html#aa0d70eb6ee3f70b4e1c9b00fe409cebd">vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>,</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                                 vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[book].<a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a>, 3);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                <span class="keywordflow">if</span> (v &lt; 0)</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                floor1_Y[<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>+j] = v;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                floor1_Y[<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>+j] = 0;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160; </div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; floor(%d) = %d \n&quot;</span>,</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                    vf-&gt;list[<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>+j].x, floor1_Y[<a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>+j]);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <a class="code" href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a>+=cdim;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment">// Amplitude calculation from the differences</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    floor1_flag[0] = 1;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    floor1_flag[1] = 1;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    floor1_Y_final[0] = floor1_Y[0];</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    floor1_Y_final[1] = floor1_Y[1];</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vf-&gt;x_list_dim; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, highroom, lowroom, room, high_neigh_offs, low_neigh_offs;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        low_neigh_offs  = vf-&gt;list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].low;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        high_neigh_offs = vf-&gt;list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].high;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        dy  = floor1_Y_final[high_neigh_offs] - floor1_Y_final[low_neigh_offs];  <span class="comment">// render_point begin</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        adx = vf-&gt;list[high_neigh_offs].x - vf-&gt;list[low_neigh_offs].x;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        ady = <a class="code" href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a>(dy);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        err = ady * (vf-&gt;list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].x - vf-&gt;list[low_neigh_offs].x);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        off = err / adx;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <span class="keywordflow">if</span> (dy &lt; 0) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;            predicted = floor1_Y_final[low_neigh_offs] - off;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            predicted = floor1_Y_final[low_neigh_offs] + off;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        } <span class="comment">// render_point end</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> = floor1_Y[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        highroom = range-predicted;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        lowroom  = predicted;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="keywordflow">if</span> (highroom &lt; lowroom) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            room = highroom * 2;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;            room = lowroom * 2;   <span class="comment">// SPEC misspelling</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            floor1_flag[low_neigh_offs]  = 1;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            floor1_flag[high_neigh_offs] = 1;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            floor1_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]               = 1;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &gt;= room) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                <span class="keywordflow">if</span> (highroom &gt; lowroom) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                    floor1_Y_final[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = av_clip_uint16(<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> - lowroom + predicted);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                    floor1_Y_final[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = av_clip_uint16(predicted - <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> + highroom - 1);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &amp; 1) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                    floor1_Y_final[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = av_clip_uint16(predicted - (<a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> + 1) / 2);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                    floor1_Y_final[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = av_clip_uint16(predicted + <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> / 2);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                }</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;            }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            floor1_flag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]    = 0;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            floor1_Y_final[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = av_clip_uint16(predicted);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; Decoded floor(%d) = %u / val %u\n&quot;</span>,</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                vf-&gt;list[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].x, floor1_Y_final[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">// Curve synth - connect the calculated dots and convert from dB scale FIXME optimize ?</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="vorbis_8c.html#a3cb5e3f1b6fb108991c45261b1704b11">ff_vorbis_floor1_render_list</a>(vf-&gt;list, vf-&gt;x_list_dim, floor1_Y_final, floor1_flag, vf-&gt;multiplier, vec, vf-&gt;list[1].x);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; Floor decoded\n&quot;</span>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160; </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;}</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ae918fcda5925e69ddc7b814d73c1cb2b"> 1336</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#ae918fcda5925e69ddc7b814d73c1cb2b">setup_classifs</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc,</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                                           <a class="code" href="structvorbis__residue.html">vorbis_residue</a> *vr,</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                                           <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *do_not_decode,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                           <span class="keywordtype">unsigned</span> ch_used,</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                                           <span class="keywordtype">int</span> partition_count,</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                                           <span class="keywordtype">int</span> ptns_to_read</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                                          )</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;{</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <a class="code" href="structvorbis__codebook.html">vorbis_codebook</a> *<a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a> = vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a> + vr-&gt;<a class="code" href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">classbook</a>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordtype">int</span> p, j, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordtype">unsigned</span> c_p_c         = <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>-&gt;dimensions;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordtype">unsigned</span> inverse_class = <a class="code" href="mathops_8h.html#a831f64970d36836e9058dcededf147e9">ff_inverse</a>[vr-&gt;<a class="code" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">classifications</a>];</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>, temp2;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">for</span> (p = 0, j = 0; j &lt; ch_used; ++j) {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <span class="keywordflow">if</span> (!do_not_decode[j]) {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a> = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>-&gt;vlc.table,</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                                     <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>-&gt;nb_bits, 3);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;Classword: %u\n&quot;</span>, <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a> &lt; 65536);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a> &lt; 0) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>,</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                       <span class="stringliteral">&quot;Invalid vlc code decoding %d channel.&quot;</span>, j);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160; </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;            <span class="keywordflow">if</span> (vr-&gt;<a class="code" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">classifications</a> == 1) {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = partition_count + c_p_c - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= partition_count; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ptns_to_read)</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                        vr-&gt;<a class="code" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">classifs</a>[p + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 0;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = partition_count + c_p_c - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= partition_count; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>--) {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                temp2 = (((uint64_t)<a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>) * inverse_class) &gt;&gt; 32;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; ptns_to_read)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                    vr-&gt;<a class="code" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">classifs</a>[p + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a> - temp2 * vr-&gt;<a class="code" href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">classifications</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a> = temp2;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        p += ptns_to_read;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">// Read and decode residue</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a8cc041c68729056cfaccc5b2f065c866"> 1385</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a8cc041c68729056cfaccc5b2f065c866">vorbis_residue_decode_internal</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc,</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                                                           <a class="code" href="structvorbis__residue.html">vorbis_residue</a> *vr,</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                                           <span class="keywordtype">unsigned</span> ch,</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                                                           <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *do_not_decode,</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                                                           <span class="keywordtype">float</span> *vec,</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                                                           <span class="keywordtype">unsigned</span> vlen,</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                                                           <span class="keywordtype">unsigned</span> ch_left,</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                                                           <span class="keywordtype">int</span> vr_type)</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;{</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordtype">unsigned</span> c_p_c        = vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vr-&gt;<a class="code" href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">classbook</a>].<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *classifs = vr-&gt;<a class="code" href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">classifs</a>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>, ch_used, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j, k, l;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordtype">unsigned</span> max_output = (ch - 1) * vlen;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordtype">int</span> ptns_to_read = vr-&gt;<a class="code" href="structvorbis__residue.html#a0b485a3e12ff28f064825a7b60450fca">ptns_to_read</a>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordtype">int</span> libvorbis_bug = 0;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">if</span> (vr_type == 2) {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keywordflow">for</span> (j = 1; j &lt; ch; ++j)</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            do_not_decode[0] &amp;= do_not_decode[j];  <span class="comment">// FIXME - clobbering input</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">if</span> (do_not_decode[0])</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        ch_used = 1;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        max_output += vr-&gt;<a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a> / ch;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        ch_used = ch;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        max_output += vr-&gt;<a class="code" href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">end</a>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">if</span> (max_output &gt; ch_left * vlen) {</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="keywordflow">if</span> (max_output &lt;= ch_left * vlen + vr-&gt;partition_size*ch_used/ch) {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            ptns_to_read--;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;            libvorbis_bug = 1;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Insufficient output buffer\n&quot;</span>);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        }</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160; </div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; residue type 0/1/2 decode begin, ch: %d  cpc %d  \n&quot;</span>, ch, c_p_c);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; </div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a> = 0; <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a> &lt;= vr-&gt;<a class="code" href="structvorbis__residue.html#ada95d87aeb1653552702419d232550a6">maxpass</a>; ++<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>) { <span class="comment">// FIXME OPTIMIZE?</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordtype">int</span> voffset, partition_count, j_times_ptns_to_read;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        voffset = vr-&gt;<a class="code" href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">begin</a>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <span class="keywordflow">for</span> (partition_count = 0; partition_count &lt; ptns_to_read;) {  <span class="comment">// SPEC        error</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>) {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#ae918fcda5925e69ddc7b814d73c1cb2b">setup_classifs</a>(vc, vr, do_not_decode, ch_used, partition_count, ptns_to_read);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; c_p_c) &amp;&amp; (partition_count &lt; ptns_to_read); ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                <span class="keywordflow">for</span> (j_times_ptns_to_read = 0, j = 0; j &lt; ch_used; ++j) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                    <span class="keywordtype">unsigned</span> voffs;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                    <span class="keywordflow">if</span> (!do_not_decode[j]) {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                        <span class="keywordtype">unsigned</span> vqclass = classifs[j_times_ptns_to_read + partition_count];</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                        <span class="keywordtype">int</span> vqbook  = vr-&gt;<a class="code" href="structvorbis__residue.html#a2b8367501ca8aa202fdaa23b2e98d45a">books</a>[vqclass][<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>];</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                        <span class="keywordflow">if</span> (vqbook &gt;= 0 &amp;&amp; vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vqbook].<a class="code" href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">codevectors</a>) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                            <span class="keywordtype">int</span> coffs;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                            <span class="keywordtype">unsigned</span> <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>  = vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vqbook].<a class="code" href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">dimensions</a>;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                            <span class="keywordtype">unsigned</span> <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a> = <a class="code" href="mathops_8h.html#a46b805e56033ed92d70f4299638e7a7d">FASTDIV</a>(vr-&gt;<a class="code" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">partition_size</a> &lt;&lt; 1, <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> &lt;&lt; 1);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                            <a class="code" href="structvorbis__codebook.html">vorbis_codebook</a> <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a> = vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vqbook];</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                            <span class="keywordflow">if</span> (vr_type == 0) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                                voffs = voffset+j*vlen;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                                <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>; ++k) {</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                                    coffs = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.vlc.table, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.nb_bits, 3);</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                                    <span class="keywordflow">if</span> (coffs &lt; 0)</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                                        <span class="keywordflow">return</span> coffs;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                                    coffs *= <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                                    <span class="keywordflow">for</span> (l = 0; l &lt; <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>; ++l)</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                                        vec[voffs + k + l * <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + l];</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                                }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vr_type == 1) {</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                                voffs = voffset + j * vlen;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                                <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>; ++k) {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                                    coffs = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.vlc.table, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.nb_bits, 3);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                                    <span class="keywordflow">if</span> (coffs &lt; 0)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                                        <span class="keywordflow">return</span> coffs;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                                    coffs *= <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                                    <span class="keywordflow">for</span> (l = 0; l &lt; <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>; ++l, ++voffs) {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                                        vec[voffs]+=<a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs+l];</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                                        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; pass %d offs: %d curr: %f change: %f cv offs.: %d  \n&quot;</span>,</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                                                <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>, voffs, vec[voffs], <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs+l], coffs);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                                    }</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                                }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vr_type == 2 &amp;&amp; ch == 2 &amp;&amp; (voffset &amp; 1) == 0 &amp;&amp; (<a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> &amp; 1) == 0) { <span class="comment">// most frequent case optimized</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                                voffs = voffset &gt;&gt; 1;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                                <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> == 2) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                                    <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>; ++k) {</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                                        coffs = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.vlc.table, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.nb_bits, 3);</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                                        <span class="keywordflow">if</span> (coffs &lt; 0)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                                            <span class="keywordflow">return</span> coffs;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                                        coffs *= 2;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                                        vec[voffs + k       ] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs    ];</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                                        vec[voffs + k + vlen] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + 1];</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                                    }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a> == 4) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                                    <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>; ++k, voffs += 2) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                                        coffs = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.vlc.table, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.nb_bits, 3);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                                        <span class="keywordflow">if</span> (coffs &lt; 0)</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;                                            <span class="keywordflow">return</span> coffs;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                                        coffs *= 4;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                                        vec[voffs           ] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs    ];</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;                                        vec[voffs + 1       ] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + 2];</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                                        vec[voffs + vlen    ] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + 1];</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                                        vec[voffs + vlen + 1] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + 3];</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                                    }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                                } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                                <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>; ++k) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                                    coffs = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.vlc.table, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.nb_bits, 3);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                                    <span class="keywordflow">if</span> (coffs &lt; 0)</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                                        <span class="keywordflow">return</span> coffs;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                                    coffs *= <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                                    <span class="keywordflow">for</span> (l = 0; l &lt; <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>; l += 2, voffs++) {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;                                        vec[voffs       ] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + l    ];</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;                                        vec[voffs + vlen] += <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + l + 1];</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;                                        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; pass %d offs: %d curr: %f change: %f cv offs.: %d+%d  \n&quot;</span>,</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                                                <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>, voffset / ch + (voffs % ch) * vlen,</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                                                vec[voffset / ch + (voffs % ch) * vlen],</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                                                <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + l], coffs, l);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                                    }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                                }</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vr_type == 2) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                                <span class="keywordtype">unsigned</span> voffs_div = ch == 1 ? voffset : <a class="code" href="mathops_8h.html#a46b805e56033ed92d70f4299638e7a7d">FASTDIV</a>(voffset, ch);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                                <span class="keywordtype">unsigned</span> voffs_mod = voffset - voffs_div * ch;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                                <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a>; ++k) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                                    coffs = <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(gb, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.vlc.table, <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.nb_bits, 3);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                                    <span class="keywordflow">if</span> (coffs &lt; 0)</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                                        <span class="keywordflow">return</span> coffs;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                                    coffs *= <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                                    <span class="keywordflow">for</span> (l = 0; l &lt; <a class="code" href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a>; ++l) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                                        vec[voffs_div + voffs_mod * vlen] +=</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                                            <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + l];</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                                        <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; pass %d offs: %d curr: %f change: %f cv offs.: %d+%d  \n&quot;</span>,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                                                <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>, voffs_div + voffs_mod * vlen,</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                                                vec[voffs_div + voffs_mod * vlen],</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                                                <a class="code" href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a>.codevectors[coffs + l], coffs, l);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                                        <span class="keywordflow">if</span> (++voffs_mod == ch) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                                            voffs_div++;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                                            voffs_mod = 0;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                                        }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                                    }</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                                }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                            }</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                        }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                    }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                    j_times_ptns_to_read += ptns_to_read;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                ++partition_count;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                voffset += vr-&gt;<a class="code" href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">partition_size</a>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">if</span> (libvorbis_bug &amp;&amp; !<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; ch_used; ++j) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                <span class="keywordflow">if</span> (!do_not_decode[j]) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                    <a class="code" href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a>(&amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vr-&gt;<a class="code" href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">classbook</a>].<a class="code" href="structvorbis__codebook.html#aa0d70eb6ee3f70b4e1c9b00fe409cebd">vlc</a>.<a class="code" href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">table</a>,</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                                vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">codebooks</a>[vr-&gt;<a class="code" href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">classbook</a>].<a class="code" href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">nb_bits</a>, 3);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ac27c027eddb59bc72a6a17f3bd84f8ef"> 1560</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#ac27c027eddb59bc72a6a17f3bd84f8ef">vorbis_residue_decode</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc, <a class="code" href="structvorbis__residue.html">vorbis_residue</a> *vr,</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                        <span class="keywordtype">unsigned</span> ch,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *do_not_decode,</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                                        <span class="keywordtype">float</span> *vec, <span class="keywordtype">unsigned</span> vlen,</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                                        <span class="keywordtype">unsigned</span> ch_left)</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;{</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="keywordflow">if</span> (vr-&gt;<a class="code" href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">type</a> == 2)</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vorbisdec_8c.html#a8cc041c68729056cfaccc5b2f065c866">vorbis_residue_decode_internal</a>(vc, vr, ch, do_not_decode, vec, vlen, ch_left, 2);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vr-&gt;<a class="code" href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">type</a> == 1)</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vorbisdec_8c.html#a8cc041c68729056cfaccc5b2f065c866">vorbis_residue_decode_internal</a>(vc, vr, ch, do_not_decode, vec, vlen, ch_left, 1);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vr-&gt;<a class="code" href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">type</a> == 0)</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vorbisdec_8c.html#a8cc041c68729056cfaccc5b2f065c866">vorbis_residue_decode_internal</a>(vc, vr, ch, do_not_decode, vec, vlen, ch_left, 0);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot; Invalid residue type while residue decode?! \n&quot;</span>);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a390c59928ec8ea7907aacb1bab94898b"> 1578</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="vorbisdec_8c.html#a390c59928ec8ea7907aacb1bab94898b">ff_vorbis_inverse_coupling</a>(<span class="keywordtype">float</span> *mag, <span class="keywordtype">float</span> *ang, intptr_t blocksize)</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;{</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0;  <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; blocksize;  <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">if</span> (mag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 0.0) {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <span class="keywordflow">if</span> (ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 0.0) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = mag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a> = ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]     = mag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                mag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]    += <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            <span class="keywordflow">if</span> (ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt; 0.0) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] += mag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                <span class="keywordtype">float</span> <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a> = ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                ang[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]     = mag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                mag[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]    -= <a class="code" href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;}</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">// Decode the audio packet using the functions above</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a66cb7f7751c4778d6678d5f1831ceb2f"> 1604</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a66cb7f7751c4778d6678d5f1831ceb2f">vorbis_parse_audio_packet</a>(<a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc, <span class="keywordtype">float</span> **floor_ptr)</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;{</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="struct_f_f_t_context.html">FFTContext</a> *mdct;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordtype">int</span> previous_window = vc-&gt;<a class="code" href="structvorbis__context__s.html#a25d082ed3b73e8f287aac3a3c2d4c830">previous_window</a>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <span class="keywordtype">unsigned</span> mode_number, blockflag, blocksize;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> no_residue[255];</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> do_not_decode[255];</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <a class="code" href="structvorbis__mapping.html">vorbis_mapping</a> *mapping;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    <span class="keywordtype">float</span> *ch_res_ptr   = vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a>;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> res_chan[255];</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordtype">unsigned</span> res_num = 0;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordtype">int</span> retlen  = 0;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordtype">unsigned</span> ch_left = vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordtype">unsigned</span> vlen;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a>(gb)) {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Not a Vorbis I audio packet.\n&quot;</span>);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>; <span class="comment">// packet type not audio</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">mode_count</a> == 1) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        mode_number = 0;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <a class="code" href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a>(mode_number, <a class="code" href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">mode_count</a>-1), vc-&gt;<a class="code" href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">mode_count</a>)</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a4ad7c684d3798c39e450b66ab3671d7a">mode_number</a> = mode_number;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    mapping = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">mappings</a>[vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>[mode_number].<a class="code" href="structvorbis__mode.html#aa5152490a9cd0e4602cf4667fcc6cb58">mapping</a>];</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot; Mode number: %u , mapping: %d , blocktype %d\n&quot;</span>, mode_number,</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>[mode_number].<a class="code" href="structvorbis__mode.html#aa5152490a9cd0e4602cf4667fcc6cb58">mapping</a>, vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>[mode_number].<a class="code" href="structvorbis__mode.html#ab47ff5085843a15ea0bfe10ce8d23c86">blockflag</a>);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    blockflag = vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>[mode_number].<a class="code" href="structvorbis__mode.html#ab47ff5085843a15ea0bfe10ce8d23c86">blockflag</a>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    blocksize = vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[blockflag];</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    vlen = blocksize / 2;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">if</span> (blockflag) {</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a> = <a class="code" href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a>(gb, 2);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        <span class="keywordflow">if</span> (previous_window &lt; 0)</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            previous_window = <a class="code" href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a>&gt;&gt;1;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (previous_window &lt; 0)</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        previous_window = 0;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    memset(ch_res_ptr,   0, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> * vlen); <span class="comment">//FIXME can this be removed ?</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        memset(floor_ptr[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>], 0, vlen * <span class="keyword">sizeof</span>(floor_ptr[0][0])); <span class="comment">//FIXME can this be removed ?</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160; </div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment">// Decode floor</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <a class="code" href="structvorbis__floor.html">vorbis_floor</a> *<a class="code" href="cuda__runtime_8h.html#ab49e3b691545ec566bbf71491e06504c">floor</a>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <span class="keywordflow">if</span> (mapping-&gt;<a class="code" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">submaps</a> &gt; 1) {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;            <a class="code" href="cuda__runtime_8h.html#ab49e3b691545ec566bbf71491e06504c">floor</a> = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[mapping-&gt;<a class="code" href="structvorbis__mapping.html#a1bf0f73429bb67aecb2734fabf7bf076">submap_floor</a>[mapping-&gt;<a class="code" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">mux</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]]];</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;            <a class="code" href="cuda__runtime_8h.html#ab49e3b691545ec566bbf71491e06504c">floor</a> = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">floors</a>[mapping-&gt;<a class="code" href="structvorbis__mapping.html#a1bf0f73429bb67aecb2734fabf7bf076">submap_floor</a>[0]];</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        }</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="cuda__runtime_8h.html#ab49e3b691545ec566bbf71491e06504c">floor</a>-&gt;decode(vc, &amp;<a class="code" href="cuda__runtime_8h.html#ab49e3b691545ec566bbf71491e06504c">floor</a>-&gt;data, floor_ptr[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160; </div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid codebook in vorbis_floor_decode.\n&quot;</span>);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        no_residue[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="comment">// Nonzero vector propagate</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = mapping-&gt;<a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a> - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; --<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keywordflow">if</span> (!(no_residue[mapping-&gt;<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] &amp; no_residue[mapping-&gt;<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]])) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            no_residue[mapping-&gt;<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] = 0;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            no_residue[mapping-&gt;<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]]     = 0;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment">// Decode residue</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; mapping-&gt;<a class="code" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">submaps</a>; ++<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        <a class="code" href="structvorbis__residue.html">vorbis_residue</a> *residue;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <span class="keywordtype">unsigned</span> ch = 0;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>; ++j) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;            <span class="keywordflow">if</span> ((mapping-&gt;<a class="code" href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">submaps</a> == 1) || (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == mapping-&gt;<a class="code" href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">mux</a>[j])) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                res_chan[j] = res_num;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                <span class="keywordflow">if</span> (no_residue[j]) {</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                    do_not_decode[ch] = 1;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                    do_not_decode[ch] = 0;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                ++ch;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                ++res_num;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            }</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        }</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        residue = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">residues</a>[mapping-&gt;<a class="code" href="structvorbis__mapping.html#aef96dbbf5b13b2732989cb635b7e34c9">submap_residue</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]];</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">if</span> (ch_left &lt; ch) {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(vc-&gt;<a class="code" href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">avctx</a>, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Too many channels in vorbis_floor_decode.\n&quot;</span>);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        }</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="keywordflow">if</span> (ch) {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;            <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#ac27c027eddb59bc72a6a17f3bd84f8ef">vorbis_residue_decode</a>(vc, residue, ch, do_not_decode, ch_res_ptr, vlen, ch_left);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0)</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        ch_res_ptr += ch * vlen;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        ch_left -= ch;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">if</span> (ch_left &gt; 0)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="comment">// Inverse coupling</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = mapping-&gt;<a class="code" href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">coupling_steps</a> - 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= 0; --<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>) { <span class="comment">//warning: i has to be signed</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="keywordtype">float</span> *mag, *ang;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        mag = vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a>+res_chan[mapping-&gt;<a class="code" href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">magnitude</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]] * blocksize / 2;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        ang = vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a>+res_chan[mapping-&gt;<a class="code" href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">angle</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]]     * blocksize / 2;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        vc-&gt;<a class="code" href="structvorbis__context__s.html#ad48fc7c1a8b9c5a65df79cc785090588">dsp</a>.<a class="code" href="struct_vorbis_d_s_p_context.html#a52f5ec87e2256ad051c8cd75aba8aa77">vorbis_inverse_coupling</a>(mag, ang, blocksize / 2);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="comment">// Dotproduct, MDCT</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    mdct = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3653b043aa47a0fbc4f5853182ad01a0">mdct</a>[blockflag];</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160; </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">for</span> (j = vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>-1;j &gt;= 0; j--) {</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        ch_res_ptr   = vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a> + res_chan[j] * blocksize / 2;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        vc-&gt;<a class="code" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">fdsp</a>-&gt;<a class="code" href="struct_a_v_float_d_s_p_context.html#a7cfd05c24dfae926f50473a12f1f1332">vector_fmul</a>(floor_ptr[j], floor_ptr[j], ch_res_ptr, blocksize / 2);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        mdct-&gt;<a class="code" href="struct_f_f_t_context.html#a83671d3e98017b8627295cf288bdc22b">imdct_half</a>(mdct, ch_res_ptr, floor_ptr[j]);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">// Overlap/add, save data for next overlapping</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160; </div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    retlen = (blocksize + vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[previous_window]) / 4;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">for</span> (j = 0; j &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>; j++) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <span class="keywordtype">unsigned</span> bs0 = vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[0];</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordtype">unsigned</span> bs1 = vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1];</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keywordtype">float</span> *residue    = vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a> + res_chan[j] * blocksize / 2;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordtype">float</span> *saved      = vc-&gt;<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a> + j * bs1 / 4;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="keywordtype">float</span> *<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>        = floor_ptr[j];</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <span class="keywordtype">float</span> *buf        = residue;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code" href="af__superequalizer_8c.html#aee608a3f1b53a55f3240954ef313065c">win</a>  = vc-&gt;<a class="code" href="structvorbis__context__s.html#a0c29f16b6b4e440496b2366de28ab1cc">win</a>[blockflag &amp; previous_window];</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <span class="keywordflow">if</span> (blockflag == previous_window) {</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            vc-&gt;<a class="code" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">fdsp</a>-&gt;<a class="code" href="struct_a_v_float_d_s_p_context.html#a747faa245f68d1e51e6dc8f39fe19a57">vector_fmul_window</a>(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, saved, buf, <a class="code" href="af__superequalizer_8c.html#aee608a3f1b53a55f3240954ef313065c">win</a>, blocksize / 4);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (blockflag &gt; previous_window) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            vc-&gt;<a class="code" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">fdsp</a>-&gt;<a class="code" href="struct_a_v_float_d_s_p_context.html#a747faa245f68d1e51e6dc8f39fe19a57">vector_fmul_window</a>(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, saved, buf, <a class="code" href="af__superequalizer_8c.html#aee608a3f1b53a55f3240954ef313065c">win</a>, bs0 / 4);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            memcpy(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>+bs0/2, buf+bs0/4, ((bs1-bs0)/4) * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            memcpy(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, saved, ((bs1 - bs0) / 4) * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            vc-&gt;<a class="code" href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">fdsp</a>-&gt;<a class="code" href="struct_a_v_float_d_s_p_context.html#a747faa245f68d1e51e6dc8f39fe19a57">vector_fmul_window</a>(<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> + (bs1 - bs0) / 4, saved + (bs1 - bs0) / 4, buf, <a class="code" href="af__superequalizer_8c.html#aee608a3f1b53a55f3240954ef313065c">win</a>, bs0 / 4);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        memcpy(saved, buf + blocksize / 4, blocksize / 4 * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a25d082ed3b73e8f287aac3a3c2d4c830">previous_window</a> = blockflag;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">return</span> retlen;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment">// Return the decoded audio packet through the standard api</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a10d4082160898a4bcb6efb591ae6db5c"> 1767</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#a10d4082160898a4bcb6efb591ae6db5c">vorbis_decode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <span class="keywordtype">void</span> *<a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>,</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                               <span class="keywordtype">int</span> *got_frame_ptr, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *avpkt)</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;{</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *buf = avpkt-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordtype">int</span> buf_size       = avpkt-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>     = <a class="code" href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a>;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <a class="code" href="struct_get_bit_context.html">GetBitContext</a> *gb = &amp;vc-&gt;<a class="code" href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">gb</a>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keywordtype">float</span> *channel_ptrs[255];</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160; </div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;packet length %d \n&quot;</span>, buf_size);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">if</span> (*buf == 1 &amp;&amp; buf_size &gt; 7) {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(gb, buf + 1, buf_size - 1)) &lt; 0)</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <a class="code" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a>(vc);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#a84d656a41f50860c9cc71a99d4864e6b">vorbis_parse_id_hdr</a>(vc))) {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Id header corrupt.\n&quot;</span>);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <a class="code" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a>(vc);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> &gt; 8)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a> = 0;</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">channel_layout</a> = <a class="code" href="vorbis_8h.html#ad48f1a3e351b48e6c779ceab7080b6bc">ff_vorbis_channel_layouts</a>[vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> - 1];</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">channels</a>    = vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">sample_rate</a> = vc-&gt;<a class="code" href="structvorbis__context__s.html#a5d8ccd809287dc57e29c6a3cfd83ce89">audio_samplerate</a>;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <span class="keywordflow">return</span> buf_size;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    }</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160; </div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">if</span> (*buf == 3 &amp;&amp; buf_size &gt; 7) {</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;Ignoring comment header\n&quot;</span>);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        <span class="keywordflow">return</span> buf_size;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">if</span> (*buf == 5 &amp;&amp; buf_size &gt; 7 &amp;&amp; vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a> &amp;&amp; !vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>) {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(gb, buf + 1, buf_size - 1)) &lt; 0)</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="vorbisdec_8c.html#af2f0bb2100a446eef3edd2d2eff59595">vorbis_parse_setup_hdr</a>(vc))) {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Setup header corrupt.\n&quot;</span>);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;            <a class="code" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a>(vc);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <span class="keywordflow">return</span> buf_size;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    }</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160; </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">channel_residues</a> || !vc-&gt;<a class="code" href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">modes</a>) {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a>, <span class="stringliteral">&quot;Data packet before valid headers\n&quot;</span>);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="comment">/* get output buffer */</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples = vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1] / 2;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a>(avctx, <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> &gt; 8) {</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            channel_ptrs[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = (<span class="keywordtype">float</span> *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            <span class="keywordtype">int</span> ch = <a class="code" href="vorbis_8h.html#a2ea15c0e9f6e03f4b799e2d9923a6ee3">ff_vorbis_channel_layout_offsets</a>[vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> - 1][<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            channel_ptrs[ch] = (<span class="keywordtype">float</span> *)<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;extended_data[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        }</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    }</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a>(gb, buf, buf_size)) &lt; 0)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a> = <a class="code" href="vorbisdec_8c.html#a66cb7f7751c4778d6678d5f1831ceb2f">vorbis_parse_audio_packet</a>(vc, channel_ptrs)) &lt;= 0)</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160; </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">if</span> (!vc-&gt;<a class="code" href="structvorbis__context__s.html#a41ef995d8d0abd5f6cfdadfc69755f43">first_frame</a>) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        vc-&gt;<a class="code" href="structvorbis__context__s.html#a41ef995d8d0abd5f6cfdadfc69755f43">first_frame</a> = 1;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        *got_frame_ptr = 0;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        <a class="code" href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a>(<a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        <span class="keywordflow">return</span> buf_size;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;parsed %d bytes %d bits, returned %d samples (*ch*bits) \n&quot;</span>,</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) / 8, <a class="code" href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a>(gb) % 8, <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>);</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <a class="code" href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a>-&gt;nb_samples = <a class="code" href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a>;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    *got_frame_ptr    = 1;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160; </div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordflow">return</span> buf_size;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;}</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;<span class="comment">// Close decoder</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01862"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#ad48f9fed42e0b6accc93ea110377d181"> 1862</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="vorbisdec_8c.html#ad48f9fed42e0b6accc93ea110377d181">vorbis_decode_close</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;{</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a>(vc);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;}</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a40ed53c2862433548b468bfbedce97f2"> 1871</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">void</span> <a class="code" href="vorbisdec_8c.html#a40ed53c2862433548b468bfbedce97f2">vorbis_decode_flush</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;{</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <a class="code" href="structvorbis__context__s.html">vorbis_context</a> *vc = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">if</span> (vc-&gt;<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a>) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        memset(vc-&gt;<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a>, 0, (vc-&gt;<a class="code" href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">blocksize</a>[1] / 4) * vc-&gt;<a class="code" href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">audio_channels</a> *</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                             <span class="keyword">sizeof</span>(*vc-&gt;<a class="code" href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">saved</a>));</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a25d082ed3b73e8f287aac3a3c2d4c830">previous_window</a> = -1;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    vc-&gt;<a class="code" href="structvorbis__context__s.html#a41ef995d8d0abd5f6cfdadfc69755f43">first_frame</a> = 0;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;}</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160; </div>
<div class="line"><a name="l01883"></a><span class="lineno"><a class="line" href="vorbisdec_8c.html#a898dbc2be2f807c2319867ae48ba1a57"> 1883</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="vorbisdec_8c.html#a898dbc2be2f807c2319867ae48ba1a57">ff_vorbis_decoder</a> = {</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>            = <span class="stringliteral">&quot;vorbis&quot;</span>,</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    .long_name       = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;Vorbis&quot;</span>),</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    .type            = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a>,</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    .id              = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a>,</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    .priv_data_size  = <span class="keyword">sizeof</span>(<a class="code" href="vorbisdec_8c.html#a773eb61337b9250b6f96ebed2e7c18d4">vorbis_context</a>),</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>            = <a class="code" href="vorbisdec_8c.html#a21238e478c9791b7a5f619e2da702f58">vorbis_decode_init</a>,</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    .close           = <a class="code" href="vorbisdec_8c.html#ad48f9fed42e0b6accc93ea110377d181">vorbis_decode_close</a>,</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    .<a class="code" href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a>          = <a class="code" href="vorbisdec_8c.html#a10d4082160898a4bcb6efb591ae6db5c">vorbis_decode_frame</a>,</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    .<a class="code" href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a>           = <a class="code" href="vorbisdec_8c.html#a40ed53c2862433548b468bfbedce97f2">vorbis_decode_flush</a>,</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    .capabilities    = <a class="code" href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a>,</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    .caps_internal   = <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    .<a class="code" href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a> = <a class="code" href="vorbis_8h.html#ad48f1a3e351b48e6c779ceab7080b6bc">ff_vorbis_channel_layouts</a>,</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    .<a class="code" href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a>     = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a>[]) { <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a>,</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                                                       <a class="code" href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a> },</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="atarget__bsf__fuzzer_8c_html_aa3d85a3469f60990fdff296efb86a9c2"><div class="ttname"><a href="target__bsf__fuzzer_8c.html#aa3d85a3469f60990fdff296efb86a9c2">error</a></div><div class="ttdeci">static void error(const char *err)</div><div class="ttdef"><b>Definition:</b> <a href="target__bsf__fuzzer_8c_source.html#l00030">target_bsf_fuzzer.c:30</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5a2d21c520e4ab21100b6440ec2d81ba1b">AV_SAMPLE_FMT_FLTP</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_FLTP</div><div class="ttdoc">float, planar</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00069">samplefmt.h:69</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a43594c35b7731f77735f9ee0a8439679"><div class="ttname"><a href="vorbisdec_8c.html#a43594c35b7731f77735f9ee0a8439679">BARK</a></div><div class="ttdeci">#define BARK(x)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00159">vorbisdec.c:159</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_ae264b9ecead72988b5e755ebd56f4d14"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#ae264b9ecead72988b5e755ebd56f4d14">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::bark_map_size</a></div><div class="ttdeci">uint16_t bark_map_size</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00072">vorbisdec.c:72</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_af9b942ca34ea261dd39567ff07d77a72"><div class="ttname"><a href="vorbisdec_8c.html#af9b942ca34ea261dd39567ff07d77a72">create_map</a></div><div class="ttdeci">static int create_map(vorbis_context *vc, unsigned floor_number)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00850">vorbisdec.c:850</a></div></div>
<div class="ttc" id="astructvorbis__mapping_html_a7603d0cb3845bded9aeda50e99c52e50"><div class="ttname"><a href="structvorbis__mapping.html#a7603d0cb3845bded9aeda50e99c52e50">vorbis_mapping::angle</a></div><div class="ttdeci">uint8_t * angle</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00112">vorbisdec.c:112</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="astructvorbis__floor_html_ace00b6715e85dd24a282a30df58450ff"><div class="ttname"><a href="structvorbis__floor.html#ace00b6715e85dd24a282a30df58450ff">vorbis_floor::floor_type</a></div><div class="ttdeci">uint8_t floor_type</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00066">vorbisdec.c:66</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ad48f9fed42e0b6accc93ea110377d181"><div class="ttname"><a href="vorbisdec_8c.html#ad48f9fed42e0b6accc93ea110377d181">vorbis_decode_close</a></div><div class="ttdeci">static av_cold int vorbis_decode_close(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01862">vorbisdec.c:1862</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word “frame” indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="astructvorbis__mode_html"><div class="ttname"><a href="structvorbis__mode.html">vorbis_mode</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00118">vorbisdec.c:118</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_ae5a8e1997ee7398ee833906b4e23a1da"><div class="ttname"><a href="structvorbis__context__s.html#ae5a8e1997ee7398ee833906b4e23a1da">vorbis_context_s::codebook_count</a></div><div class="ttdeci">uint16_t codebook_count</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00141">vorbisdec.c:141</a></div></div>
<div class="ttc" id="astructvorbis__mapping_html_abe57e2747147c220bed835fd01bd156b"><div class="ttname"><a href="structvorbis__mapping.html#abe57e2747147c220bed835fd01bd156b">vorbis_mapping::submaps</a></div><div class="ttdeci">uint8_t submaps</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00109">vorbisdec.c:109</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_ada95d87aeb1653552702419d232550a6"><div class="ttname"><a href="structvorbis__residue.html#ada95d87aeb1653552702419d232550a6">vorbis_residue::maxpass</a></div><div class="ttdeci">uint8_t maxpass</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00103">vorbisdec.c:103</a></div></div>
<div class="ttc" id="avf__geq_8c_html_afc61272a374024bcd86d8859783d3d52"><div class="ttname"><a href="vf__geq_8c.html#afc61272a374024bcd86d8859783d3d52">cb</a></div><div class="ttdeci">static double cb(void *priv, double x, double y)</div><div class="ttdef"><b>Definition:</b> <a href="vf__geq_8c_source.html#l00215">vf_geq.c:215</a></div></div>
<div class="ttc" id="aadpcmenc_8c_html_a0b94bda9858853d90b77d15331ca0ae1"><div class="ttname"><a href="adpcmenc_8c.html#a0b94bda9858853d90b77d15331ca0ae1">sample_fmts</a></div><div class="ttdeci">static enum AVSampleFormat sample_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="adpcmenc_8c_source.html#l00566">adpcmenc.c:925</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a1c97ebe2d11f636140d0f338452f40d0"><div class="ttname"><a href="vorbisdec_8c.html#a1c97ebe2d11f636140d0f338452f40d0">vorbis_mode</a></div><div class="ttdeci">struct vorbis_mode vorbis_mode</div></div>
<div class="ttc" id="aunionvorbis__floor_1_1vorbis__floor__u_html_af1a0764a99060c8ebd24f90d50e18eb0"><div class="ttname"><a href="unionvorbis__floor_1_1vorbis__floor__u.html#af1a0764a99060c8ebd24f90d50e18eb0">vorbis_floor::vorbis_floor_u::t0</a></div><div class="ttdeci">struct vorbis_floor::vorbis_floor_u::vorbis_floor0_s t0</div></div>
<div class="ttc" id="amem_8c_html_a254f3455439c15a2c8a75b8f0235fdbd"><div class="ttname"><a href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a></div><div class="ttdeci">void * av_malloc_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00182">mem.c:182</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_ab9cd2b88ac0dec48df276c6c292fe649"><div class="ttname"><a href="structvorbis__context__s.html#ab9cd2b88ac0dec48df276c6c292fe649">vorbis_context_s::residue_count</a></div><div class="ttdeci">uint8_t residue_count</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00145">vorbisdec.c:145</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a20dc15e40874f46af0d2b4ad34aed9a7"><div class="ttname"><a href="get__bits_8h.html#a20dc15e40874f46af0d2b4ad34aed9a7">get_bits_long</a></div><div class="ttdeci">static unsigned int get_bits_long(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00546">get_bits.h:546</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a91141e5c6f132a61795d99dc0eeb3b8f"><div class="ttname"><a href="structvorbis__context__s.html#a91141e5c6f132a61795d99dc0eeb3b8f">vorbis_context_s::fdsp</a></div><div class="ttdeci">AVFloatDSPContext * fdsp</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00129">vorbisdec.c:129</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_abb8b4c621322a655dc089311aa910344"><div class="ttname"><a href="structvorbis__context__s.html#abb8b4c621322a655dc089311aa910344">vorbis_context_s::version</a></div><div class="ttdeci">uint32_t version</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00133">vorbisdec.c:133</a></div></div>
<div class="ttc" id="aunionvorbis__floor_1_1vorbis__floor__u_html"><div class="ttname"><a href="unionvorbis__floor_1_1vorbis__floor__u.html">vorbis_floor::vorbis_floor_u</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00068">vorbisdec.c:68</a></div></div>
<div class="ttc" id="astructvorbis__mode_html_ac0bd316168e8c92abb7cf91e4210631a"><div class="ttname"><a href="structvorbis__mode.html#ac0bd316168e8c92abb7cf91e4210631a">vorbis_mode::transformtype</a></div><div class="ttdeci">uint16_t transformtype</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00121">vorbisdec.c:121</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_a14d91c08adf2e43e7580a25a81503786"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a14d91c08adf2e43e7580a25a81503786">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::map</a></div><div class="ttdeci">int32_t * map[2]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00073">vorbisdec.c:73</a></div></div>
<div class="ttc" id="aget__bits_8h_html_aac3f793480c01f793f2acc9eba031ff5"><div class="ttname"><a href="get__bits_8h.html#aac3f793480c01f793f2acc9eba031ff5">get_bits_count</a></div><div class="ttdeci">static int get_bits_count(const GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00219">get_bits.h:219</a></div></div>
<div class="ttc" id="avorbis_8h_html_af74273353e4cb824e59cf32623276810"><div class="ttname"><a href="vorbis_8h.html#af74273353e4cb824e59cf32623276810">ff_vorbis_vwin</a></div><div class="ttdeci">const float *const ff_vorbis_vwin[8]</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__data_8c_source.html#l02190">vorbis_data.c:2190</a></div></div>
<div class="ttc" id="arate__distortion_8txt_html_a0e018beb061c7ac6d1f9121683a6f2c2"><div class="ttname"><a href="rate__distortion_8txt.html#a0e018beb061c7ac6d1f9121683a6f2c2">step</a></div><div class="ttdeci">trying all byte sequences megabyte in length and selecting the best looking sequence will yield cases to try But a word about which is also called distortion Distortion can be quantified by almost any quality measurement one chooses the sum of squared differences is used but more complex methods that consider psychovisual effects can be used as well It makes no difference in this discussion First step</div><div class="ttdef"><b>Definition:</b> <a href="rate__distortion_8txt_source.html#l00019">rate_distortion.txt:58</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a773eb61337b9250b6f96ebed2e7c18d4"><div class="ttname"><a href="vorbisdec_8c.html#a773eb61337b9250b6f96ebed2e7c18d4">vorbis_context</a></div><div class="ttdeci">struct vorbis_context_s vorbis_context</div></div>
<div class="ttc" id="avlc_8h_html_a181984da1fe3452ad6a16348d10f8236"><div class="ttname"><a href="vlc_8h.html#a181984da1fe3452ad6a16348d10f8236">init_vlc</a></div><div class="ttdeci">#define init_vlc(vlc, nb_bits, nb_codes, bits, bits_wrap, bits_size, codes, codes_wrap, codes_size, flags)</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00038">vlc.h:38</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a118d4407cb7c16bf13fd4acd6de2c311"><div class="ttname"><a href="vorbisdec_8c.html#a118d4407cb7c16bf13fd4acd6de2c311">GET_VALIDATED_INDEX</a></div><div class="ttdeci">#define GET_VALIDATED_INDEX(idx, bits, limit)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00170">vorbisdec.c:170</a></div></div>
<div class="ttc" id="amxf_8c_html_a084824fc871e38157790c99ae1240842"><div class="ttname"><a href="mxf_8c.html#a084824fc871e38157790c99ae1240842">data</a></div><div class="ttdeci">const char data[16]</div><div class="ttdef"><b>Definition:</b> <a href="mxf_8c_source.html#l00151">mxf.c:151</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a21dbd4f00909aee6602a16b329d71872"><div class="ttname"><a href="vorbisdec_8c.html#a21dbd4f00909aee6602a16b329d71872">vorbisfloat2float</a></div><div class="ttdeci">static float vorbisfloat2float(unsigned val)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00176">vorbisdec.c:176</a></div></div>
<div class="ttc" id="afft_8h_html_a58a526e6fc1130d7dabfec1e90680e3c"><div class="ttname"><a href="fft_8h.html#a58a526e6fc1130d7dabfec1e90680e3c">ff_mdct_init</a></div><div class="ttdeci">#define ff_mdct_init</div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00169">fft.h:169</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ac5545d56b03902f706c5c9ded8b7b316"><div class="ttname"><a href="vorbisdec_8c.html#ac5545d56b03902f706c5c9ded8b7b316">idx_err_str</a></div><div class="ttdeci">static const char idx_err_str[]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00162">vorbisdec.c:162</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a9b140f1e5ca1c8bfafdaa58df7957a58"><div class="ttname"><a href="vorbisdec_8c.html#a9b140f1e5ca1c8bfafdaa58df7957a58">vorbis_floor1</a></div><div class="ttdeci">struct vorbis_floor1_s vorbis_floor1</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00001">vorbisdec.c:60</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a25d082ed3b73e8f287aac3a3c2d4c830"><div class="ttname"><a href="structvorbis__context__s.html#a25d082ed3b73e8f287aac3a3c2d4c830">vorbis_context_s::previous_window</a></div><div class="ttdeci">int8_t previous_window</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00152">vorbisdec.c:152</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a3ba3e032e40fae0f98ba46a0f5201195"><div class="ttname"><a href="get__bits_8h.html#a3ba3e032e40fae0f98ba46a0f5201195">get_vlc2</a></div><div class="ttdeci">static av_always_inline int get_vlc2(GetBitContext *s, VLC_TYPE(*table)[2], int bits, int max_depth)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00797">get_bits.h:797</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_add8885f88622f353839f42e51095ef7b"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#add8885f88622f353839f42e51095ef7b">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::class_subclasses</a></div><div class="ttdeci">uint8_t class_subclasses[16]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00085">vorbisdec.c:85</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ac27c027eddb59bc72a6a17f3bd84f8ef"><div class="ttname"><a href="vorbisdec_8c.html#ac27c027eddb59bc72a6a17f3bd84f8ef">vorbis_residue_decode</a></div><div class="ttdeci">static int vorbis_residue_decode(vorbis_context *vc, vorbis_residue *vr, unsigned ch, uint8_t *do_not_decode, float *vec, unsigned vlen, unsigned ch_left)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01560">vorbisdec.c:1560</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_a2b8367501ca8aa202fdaa23b2e98d45a"><div class="ttname"><a href="structvorbis__residue.html#a2b8367501ca8aa202fdaa23b2e98d45a">vorbis_residue::books</a></div><div class="ttdeci">int16_t books[64][8]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00102">vorbisdec.c:102</a></div></div>
<div class="ttc" id="astruct_vorbis_d_s_p_context_html_a52f5ec87e2256ad051c8cd75aba8aa77"><div class="ttname"><a href="struct_vorbis_d_s_p_context.html#a52f5ec87e2256ad051c8cd75aba8aa77">VorbisDSPContext::vorbis_inverse_coupling</a></div><div class="ttdeci">void(* vorbis_inverse_coupling)(float *mag, float *ang, intptr_t blocksize)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdsp_8h_source.html#l00026">vorbisdsp.h:26</a></div></div>
<div class="ttc" id="avlc_8h_html_a72f2dfad95e305316a60c3aecfc3f4cc"><div class="ttname"><a href="vlc_8h.html#a72f2dfad95e305316a60c3aecfc3f4cc">INIT_VLC_LE</a></div><div class="ttdeci">#define INIT_VLC_LE</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00059">vlc.h:59</a></div></div>
<div class="ttc" id="amathops_8h_html_a831f64970d36836e9058dcededf147e9"><div class="ttname"><a href="mathops_8h.html#a831f64970d36836e9058dcededf147e9">ff_inverse</a></div><div class="ttdeci">const uint32_t ff_inverse[257]</div><div class="ttdef"><b>Definition:</b> <a href="mathtables_8c_source.html#l00027">mathtables.c:27</a></div></div>
<div class="ttc" id="astructvorbis__floor1__entry_html_a2e2f9bfad8dc6adb9eeff280a5322a33"><div class="ttname"><a href="structvorbis__floor1__entry.html#a2e2f9bfad8dc6adb9eeff280a5322a33">vorbis_floor1_entry::x</a></div><div class="ttdeci">uint16_t x</div><div class="ttdef"><b>Definition:</b> <a href="vorbis_8h_source.html#l00033">vorbis.h:33</a></div></div>
<div class="ttc" id="aget__bits_8h_html_af65c008755f74e99d139eae8b46534b5"><div class="ttname"><a href="get__bits_8h.html#af65c008755f74e99d139eae8b46534b5">init_get_bits</a></div><div class="ttdeci">static int init_get_bits(GetBitContext *s, const uint8_t *buffer, int bit_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00659">get_bits.h:659</a></div></div>
<div class="ttc" id="avorbis_8c_html_a1ecb4229f8bcd10d6222bbe0c97e915e"><div class="ttname"><a href="vorbis_8c.html#a1ecb4229f8bcd10d6222bbe0c97e915e">ff_vorbis_nth_root</a></div><div class="ttdeci">unsigned int ff_vorbis_nth_root(unsigned int x, unsigned int n)</div><div class="ttdef"><b>Definition:</b> <a href="vorbis_8c_source.html#l00038">vorbis.c:38</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ac4acded914ad8af4566c4b87eda4b427"><div class="ttname"><a href="vorbisdec_8c.html#ac4acded914ad8af4566c4b87eda4b427">vorbis_free</a></div><div class="ttdeci">static void vorbis_free(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00188">vorbisdec.c:188</a></div></div>
<div class="ttc" id="axiph_8h_html"><div class="ttname"><a href="xiph_8h.html">xiph.h</a></div></div>
<div class="ttc" id="aaf__superequalizer_8c_html_aee608a3f1b53a55f3240954ef313065c"><div class="ttname"><a href="af__superequalizer_8c.html#aee608a3f1b53a55f3240954ef313065c">win</a></div><div class="ttdeci">static float win(SuperEqualizerContext *s, float n, int N)</div><div class="ttdef"><b>Definition:</b> <a href="af__superequalizer_8c_source.html#l00119">af_superequalizer.c:119</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a610df6b7704558756ee5c30247495731"><div class="ttname"><a href="get__bits_8h.html#a610df6b7704558756ee5c30247495731">skip_bits</a></div><div class="ttdeci">static void skip_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00467">get_bits.h:467</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ae246ca7a1c72c151891ed0599e8dbfba"><div class="ttname"><a href="struct_a_v_codec_context.html#ae246ca7a1c72c151891ed0599e8dbfba">AVCodecContext::extradata_size</a></div><div class="ttdeci">int extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00628">avcodec.h:628</a></div></div>
<div class="ttc" id="ax86_2fft_8h_html"><div class="ttname"><a href="x86_2fft_8h.html">fft.h</a></div></div>
<div class="ttc" id="aget__bits_8h_html_abd82eee339b2471e5d9b4bfecfdc6b5f"><div class="ttname"><a href="get__bits_8h.html#abd82eee339b2471e5d9b4bfecfdc6b5f">get_bits</a></div><div class="ttdeci">static unsigned int get_bits(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00379">get_bits.h:379</a></div></div>
<div class="ttc" id="avorbis_8c_html_a3cb5e3f1b6fb108991c45261b1704b11"><div class="ttname"><a href="vorbis_8c.html#a3cb5e3f1b6fb108991c45261b1704b11">ff_vorbis_floor1_render_list</a></div><div class="ttdeci">void ff_vorbis_floor1_render_list(vorbis_floor1_entry *list, int values, uint16_t *y_list, int *flag, int multiplier, float *out, int samples)</div><div class="ttdef"><b>Definition:</b> <a href="vorbis_8c_source.html#l00196">vorbis.c:196</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="astructvorbis__floor_html_a9522d918cea5d190a5a2b49708a72cf4"><div class="ttname"><a href="structvorbis__floor.html#a9522d918cea5d190a5a2b49708a72cf4">vorbis_floor::data</a></div><div class="ttdeci">union vorbis_floor::vorbis_floor_u data</div></div>
<div class="ttc" id="avorbisdec_8c_html_a0f5488588be73c95cf04763b0014f332"><div class="ttname"><a href="vorbisdec_8c.html#a0f5488588be73c95cf04763b0014f332">vorbis_floor_decode_func</a></div><div class="ttdeci">int(* vorbis_floor_decode_func)(struct vorbis_context_s *, vorbis_floor_data *, float *)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00063">vorbisdec.c:64</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a84d656a41f50860c9cc71a99d4864e6b"><div class="ttname"><a href="vorbisdec_8c.html#a84d656a41f50860c9cc71a99d4864e6b">vorbis_parse_id_hdr</a></div><div class="ttdeci">static int vorbis_parse_id_hdr(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00960">vorbisdec.c:960</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a3338ea7171c01007a255e6a44e32bbe5"><div class="ttname"><a href="structvorbis__context__s.html#a3338ea7171c01007a255e6a44e32bbe5">vorbis_context_s::gb</a></div><div class="ttdeci">GetBitContext gb</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00127">vorbisdec.c:127</a></div></div>
<div class="ttc" id="aavassert_8h_html"><div class="ttname"><a href="avassert_8h.html">avassert.h</a></div></div>
<div class="ttc" id="astruct_vorbis_d_s_p_context_html"><div class="ttname"><a href="struct_vorbis_d_s_p_context.html">VorbisDSPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdsp_8h_source.html#l00024">vorbisdsp.h:24</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_af81021e29da598da10423aeedb731f55"><div class="ttname"><a href="structvorbis__residue.html#af81021e29da598da10423aeedb731f55">vorbis_residue::classbook</a></div><div class="ttdeci">uint8_t classbook</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00101">vorbisdec.c:101</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_a0827066b778bb7992bf36b6535279273"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a0827066b778bb7992bf36b6535279273">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::partition_class</a></div><div class="ttdeci">uint8_t partition_class[32]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00083">vorbisdec.c:83</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_aa98bdbd57792be1a8d243b050d9776c4"><div class="ttname"><a href="vorbisdec_8c.html#aa98bdbd57792be1a8d243b050d9776c4">V_MAX_PARTITIONS</a></div><div class="ttdeci">#define V_MAX_PARTITIONS</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00047">vorbisdec.c:47</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_gaffe151ff4cd8a24b2e77ac8d9616c85c"><div class="ttname"><a href="group__lavu__log__constants.html#gaffe151ff4cd8a24b2e77ac8d9616c85c">AV_LOG_ERROR</a></div><div class="ttdeci">#define AV_LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00194">log.h:194</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a9e54e9e2ccf671c1f79867e19ce432e9"><div class="ttname"><a href="get__bits_8h.html#a9e54e9e2ccf671c1f79867e19ce432e9">init_get_bits8</a></div><div class="ttdeci">static int init_get_bits8(GetBitContext *s, const uint8_t *buffer, int byte_size)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00677">get_bits.h:677</a></div></div>
<div class="ttc" id="astructvorbis__floor1__entry_html"><div class="ttname"><a href="structvorbis__floor1__entry.html">vorbis_floor1_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbis_8h_source.html#l00032">vorbis.h:32</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a4ad7c684d3798c39e450b66ab3671d7a"><div class="ttname"><a href="structvorbis__context__s.html#a4ad7c684d3798c39e450b66ab3671d7a">vorbis_context_s::mode_number</a></div><div class="ttdeci">uint8_t mode_number</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00151">vorbisdec.c:151</a></div></div>
<div class="ttc" id="adecode__audio_8c_html_a1704ae53d7f426e1b67341785b5b2b58"><div class="ttname"><a href="decode__audio_8c.html#a1704ae53d7f426e1b67341785b5b2b58">decode</a></div><div class="ttdeci">static void decode(AVCodecContext *dec_ctx, AVPacket *pkt, AVFrame *frame, FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="decode__audio_8c_source.html#l00071">decode_audio.c:71</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a5d8ccd809287dc57e29c6a3cfd83ce89"><div class="ttname"><a href="structvorbis__context__s.html#a5d8ccd809287dc57e29c6a3cfd83ce89">vorbis_context_s::audio_samplerate</a></div><div class="ttdeci">uint32_t audio_samplerate</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00135">vorbisdec.c:135</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_aeeafdc0ba9321e1e79b264b6b9713d2a"><div class="ttname"><a href="vorbisdec_8c.html#aeeafdc0ba9321e1e79b264b6b9713d2a">vorbis_mapping</a></div><div class="ttdeci">struct vorbis_mapping vorbis_mapping</div></div>
<div class="ttc" id="avorbisdec_8c_html_add996a98dfebd9161c43f2efa1853d6a"><div class="ttname"><a href="vorbisdec_8c.html#add996a98dfebd9161c43f2efa1853d6a">vorbis_codebook</a></div><div class="ttdeci">struct vorbis_codebook vorbis_codebook</div></div>
<div class="ttc" id="acuda__runtime_8h_html_ab49e3b691545ec566bbf71491e06504c"><div class="ttname"><a href="cuda__runtime_8h.html#ab49e3b691545ec566bbf71491e06504c">floor</a></div><div class="ttdeci">static __device__ float floor(float a)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00173">cuda_runtime.h:173</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48a7b4e33b8f30ac94d34ce8d9f7c33927a">AVMEDIA_TYPE_AUDIO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_AUDIO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00202">avutil.h:202</a></div></div>
<div class="ttc" id="astruct_v_l_c_html_acaf94f3386396a95d3e7042c444a41f7"><div class="ttname"><a href="struct_v_l_c.html#acaf94f3386396a95d3e7042c444a41f7">VLC::table</a></div><div class="ttdeci">VLC_TYPE(* table)[2]</div><div class="ttdoc">code, bits</div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00028">vlc.h:28</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_a6c31f513a0193c4d468241116515b56b"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6c31f513a0193c4d468241116515b56b">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::lsp</a></div><div class="ttdeci">float * lsp</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00079">vorbisdec.c:79</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ab1385a1679ad37352932ada49b66240b"><div class="ttname"><a href="vorbisdec_8c.html#ab1385a1679ad37352932ada49b66240b">vorbis_parse_setup_hdr_tdtransforms</a></div><div class="ttdeci">static int vorbis_parse_setup_hdr_tdtransforms(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00473">vorbisdec.c:473</a></div></div>
<div class="ttc" id="astructvorbis__codebook_html_a6bdb3c5a900e26d3b7b563c9ec92549a"><div class="ttname"><a href="structvorbis__codebook.html#a6bdb3c5a900e26d3b7b563c9ec92549a">vorbis_codebook::nb_bits</a></div><div class="ttdeci">unsigned int nb_bits</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00055">vorbisdec.c:55</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a66cb7f7751c4778d6678d5f1831ceb2f"><div class="ttname"><a href="vorbisdec_8c.html#a66cb7f7751c4778d6678d5f1831ceb2f">vorbis_parse_audio_packet</a></div><div class="ttdeci">static int vorbis_parse_audio_packet(vorbis_context *vc, float **floor_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01604">vorbisdec.c:1604</a></div></div>
<div class="ttc" id="avp3data_8h_html_a46a6da6b1936191571fd30b2a749f38c"><div class="ttname"><a href="vp3data_8h.html#a46a6da6b1936191571fd30b2a749f38c">bits</a></div><div class="ttdeci">uint8_t bits</div><div class="ttdef"><b>Definition:</b> <a href="vp3data_8h_source.html#l00202">vp3data.h:202</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="avorbis_8c_html_a6fd6cc7d3019c199f05ed1f56d418d22"><div class="ttname"><a href="vorbis_8c.html#a6fd6cc7d3019c199f05ed1f56d418d22">ff_vorbis_len2vlc</a></div><div class="ttdeci">int ff_vorbis_len2vlc(uint8_t *bits, uint32_t *codes, unsigned num)</div><div class="ttdef"><b>Definition:</b> <a href="vorbis_8c_source.html#l00056">vorbis.c:56</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_a3a46ef6bf25c4bf1f022da580276a6ea"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a3a46ef6bf25c4bf1f022da580276a6ea">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::partitions</a></div><div class="ttdeci">uint8_t partitions</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00082">vorbisdec.c:82</a></div></div>
<div class="ttc" id="astructvorbis__mode_html_a144c76e09e4a10635e30b3f2c310fe90"><div class="ttname"><a href="structvorbis__mode.html#a144c76e09e4a10635e30b3f2c310fe90">vorbis_mode::windowtype</a></div><div class="ttdeci">uint16_t windowtype</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00120">vorbisdec.c:120</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="aget__bits_8h_html"><div class="ttname"><a href="get__bits_8h.html">get_bits.h</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_adae41b075888900db9b7158759ff2634"><div class="ttname"><a href="structvorbis__context__s.html#adae41b075888900db9b7158759ff2634">vorbis_context_s::bitrate_nominal</a></div><div class="ttdeci">uint32_t bitrate_nominal</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00137">vorbisdec.c:137</a></div></div>
<div class="ttc" id="abitstream_8c_html_a6833b44193a374e05ad39b2eb9705bba"><div class="ttname"><a href="bitstream_8c.html#a6833b44193a374e05ad39b2eb9705bba">ff_free_vlc</a></div><div class="ttdeci">void ff_free_vlc(VLC *vlc)</div><div class="ttdef"><b>Definition:</b> <a href="bitstream_8c_source.html#l00365">bitstream.c:365</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a6c56114f45a96291c81d0a3e6a588ad2"><div class="ttname"><a href="structvorbis__context__s.html#a6c56114f45a96291c81d0a3e6a588ad2">vorbis_context_s::blocksize</a></div><div class="ttdeci">uint32_t blocksize[2]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00139">vorbisdec.c:139</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a3a372bca5afd6a3640c9443505896f0f"><div class="ttname"><a href="structvorbis__context__s.html#a3a372bca5afd6a3640c9443505896f0f">vorbis_context_s::floors</a></div><div class="ttdeci">vorbis_floor * floors</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00144">vorbisdec.c:144</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a67e4f69aaf2fe15c3d298d0a2de865a3"><div class="ttname"><a href="cbs__vp9_8c.html#a67e4f69aaf2fe15c3d298d0a2de865a3">f</a></div><div class="ttdeci">#define f(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00255">cbs_vp9.c:255</a></div></div>
<div class="ttc" id="afft__template_8c_html_a9f2587d1070b8924b276ba83988d3667"><div class="ttname"><a href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a></div><div class="ttdeci">#define pass</div><div class="ttdef"><b>Definition:</b> <a href="fft__template_8c_source.html#l00619">fft_template.c:619</a></div></div>
<div class="ttc" id="astructvorbis__codebook_html_a446ca0e6afd10612a3de96017eff1da1"><div class="ttname"><a href="structvorbis__codebook.html#a446ca0e6afd10612a3de96017eff1da1">vorbis_codebook::codevectors</a></div><div class="ttdeci">float * codevectors</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00054">vorbisdec.c:54</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a5bc48e67590da82dd62641838bdf1015"><div class="ttname"><a href="vorbisdec_8c.html#a5bc48e67590da82dd62641838bdf1015">vorbis_parse_setup_hdr_residues</a></div><div class="ttdeci">static int vorbis_parse_setup_hdr_residues(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00689">vorbisdec.c:689</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_afd12020da5a235dfcf0c3c748fb5baed"><div class="ttname"><a href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a></div><div class="ttdeci">int32_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="acommon_8h_html_ad6d88940cfc29c13a3e51ded211fc242"><div class="ttname"><a href="common_8h.html#ad6d88940cfc29c13a3e51ded211fc242">FFABS</a></div><div class="ttdeci">#define FFABS(a)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00072">common.h:72</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a0e82f1088fdc24c14bf175d2ac77523f"><div class="ttname"><a href="filter__design_8txt.html#a0e82f1088fdc24c14bf175d2ac77523f">if</a></div><div class="ttdeci">if(ret)</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00179">filter_design.txt:179</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_a0b485a3e12ff28f064825a7b60450fca"><div class="ttname"><a href="structvorbis__residue.html#a0b485a3e12ff28f064825a7b60450fca">vorbis_residue::ptns_to_read</a></div><div class="ttdeci">uint16_t ptns_to_read</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00104">vorbisdec.c:104</a></div></div>
<div class="ttc" id="aaacdec__template_8c_html_affa0ccbe2ef7fd24bb8c61e28d1a6631"><div class="ttname"><a href="aacdec__template_8c.html#affa0ccbe2ef7fd24bb8c61e28d1a6631">flush</a></div><div class="ttdeci">static void flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="aacdec__template_8c_source.html#l00592">aacdec_template.c:592</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="astruct_v_l_c_html"><div class="ttname"><a href="struct_v_l_c.html">VLC</a></div><div class="ttdef"><b>Definition:</b> <a href="vlc_8h_source.html#l00026">vlc.h:26</a></div></div>
<div class="ttc" id="astructvorbis__mapping_html_adf7ee56aa61486f13539073337a85507"><div class="ttname"><a href="structvorbis__mapping.html#adf7ee56aa61486f13539073337a85507">vorbis_mapping::mux</a></div><div class="ttdeci">uint8_t * mux</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00113">vorbisdec.c:113</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_aaadc06d84718c454eb910ce590915ef6"><div class="ttname"><a href="structvorbis__context__s.html#aaadc06d84718c454eb910ce590915ef6">vorbis_context_s::audio_channels</a></div><div class="ttdeci">uint8_t audio_channels</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00134">vorbisdec.c:134</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_aa8f9e77d06c1cbc599f6eb4254ef7971"><div class="ttname"><a href="vorbisdec_8c.html#aa8f9e77d06c1cbc599f6eb4254ef7971">VALIDATE_INDEX</a></div><div class="ttdeci">#define VALIDATE_INDEX(idx, limit)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00163">vorbisdec.c:163</a></div></div>
<div class="ttc" id="astruct_get_bit_context_html"><div class="ttname"><a href="struct_get_bit_context.html">GetBitContext</a></div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00061">get_bits.h:61</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a0c29f16b6b4e440496b2366de28ab1cc"><div class="ttname"><a href="structvorbis__context__s.html#a0c29f16b6b4e440496b2366de28ab1cc">vorbis_context_s::win</a></div><div class="ttdeci">const float * win[2]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00140">vorbisdec.c:140</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a505086b48eb34d53e47f60ac777204b9"><div class="ttname"><a href="get__bits_8h.html#a505086b48eb34d53e47f60ac777204b9">get_bits1</a></div><div class="ttdeci">static unsigned int get_bits1(GetBitContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00498">get_bits.h:498</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ab8b8ee82a22cee8a6aed469204197a8f"><div class="ttname"><a href="vorbisdec_8c.html#ab8b8ee82a22cee8a6aed469204197a8f">vorbis_floor0_decode</a></div><div class="ttdeci">static int vorbis_floor0_decode(vorbis_context *vc, vorbis_floor_data *vfu, float *vec)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01095">vorbisdec.c:1095</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a246c00cfa05e379fd62b6f719a27bc8c"><div class="ttname"><a href="structvorbis__context__s.html#a246c00cfa05e379fd62b6f719a27bc8c">vorbis_context_s::modes</a></div><div class="ttdeci">vorbis_mode * modes</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00150">vorbisdec.c:150</a></div></div>
<div class="ttc" id="avorbis_8h_html_a2ea15c0e9f6e03f4b799e2d9923a6ee3"><div class="ttname"><a href="vorbis_8h.html#a2ea15c0e9f6e03f4b799e2d9923a6ee3">ff_vorbis_channel_layout_offsets</a></div><div class="ttdeci">const uint8_t ff_vorbis_channel_layout_offsets[8][8]</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__data_8c_source.html#l00025">vorbis_data.c:25</a></div></div>
<div class="ttc" id="amathops_8h_html_a46b805e56033ed92d70f4299638e7a7d"><div class="ttname"><a href="mathops_8h.html#a46b805e56033ed92d70f4299638e7a7d">FASTDIV</a></div><div class="ttdeci">#define FASTDIV(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="mathops_8h_source.html#l00202">mathops.h:202</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a6e2ce511d1a2900287942128184f5ed2"><div class="ttname"><a href="vorbisdec_8c.html#a6e2ce511d1a2900287942128184f5ed2">vorbis_floor_data</a></div><div class="ttdeci">union vorbis_floor_u vorbis_floor_data</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00001">vorbisdec.c:58</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_af2f0bb2100a446eef3edd2d2eff59595"><div class="ttname"><a href="vorbisdec_8c.html#af2f0bb2100a446eef3edd2d2eff59595">vorbis_parse_setup_hdr</a></div><div class="ttdeci">static int vorbis_parse_setup_hdr(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00914">vorbisdec.c:914</a></div></div>
<div class="ttc" id="aeval_8c_html_afc05d41e1a0fc024ac21072d11d4f263"><div class="ttname"><a href="eval_8c.html#afc05d41e1a0fc024ac21072d11d4f263">exp</a></div><div class="ttdeci">int8_t exp</div><div class="ttdef"><b>Definition:</b> <a href="eval_8c_source.html#l00072">eval.c:72</a></div></div>
<div class="ttc" id="astructvorbis__mapping_html"><div class="ttname"><a href="structvorbis__mapping.html">vorbis_mapping</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00108">vorbisdec.c:108</a></div></div>
<div class="ttc" id="afloat__dsp_8h_html"><div class="ttname"><a href="float__dsp_8h.html">float_dsp.h</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a345459b32b2bc75249c3260257c02d96"><div class="ttname"><a href="vorbisdec_8c.html#a345459b32b2bc75249c3260257c02d96">vorbis_floor0</a></div><div class="ttdeci">struct vorbis_floor0_s vorbis_floor0</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00001">vorbisdec.c:59</a></div></div>
<div class="ttc" id="astructvorbis__mapping_html_a40f266c872b8e9f0263046b726a4eee2"><div class="ttname"><a href="structvorbis__mapping.html#a40f266c872b8e9f0263046b726a4eee2">vorbis_mapping::coupling_steps</a></div><div class="ttdeci">uint16_t coupling_steps</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00110">vorbisdec.c:110</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a21238e478c9791b7a5f619e2da702f58"><div class="ttname"><a href="vorbisdec_8c.html#a21238e478c9791b7a5f619e2da702f58">vorbis_decode_init</a></div><div class="ttdeci">static av_cold int vorbis_decode_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01030">vorbisdec.c:1030</a></div></div>
<div class="ttc" id="astructvorbis__floor_html"><div class="ttname"><a href="structvorbis__floor.html">vorbis_floor</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00065">vorbisdec.c:65</a></div></div>
<div class="ttc" id="astructvorbis__mapping_html_aef96dbbf5b13b2732989cb635b7e34c9"><div class="ttname"><a href="structvorbis__mapping.html#aef96dbbf5b13b2732989cb635b7e34c9">vorbis_mapping::submap_residue</a></div><div class="ttdeci">uint8_t submap_residue[16]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00115">vorbisdec.c:115</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaf143ecab33a3868b57345466c39de7c1"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaf143ecab33a3868b57345466c39de7c1">av_mallocz</a></div><div class="ttdeci">void * av_mallocz(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00237">mem.c:237</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a8e3eb32799f4637fcdd75bb9099142ff"><div class="ttname"><a href="tableprint__vlc_8h.html#a8e3eb32799f4637fcdd75bb9099142ff">ff_dlog</a></div><div class="ttdeci">#define ff_dlog(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00029">tableprint_vlc.h:29</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_aad04f409bae4cfc06758e1da446c1e4b"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#aad04f409bae4cfc06758e1da446c1e4b">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::amplitude_bits</a></div><div class="ttdeci">uint8_t amplitude_bits</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00075">vorbisdec.c:75</a></div></div>
<div class="ttc" id="astruct_f_f_t_context_html"><div class="ttname"><a href="struct_f_f_t_context.html">FFTContext</a></div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00088">fft.h:88</a></div></div>
<div class="ttc" id="avorbis_8c_html_a1daf4fde3896f162291dc9eca12f27cd"><div class="ttname"><a href="vorbis_8c.html#a1daf4fde3896f162291dc9eca12f27cd">ff_vorbis_ready_floor1_list</a></div><div class="ttdeci">int ff_vorbis_ready_floor1_list(AVCodecContext *avctx, vorbis_floor1_entry *list, int values)</div><div class="ttdef"><b>Definition:</b> <a href="vorbis_8c_source.html#l00106">vorbis.c:106</a></div></div>
<div class="ttc" id="adecode_8c_html_a0d5adb2b84051826883605b3ab4d1bab"><div class="ttname"><a href="decode_8c.html#a0d5adb2b84051826883605b3ab4d1bab">ff_get_buffer</a></div><div class="ttdeci">int ff_get_buffer(AVCodecContext *avctx, AVFrame *frame, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="decode_8c_source.html#l01879">decode.c:1879</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga5f35425595395c76cfa406c883f78aed"><div class="ttname"><a href="group__lavc__core.html#ga5f35425595395c76cfa406c883f78aed">AV_CODEC_CAP_DR1</a></div><div class="ttdeci">#define AV_CODEC_CAP_DR1</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00050">codec.h:50</a></div></div>
<div class="ttc" id="astructvorbis__mode_html_ab47ff5085843a15ea0bfe10ce8d23c86"><div class="ttname"><a href="structvorbis__mode.html#ab47ff5085843a15ea0bfe10ce8d23c86">vorbis_mode::blockflag</a></div><div class="ttdeci">uint8_t blockflag</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00119">vorbisdec.c:119</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ada6da52126ef8c2708bf0a7910bf85fa"><div class="ttname"><a href="vorbisdec_8c.html#ada6da52126ef8c2708bf0a7910bf85fa">vorbis_parse_setup_hdr_floors</a></div><div class="ttdeci">static int vorbis_parse_setup_hdr_floors(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00499">vorbisdec.c:499</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_a3206fe6f697928ae0058cdd2821db2d2"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a3206fe6f697928ae0058cdd2821db2d2">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::map_size</a></div><div class="ttdeci">uint32_t map_size[2]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00074">vorbisdec.c:74</a></div></div>
<div class="ttc" id="astruct_a_v_float_d_s_p_context_html_a7cfd05c24dfae926f50473a12f1f1332"><div class="ttname"><a href="struct_a_v_float_d_s_p_context.html#a7cfd05c24dfae926f50473a12f1f1332">AVFloatDSPContext::vector_fmul</a></div><div class="ttdeci">void(* vector_fmul)(float *dst, const float *src0, const float *src1, int len)</div><div class="ttdef"><b>Definition:</b> <a href="float__dsp_8h_source.html#l00038">float_dsp.h:38</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912"><div class="ttname"><a href="group__lavu__sampfmts.html#ggaf9a51ca15301871723577c730b5865c5ac5d4bb5b0fb0dc7316fb3c7a73029912">AV_SAMPLE_FMT_NONE</a></div><div class="ttdeci">@ AV_SAMPLE_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00059">samplefmt.h:59</a></div></div>
<div class="ttc" id="avorbisdsp_8c_html_aaa7a4fcaf50a875b08c9ddef3b07c5d6"><div class="ttname"><a href="vorbisdsp_8c.html#aaa7a4fcaf50a875b08c9ddef3b07c5d6">ff_vorbisdsp_init</a></div><div class="ttdeci">av_cold void ff_vorbisdsp_init(VorbisDSPContext *dsp)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdsp_8c_source.html#l00024">vorbisdsp.c:24</a></div></div>
<div class="ttc" id="afft_8h_html_afee52a8ecff75737ecbdca0f9ae0a377"><div class="ttname"><a href="fft_8h.html#afee52a8ecff75737ecbdca0f9ae0a377">ff_mdct_end</a></div><div class="ttdeci">#define ff_mdct_end</div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00170">fft.h:170</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_a7f553fba9b523e73ddd822a8b65b102b"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7f553fba9b523e73ddd822a8b65b102b">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::multiplier</a></div><div class="ttdeci">uint8_t multiplier</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00088">vorbisdec.c:88</a></div></div>
<div class="ttc" id="avorbisdsp_8h_html"><div class="ttname"><a href="vorbisdsp_8h.html">vorbisdsp.h</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abb01e291550fa3fb96188af4d494587e"><div class="ttname"><a href="struct_a_v_codec_context.html#abb01e291550fa3fb96188af4d494587e">AVCodecContext::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00606">avcodec.h:606</a></div></div>
<div class="ttc" id="astruct_a_v_float_d_s_p_context_html"><div class="ttname"><a href="struct_a_v_float_d_s_p_context.html">AVFloatDSPContext</a></div><div class="ttdef"><b>Definition:</b> <a href="float__dsp_8h_source.html#l00024">float_dsp.h:24</a></div></div>
<div class="ttc" id="astructvorbis__codebook_html_aa0d70eb6ee3f70b4e1c9b00fe409cebd"><div class="ttname"><a href="structvorbis__codebook.html#aa0d70eb6ee3f70b4e1c9b00fe409cebd">vorbis_codebook::vlc</a></div><div class="ttdeci">VLC vlc</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00053">vorbisdec.c:53</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_abf6d82f45efb7b39b1d7260657654a80"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#abf6d82f45efb7b39b1d7260657654a80">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::class_dimensions</a></div><div class="ttdeci">uint8_t class_dimensions[16]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00084">vorbisdec.c:84</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_ace069824d5df8a7b1c67ad759e8f059b"><div class="ttname"><a href="structvorbis__context__s.html#ace069824d5df8a7b1c67ad759e8f059b">vorbis_context_s::bitrate_minimum</a></div><div class="ttdeci">uint32_t bitrate_minimum</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00138">vorbisdec.c:138</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_aa1d464f2ced2655afb03cdd2e9cac649"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#aa1d464f2ced2655afb03cdd2e9cac649">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::x_list_dim</a></div><div class="ttdeci">uint16_t x_list_dim</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00089">vorbisdec.c:89</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="astructvorbis__mode_html_aa5152490a9cd0e4602cf4667fcc6cb58"><div class="ttname"><a href="structvorbis__mode.html#aa5152490a9cd0e4602cf4667fcc6cb58">vorbis_mode::mapping</a></div><div class="ttdeci">uint8_t mapping</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00122">vorbisdec.c:122</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_a7dd2246e26ff4c0de561df621d2ed633"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a7dd2246e26ff4c0de561df621d2ed633">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::class_masterbook</a></div><div class="ttdeci">uint8_t class_masterbook[16]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00086">vorbisdec.c:86</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_a31f10ff78dc6ba4315de0499891d1b10"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a31f10ff78dc6ba4315de0499891d1b10">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::subclass_books</a></div><div class="ttdeci">int16_t subclass_books[16][8]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00087">vorbisdec.c:87</a></div></div>
<div class="ttc" id="awriting__filters_8txt_html_ae1df9c886af8e844bb8849d403b76663"><div class="ttname"><a href="writing__filters_8txt.html#ae1df9c886af8e844bb8849d403b76663">offset</a></div><div class="ttdeci">it s the only field you need to keep assuming you have a context There is some magic you don t need to care about around this just let it vf offset</div><div class="ttdef"><b>Definition:</b> <a href="writing__filters_8txt_source.html#l00086">writing_filters.txt:86</a></div></div>
<div class="ttc" id="astructvorbis__codebook_html_a75ca90c26db60b7150c13413941dd849"><div class="ttname"><a href="structvorbis__codebook.html#a75ca90c26db60b7150c13413941dd849">vorbis_codebook::maxdepth</a></div><div class="ttdeci">uint8_t maxdepth</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00052">vorbisdec.c:52</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a941df5a981fdafa3d44af1dacf7e3409"><div class="ttname"><a href="vorbisdec_8c.html#a941df5a981fdafa3d44af1dacf7e3409">vorbis_floor1_decode</a></div><div class="ttdeci">static int vorbis_floor1_decode(vorbis_context *vc, vorbis_floor_data *vfu, float *vec)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01209">vorbisdec.c:1209</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a1bdba69ea111e2a9d03fdaa7a46a4c45"><div class="ttname"><a href="struct_a_v_codec_context.html#a1bdba69ea111e2a9d03fdaa7a46a4c45">AVCodecContext::sample_fmt</a></div><div class="ttdeci">enum AVSampleFormat sample_fmt</div><div class="ttdoc">sample format</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1194</a></div></div>
<div class="ttc" id="astructvorbis__residue_html"><div class="ttname"><a href="structvorbis__residue.html">vorbis_residue</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00095">vorbisdec.c:95</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_a651a53a86d58c5ac613f6bc960170036"><div class="ttname"><a href="structvorbis__residue.html#a651a53a86d58c5ac613f6bc960170036">vorbis_residue::end</a></div><div class="ttdeci">uint32_t end</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00098">vorbisdec.c:98</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a390c59928ec8ea7907aacb1bab94898b"><div class="ttname"><a href="vorbisdec_8c.html#a390c59928ec8ea7907aacb1bab94898b">ff_vorbis_inverse_coupling</a></div><div class="ttdeci">void ff_vorbis_inverse_coupling(float *mag, float *ang, intptr_t blocksize)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01578">vorbisdec.c:1578</a></div></div>
<div class="ttc" id="amathematics_8h_html_ae71449b1cc6e6250b91f539153a7a0d3"><div class="ttname"><a href="mathematics_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a></div><div class="ttdeci">#define M_PI</div><div class="ttdef"><b>Definition:</b> <a href="mathematics_8h_source.html#l00052">mathematics.h:52</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_ad48fc7c1a8b9c5a65df79cc785090588"><div class="ttname"><a href="structvorbis__context__s.html#ad48fc7c1a8b9c5a65df79cc785090588">vorbis_context_s::dsp</a></div><div class="ttdeci">VorbisDSPContext dsp</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00128">vorbisdec.c:128</a></div></div>
<div class="ttc" id="aget__bits_8h_html_a8140d9222d8e812f1540ad4592f72eb5"><div class="ttname"><a href="get__bits_8h.html#a8140d9222d8e812f1540ad4592f72eb5">get_bits64</a></div><div class="ttdeci">static uint64_t get_bits64(GetBitContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="get__bits_8h_source.html#l00572">get_bits.h:572</a></div></div>
<div class="ttc" id="acbs__av1_8c_html_a14a6ce0781ddb10c78a10f7373f9ff3d"><div class="ttname"><a href="cbs__av1_8c.html#a14a6ce0781ddb10c78a10f7373f9ff3d">flag</a></div><div class="ttdeci">#define flag(name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__av1_8c_source.html#l00552">cbs_av1.c:552</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_a53e79be89ba4b840e929af49dd8ecaba"><div class="ttname"><a href="structvorbis__residue.html#a53e79be89ba4b840e929af49dd8ecaba">vorbis_residue::type</a></div><div class="ttdeci">uint16_t type</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00096">vorbisdec.c:96</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a30adc75414e0a59ca94aad7a56e17e42"><div class="ttname"><a href="filter__design_8txt.html#a30adc75414e0a59ca94aad7a56e17e42">code</a></div><div class="ttdeci">and forward the test the status of outputs and forward it to the corresponding return FFERROR_NOT_READY If the filters stores internally one or a few frame for some it can consider them to be part of the FIFO and delay acknowledging a status change accordingly Example code</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00176">filter_design.txt:178</a></div></div>
<div class="ttc" id="avorbis_8h_html"><div class="ttname"><a href="vorbis_8h.html">vorbis.h</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a5491acfac9a1ec48d8323893572e970f"><div class="ttname"><a href="structvorbis__context__s.html#a5491acfac9a1ec48d8323893572e970f">vorbis_context_s::floor_count</a></div><div class="ttdeci">uint8_t floor_count</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00143">vorbisdec.c:143</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab4ca16b0fda02840383d0b6d08a44660"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00048">internal.h:48</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a8c228ad2931032a1f678fd07237dbb0b"><div class="ttname"><a href="structvorbis__context__s.html#a8c228ad2931032a1f678fd07237dbb0b">vorbis_context_s::codebooks</a></div><div class="ttdeci">vorbis_codebook * codebooks</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00142">vorbisdec.c:142</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a8cc041c68729056cfaccc5b2f065c866"><div class="ttname"><a href="vorbisdec_8c.html#a8cc041c68729056cfaccc5b2f065c866">vorbis_residue_decode_internal</a></div><div class="ttdeci">static av_always_inline int vorbis_residue_decode_internal(vorbis_context *vc, vorbis_residue *vr, unsigned ch, uint8_t *do_not_decode, float *vec, unsigned vlen, unsigned ch_left, int vr_type)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01385">vorbisdec.c:1385</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a16346c45a3bd60512843417319f5daaf"><div class="ttname"><a href="vorbisdec_8c.html#a16346c45a3bd60512843417319f5daaf">V_MAX_VLCS</a></div><div class="ttdeci">#define V_MAX_VLCS</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00046">vorbisdec.c:46</a></div></div>
<div class="ttc" id="agroup__lavu__sampfmts_html_gaf9a51ca15301871723577c730b5865c5"><div class="ttname"><a href="group__lavu__sampfmts.html#gaf9a51ca15301871723577c730b5865c5">AVSampleFormat</a></div><div class="ttdeci">AVSampleFormat</div><div class="ttdef"><b>Definition:</b> <a href="samplefmt_8h_source.html#l00058">samplefmt.h:58</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html"><div class="ttname"><a href="structvorbis__context__s.html">vorbis_context_s</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00125">vorbisdec.c:125</a></div></div>
<div class="ttc" id="aattributes_8h_html_a28f50f4c125959216885f01d56dbe866"><div class="ttname"><a href="attributes_8h.html#a28f50f4c125959216885f01d56dbe866">av_always_inline</a></div><div class="ttdeci">#define av_always_inline</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00049">attributes.h:49</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a8bf3e4e5b35d7eef1c7f25377e6d3780"><div class="ttname"><a href="vorbisdec_8c.html#a8bf3e4e5b35d7eef1c7f25377e6d3780">vorbis_parse_setup_hdr_mappings</a></div><div class="ttdeci">static int vorbis_parse_setup_hdr_mappings(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00770">vorbisdec.c:770</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a6c446760fc0fc24411302de556f50079"><div class="ttname"><a href="structvorbis__context__s.html#a6c446760fc0fc24411302de556f50079">vorbis_context_s::residues</a></div><div class="ttdeci">vorbis_residue * residues</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00146">vorbisdec.c:146</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="agroup__lavu__frame_html_ga0a2b687f9c1c5ed0089b01fd61227108"><div class="ttname"><a href="group__lavu__frame.html#ga0a2b687f9c1c5ed0089b01fd61227108">av_frame_unref</a></div><div class="ttdeci">void av_frame_unref(AVFrame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="frame_8c_source.html#l00553">frame.c:553</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_a954eadbd5b2a521a1f96b068baf48123"><div class="ttname"><a href="structvorbis__residue.html#a954eadbd5b2a521a1f96b068baf48123">vorbis_residue::classifications</a></div><div class="ttdeci">uint8_t classifications</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00100">vorbisdec.c:100</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_afed088663f8704004425cdae2120b9b3"><div class="ttname"><a href="vorbis__enc__data_8h.html#afed088663f8704004425cdae2120b9b3">len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00452">vorbis_enc_data.h:452</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="astructvorbis__mapping_html_a1bf0f73429bb67aecb2734fabf7bf076"><div class="ttname"><a href="structvorbis__mapping.html#a1bf0f73429bb67aecb2734fabf7bf076">vorbis_mapping::submap_floor</a></div><div class="ttdeci">uint8_t submap_floor[16]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00114">vorbisdec.c:114</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html_a48b5389c831c95326f7272fd99f9fb3a"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html#a48b5389c831c95326f7272fd99f9fb3a">vorbis_floor::vorbis_floor_u::vorbis_floor1_s::list</a></div><div class="ttdeci">vorbis_floor1_entry * list</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00090">vorbisdec.c:90</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_a70b5e28b5bc3d1b63a7435c5fe50b837"><div class="ttname"><a href="vorbis__enc__data_8h.html#a70b5e28b5bc3d1b63a7435c5fe50b837">dim</a></div><div class="ttdeci">int dim</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00451">vorbis_enc_data.h:451</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a09d0b41869c61a93740b0da1f0f65570"><div class="ttname"><a href="vorbisdec_8c.html#a09d0b41869c61a93740b0da1f0f65570">V_NB_BITS</a></div><div class="ttdeci">#define V_NB_BITS</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00044">vorbisdec.c:44</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a55dea4a6efa37dde86029d12fd226bf9"><div class="ttname"><a href="vorbisdec_8c.html#a55dea4a6efa37dde86029d12fd226bf9">vorbis_residue</a></div><div class="ttdeci">struct vorbis_residue vorbis_residue</div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a48ad71a5b40cdd5f23c601f33665a953"><div class="ttname"><a href="filter__design_8txt.html#a48ad71a5b40cdd5f23c601f33665a953">frame</a></div><div class="ttdeci">these buffered frames must be flushed immediately if a new input produces new the filter must not call request_frame to get more It must just process the frame or queue it The task of requesting more frames is left to the filter s request_frame method or the application If a filter has several the filter must be ready for frames arriving randomly on any input any filter with several inputs will most likely require some kind of queuing mechanism It is perfectly acceptable to have a limited queue and to drop frames when the inputs are too unbalanced request_frame For filters that do not use the this method is called when a frame is wanted on an output For a it should directly call filter_frame on the corresponding output For a if there are queued frames already one of these frames should be pushed If the filter should request a frame on one of its repeatedly until at least one frame has been pushed Return or at least make progress towards producing a frame</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00264">filter_design.txt:264</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_abe964316aaaa61967b012efdcced79c4"><div class="ttname"><a href="struct_a_v_codec_context.html#abe964316aaaa61967b012efdcced79c4">AVCodecContext::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00627">avcodec.h:627</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a7577d49f3bfffb1cf048eef843177784"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a7577d49f3bfffb1cf048eef843177784">L</a></div><div class="ttdeci">#define L(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00036">vp56_arith.h:36</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_a76a90d0c9121b50caa41e6bae33892de"><div class="ttname"><a href="structvorbis__residue.html#a76a90d0c9121b50caa41e6bae33892de">vorbis_residue::begin</a></div><div class="ttdeci">uint32_t begin</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00097">vorbisdec.c:97</a></div></div>
<div class="ttc" id="avorbis_8h_html_ae8eef4c10479c10d88c7a436d4b3ba12"><div class="ttname"><a href="vorbis_8h.html#ae8eef4c10479c10d88c7a436d4b3ba12">ilog</a></div><div class="ttdeci">#define ilog(i)</div><div class="ttdef"><b>Definition:</b> <a href="vorbis_8h_source.html#l00048">vorbis.h:48</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a4e6ab5d9c9f7ced957db84dfda36b486"><div class="ttname"><a href="vorbisdec_8c.html#a4e6ab5d9c9f7ced957db84dfda36b486">V_NB_BITS2</a></div><div class="ttdeci">#define V_NB_BITS2</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00045">vorbisdec.c:45</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ae918fcda5925e69ddc7b814d73c1cb2b"><div class="ttname"><a href="vorbisdec_8c.html#ae918fcda5925e69ddc7b814d73c1cb2b">setup_classifs</a></div><div class="ttdeci">static av_always_inline int setup_classifs(vorbis_context *vc, vorbis_residue *vr, uint8_t *do_not_decode, unsigned ch_used, int partition_count, int ptns_to_read)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01336">vorbisdec.c:1336</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_ad5f241d9aedf48275c631e768fca3707"><div class="ttname"><a href="structvorbis__context__s.html#ad5f241d9aedf48275c631e768fca3707">vorbis_context_s::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00126">vorbisdec.c:126</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_aa7c425077901fb162eb911dde3a414f3"><div class="ttname"><a href="structvorbis__context__s.html#aa7c425077901fb162eb911dde3a414f3">vorbis_context_s::channel_residues</a></div><div class="ttdeci">float * channel_residues</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00153">vorbisdec.c:153</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a898dbc2be2f807c2319867ae48ba1a57"><div class="ttname"><a href="vorbisdec_8c.html#a898dbc2be2f807c2319867ae48ba1a57">ff_vorbis_decoder</a></div><div class="ttdeci">AVCodec ff_vorbis_decoder</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01883">vorbisdec.c:1883</a></div></div>
<div class="ttc" id="abuild__system_8txt_html_ad5f19473a15f2270898499b3f26b5948"><div class="ttname"><a href="build__system_8txt.html#ad5f19473a15f2270898499b3f26b5948">headers</a></div><div class="ttdeci">FFmpeg currently uses a custom build this text attempts to document some of its obscure features and options Makefile the full command issued by make and its output will be shown on the screen DBG Preprocess x86 external assembler files to a dbg asm file in the object which then gets compiled Helps in developing those assembler files DESTDIR Destination directory for the install useful to prepare packages or install FFmpeg in cross environments GEN Set to ‘1’ to generate the missing or mismatched references Makefile builds all the libraries and the executables fate Run the fate test note that you must have installed it fate list List all fate regression test targets install Install headers</div><div class="ttdef"><b>Definition:</b> <a href="build__system_8txt_source.html#l00034">build_system.txt:34</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="astructvorbis__mapping_html_ada8ff962705a90817cbaf24730ac693f"><div class="ttname"><a href="structvorbis__mapping.html#ada8ff962705a90817cbaf24730ac693f">vorbis_mapping::magnitude</a></div><div class="ttdeci">uint8_t * magnitude</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00111">vorbisdec.c:111</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a8c30355b6b105f5f85e6c4929bdb6f16"><div class="ttname"><a href="structvorbis__context__s.html#a8c30355b6b105f5f85e6c4929bdb6f16">vorbis_context_s::mappings</a></div><div class="ttdeci">vorbis_mapping * mappings</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00148">vorbisdec.c:148</a></div></div>
<div class="ttc" id="avf__mcdeint_8c_html_a0b90bc971fe5188fc4d32fe8177a64a5"><div class="ttname"><a href="vf__mcdeint_8c.html#a0b90bc971fe5188fc4d32fe8177a64a5">temp</a></div><div class="ttdeci">else temp</div><div class="ttdef"><b>Definition:</b> <a href="vf__mcdeint_8c_source.html#l00256">vf_mcdeint.c:256</a></div></div>
<div class="ttc" id="astructvorbis__codebook_html"><div class="ttname"><a href="structvorbis__codebook.html">vorbis_codebook</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00049">vorbisdec.c:49</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a10d4082160898a4bcb6efb591ae6db5c"><div class="ttname"><a href="vorbisdec_8c.html#a10d4082160898a4bcb6efb591ae6db5c">vorbis_decode_frame</a></div><div class="ttdeci">static int vorbis_decode_frame(AVCodecContext *avctx, void *data, int *got_frame_ptr, AVPacket *avpkt)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01767">vorbisdec.c:1767</a></div></div>
<div class="ttc" id="axiph_8c_html_a3c4ba1310b067a4d8a0326e393a99cd4"><div class="ttname"><a href="xiph_8c.html#a3c4ba1310b067a4d8a0326e393a99cd4">avpriv_split_xiph_headers</a></div><div class="ttdeci">int avpriv_split_xiph_headers(const uint8_t *extradata, int extradata_size, int first_header_size, const uint8_t *header_start[3], int header_len[3])</div><div class="ttdef"><b>Definition:</b> <a href="xiph_8c_source.html#l00024">xiph.c:24</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a8d869e3e3b52a67adb877ccf60d974f0"><div class="ttname"><a href="structvorbis__context__s.html#a8d869e3e3b52a67adb877ccf60d974f0">vorbis_context_s::mode_count</a></div><div class="ttdeci">uint8_t mode_count</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00149">vorbisdec.c:149</a></div></div>
<div class="ttc" id="astructvorbis__codebook_html_a4bbfacba9c47cc8005fdd96b6ca05d4e"><div class="ttname"><a href="structvorbis__codebook.html#a4bbfacba9c47cc8005fdd96b6ca05d4e">vorbis_codebook::lookup_type</a></div><div class="ttdeci">uint8_t lookup_type</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00051">vorbisdec.c:51</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga17ae68044f725fd5ba26c54162b96490"><div class="ttname"><a href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a></div><div class="ttdeci">#define AV_CODEC_FLAG_BITEXACT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00333">avcodec.h:333</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a2c24c84781e67ce81cfe10f1eb68c6a0"><div class="ttname"><a href="structvorbis__context__s.html#a2c24c84781e67ce81cfe10f1eb68c6a0">vorbis_context_s::mapping_count</a></div><div class="ttdeci">uint8_t mapping_count</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00147">vorbisdec.c:147</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a5fd83bcb4ca55912c57cd50d76be3bcf"><div class="ttname"><a href="vorbisdec_8c.html#a5fd83bcb4ca55912c57cd50d76be3bcf">vorbis_parse_setup_hdr_codebooks</a></div><div class="ttdeci">static int vorbis_parse_setup_hdr_codebooks(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00238">vorbisdec.c:238</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_a6fe8d4beb533e9f8cf036df41700f1f4"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6fe8d4beb533e9f8cf036df41700f1f4">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::order</a></div><div class="ttdeci">uint8_t order</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00070">vorbisdec.c:70</a></div></div>
<div class="ttc" id="ahwcontext__vdpau_8c_html_a2996cc16b36e13c9010705bad768e866"><div class="ttname"><a href="hwcontext__vdpau_8c.html#a2996cc16b36e13c9010705bad768e866">map</a></div><div class="ttdeci">const VDPAUPixFmtMap * map</div><div class="ttdef"><b>Definition:</b> <a href="hwcontext__vdpau_8c_source.html#l00071">hwcontext_vdpau.c:71</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_a6995afe797a2cf16529f44d840d3b97b"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a6995afe797a2cf16529f44d840d3b97b">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::book_list</a></div><div class="ttdeci">uint8_t * book_list</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00078">vorbisdec.c:78</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_a079eab092887563f2bef9106c6120089"><div class="ttname"><a href="tableprint__vlc_8h.html#a079eab092887563f2bef9106c6120089">av_free</a></div><div class="ttdeci">#define av_free(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00034">tableprint_vlc.h:34</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s_html"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor1__s.html">vorbis_floor::vorbis_floor_u::vorbis_floor1_s</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00081">vorbisdec.c:81</a></div></div>
<div class="ttc" id="adca__lbr_8c_html_a3e70a65f622cd9cd1b7ea3d2a19bca5d"><div class="ttname"><a href="dca__lbr_8c.html#a3e70a65f622cd9cd1b7ea3d2a19bca5d">channel_layouts</a></div><div class="ttdeci">static const uint16_t channel_layouts[7]</div><div class="ttdef"><b>Definition:</b> <a href="dca__lbr_8c_source.html#l00113">dca_lbr.c:113</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="alibavutil_2float__dsp_8c_html_abf4186be59dc9de8cda94ee7beacaf67"><div class="ttname"><a href="libavutil_2float__dsp_8c.html#abf4186be59dc9de8cda94ee7beacaf67">avpriv_float_dsp_alloc</a></div><div class="ttdeci">av_cold AVFloatDSPContext * avpriv_float_dsp_alloc(int bit_exact)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2float__dsp_8c_source.html#l00135">float_dsp.c:135</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a4071006ae512fb8170d01f35b889d68e"><div class="ttname"><a href="structvorbis__context__s.html#a4071006ae512fb8170d01f35b889d68e">vorbis_context_s::bitrate_maximum</a></div><div class="ttdeci">uint32_t bitrate_maximum</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00136">vorbisdec.c:136</a></div></div>
<div class="ttc" id="avorbis_8h_html_ad48f1a3e351b48e6c779ceab7080b6bc"><div class="ttname"><a href="vorbis_8h.html#ad48f1a3e351b48e6c779ceab7080b6bc">ff_vorbis_channel_layouts</a></div><div class="ttdeci">const uint64_t ff_vorbis_channel_layouts[9]</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__data_8c_source.html#l00047">vorbis_data.c:47</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_a442b8e46124c5957d37b5a0b88cadf2e"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a442b8e46124c5957d37b5a0b88cadf2e">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::amplitude_offset</a></div><div class="ttdeci">uint8_t amplitude_offset</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00076">vorbisdec.c:76</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html">vorbis_floor::vorbis_floor_u::vorbis_floor0_s</a></div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00069">vorbisdec.c:69</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_ab13dd228abc914ac6950301109f95f44"><div class="ttname"><a href="structvorbis__context__s.html#ab13dd228abc914ac6950301109f95f44">vorbis_context_s::saved</a></div><div class="ttdeci">float * saved</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00154">vorbisdec.c:154</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1e6c2cd1269caa7570575725c682a49"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1e6c2cd1269caa7570575725c682a49">AVCodecContext::channels</a></div><div class="ttdeci">int channels</div><div class="ttdoc">number of audio channels</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01187">avcodec.h:1187</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea0fac27af40d22e02bf926ecd4f7bc03a">AV_CODEC_ID_VORBIS</a></div><div class="ttdeci">@ AV_CODEC_ID_VORBIS</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00423">codec_id.h:423</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_ab7d66f6bde497003b92c89991909a46e"><div class="ttname"><a href="structvorbis__residue.html#ab7d66f6bde497003b92c89991909a46e">vorbis_residue::classifs</a></div><div class="ttdeci">uint8_t * classifs</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00105">vorbisdec.c:105</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a3653b043aa47a0fbc4f5853182ad01a0"><div class="ttname"><a href="structvorbis__context__s.html#a3653b043aa47a0fbc4f5853182ad01a0">vorbis_context_s::mdct</a></div><div class="ttdeci">FFTContext mdct[2]</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00131">vorbisdec.c:131</a></div></div>
<div class="ttc" id="astructvorbis__context__s_html_a41ef995d8d0abd5f6cfdadfc69755f43"><div class="ttname"><a href="structvorbis__context__s.html#a41ef995d8d0abd5f6cfdadfc69755f43">vorbis_context_s::first_frame</a></div><div class="ttdeci">uint8_t first_frame</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00132">vorbisdec.c:132</a></div></div>
<div class="ttc" id="astructvorbis__floor_html_a259b831c26a4c4b12b63fac3656b7d0c"><div class="ttname"><a href="structvorbis__floor.html#a259b831c26a4c4b12b63fac3656b7d0c">vorbis_floor::decode</a></div><div class="ttdeci">vorbis_floor_decode_func decode</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00067">vorbisdec.c:67</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a6891f3a93f001d42635c9293a5583b7e"><div class="ttname"><a href="vorbisdec_8c.html#a6891f3a93f001d42635c9293a5583b7e">vorbis_floor</a></div><div class="ttdeci">struct vorbis_floor vorbis_floor</div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_a40ed53c2862433548b468bfbedce97f2"><div class="ttname"><a href="vorbisdec_8c.html#a40ed53c2862433548b468bfbedce97f2">vorbis_decode_flush</a></div><div class="ttdeci">static av_cold void vorbis_decode_flush(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l01871">vorbisdec.c:1871</a></div></div>
<div class="ttc" id="affmpeg__filter_8c_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="ffmpeg__filter_8c.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="ffmpeg__filter_8c_source.html#l00193">ffmpeg_filter.c:193</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_af407280865dcaf827b82e7de3a6f7d11"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#af407280865dcaf827b82e7de3a6f7d11">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::rate</a></div><div class="ttdeci">uint16_t rate</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00071">vorbisdec.c:71</a></div></div>
<div class="ttc" id="astruct_a_v_float_d_s_p_context_html_a747faa245f68d1e51e6dc8f39fe19a57"><div class="ttname"><a href="struct_a_v_float_d_s_p_context.html#a747faa245f68d1e51e6dc8f39fe19a57">AVFloatDSPContext::vector_fmul_window</a></div><div class="ttdeci">void(* vector_fmul_window)(float *dst, const float *src0, const float *src1, const float *win, int len)</div><div class="ttdef"><b>Definition:</b> <a href="float__dsp_8h_source.html#l00119">float_dsp.h:119</a></div></div>
<div class="ttc" id="avorbisdec_8c_html_ace1841dbaaabcd3e17dfe3342abfd96e"><div class="ttname"><a href="vorbisdec_8c.html#ace1841dbaaabcd3e17dfe3342abfd96e">vorbis_parse_setup_hdr_modes</a></div><div class="ttdeci">static int vorbis_parse_setup_hdr_modes(vorbis_context *vc)</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00885">vorbisdec.c:885</a></div></div>
<div class="ttc" id="aunionvorbis__floor_1_1vorbis__floor__u_html_aed3cd7fc427d125f1251cbf4d5a03cca"><div class="ttname"><a href="unionvorbis__floor_1_1vorbis__floor__u.html#aed3cd7fc427d125f1251cbf4d5a03cca">vorbis_floor::vorbis_floor_u::t1</a></div><div class="ttdeci">struct vorbis_floor::vorbis_floor_u::vorbis_floor1_s t1</div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_aeb08c575a79eb84fc4155dda88f46c06"><div class="ttname"><a href="struct_a_v_codec_context.html#aeb08c575a79eb84fc4155dda88f46c06">AVCodecContext::channel_layout</a></div><div class="ttdeci">uint64_t channel_layout</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01237">avcodec.h:1237</a></div></div>
<div class="ttc" id="astructvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s_html_a381e091545b7fbca9cb36d8b39bf49ea"><div class="ttname"><a href="structvorbis__floor_1_1vorbis__floor__u_1_1vorbis__floor0__s.html#a381e091545b7fbca9cb36d8b39bf49ea">vorbis_floor::vorbis_floor_u::vorbis_floor0_s::num_books</a></div><div class="ttdeci">uint8_t num_books</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00077">vorbisdec.c:77</a></div></div>
<div class="ttc" id="acfhdenc_8c_html_a10b2ef2302ea7c1ef22b811f9d07678a"><div class="ttname"><a href="cfhdenc_8c.html#a10b2ef2302ea7c1ef22b811f9d07678a">codebook</a></div><div class="ttdeci">static const unsigned codebook[256][2]</div><div class="ttdef"><b>Definition:</b> <a href="cfhdenc_8c_source.html#l00041">cfhdenc.c:41</a></div></div>
<div class="ttc" id="astructvorbis__residue_html_a6289d3174ed181ba93531bf86cbd756c"><div class="ttname"><a href="structvorbis__residue.html#a6289d3174ed181ba93531bf86cbd756c">vorbis_residue::partition_size</a></div><div class="ttdeci">unsigned partition_size</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00099">vorbisdec.c:99</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a8ff0b000c463361e234af48d03aadfc0"><div class="ttname"><a href="struct_a_v_codec_context.html#a8ff0b000c463361e234af48d03aadfc0">AVCodecContext::sample_rate</a></div><div class="ttdeci">int sample_rate</div><div class="ttdoc">samples per second</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l01186">avcodec.h:1186</a></div></div>
<div class="ttc" id="astruct_f_f_t_context_html_a83671d3e98017b8627295cf288bdc22b"><div class="ttname"><a href="struct_f_f_t_context.html#a83671d3e98017b8627295cf288bdc22b">FFTContext::imdct_half</a></div><div class="ttdeci">void(* imdct_half)(struct FFTContext *s, FFTSample *output, const FFTSample *input)</div><div class="ttdef"><b>Definition:</b> <a href="fft_8h_source.html#l00108">fft.h:108</a></div></div>
<div class="ttc" id="astructvorbis__codebook_html_a6ed9d0d6c20aa9e9063b7916710f5d6f"><div class="ttname"><a href="structvorbis__codebook.html#a6ed9d0d6c20aa9e9063b7916710f5d6f">vorbis_codebook::dimensions</a></div><div class="ttdeci">uint8_t dimensions</div><div class="ttdef"><b>Definition:</b> <a href="vorbisdec_8c_source.html#l00050">vorbisdec.c:50</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
