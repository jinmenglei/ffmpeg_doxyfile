<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: E:/github/ffmpeg/libavcodec/j2kenc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_737c44b861ba7ee498141742fb455fa8.html">ffmpeg</a></li><li class="navelem"><a class="el" href="dir_56ad1dd09ca1ce410b5ba2c46dd71e4b.html">libavcodec</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">j2kenc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="j2kenc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * JPEG2000 image encoder</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 2007 Kamil Nowosad</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This file is part of FFmpeg.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * FFmpeg is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * FFmpeg is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * License along with FFmpeg; if not, write to the Free Software</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * **********************************************************************************************************************</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * This source code incorporates work covered by the following copyright and</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * permission notice:</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * Copyright (c) 2002-2007, Communications and Remote Sensing Laboratory, Universite catholique de Louvain (UCL), Belgium</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * Copyright (c) 2002-2007, Professor Benoit Macq</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * Copyright (c) 2001-2003, David Janssens</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * Copyright (c) 2002-2003, Yannick Verschueren</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * Copyright (c) 2003-2007, Francois-Olivier Devaux and Antonin Descampe</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * Copyright (c) 2005, Herve Drolon, FreeImage Team</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * Copyright (c) 2007, Callum Lerwick &lt;seg@haxxed.com&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * Copyright (c) 2020, Gautam Ramakrishnan &lt;gautamramk@gmail.com&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * are met:</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * 1. Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> *    notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> *    notice, this list of conditions and the following disclaimer in the</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> *    documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS `AS IS&#39;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> * POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="float_8h.html">float.h</a>&gt;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avcodec_8h.html">avcodec.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libavutil_2internal_8h.html">internal.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bytestream_8h.html">bytestream.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="jpeg2000_8h.html">jpeg2000.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">libavutil/common.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pixdesc_8h.html">libavutil/pixdesc.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="opt_8h.html">libavutil/opt.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="intreadwrite_8h.html">libavutil/intreadwrite.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="avstring_8h.html">libavutil/avstring.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">   78</a></span>&#160;<span class="preprocessor">#define NMSEDEC_BITS 7</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">   79</a></span>&#160;<span class="preprocessor">#define NMSEDEC_FRACBITS (NMSEDEC_BITS-1)</span></div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a0e429cda2a49d410f5fd7921dfe13dff">   80</a></span>&#160;<span class="preprocessor">#define WMSEDEC_SHIFT 13 </span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a854e40d6d254983119f2a0af7820219e">   81</a></span>&#160;<span class="preprocessor">#define LAMBDA_SCALE (100000000LL &lt;&lt; (WMSEDEC_SHIFT - 13))</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">   83</a></span>&#160;<span class="preprocessor">#define CODEC_JP2 1</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#adfb454e248ed06987cf860235f131143">   84</a></span>&#160;<span class="preprocessor">#define CODEC_J2K 0</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#aa2dd4b9fdc6b8409c1b583e2858145c3">   86</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#aa2dd4b9fdc6b8409c1b583e2858145c3">lut_nmsedec_ref</a> [1&lt;&lt;<a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>],</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a9b7a36267c24538f046a54d7a92e179c">   87</a></span>&#160;           <a class="code" href="j2kenc_8c.html#a9b7a36267c24538f046a54d7a92e179c">lut_nmsedec_ref0</a>[1&lt;&lt;<a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>],</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a90c277fa12896e710534afa2dea76d57">   88</a></span>&#160;           <a class="code" href="j2kenc_8c.html#a90c277fa12896e710534afa2dea76d57">lut_nmsedec_sig</a> [1&lt;&lt;<a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>],</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a6ba7420d1b11687958ed15d19db6780a">   89</a></span>&#160;           <a class="code" href="j2kenc_8c.html#a6ba7420d1b11687958ed15d19db6780a">lut_nmsedec_sig0</a>[1&lt;&lt;<a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>];</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#acdacef662a99b6abcb625491edbce8ab">   91</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#acdacef662a99b6abcb625491edbce8ab">dwt_norms</a>[2][4][10] = { <span class="comment">// [dwt_type][band][rlevel] (multiplied by 10000)</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    {{10000, 19650, 41770,  84030, 169000, 338400,  676900, 1353000, 2706000, 5409000},</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;     {20220, 39890, 83550, 170400, 342700, 686300, 1373000, 2746000, 5490000},</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;     {20220, 39890, 83550, 170400, 342700, 686300, 1373000, 2746000, 5490000},</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;     {20800, 38650, 83070, 171800, 347100, 695900, 1393000, 2786000, 5572000}},</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {{10000, 15000, 27500, 53750, 106800, 213400, 426700, 853300, 1707000, 3413000},</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;     {10380, 15920, 29190, 57030, 113300, 226400, 452500, 904800, 1809000},</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;     {10380, 15920, 29190, 57030, 113300, 226400, 452500, 904800, 1809000},</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;     { 7186,  9218, 15860, 30430,  60190, 120100, 240000, 479700,  959300}}</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;};</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html">  103</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">  104</a></span>&#160;   <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">  105</a></span>&#160;   <span class="keywordtype">double</span> *<a class="code" href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">layer_rates</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;} <a class="code" href="jpeg2000dec_8c.html#a700591974e01bad17cbc53e4627fb870">Jpeg2000Tile</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html">  108</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a0069202598f17baaf7a0a848a66cbf26">  109</a></span>&#160;    <a class="code" href="struct_a_v_class.html">AVClass</a> *<span class="keyword">class</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a0fba2d0e12181aa88cc334d13b4cb1a4">  110</a></span>&#160;    <a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *<a class="code" href="struct_jpeg2000_encoder_context.html#a0fba2d0e12181aa88cc334d13b4cb1a4">avctx</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#ad2bd409d353d14b46c76dcedbda9dab8">  111</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *<a class="code" href="struct_jpeg2000_encoder_context.html#ad2bd409d353d14b46c76dcedbda9dab8">picture</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a5954a0f303daaf6635385a0bed41b9aa">  113</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#a5954a0f303daaf6635385a0bed41b9aa">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a9a73564d6c1c77a4ec99f7bb79e218e7">  114</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> cbps[4]; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#af54ece97f582116d5041006e89bfb715">  115</a></span>&#160;    <span class="keywordtype">int</span> chroma_shift[2];</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#ab2b02bc8ea75dec7a79ab333f1cc65f5">  116</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_jpeg2000_encoder_context.html#ab2b02bc8ea75dec7a79ab333f1cc65f5">planar</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a269a24b26bdd365b2345087892f3fe30">  117</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#a269a24b26bdd365b2345087892f3fe30">ncomponents</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a6089bd13cffb43931bbf84ad2ba72f50">  118</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#a6089bd13cffb43931bbf84ad2ba72f50">tile_width</a>, tile_height; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#acfb37bb57e31ebd65790ba24b82172cf">  119</a></span>&#160;    <span class="keywordtype">int</span> numXtiles, <a class="code" href="struct_jpeg2000_encoder_context.html#acfb37bb57e31ebd65790ba24b82172cf">numYtiles</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a9ecb52c3642a56c268210830237df2a2">  121</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_jpeg2000_encoder_context.html#a9ecb52c3642a56c268210830237df2a2">buf_start</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#af3ac0a4a0d0f55dd40c09dcb4d1396eb">  122</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_jpeg2000_encoder_context.html#af3ac0a4a0d0f55dd40c09dcb4d1396eb">buf</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a8f0ccfb6e8c4ad836de90ed50532006f">  123</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="struct_jpeg2000_encoder_context.html#a8f0ccfb6e8c4ad836de90ed50532006f">buf_end</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#ac83d97475997f7e7732b41584692f4cb">  124</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#ac83d97475997f7e7732b41584692f4cb">bit_index</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#abdb20b25b9459940d114ea01ede1c00e">  126</a></span>&#160;    int64_t <a class="code" href="struct_jpeg2000_encoder_context.html#abdb20b25b9459940d114ea01ede1c00e">lambda</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a90be825f6403f94524d1f8de70ac5bb5">  128</a></span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> <a class="code" href="struct_jpeg2000_encoder_context.html#a90be825f6403f94524d1f8de70ac5bb5">codsty</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#ad096c487f323908c613632696ce849a7">  129</a></span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  <a class="code" href="struct_jpeg2000_encoder_context.html#ad096c487f323908c613632696ce849a7">qntsty</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a4c27853ca5b01a376d646c77ec11c950">  131</a></span>&#160;    <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *<a class="code" href="struct_jpeg2000_encoder_context.html#a4c27853ca5b01a376d646c77ec11c950">tile</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#aafda38bd5803de02da4905cd86d6dc76">  132</a></span>&#160;    <span class="keywordtype">int</span> layer_rates[100];</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#ae9d3d4138df936dc78a54b8762708cf1">  133</a></span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="code" href="struct_jpeg2000_encoder_context.html#ae9d3d4138df936dc78a54b8762708cf1">compression_rate_enc</a>; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a06067b4e4d1d36b0dae3efa01d7fb614">  135</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#a06067b4e4d1d36b0dae3efa01d7fb614">format</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#af841cee82c841fa3fa927a225ff84310">  136</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#af841cee82c841fa3fa927a225ff84310">pred</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a06837f5f99742f500c6a19bdbdf282c8">  137</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#a06837f5f99742f500c6a19bdbdf282c8">sop</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#af5c667280b54b586aec88263ed3f0a02">  138</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#af5c667280b54b586aec88263ed3f0a02">eph</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a9dffba251cc0cff7a773df84da64f934">  139</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#a9dffba251cc0cff7a773df84da64f934">prog</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a2bb1073b468e793f676fc2995feb192c">  140</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_jpeg2000_encoder_context.html#a2bb1073b468e793f676fc2995feb192c">nlayers</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="struct_jpeg2000_encoder_context.html#a58dfef00adee7c104f9b17f1a6915aad">  141</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="struct_jpeg2000_encoder_context.html#a58dfef00adee7c104f9b17f1a6915aad">lr_str</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;} <a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/* debug */</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#undef ifprintf</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#undef printf</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> nspaces(FILE *fd, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">while</span>(n--) putc(<span class="charliteral">&#39; &#39;</span>, fd);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> printcomp(<a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;y1 - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;y0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        ff_jpeg2000_printv(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;i_data + <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;x1 - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;x0), <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;x1 - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;x0);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> dump(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, FILE *fd)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">int</span> tileno, compno, reslevelno, bandno, precno;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    fprintf(fd, <span class="stringliteral">&quot;XSiz = %d, YSiz = %d, tile_width = %d, tile_height = %d\n&quot;</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="stringliteral">&quot;numXtiles = %d, numYtiles = %d, ncomponents = %d\n&quot;</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="stringliteral">&quot;tiles:\n&quot;</span>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (tileno = 0; tileno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; tileno++){</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + tileno;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        nspaces(fd, 2);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        fprintf(fd, <span class="stringliteral">&quot;tile %d:\n&quot;</span>, tileno);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">for</span>(compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            nspaces(fd, 4);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            fprintf(fd, <span class="stringliteral">&quot;component %d:\n&quot;</span>, compno);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            nspaces(fd, 4);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            fprintf(fd, <span class="stringliteral">&quot;x0 = %d, x1 = %d, y0 = %d, y1 = %d\n&quot;</span>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;x0, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;x1, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;y0, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;y1);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">for</span>(reslevelno = 0; reslevelno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nreslevels; reslevelno++){</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                nspaces(fd, 6);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                fprintf(fd, <span class="stringliteral">&quot;reslevel %d:\n&quot;</span>, reslevelno);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                nspaces(fd, 6);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                fprintf(fd, <span class="stringliteral">&quot;x0 = %d, x1 = %d, y0 = %d, y1 = %d, nbands = %d\n&quot;</span>,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        reslevel-&gt;x0, reslevel-&gt;x1, reslevel-&gt;y0,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                        reslevel-&gt;y1, reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="keywordflow">for</span>(bandno = 0; bandno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>; bandno++){</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    nspaces(fd, 8);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                    fprintf(fd, <span class="stringliteral">&quot;band %d:\n&quot;</span>, bandno);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    nspaces(fd, 8);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    fprintf(fd, <span class="stringliteral">&quot;x0 = %d, x1 = %d, y0 = %d, y1 = %d,&quot;</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                <span class="stringliteral">&quot;codeblock_width = %d, codeblock_height = %d cblknx = %d cblkny = %d\n&quot;</span>,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                band-&gt;x0, band-&gt;x1,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                band-&gt;y0, band-&gt;y1,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                band-&gt;codeblock_width, band-&gt;codeblock_height,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                band-&gt;cblknx, band-&gt;cblkny);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    <span class="keywordflow">for</span> (precno = 0; precno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>; precno++){</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                        nspaces(fd, 10);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                        fprintf(fd, <span class="stringliteral">&quot;prec %d:\n&quot;</span>, precno);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                        nspaces(fd, 10);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        fprintf(fd, <span class="stringliteral">&quot;xi0 = %d, xi1 = %d, yi0 = %d, yi1 = %d\n&quot;</span>,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                     prec-&gt;xi0, prec-&gt;xi1, prec-&gt;yi0, prec-&gt;yi1);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">/* bitstream routines */</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">  218</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a>, <span class="keywordtype">int</span> n) <span class="comment">// TODO: optimize</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">while</span> (n-- &gt; 0){</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index == 8)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index = *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf == 0xff;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            *(++<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf) = 0;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf |= <a class="code" href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a> &lt;&lt; (7 - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index++);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">  231</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">put_num</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> num, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">while</span>(--n &gt;= 0)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, (num &gt;&gt; n) &amp; 1, 1);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a84f0fa71ea0e3364f302d29d25db423d">  238</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a84f0fa71ea0e3364f302d29d25db423d">j2k_flush</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index){</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index = 0;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf++;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">/* tag tree routines */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#ab80c08fa3602e9a314f20b3c4fe97510">  249</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#ab80c08fa3602e9a314f20b3c4fe97510">tag_tree_code</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tgt_node.html">Jpeg2000TgtNode</a> *node, <span class="keywordtype">int</span> threshold)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="struct_jpeg2000_tgt_node.html">Jpeg2000TgtNode</a> *stack[30];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a> = -1, curval = 0;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">while</span>(node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">parent</a>){</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        stack[++<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>] = node;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        node = node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">parent</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">if</span> (curval &gt; node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#a0375303dd9c230320a6fdb11e9a1f01c">temp_val</a>)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#a0375303dd9c230320a6fdb11e9a1f01c">temp_val</a> = curval;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            curval = node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#a0375303dd9c230320a6fdb11e9a1f01c">temp_val</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a> &gt;= threshold) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, threshold - curval);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            curval = threshold;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a> - curval);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            curval = node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">if</span> (!node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#a3fc2e8b6ffb1139935829d365676c01f">vis</a>) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1, 1);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#a3fc2e8b6ffb1139935829d365676c01f">vis</a> = 1;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#a0375303dd9c230320a6fdb11e9a1f01c">temp_val</a> = curval;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a> &lt; 0)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        node = stack[<a class="code" href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a>--];</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a6d91381d9934d30590a5c500cdf13cf2">  286</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a6d91381d9934d30590a5c500cdf13cf2">tag_tree_update</a>(<a class="code" href="struct_jpeg2000_tgt_node.html">Jpeg2000TgtNode</a> *node)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">int</span> lev = 0;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">while</span> (node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">parent</a>){</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> (node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">parent</a>-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a> &lt;= node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a>)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">parent</a>-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a> = node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        node = node-&gt;<a class="code" href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">parent</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        lev++;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#ad8c39b07e82bb75241a824a2d6d2890a">  298</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#ad8c39b07e82bb75241a824a2d6d2890a">put_siz</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;{</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; 40 + 3 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ae0e9d52969be1a9148de11a2ee7845b0">JPEG2000_SIZ</a>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 38 + 3 * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents); <span class="comment">// Lsiz</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// Rsiz</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width); <span class="comment">// width</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height); <span class="comment">// height</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// X0Siz</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// Y0Siz</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width); <span class="comment">// XTSiz</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height); <span class="comment">// YTSiz</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// XT0Siz</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// YT0Siz</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents); <span class="comment">// CSiz</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++){ <span class="comment">// Ssiz_i XRsiz_i, YRsiz_i</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] - 1);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>?1&lt;&lt;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[0]:1);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>?1&lt;&lt;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[1]:1);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#af4d8a2177edac1c7fbcb94310cf73bd5">  327</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#af4d8a2177edac1c7fbcb94310cf73bd5">put_cod</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> scod = 0;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; 14)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483acea94019407aa3c5250d3c80c140b9f1">JPEG2000_COD</a>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 12); <span class="comment">// Lcod</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sop)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        scod |= <a class="code" href="jpeg2000_8h.html#a13b45abb2dad80fcaf0f9acd84055d49">JPEG2000_CSTY_SOP</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;eph)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        scod |= <a class="code" href="jpeg2000_8h.html#a6745e75006f446818aa1e6fadd6d2327">JPEG2000_CSTY_EPH</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, scod);  <span class="comment">// Scod</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// SGcod</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prog); <span class="comment">// progression level</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers); <span class="comment">// num of layers</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;pix_fmt == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a">AV_PIX_FMT_YUV444P</a>){</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// unspecified</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// unspecified</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">// SPcod</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1); <span class="comment">// num of decomp. levels</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a0be5aec9b3e298e82adcb981a389f86b">log2_cblk_width</a>-2); <span class="comment">// cblk width</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8778df763f0cca6db7747dcdeb856b8f">log2_cblk_height</a>-2); <span class="comment">// cblk height</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// cblk style</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1">FF_DWT53</a>); <span class="comment">// transformation</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#aa6c1b35f0e63929b79ed3a3b15717bff">  359</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#aa6c1b35f0e63929b79ed3a3b15717bff">put_qcd</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> compno)</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  *qntsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">quantsty</a> == <a class="code" href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a12ded6935214e983e74167ed2b7989b1">JPEG2000_QSTY_NONE</a>)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 4 + 3 * (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>-1);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">else</span> <span class="comment">// QSTY_SE</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 5 + 6 * (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>-1);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + 2)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a57e51bf7717a35f5ce71a25e6e261afb">JPEG2000_QCD</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);  <span class="comment">// LQcd</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, (qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a> &lt;&lt; 5) | qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">quantsty</a>);  <span class="comment">// Sqcd</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">quantsty</a> == <a class="code" href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a12ded6935214e983e74167ed2b7989b1">JPEG2000_QSTY_NONE</a>)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> * 3 - 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; 3);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">else</span> <span class="comment">// QSTY_SE</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> * 3 - 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, (qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &lt;&lt; 11) | qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a0e307e542e75f9f5ed4927de5d4469d4">mant</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a05439e2042723bb6cfac43b31b190820">  385</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a05439e2042723bb6cfac43b31b190820">put_com</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> compno)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> = 4 + strlen(<a class="code" href="libavcodec_2version_8h.html#a391ab92645796653bdc9eed09e1f8e0b">LIBAVCODEC_IDENT</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx-&gt;flags &amp; <a class="code" href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a>)</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a> + 2)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a21d3ea98095bfe788a20166ec6aeb49f">JPEG2000_COM</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 1); <span class="comment">// General use (ISO/IEC 8859-15 (Latin) values)</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="libavcodec_2version_8h.html#a391ab92645796653bdc9eed09e1f8e0b">LIBAVCODEC_IDENT</a>, strlen(<a class="code" href="libavcodec_2version_8h.html#a391ab92645796653bdc9eed09e1f8e0b">LIBAVCODEC_IDENT</a>));</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a0c44f16eac49028c02079b1ea65e1b21">  404</a></span>&#160;<span class="keyword">static</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="j2kenc_8c.html#a0c44f16eac49028c02079b1ea65e1b21">put_sot</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> tileno)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *psotptr;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; 12)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a174e0d76ffc93da48434afbb118e9dae">JPEG2000_SOT</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 10); <span class="comment">// Lsot</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, tileno); <span class="comment">// Isot</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    psotptr = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// Psot (filled in later)</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// TPsot</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 1); <span class="comment">// TNsot</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> psotptr;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a6baeb85a3bca82b4ac124c30578fda96">  423</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a6baeb85a3bca82b4ac124c30578fda96">compute_rates</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a>* <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;{</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordtype">int</span> layno, compno;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles; j++) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + j];</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                <span class="keywordtype">int</span> tilew = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[compno].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>[0][1] - tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[compno].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>[0][0];</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordtype">int</span> tileh = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[compno].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>[1][1] - tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[compno].<a class="code" href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">coord</a>[1][0];</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="keywordtype">int</span> scale = (compno?1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[0]:1) * (compno?1 &lt;&lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[1]:1);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                <span class="keywordflow">for</span> (layno = 0; layno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers; layno++) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[layno] &gt; 0) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">layer_rates</a>[layno] += (double)(tilew * tileh) * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[compno] /</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                                    (double)(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[layno] * 8 * scale);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">layer_rates</a>[layno] = 0.0;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a00291041c627b324ec2a37c731fbea10">  453</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a00291041c627b324ec2a37c731fbea10">init_tiles</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordtype">int</span> tileno, tilex, tiley, compno;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  *qntsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles = <a class="code" href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile = <a class="code" href="group__lavu__mem__funcs.html#gaaf38f6d994f5a85854ef47fd98fa6e9a">av_calloc</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles * <span class="keyword">sizeof</span>(<a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a>));</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">for</span> (tileno = 0, tiley = 0; tiley &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; tiley++)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">for</span> (tilex = 0; tilex &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles; tilex++, tileno++){</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + tileno;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents, <span class="keyword">sizeof</span>(<a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a>));</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">if</span> (!tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">layer_rates</a> = <a class="code" href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers, <span class="keyword">sizeof</span>(*tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">layer_rates</a>));</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">if</span> (!tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">layer_rates</a>)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, j;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][0] = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0] = tilex * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][1] = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][1] = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>((tilex+1)*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[1][0] = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0] = tiley * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[1][1] = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][1] = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>((tiley+1)*<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                <span class="keywordflow">if</span> (compno &gt; 0)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 2; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                        <span class="keywordflow">for</span> (j = 0; j &lt; 2; j++)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                            <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j] = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>][j], <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000_8c.html#a1b4cffe722d3a15e350c73a3263fff2f">ff_jpeg2000_init_component</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                                codsty,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                                qntsty,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[compno],</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                                                compno?1&lt;&lt;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[0]:1,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                                compno?1&lt;&lt;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[1]:1,</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                                                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                                               )) &lt; 0)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="j2kenc_8c.html#a6baeb85a3bca82b4ac124c30578fda96">compute_rates</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#af45c04e719fbc183ddb3ee77c7016abe">  505</a></span>&#160;<span class="preprocessor">#define COPY_FRAME(D, PIXEL)                                                                                                \</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="preprocessor">    static void copy_frame_ ##D(Jpeg2000EncoderContext *s)                                                                  \</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="preprocessor">    {                                                                                                                       \</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="preprocessor">        int tileno, compno, i, y, x;                                                                                        \</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">        PIXEL *line;                                                                                                        \</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="preprocessor">        for (tileno = 0; tileno &lt; s-&gt;numXtiles * s-&gt;numYtiles; tileno++){                                                   \</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">            Jpeg2000Tile *tile = s-&gt;tile + tileno;                                                                          \</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">            if (s-&gt;planar){                                                                                                 \</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">                for (compno = 0; compno &lt; s-&gt;ncomponents; compno++){                                                        \</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor">                    Jpeg2000Component *comp = tile-&gt;comp + compno;                                                          \</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="preprocessor">                    int *dst = comp-&gt;i_data;                                                                                \</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">                    int cbps = s-&gt;cbps[compno];                                                                             \</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="preprocessor">                    line = (PIXEL*)s-&gt;picture-&gt;data[compno]                                                                 \</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">                           + comp-&gt;coord[1][0] * (s-&gt;picture-&gt;linesize[compno] / sizeof(PIXEL))                             \</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">                           + comp-&gt;coord[0][0];                                                                             \</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="preprocessor">                    for (y = comp-&gt;coord[1][0]; y &lt; comp-&gt;coord[1][1]; y++){                                                \</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">                        PIXEL *ptr = line;                                                                                  \</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="preprocessor">                        for (x = comp-&gt;coord[0][0]; x &lt; comp-&gt;coord[0][1]; x++)                                             \</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="preprocessor">                            *dst++ = *ptr++ - (1 &lt;&lt; (cbps - 1));                                                            \</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="preprocessor">                        line += s-&gt;picture-&gt;linesize[compno] / sizeof(PIXEL);                                               \</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="preprocessor">                    }                                                                                                       \</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="preprocessor">                }                                                                                                           \</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="preprocessor">            } else{                                                                                                         \</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="preprocessor">                line = (PIXEL*)s-&gt;picture-&gt;data[0] + tile-&gt;comp[0].coord[1][0] * (s-&gt;picture-&gt;linesize[0] / sizeof(PIXEL))  \</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">                       + tile-&gt;comp[0].coord[0][0] * s-&gt;ncomponents;                                                        \</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="preprocessor">                                                                                                                            \</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="preprocessor">                i = 0;                                                                                                      \</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">                for (y = tile-&gt;comp[0].coord[1][0]; y &lt; tile-&gt;comp[0].coord[1][1]; y++){                                    \</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor">                    PIXEL *ptr = line;                                                                                      \</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="preprocessor">                    for (x = tile-&gt;comp[0].coord[0][0]; x &lt; tile-&gt;comp[0].coord[0][1]; x++, i++){                           \</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor">                        for (compno = 0; compno &lt; s-&gt;ncomponents; compno++){                                                \</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="preprocessor">                            int cbps = s-&gt;cbps[compno];                                                                     \</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="preprocessor">                            tile-&gt;comp[compno].i_data[i] = *ptr++  - (1 &lt;&lt; (cbps - 1));                                     \</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="preprocessor">                        }                                                                                                   \</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">                    }                                                                                                       \</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">                    line += s-&gt;picture-&gt;linesize[0] / sizeof(PIXEL);                                                        \</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">                }                                                                                                           \</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="preprocessor">            }                                                                                                               \</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="preprocessor">        }                                                                                                                   \</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<a class="code" href="j2kenc_8c.html#af45c04e719fbc183ddb3ee77c7016abe">COPY_FRAME</a>(8, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<a class="code" href="j2kenc_8c.html#af45c04e719fbc183ddb3ee77c7016abe">COPY_FRAME</a>(16, uint16_t)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a626436805a089f7aadc5ee16c0316a79">  549</a></span>&#160;static <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a626436805a089f7aadc5ee16c0316a79">init_quantization</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;{</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">int</span> compno, reslevelno, bandno;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  *qntsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordtype">int</span> gbandno = 0;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++){</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            <span class="keywordtype">int</span> nbands, lev = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - reslevelno - 1;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            nbands = reslevelno ? 3 : 1;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">for</span> (bandno = 0; bandno &lt; nbands; bandno++, gbandno++){</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="keywordtype">int</span> expn, mant = 0;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9">FF_DWT97_INT</a>){</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    <span class="keywordtype">int</span> bandpos = bandno + (reslevelno&gt;0),</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                        <a class="code" href="cbs__vp9_8c.html#a15664fbc767d9389307a202a8663568d">ss</a> = 81920000 / <a class="code" href="j2kenc_8c.html#acdacef662a99b6abcb625491edbce8ab">dwt_norms</a>[0][bandpos][lev],</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                        log = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="cbs__vp9_8c.html#a15664fbc767d9389307a202a8663568d">ss</a>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                    mant = (11 - log &lt; 0 ? ss &gt;&gt; log - 11 : <a class="code" href="cbs__vp9_8c.html#a15664fbc767d9389307a202a8663568d">ss</a> &lt;&lt; 11 - log) &amp; 0x7ff;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    expn = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[compno] - log + 13;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    expn = ((bandno&amp;2)&gt;&gt;1) + (reslevelno&gt;0) + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[compno];</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a>[gbandno] = expn;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a0e307e542e75f9f5ed4927de5d4469d4">mant</a>[gbandno] = mant;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            }</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;}</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a37a0ad032fa01378737e653b7a675b82">  579</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a37a0ad032fa01378737e653b7a675b82">init_luts</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;{</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a>,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> = ~((1&lt;&lt;<a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>)-1);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; (1 &lt;&lt; <a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>); <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++){</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <a class="code" href="j2kenc_8c.html#a90c277fa12896e710534afa2dea76d57">lut_nmsedec_sig</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]  = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>((3 * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; (13 - <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>)) - (9 &lt;&lt; 11), 0);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <a class="code" href="j2kenc_8c.html#a6ba7420d1b11687958ed15d19db6780a">lut_nmsedec_sig0</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>*<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> + (1&lt;&lt;<a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>-1) &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>) &lt;&lt; 1, 0);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> = (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;&gt; (<a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>-2)&amp;2) + 1;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <a class="code" href="j2kenc_8c.html#aa2dd4b9fdc6b8409c1b583e2858145c3">lut_nmsedec_ref</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>]  = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>((<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> - 2) * (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; (13 - <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>)) +</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                    (1 &lt;&lt; 13) - (<a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> * <a class="code" href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a> &lt;&lt; 11), 0);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <a class="code" href="j2kenc_8c.html#a9b7a36267c24538f046a54d7a92e179c">lut_nmsedec_ref0</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(((<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> * <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> - (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt;&lt; <a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>) + (1 &lt;&lt; 2 * <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>) + (1 &lt;&lt; (<a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a> - 1))) &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                    &lt;&lt; 1, 0);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">/* tier-1 routines */</span></div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#aaa9d6ff1e95e334dd3c6f7b63919ee43">  597</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#aaa9d6ff1e95e334dd3c6f7b63919ee43">getnmsedec_sig</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> bpno)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">if</span> (bpno &gt; <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="j2kenc_8c.html#a90c277fa12896e710534afa2dea76d57">lut_nmsedec_sig</a>[(x &gt;&gt; (bpno - <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>)) &amp; ((1 &lt;&lt; <a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>) - 1)];</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="j2kenc_8c.html#a6ba7420d1b11687958ed15d19db6780a">lut_nmsedec_sig0</a>[x &amp; ((1 &lt;&lt; <a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>) - 1)];</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;}</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#aac4af077bedf628942a22ba8822e3f6f">  604</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#aac4af077bedf628942a22ba8822e3f6f">getnmsedec_ref</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> bpno)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (bpno &gt; <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="j2kenc_8c.html#aa2dd4b9fdc6b8409c1b583e2858145c3">lut_nmsedec_ref</a>[(x &gt;&gt; (bpno - <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>)) &amp; ((1 &lt;&lt; <a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>) - 1)];</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="j2kenc_8c.html#a9b7a36267c24538f046a54d7a92e179c">lut_nmsedec_ref0</a>[x &amp; ((1 &lt;&lt; <a class="code" href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a>) - 1)];</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a620818e3a88e9d2cfecbc2852bde6cb1">  611</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a620818e3a88e9d2cfecbc2852bde6cb1">encode_sigpass</a>(<a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <span class="keywordtype">int</span> bandno, <span class="keywordtype">int</span> *nmsedec, <span class="keywordtype">int</span> bpno)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordtype">int</span> y0, x, y, <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> = 1 &lt;&lt; (bpno + <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">for</span> (y0 = 0; y0 &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y0 += 4)</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="keywordflow">for</span> (y = y0; y &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &amp;&amp; y &lt; y0+4; y++){</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="keywordflow">if</span> (!(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>) &amp;&amp; (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; <a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a>)){</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#ac30b3b8230ca63d8efea4dee7a8b98f9">ff_jpeg2000_getsigctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1], bandno),</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a> = <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> ? 1 : 0;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno, <a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a>){</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                        <span class="keywordtype">int</span> xorbit;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                        <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#a9d26daacfa6ecbcc305478a587b2ef23">ff_jpeg2000_getsgnctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1], &amp;xorbit);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno, (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &gt;&gt; 15) ^ xorbit);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                        *nmsedec += <a class="code" href="j2kenc_8c.html#aaa9d6ff1e95e334dd3c6f7b63919ee43">getnmsedec_sig</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x], bpno + <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                        <a class="code" href="jpeg2000_8c.html#af1eb1f26885175f16aec8a23f02f5a86">ff_jpeg2000_set_significance</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, x, y, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &gt;&gt; 15);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] |= <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a5a70a9188f2e43cf2c8db737253226f3">  633</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a5a70a9188f2e43cf2c8db737253226f3">encode_refpass</a>(<a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <span class="keywordtype">int</span> *nmsedec, <span class="keywordtype">int</span> bpno)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordtype">int</span> y0, x, y, <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> = 1 &lt;&lt; (bpno + <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">for</span> (y0 = 0; y0 &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y0 += 4)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordflow">for</span> (y = y0; y &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &amp;&amp; y &lt; y0+4; y++)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>)) == <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>){</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#aac7718573ec1cc705b7d1ce03939cdf4">ff_jpeg2000_getrefctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1]);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                    *nmsedec += <a class="code" href="j2kenc_8c.html#aac4af077bedf628942a22ba8822e3f6f">getnmsedec_ref</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x], bpno + <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> ? 1:0);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] |= <a class="code" href="jpeg2000_8h.html#a2232a15101f27004fa44ae8d34ea0832">JPEG2000_T1_REF</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#ad41aa4d344dc431e7bcdcee7c92d24ee">  647</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#ad41aa4d344dc431e7bcdcee7c92d24ee">encode_clnpass</a>(<a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <span class="keywordtype">int</span> bandno, <span class="keywordtype">int</span> *nmsedec, <span class="keywordtype">int</span> bpno)</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;{</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordtype">int</span> y0, x, y, <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> = 1 &lt;&lt; (bpno + <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">for</span> (y0 = 0; y0 &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y0 += 4)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++){</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="keywordflow">if</span> (y0 + 3 &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> &amp;&amp; !(</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y0+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a> | <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>)) ||</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y0+2) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a> | <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>)) ||</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y0+3) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a> | <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>)) ||</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y0+4) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a> | <a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a>))))</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                <span class="comment">// aggregation mode</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                <span class="keywordtype">int</span> rlen;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordflow">for</span> (rlen = 0; rlen &lt; 4; rlen++)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y0+rlen) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#acdf6f409531af930e6fd1c7ccc4d20fb">MQC_CX_RL</a>, rlen != 4);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                <span class="keywordflow">if</span> (rlen == 4)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a>, rlen &gt;&gt; 1);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + <a class="code" href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a>, rlen &amp; 1);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="keywordflow">for</span> (y = y0 + rlen; y &lt; y0 + 4; y++){</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    <span class="keywordflow">if</span> (!(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>))){</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                        <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#ac30b3b8230ca63d8efea4dee7a8b98f9">ff_jpeg2000_getsigctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1], bandno);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                        <span class="keywordflow">if</span> (y &gt; y0 + rlen)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                            <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> ? 1:0);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>){ <span class="comment">// newly significant</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                            <span class="keywordtype">int</span> xorbit;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                            <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#a9d26daacfa6ecbcc305478a587b2ef23">ff_jpeg2000_getsgnctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1], &amp;xorbit);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                            *nmsedec += <a class="code" href="j2kenc_8c.html#aaa9d6ff1e95e334dd3c6f7b63919ee43">getnmsedec_sig</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x], bpno + <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                            <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno, (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &gt;&gt; 15) ^ xorbit);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                            <a class="code" href="jpeg2000_8c.html#af1eb1f26885175f16aec8a23f02f5a86">ff_jpeg2000_set_significance</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, x, y, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &gt;&gt; 15);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                    }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp;= ~<a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            } <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <span class="keywordflow">for</span> (y = y0; y &lt; y0 + 4 &amp;&amp; y &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y++){</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                    <span class="keywordflow">if</span> (!(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp; (<a class="code" href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a> | <a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>))){</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                        <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#ac30b3b8230ca63d8efea4dee7a8b98f9">ff_jpeg2000_getsigctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1], bandno);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a> ? 1:0);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &amp; <a class="code" href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a>){ <span class="comment">// newly significant</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                            <span class="keywordtype">int</span> xorbit;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                            <span class="keywordtype">int</span> ctxno = <a class="code" href="jpeg2000_8h.html#a9d26daacfa6ecbcc305478a587b2ef23">ff_jpeg2000_getsgnctxno</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1], &amp;xorbit);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                            *nmsedec += <a class="code" href="j2kenc_8c.html#aaa9d6ff1e95e334dd3c6f7b63919ee43">getnmsedec_sig</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x], bpno + <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                            <a class="code" href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc.cx_states + ctxno, (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &gt;&gt; 15) ^ xorbit);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                            <a class="code" href="jpeg2000_8c.html#af1eb1f26885175f16aec8a23f02f5a86">ff_jpeg2000_set_significance</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, x, y, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &gt;&gt; 15);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                    }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                    <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] &amp;= ~<a class="code" href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#aa1c058551c626f0f72e6a09939ef00cd">  702</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#aa1c058551c626f0f72e6a09939ef00cd">encode_cblk</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> *<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile,</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <span class="keywordtype">int</span> <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, <span class="keywordtype">int</span> bandpos, <span class="keywordtype">int</span> lev)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordtype">int</span> pass_t = 2, passno, x, y, <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>=0, nmsedec, bpno;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    int64_t wmsedec = 0;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    memset(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags, 0, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride * (<a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a> + 2) * <span class="keyword">sizeof</span>(*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags));</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">for</span> (y = 0; y &lt; <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>; y++){</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>; x++){</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] &lt; 0){</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;flags[(y+1) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x+1] |= <a class="code" href="jpeg2000_8h.html#ab4d180df7784d8e75f0c4baea4233e20">JPEG2000_T1_SGN</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x] = -<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x];</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = <a class="code" href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a>(<a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;data[(y) * <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;stride + x]);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> == 0){</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a49ec8d7e30f72d704c97d8a6d18e0fcd">nonzerobits</a> = 0;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        bpno = 0;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    } <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a49ec8d7e30f72d704c97d8a6d18e0fcd">nonzerobits</a> = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(<a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>) + 1 - <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        bpno = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a49ec8d7e30f72d704c97d8a6d18e0fcd">nonzerobits</a> - 1;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>[0] = 0;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="mqc_8h.html#adbc29cff58558fb14ad9a90858e26ce9">ff_mqc_initenc</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + 1);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">for</span> (passno = 0; bpno &gt;= 0; passno++){</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        nmsedec=0;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">switch</span>(pass_t){</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordflow">case</span> 0: <a class="code" href="j2kenc_8c.html#a620818e3a88e9d2cfecbc2852bde6cb1">encode_sigpass</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, bandpos, &amp;nmsedec, bpno);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <span class="keywordflow">case</span> 1: <a class="code" href="j2kenc_8c.html#a5a70a9188f2e43cf2c8db737253226f3">encode_refpass</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, &amp;nmsedec, bpno);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">case</span> 2: <a class="code" href="j2kenc_8c.html#ad41aa4d344dc431e7bcdcee7c92d24ee">encode_clnpass</a>(<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, <a class="code" href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a>, <a class="code" href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a>, bandpos, &amp;nmsedec, bpno);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a> = <a class="code" href="mqc_8h.html#ac79b08d8db44595aff85623f83d10513">ff_mqc_flush_to</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno].<a class="code" href="struct_jpeg2000_pass.html#a288550f0cc085f5b4bdf554d02b9c3b1">flushed</a>, &amp;cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno].<a class="code" href="struct_jpeg2000_pass.html#a2dd9a833fdaadfa02de6cea0886f57ea">flushed_len</a>);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a> -= cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno].<a class="code" href="struct_jpeg2000_pass.html#a2dd9a833fdaadfa02de6cea0886f57ea">flushed_len</a>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        wmsedec += (int64_t)nmsedec &lt;&lt; (2*bpno);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno].<a class="code" href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">disto</a> = wmsedec;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">if</span> (++pass_t == 3){</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            pass_t = 0;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            bpno--;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a> = passno;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> = passno;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span> (passno) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno-1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a> = <a class="code" href="mqc_8h.html#ac79b08d8db44595aff85623f83d10513">ff_mqc_flush_to</a>(&amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>-&gt;mqc, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno-1].<a class="code" href="struct_jpeg2000_pass.html#a288550f0cc085f5b4bdf554d02b9c3b1">flushed</a>, &amp;cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno-1].<a class="code" href="struct_jpeg2000_pass.html#a2dd9a833fdaadfa02de6cea0886f57ea">flushed_len</a>);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno-1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a> -= cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno-1].<a class="code" href="struct_jpeg2000_pass.html#a2dd9a833fdaadfa02de6cea0886f57ea">flushed_len</a>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;}</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">/* tier-2 routines: */</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a3995fe7d4865798de40cacdc5879004b">  765</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a3995fe7d4865798de40cacdc5879004b">putnumpasses</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> n)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">if</span> (n == 1)</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <a class="code" href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">put_num</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, 1);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n == 2)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">put_num</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 2, 2);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &lt;= 5)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <a class="code" href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">put_num</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0xc | (n-3), 4);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n &lt;= 36)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <a class="code" href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">put_num</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0x1e0 | (n-6), 9);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <a class="code" href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">put_num</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0xff80 | (n-37), 16);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;}</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a477ede80e87671ac97118b96abadb458">  780</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a477ede80e87671ac97118b96abadb458">encode_packet</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel, <span class="keywordtype">int</span> layno,</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                         <span class="keywordtype">int</span> precno, <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *expn, <span class="keywordtype">int</span> numgbits, <span class="keywordtype">int</span> packetno,</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                         <span class="keywordtype">int</span> nlayers)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;{</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordtype">int</span> bandno, empty = 1;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">// init bitstream</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf = 0;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;bit_index = 0;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;sop) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a241fc8810b1d195716bc4718eed44f3f">JPEG2000_SOP</a>);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 4);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, packetno);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// header</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (!layno) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="keywordflow">for</span> (bandno = 0; bandno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>; bandno++) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">if</span> (band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] &lt; band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][1]</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            &amp;&amp;  band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] &lt; band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][1]) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                <span class="keywordtype">int</span> nb_cblks = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a> * prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                <a class="code" href="jpeg2000_8c.html#a4e80090bda043f06a0ab498c88d4991f">ff_tag_tree_zero</a>(prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a3ca853a4a814e27b10e05761f8c65e23">zerobits</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a>, 99);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                <a class="code" href="jpeg2000_8c.html#a4e80090bda043f06a0ab498c88d4991f">ff_tag_tree_zero</a>(prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a50c402f85ec4656ee141278cd74ba282">cblkincl</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a>, 99);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = 0; <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &lt; nb_cblks; <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>++) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                    <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = &amp;prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>];</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                    prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a3ca853a4a814e27b10e05761f8c65e23">zerobits</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>].<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a> = expn[bandno] + numgbits - 1 - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a49ec8d7e30f72d704c97d8a6d18e0fcd">nonzerobits</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af98fead9fa6871d366f603b09601b998">incl</a> = 0;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">lblock</a> = 3;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                    <a class="code" href="j2kenc_8c.html#a6d91381d9934d30590a5c500cdf13cf2">tag_tree_update</a>(prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a3ca853a4a814e27b10e05761f8c65e23">zerobits</a> + <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nlayers; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                        <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a> &gt; 0) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                            prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a50c402f85ec4656ee141278cd74ba282">cblkincl</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>].<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                        }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> == nlayers)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a50c402f85ec4656ee141278cd74ba282">cblkincl</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>].<a class="code" href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">val</a> = <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    <a class="code" href="j2kenc_8c.html#a6d91381d9934d30590a5c500cdf13cf2">tag_tree_update</a>(prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a50c402f85ec4656ee141278cd74ba282">cblkincl</a> + <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">// is the packet empty?</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">for</span> (bandno = 0; bandno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>; bandno++){</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <span class="keywordflow">if</span> (band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] &lt; band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][1]</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        &amp;&amp;  band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] &lt; band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][1]) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <span class="keywordtype">int</span> nb_cblks = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a> * prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> = 0; <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a> &lt; nb_cblks; <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>++) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = &amp;prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>];</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a>) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    empty = 0;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            <span class="keywordflow">if</span> (!empty)</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, !empty, 1);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (empty){</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <a class="code" href="j2kenc_8c.html#a84f0fa71ea0e3364f302d29d25db423d">j2k_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;eph)</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ac6de000bf742e6db9609fd5de1be3f39">JPEG2000_EPH</a>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">for</span> (bandno = 0; bandno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>; bandno++) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="keywordtype">int</span> yi, <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a>, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordtype">int</span> cblknw = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">if</span> (band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] == band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][1]</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        ||  band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] == band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][1])</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>=0, yi = 0; yi &lt; prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a>; yi++) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a> = 0; <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a> &lt; cblknw; <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a>++, <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>++){</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                <span class="keywordtype">int</span> llen = 0, length;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + yi * cblknw + <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; 20) <span class="comment">// approximately</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                <span class="comment">// inclusion information</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                <span class="keywordflow">if</span> (!cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af98fead9fa6871d366f603b09601b998">incl</a>)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    <a class="code" href="j2kenc_8c.html#ab80c08fa3602e9a314f20b3c4fe97510">tag_tree_code</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a50c402f85ec4656ee141278cd74ba282">cblkincl</a> + <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, layno + 1);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a> &gt; 0, 1);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                <span class="keywordflow">if</span> (!cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a>)</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                <span class="comment">// zerobits information</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                <span class="keywordflow">if</span> (!cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af98fead9fa6871d366f603b09601b998">incl</a>) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    <a class="code" href="j2kenc_8c.html#ab80c08fa3602e9a314f20b3c4fe97510">tag_tree_code</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a3ca853a4a814e27b10e05761f8c65e23">zerobits</a> + <a class="code" href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a>, 100);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                    cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af98fead9fa6871d366f603b09601b998">incl</a> = 1;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                <span class="comment">// number of passes</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                <a class="code" href="j2kenc_8c.html#a3995fe7d4865798de40cacdc5879004b">putnumpasses</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160; </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                length = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#ae08267fc92dbf5f815260acf635ae443">data_len</a>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                <span class="keywordflow">if</span> (layno == nlayers - 1 &amp;&amp; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#a9c0eb7a450e26fc822783a2100efdd5b">cum_passes</a>){</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                    length += cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#a9c0eb7a450e26fc822783a2100efdd5b">cum_passes</a>-1].<a class="code" href="struct_jpeg2000_pass.html#a2dd9a833fdaadfa02de6cea0886f57ea">flushed_len</a>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">lblock</a> + <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a>) &lt; <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(length) + 1) {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    llen = <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(length) + 1 - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">lblock</a> - <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a>);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="comment">// length of code block</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">lblock</a> += llen;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 1, llen);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <a class="code" href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0, 1);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                <a class="code" href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">put_num</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, length, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">lblock</a> + <a class="code" href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a>(cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a>));</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="j2kenc_8c.html#a84f0fa71ea0e3364f302d29d25db423d">j2k_flush</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;eph) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ac6de000bf742e6db9609fd5de1be3f39">JPEG2000_EPH</a>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">for</span> (bandno = 0; bandno &lt; rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a>; bandno++) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordtype">int</span> yi, cblknw = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">for</span> (yi =0; yi &lt; prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a>; yi++) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a> = 0; <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a> &lt; cblknw; <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a>++){</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + yi * cblknw + <a class="code" href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a>) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#ae08267fc92dbf5f815260acf635ae443">data_len</a> + 2)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                    <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#a65dc2bb26954808d0fa324db1a5f3ac7">data_start</a> + 1, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#ae08267fc92dbf5f815260acf635ae443">data_len</a>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                    <span class="keywordflow">if</span> (layno == nlayers - 1 &amp;&amp; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#a9c0eb7a450e26fc822783a2100efdd5b">cum_passes</a>) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                        <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#a9c0eb7a450e26fc822783a2100efdd5b">cum_passes</a>-1].<a class="code" href="struct_jpeg2000_pass.html#a288550f0cc085f5b4bdf554d02b9c3b1">flushed</a>,</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                                                       cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno].<a class="code" href="struct_jpeg2000_layer.html#a9c0eb7a450e26fc822783a2100efdd5b">cum_passes</a>-1].<a class="code" href="struct_jpeg2000_pass.html#a2dd9a833fdaadfa02de6cea0886f57ea">flushed_len</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                    }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;}</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a5df951b446b6deaa68e306cf9e2fa3d8">  936</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a5df951b446b6deaa68e306cf9e2fa3d8">encode_packets</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile, <span class="keywordtype">int</span> tileno, <span class="keywordtype">int</span> nlayers)</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;{</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordtype">int</span> compno, reslevelno, layno, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  *qntsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordtype">int</span> packetno = 0;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordtype">int</span> step_x, step_y;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordtype">int</span> tile_coord[2][2];</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordtype">int</span> col = tileno % <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordtype">int</span> row = tileno / <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    tile_coord[0][0] = col * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    tile_coord[0][1] = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(tile_coord[0][0] + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    tile_coord[1][0] = row * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    tile_coord[1][1] = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(tile_coord[1][0] + <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;tier2\n&quot;</span>);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// lay-rlevel-comp-pos progression</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;prog) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#aefcdbbefdfb861ffaf49320d2603ae6a">JPEG2000_PGOD_LRCP</a>:</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">for</span> (layno = 0; layno &lt; nlayers; layno++) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++){</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                <span class="keywordtype">int</span> precno;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp[compno].reslevel + reslevelno;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                <span class="keywordflow">for</span> (precno = 0; precno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>; precno++){</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a477ede80e87671ac97118b96abadb458">encode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, reslevel, layno, precno, qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3*reslevelno-2 : 0),</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                                qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>, packetno++, nlayers)) &lt; 0)</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#a8fe705002a2ac76b4951b4808a453f92">JPEG2000_PGOD_RLCP</a>:</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++){</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordflow">for</span> (layno = 0; layno &lt; nlayers; layno++) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                <span class="keywordtype">int</span> precno;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp[compno].reslevel + reslevelno;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                <span class="keywordflow">for</span> (precno = 0; precno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>; precno++){</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a477ede80e87671ac97118b96abadb458">encode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, reslevel, layno, precno, qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3*reslevelno-2 : 0),</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                                qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>, packetno++, nlayers)) &lt; 0)</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#a7cedf9791d22e37fe5afd76035e9ade8">JPEG2000_PGOD_RPCL</a>:</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordtype">int</span> precno;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        step_x = 30;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        step_y = 30;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <span class="keywordflow">if</span> (reslevelno &lt; codsty-&gt;nreslevels) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                step_x = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_x, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>  + reducedresno);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                step_y = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_y, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        step_x = 1&lt;&lt;step_x;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        step_y = 1&lt;&lt;step_y;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">for</span> (y = tile_coord[1][0]; y &lt; tile_coord[1][1]; y = (y/step_y + 1)*step_y) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <span class="keywordflow">for</span> (x = tile_coord[0][0]; x &lt; tile_coord[0][1]; x = (x/step_x + 1)*step_x) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                    <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                    <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                    <span class="keywordtype">int</span> log_subsampling[2] = { compno?<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[0]:0, compno?<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[1]:0};</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                    <span class="keywordtype">unsigned</span> prcx, prcy;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                    <span class="keywordtype">int</span> trx0, try0;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                    trx0 = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(tile_coord[0][0], log_subsampling[0] + reducedresno);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    try0 = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(tile_coord[1][0], log_subsampling[1] + reducedresno);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                    <span class="keywordflow">if</span> (!(y % ((uint64_t)1 &lt;&lt; (reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno + log_subsampling[1])) == 0 ||</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                        (y == tile_coord[1][0] &amp;&amp; (try0 &lt;&lt; reducedresno) % (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; (reducedresno + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>)))))</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                    <span class="keywordflow">if</span> (!(x % ((uint64_t)1 &lt;&lt; (reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a> + reducedresno + log_subsampling[0])) == 0 ||</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                        (x == tile_coord[0][0] &amp;&amp; (trx0 &lt;&lt; reducedresno) % (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; (reducedresno + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>)))))</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                    <span class="comment">// check if a precinct exists</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                    prcx   = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(x, log_subsampling[0] + reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                    prcy   = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(y, log_subsampling[1] + reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                    prcx  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0], reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                    prcy  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0], reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                    precno = prcx + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * prcy;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                    <span class="keywordflow">if</span> (prcx &gt;= reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> || prcy &gt;= reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;prc %d %d outside limits %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                               prcx, prcy, reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a>, reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                    }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    <span class="keywordflow">for</span> (layno = 0; layno &lt; nlayers; layno++) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a477ede80e87671ac97118b96abadb458">encode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, reslevel, layno, precno, qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3*reslevelno-2 : 0),</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>, packetno++, nlayers)) &lt; 0)</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                        }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#a1dce046afae281d40aac41b31b54d8e0">JPEG2000_PGOD_PCRL</a>:</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        step_x = 32;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        step_y = 32;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                step_x = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_x, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>  + reducedresno);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                step_y = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_y, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        }</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">if</span> (step_x &gt;= 31 || step_y &gt;= 31){</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;PCRL with large step&quot;</span>);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        step_x = 1&lt;&lt;step_x;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        step_y = 1&lt;&lt;step_y;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="keywordflow">for</span> (y = tile_coord[1][0]; y &lt; tile_coord[1][1]; y = (y/step_y + 1)*step_y) {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <span class="keywordflow">for</span> (x = tile_coord[0][0]; x &lt; tile_coord[0][1]; x = (x/step_x + 1)*step_x) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                    <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                    <span class="keywordtype">int</span> log_subsampling[2] = { compno?<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[0]:0, compno?<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[1]:0};</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                    <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++) {</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                        <span class="keywordtype">unsigned</span> prcx, prcy;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                        <span class="keywordtype">int</span> precno;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                        <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                        <span class="keywordtype">int</span> trx0, try0;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160; </div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                        trx0 = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(tile_coord[0][0], log_subsampling[0] + reducedresno);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                        try0 = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(tile_coord[1][0], log_subsampling[1] + reducedresno);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                        <span class="keywordflow">if</span> (!(y % ((uint64_t)1 &lt;&lt; (reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno + log_subsampling[1])) == 0 ||</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                            (y == tile_coord[1][0] &amp;&amp; (try0 &lt;&lt; reducedresno) % (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; (reducedresno + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>)))))</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                        <span class="keywordflow">if</span> (!(x % ((uint64_t)1 &lt;&lt; (reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a> + reducedresno + log_subsampling[0])) == 0 ||</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                            (x == tile_coord[0][0] &amp;&amp; (trx0 &lt;&lt; reducedresno) % (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; (reducedresno + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>)))))</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                        <span class="comment">// check if a precinct exists</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                        prcx   = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(x, log_subsampling[0] + reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                        prcy   = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(y, log_subsampling[1] + reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                        prcx  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0], reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                        prcy  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0], reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                        precno = prcx + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * prcy;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                        <span class="keywordflow">if</span> (prcx &gt;= reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> || prcy &gt;= reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;prc %d %d outside limits %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                                   prcx, prcy, reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a>, reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                        }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                        <span class="keywordflow">for</span> (layno = 0; layno &lt; nlayers; layno++) {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a477ede80e87671ac97118b96abadb458">encode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, reslevel, layno, precno, qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3*reslevelno-2 : 0),</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                    qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>, packetno++, nlayers)) &lt; 0)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                        }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                    }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="jpeg2000_8h.html#a6b4db52eeb243d870055fb29444f38f4">JPEG2000_PGOD_CPRL</a>:</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>     = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="keywordtype">int</span> log_subsampling[2] = { compno?<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[0]:0, compno?<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift[1]:0};</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            step_x = 32;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            step_y = 32;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *rlevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                step_x = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_x, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>  + reducedresno);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                step_y = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(step_y, rlevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            <span class="keywordflow">if</span> (step_x &gt;= 31 || step_y &gt;= 31){</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <a class="code" href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <span class="stringliteral">&quot;CPRL with large step&quot;</span>);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;            step_x = 1&lt;&lt;step_x;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            step_y = 1&lt;&lt;step_y;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            <span class="keywordflow">for</span> (y = tile_coord[1][0]; y &lt; tile_coord[1][1]; y = (y/step_y + 1)*step_y) {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                <span class="keywordflow">for</span> (x = tile_coord[0][0]; x &lt; tile_coord[0][1]; x = (x/step_x + 1)*step_x) {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                    <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++) {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                        <span class="keywordtype">unsigned</span> prcx, prcy;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                        <span class="keywordtype">int</span> precno;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                        <span class="keywordtype">int</span> trx0, try0;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> reducedresno = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - 1 -reslevelno; <span class="comment">//  ==&gt; N_L - r</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                        <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                        trx0 = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(tile_coord[0][0], log_subsampling[0] + reducedresno);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                        try0 = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(tile_coord[1][0], log_subsampling[1] + reducedresno);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                        <span class="keywordflow">if</span> (!(y % ((uint64_t)1 &lt;&lt; (reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a> + reducedresno + log_subsampling[1])) == 0 ||</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                            (y == tile_coord[1][0] &amp;&amp; (try0 &lt;&lt; reducedresno) % (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; (reducedresno + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>)))))</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                        <span class="keywordflow">if</span> (!(x % ((uint64_t)1 &lt;&lt; (reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a> + reducedresno + log_subsampling[0])) == 0 ||</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                            (x == tile_coord[0][0] &amp;&amp; (trx0 &lt;&lt; reducedresno) % (1<a class="code" href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a> &lt;&lt; (reducedresno + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>)))))</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                        <span class="comment">// check if a precinct exists</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                        prcx   = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(x, log_subsampling[0] + reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                        prcy   = <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(y, log_subsampling[1] + reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                        prcx  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[0][0], reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">log2_prec_width</a>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                        prcy  -= <a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord_o[1][0], reducedresno) &gt;&gt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">log2_prec_height</a>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                        precno = prcx + reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * prcy;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                        <span class="keywordflow">if</span> (prcx &gt;= reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> || prcy &gt;= reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                            <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;prc %d %d outside limits %d %d\n&quot;</span>,</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                                   prcx, prcy, reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a>, reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                        }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                        <span class="keywordflow">for</span> (layno = 0; layno &lt; nlayers; layno++) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                            <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a477ede80e87671ac97118b96abadb458">encode_packet</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, reslevel, layno, precno, qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">expn</a> + (reslevelno ? 3*reslevelno-2 : 0),</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                    qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>, packetno++, nlayers)) &lt; 0)</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                        }</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                    }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;after tier2\n&quot;</span>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;}</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a2c50610d3ecd157ee606c7074006777f"> 1182</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a2c50610d3ecd157ee606c7074006777f">makelayer</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <span class="keywordtype">int</span> layno, <span class="keywordtype">double</span> thresh, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a>* tile, <span class="keywordtype">int</span> <span class="keyword">final</span>)</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;{</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordtype">int</span> compno, resno, bandno, precno, cblkno;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordtype">int</span> passno;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = &amp;tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a>[compno];</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="keywordflow">for</span> (resno = 0; resno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty.nreslevels; resno++) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + resno;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;            <span class="keywordflow">for</span> (precno = 0; precno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>; precno++){</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                <span class="keywordflow">for</span> (bandno = 0; bandno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a> ; bandno++){</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                    <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160; </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                    <span class="keywordflow">for</span> (cblkno = 0; cblkno &lt; prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a> * prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>; cblkno++){</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                        <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + cblkno;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                        <a class="code" href="struct_jpeg2000_layer.html">Jpeg2000Layer</a> *layer = &amp;cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[layno];</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                        <span class="keywordtype">int</span> n;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                        <span class="keywordflow">if</span> (layno == 0) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                            cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> = 0;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                        }</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                        n = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                        <span class="keywordflow">if</span> (thresh &lt; 0) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                            n = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                            <span class="keywordflow">for</span> (passno = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a>; passno &lt; cblk-&gt;npasses; passno++) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                <a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a> dr;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                                <span class="keywordtype">double</span> dd;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                <a class="code" href="struct_jpeg2000_pass.html">Jpeg2000Pass</a> *<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a> = &amp;cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno];</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                                <span class="keywordflow">if</span> (n == 0) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                                    dr = <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;rate;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                                    dd = <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;disto;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                                    dr = <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;rate - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[n - 1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a>;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                                    dd = <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;disto - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[n-1].<a class="code" href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">disto</a>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                                <span class="keywordflow">if</span> (!dr) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                                    <span class="keywordflow">if</span> (dd != 0.0) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                        n = passno + 1;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                                }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                                <span class="keywordflow">if</span> (thresh - (dd / dr) &lt; DBL_EPSILON)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                                    n = passno + 1;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                            }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                        }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                        layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a> = n - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                        layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#a9c0eb7a450e26fc822783a2100efdd5b">cum_passes</a> = n;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                        <span class="keywordflow">if</span> (layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a> == 0) {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                            layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#a58e7d0b1fed2543ba3272b9e5e646bef">disto</a> = 0;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                            layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#ae08267fc92dbf5f815260acf635ae443">data_len</a> = 0;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                        }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                        <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> == 0) {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                            layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#ae08267fc92dbf5f815260acf635ae443">data_len</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[n - 1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                            layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#a65dc2bb26954808d0fa324db1a5f3ac7">data_start</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;                            layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#a58e7d0b1fed2543ba3272b9e5e646bef">disto</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[n - 1].<a class="code" href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">disto</a>;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                            layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#ae08267fc92dbf5f815260acf635ae443">data_len</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[n - 1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a> - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> - 1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a>;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                            layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#a65dc2bb26954808d0fa324db1a5f3ac7">data_start</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> + cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> - 1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                            layer-&gt;<a class="code" href="struct_jpeg2000_layer.html#a58e7d0b1fed2543ba3272b9e5e646bef">disto</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[n - 1].<a class="code" href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">disto</a> -</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                                           cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> - 1].<a class="code" href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">disto</a>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                        }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                        <span class="keywordflow">if</span> (<span class="keyword">final</span>) {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                            cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> = n;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                        }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                    }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;}</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a23e3d18f60fb1a676c0a6f5dcf933ab0"> 1265</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a23e3d18f60fb1a676c0a6f5dcf933ab0">makelayers</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile)</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;{</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="keywordtype">int</span> precno, compno, reslevelno, bandno, cblkno, lev, passno, layno;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a> = DBL_MAX;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = 0;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordtype">double</span> thresh;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordtype">int</span> tile_disto = 0;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160; </div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordflow">for</span> (reslevelno = 0, lev = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>-1; reslevelno &lt; codsty-&gt;nreslevels; reslevelno++, lev--){</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;            <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            <span class="keywordflow">for</span> (precno = 0; precno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>; precno++){</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                <span class="keywordflow">for</span> (bandno = 0; bandno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a> ; bandno++){</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                    <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                    <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a> + precno;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                    <span class="keywordflow">for</span> (cblkno = 0; cblkno &lt; prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a> * prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>; cblkno++){</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                        <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + cblkno;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                        <span class="keywordflow">for</span> (passno = 0; passno &lt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a>; passno++) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                            <a class="code" href="struct_jpeg2000_pass.html">Jpeg2000Pass</a> *<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a> = &amp;cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno];</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                            <span class="keywordtype">int</span> dr;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                            <span class="keywordtype">double</span> dd, drslope;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                            tile_disto += <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;disto;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                            <span class="keywordflow">if</span> (passno == 0) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                                dr = (<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>)<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;rate;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                                dd = <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;disto;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                                dr = (<a class="code" href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a>)(<a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;rate - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno - 1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                                dd = <a class="code" href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a>-&gt;disto - cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno - 1].<a class="code" href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">disto</a>;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                            }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                            <span class="keywordflow">if</span> (dr &lt;= 0)</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;                                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                            drslope = dd / dr;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;                            <span class="keywordflow">if</span> (drslope &lt; <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>)</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                                <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a> = drslope;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                            <span class="keywordflow">if</span> (drslope &gt; <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>)</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                                <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a> = drslope;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                        }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;                    }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;                }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        }</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">for</span> (layno = 0; layno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers; layno++) {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="keywordtype">double</span> lo = <a class="code" href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="keywordtype">double</span> hi = <a class="code" href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        <span class="keywordtype">double</span> stable_thresh = 0.0;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="keywordtype">double</span> good_thresh = 0.0;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[layno]) {</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            good_thresh = -1.0;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 128; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *stream_pos = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                <span class="keywordtype">int</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                thresh = (lo + hi) / 2;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                <a class="code" href="j2kenc_8c.html#a2c50610d3ecd157ee606c7074006777f">makelayer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, layno, thresh, tile, 0);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a5df951b446b6deaa68e306cf9e2fa3d8">encode_packets</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, (<span class="keywordtype">int</span>)(tile - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile), layno + 1);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                memset(stream_pos, 0, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf - stream_pos);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf - stream_pos &gt; <a class="code" href="cuda__runtime_8h.html#a3d5b3d948300f6011eb52b4d1f4381b3">ceil</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">layer_rates</a>[layno])) || <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> &lt; 0) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                    lo = thresh;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf = stream_pos;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                hi = thresh;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                stable_thresh = thresh;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf = stream_pos;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <span class="keywordflow">if</span> (good_thresh &gt;= 0.0)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            good_thresh = stable_thresh == 0.0 ? thresh : stable_thresh;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <a class="code" href="j2kenc_8c.html#a2c50610d3ecd157ee606c7074006777f">makelayer</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, layno, good_thresh, tile, 1);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;}</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#ac8eaca441e297851998cf67a7b7cc3e3"> 1350</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#ac8eaca441e297851998cf67a7b7cc3e3">getcut</a>(<a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk, int64_t lambda, <span class="keywordtype">int</span> dwt_norm)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;{</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordtype">int</span> passno, res = 0;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">for</span> (passno = 0; passno &lt; cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">npasses</a>; passno++){</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <span class="keywordtype">int</span> dr;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        int64_t dd;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        dr = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;           - (res ? cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[res-1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a> : 0);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        dd = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[passno].<a class="code" href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">disto</a></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;           - (res ? cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[res-1].<a class="code" href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">disto</a> : 0);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <span class="keywordflow">if</span> (((dd * dwt_norm) &gt;&gt; <a class="code" href="j2kenc_8c.html#a0e429cda2a49d410f5fd7921dfe13dff">WMSEDEC_SHIFT</a>) * dwt_norm &gt;= dr * lambda)</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;            res = passno+1;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;}</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a351e9ba8111beb3949e8ee4688668d6c"> 1368</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a351e9ba8111beb3949e8ee4688668d6c">truncpasses</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;{</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordtype">int</span> precno, compno, reslevelno, bandno, cblkno, lev;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        <span class="keywordflow">for</span> (reslevelno = 0, lev = codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>-1; reslevelno &lt; codsty-&gt;nreslevels; reslevelno++, lev--){</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <span class="keywordflow">for</span> (precno = 0; precno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">num_precincts_x</a> * reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">num_precincts_y</a>; precno++){</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                <span class="keywordflow">for</span> (bandno = 0; bandno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a> ; bandno++){</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                    <span class="keywordtype">int</span> bandpos = bandno + (reslevelno &gt; 0);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                    <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                    <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;prec + precno;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                    <span class="keywordflow">for</span> (cblkno = 0; cblkno &lt; prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a> * prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>; cblkno++){</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                        <a class="code" href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a> *cblk = prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + cblkno;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> = <a class="code" href="j2kenc_8c.html#ac8eaca441e297851998cf67a7b7cc3e3">getcut</a>(cblk, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lambda,</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                                (int64_t)<a class="code" href="j2kenc_8c.html#acdacef662a99b6abcb625491edbce8ab">dwt_norms</a>[codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1">FF_DWT53</a>][bandpos][lev] * (int64_t)band-&gt;i_stepsize &gt;&gt; 15);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[0].<a class="code" href="struct_jpeg2000_layer.html#a65dc2bb26954808d0fa324db1a5f3ac7">data_start</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[0].<a class="code" href="struct_jpeg2000_layer.html#a9c0eb7a450e26fc822783a2100efdd5b">cum_passes</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a>;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                        cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[0].<a class="code" href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">npasses</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a>;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                        <span class="keywordflow">if</span> (cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a>)</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                            cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">layers</a>[0].<a class="code" href="struct_jpeg2000_layer.html#ae08267fc92dbf5f815260acf635ae443">data_len</a> = cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>[cblk-&gt;<a class="code" href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">ninclpasses</a> - 1].<a class="code" href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">rate</a>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                    }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            }</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        }</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;}</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a39a357498c77c415a36eb3f0ed788344"> 1402</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a39a357498c77c415a36eb3f0ed788344">encode_tile</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile, <span class="keywordtype">int</span> tileno)</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;{</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordtype">int</span> compno, reslevelno, bandno, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <a class="code" href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a> <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp + compno;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>.stride = (1&lt;&lt;codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a0be5aec9b3e298e82adcb981a389f86b">log2_cblk_width</a>) + 2;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,<span class="stringliteral">&quot;dwt\n&quot;</span>);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="jpeg2000dwt_8c.html#afb90823bba15efb5ca7f2bbefa19b32c">ff_dwt_encode</a>(&amp;<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;dwt, <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;i_data)) &lt; 0)</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>,<span class="stringliteral">&quot;after dwt -&gt; tier1\n&quot;</span>);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordflow">for</span> (reslevelno = 0; reslevelno &lt; codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>; reslevelno++){</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;            <a class="code" href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a> *reslevel = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel + reslevelno;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;            <span class="keywordflow">for</span> (bandno = 0; bandno &lt; reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">nbands</a> ; bandno++){</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                <a class="code" href="struct_jpeg2000_band.html">Jpeg2000Band</a> *band = reslevel-&gt;<a class="code" href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">band</a> + bandno;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                <a class="code" href="struct_jpeg2000_prec.html">Jpeg2000Prec</a> *prec = band-&gt;<a class="code" href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">prec</a>; <span class="comment">// we support only 1 precinct per band ATM in the encoder</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                <span class="keywordtype">int</span> cblkx, cblky, cblkno=0, xx0, x0, xx1, y0, yy0, yy1, bandpos;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                yy0 = bandno == 0 ? 0 : <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel[reslevelno-1].coord[1][1] - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel[reslevelno-1].coord[1][0];</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                y0 = yy0;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                yy1 = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] + 1, band-&gt;<a class="code" href="struct_jpeg2000_band.html#a0e704bb0e018874227190418bb4002f5">log2_cblk_height</a>) &lt;&lt; band-&gt;<a class="code" href="struct_jpeg2000_band.html#a0e704bb0e018874227190418bb4002f5">log2_cblk_height</a>,</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                            band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][1]) - band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] + yy0;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                <span class="keywordflow">if</span> (band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] == band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][1] || band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] == band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][1])</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                bandpos = bandno + (reslevelno &gt; 0);</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                <span class="keywordflow">for</span> (cblky = 0; cblky &lt; prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">nb_codeblocks_height</a>; cblky++){</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                    <span class="keywordflow">if</span> (reslevelno == 0 || bandno == 1)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                        xx0 = 0;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                        xx0 = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel[reslevelno-1].coord[0][1] - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;reslevel[reslevelno-1].coord[0][0];</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                    x0 = xx0;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                    xx1 = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(<a class="code" href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a>(band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] + 1, band-&gt;<a class="code" href="struct_jpeg2000_band.html#a80a9a587422d19c4d7781fe07bfa089a">log2_cblk_width</a>) &lt;&lt; band-&gt;<a class="code" href="struct_jpeg2000_band.html#a80a9a587422d19c4d7781fe07bfa089a">log2_cblk_width</a>,</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                                band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][1]) - band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] + xx0;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                    <span class="keywordflow">for</span> (cblkx = 0; cblkx &lt; prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">nb_codeblocks_width</a>; cblkx++, cblkno++){</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                        <span class="keywordtype">int</span> y, x;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                        <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1">FF_DWT53</a>){</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                            <span class="keywordflow">for</span> (y = yy0; y &lt; yy1; y++){</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                                <span class="keywordtype">int</span> *ptr = <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>.data + (y-yy0)*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>.stride;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                                <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (x = xx0; x &lt; xx1; x++){</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                                    *ptr++ = <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;i_data[(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][1] - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][0]) * y + x] * (1 &lt;&lt; <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                                }</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                            }</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                        } <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                            <span class="keywordflow">for</span> (y = yy0; y &lt; yy1; y++){</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                                <span class="keywordtype">int</span> *ptr = <a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>.data + (y-yy0)*<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>.stride;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                                <a class="code" href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a> (x = xx0; x &lt; xx1; x++){</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                                    *ptr = (<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;i_data[(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][1] - <a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>-&gt;coord[0][0]) * y + x]);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                                    *ptr = (int64_t)*ptr * (int64_t)(16384 * 65536 / band-&gt;<a class="code" href="struct_jpeg2000_band.html#aefd9656c5a626fbb4d00dd2a8240851d">i_stepsize</a>) &gt;&gt; 15 - <a class="code" href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                                    ptr++;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                                }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                            }</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                        }</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                        <span class="keywordflow">if</span> (!prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[cblkno].<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a>)</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                            prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[cblkno].<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> = <a class="code" href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a>(1 + 8192);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                        <span class="keywordflow">if</span> (!prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[cblkno].<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>)</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                            prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[cblkno].<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a> = <a class="code" href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a>(<a class="code" href="jpeg2000_8h.html#a850eb7d25e718a87f62825225003bfb5">JPEG2000_MAX_PASSES</a>, <span class="keyword">sizeof</span> (*prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[cblkno].<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>));</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                        <span class="keywordflow">if</span> (!prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[cblkno].<a class="code" href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">data</a> || !prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a>[cblkno].<a class="code" href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">passes</a>)</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;                            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a>(ENOMEM);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;                        <a class="code" href="j2kenc_8c.html#aa1c058551c626f0f72e6a09939ef00cd">encode_cblk</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, &amp;<a class="code" href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a>, prec-&gt;<a class="code" href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">cblk</a> + cblkno, tile, xx1 - xx0, yy1 - yy0,</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                                    bandpos, codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a> - reslevelno - 1);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;                        xx0 = xx1;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                        xx1 = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(xx1 + (1 &lt;&lt; band-&gt;<a class="code" href="struct_jpeg2000_band.html#a80a9a587422d19c4d7781fe07bfa089a">log2_cblk_width</a>), band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][1] - band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[0][0] + x0);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                    }</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                    yy0 = yy1;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                    yy1 = <a class="code" href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a>(yy1 + (1 &lt;&lt; band-&gt;<a class="code" href="struct_jpeg2000_band.html#a0e704bb0e018874227190418bb4002f5">log2_cblk_height</a>), band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][1] - band-&gt;<a class="code" href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">coord</a>[1][0] + y0);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                }</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;            }</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;after tier1\n&quot;</span>);</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    }</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;rate control\n&quot;</span>);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;compression_rate_enc)</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <a class="code" href="j2kenc_8c.html#a23e3d18f60fb1a676c0a6f5dcf933ab0">makelayers</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="j2kenc_8c.html#a351e9ba8111beb3949e8ee4688668d6c">truncpasses</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160; </div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a5df951b446b6deaa68e306cf9e2fa3d8">encode_packets</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tile, tileno, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers)) &lt; 0)</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;after rate control\n&quot;</span>);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;}</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; </div>
<div class="line"><a name="l01493"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a77cf6e2dfcbb56bbbec8e229b182d4b9"> 1493</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a77cf6e2dfcbb56bbbec8e229b182d4b9">cleanup</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;{</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="keywordtype">int</span> tileno, compno;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile)</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">for</span> (tileno = 0; tileno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; tileno++){</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp) {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++){</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                <a class="code" href="struct_jpeg2000_component.html">Jpeg2000Component</a> *<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp + compno;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                <a class="code" href="jpeg2000_8c.html#ae3b0dbac1ef3c2fa0c945b6e3fcdb2d1">ff_jpeg2000_cleanup</a>(<a class="code" href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a>, codsty);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].comp);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile[tileno].layer_rates);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    }</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a5df05a8ddf1e06023ff49ac651b79530"> 1513</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a5df05a8ddf1e06023ff49ac651b79530">reinit</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;{</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordtype">int</span> tileno, compno;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">for</span> (tileno = 0; tileno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; tileno++){</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        <a class="code" href="struct_jpeg2000_tile.html">Jpeg2000Tile</a> *tile = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + tileno;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="keywordflow">for</span> (compno = 0; compno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents; compno++)</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            <a class="code" href="jpeg2000_8c.html#a87904bbc986d53aca1379b41becfca6e">ff_jpeg2000_reinit</a>(tile-&gt;<a class="code" href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">comp</a> + compno, &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    }</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;}</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4"> 1523</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a>(<a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <span class="keyword">const</span> <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *<a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>)</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;{</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a>(<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>, <a class="code" href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a>-<a class="code" href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;}</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a86b8148dfce82d7827a766da55cef8a6"> 1528</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a86b8148dfce82d7827a766da55cef8a6">encode_frame</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx, <a class="code" href="struct_a_v_packet.html">AVPacket</a> *<a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>,</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                        <span class="keyword">const</span> <a class="code" href="struct_a_v_frame.html">AVFrame</a> *pict, <span class="keywordtype">int</span> *got_packet)</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;{</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="keywordtype">int</span> tileno, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *chunkstart, *jp2cstart, *jp2hstart;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a>(avctx, <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>*avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>*9 + <a class="code" href="group__lavc__encoding.html#ga4fde50e2cad4cf3d66d882a7078aeab4">AV_INPUT_BUFFER_MIN_SIZE</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// init:</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_start = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end = <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a> + <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;picture = pict;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160; </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lambda = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;picture-&gt;quality * <a class="code" href="j2kenc_8c.html#a854e40d6d254983119f2a0af7820219e">LAMBDA_SCALE</a>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a45b2138ca7fb038237736bb4ab1cdeb6">AV_PIX_FMT_BGR48</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#ace4d36d981b86af5f0dc2d6429701684">AV_PIX_FMT_GRAY16</a>)</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        copy_frame_16(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        copy_frame_8(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <a class="code" href="j2kenc_8c.html#a5df05a8ddf1e06023ff49ac651b79530">reinit</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format == <a class="code" href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">CODEC_JP2</a>) {</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <a class="code" href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf == <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">data</a>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0x0000000C);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0x6A502020);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0x0D0A870A);</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        chunkstart = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;ftyp&quot;</span>, 4);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;jp2\040\040&quot;</span>, 4);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;jp2\040&quot;</span>, 4);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        <a class="code" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a>(chunkstart, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        jp2hstart = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;jp2h&quot;</span>, 4);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        chunkstart = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;ihdr&quot;</span>, 4);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[0]);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 7);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <a class="code" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a>(chunkstart, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160; </div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        chunkstart = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;colr&quot;</span>, 4);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 1);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 16);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents == 1) {</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 17);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 18);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <a class="code" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a>(chunkstart, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *palette = pict-&gt;<a class="code" href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">data</a>[1];</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            chunkstart = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;pclr&quot;</span>, 4);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a>);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 3); <span class="comment">// colour channels</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            bytestream_put_be24(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0x070707); <span class="comment">//colour depths</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a>; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                bytestream_put_be24(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, HAVE_BIGENDIAN ? <a class="code" href="avr32_2intreadwrite_8h.html#a18dbad310cbaa8d1f619428edfde1295">AV_RB24</a>(palette + 1) : <a class="code" href="avr32_2intreadwrite_8h.html#a41b740ee413e64d31482a50721eaef4f">AV_RL24</a>(palette));</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                palette += 4;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            <a class="code" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a>(chunkstart, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;            chunkstart = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;            bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;            <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;cmap&quot;</span>, 4);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0); <span class="comment">// component</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 1); <span class="comment">// palette mapping</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                bytestream_put_byte(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>); <span class="comment">// index</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <a class="code" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a>(chunkstart, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <a class="code" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a>(jp2hstart, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        jp2cstart = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        bytestream_put_be32(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, 0);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <a class="code" href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a>(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <span class="stringliteral">&quot;jp2c&quot;</span>, 4);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160; </div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; 2)</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483af5335776e1fe0016aea0ce5de4b6c4ce">JPEG2000_SOC</a>);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#ad8c39b07e82bb75241a824a2d6d2890a">put_siz</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#af4d8a2177edac1c7fbcb94310cf73bd5">put_cod</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#aa6c1b35f0e63929b79ed3a3b15717bff">put_qcd</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a05439e2042723bb6cfac43b31b190820">put_com</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, 0)) &lt; 0)</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordflow">for</span> (tileno = 0; tileno &lt; <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numXtiles * <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;numYtiles; tileno++){</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        <a class="code" href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> *psotptr;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <span class="keywordflow">if</span> (!(psotptr = <a class="code" href="j2kenc_8c.html#a0c44f16eac49028c02079b1ea65e1b21">put_sot</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, tileno)))</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; 2)</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ab72f9ad08ebf35eca0c1d472e660cc3f">JPEG2000_SOD</a>);</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="j2kenc_8c.html#a39a357498c77c415a36eb3f0ed788344">encode_tile</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile + tileno, tileno)) &lt; 0)</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        bytestream_put_be32(&amp;psotptr, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf - psotptr + 6);</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_end - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf &lt; 2)</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    bytestream_put_be16(&amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf, <a class="code" href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483aec9cc218f9afb932715ec438f6d3ae41">JPEG2000_EOC</a>);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format == <a class="code" href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">CODEC_JP2</a>)</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <a class="code" href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a>(jp2cstart, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;end\n&quot;</span>);</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">size</a> = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf - <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;buf_start;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <a class="code" href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a>-&gt;<a class="code" href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">flags</a> |= <a class="code" href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    *got_packet = 1;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160; </div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;}</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a069a8e792802ec285e879b225886a5e2"> 1667</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a069a8e792802ec285e879b225886a5e2">parse_layer_rates</a>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;{</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordtype">char</span> *token;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordtype">char</span> *saveptr = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="keywordtype">int</span> rate;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordtype">int</span> nlayers = 0;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lr_str) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers = 1;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[0] = 0;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;compression_rate_enc = 0;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    }</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160; </div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    token = <a class="code" href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;lr_str, <span class="stringliteral">&quot;,&quot;</span>, &amp;saveptr);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <span class="keywordflow">if</span> (rate = strtol(token, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10)) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[0] = rate &lt;= 1 ? 0:rate;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            nlayers++;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        token = <a class="code" href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a>(<a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;,&quot;</span>, &amp;saveptr);</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordflow">if</span> (!token)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="keywordflow">if</span> (rate = strtol(token, <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10)) {</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;            <span class="keywordflow">if</span> (nlayers &gt;= 100) {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            }</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[nlayers] = rate &lt;= 1 ? 0:rate;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;            nlayers++;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        }</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    }</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; </div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 1; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; nlayers; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] &gt;= <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>-1]) {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        }</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers = nlayers;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;compression_rate_enc = 1;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;}</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a60d540d4f1a9ac74e0ea09425c2c2453"> 1714</a></span>&#160;<span class="keyword">static</span> <a class="code" href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a60d540d4f1a9ac74e0ea09425c2c2453">j2kenc_init</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;{</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>, <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <a class="code" href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a> *codsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;codsty;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a>  *qntsty = &amp;<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;qntsty;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160; </div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx = avctx;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;init\n&quot;</span>);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="j2kenc_8c.html#a069a8e792802ec285e879b225886a5e2">parse_layer_rates</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Layer rates invalid. Encoding with 1 layer based on quality metric.\n&quot;</span>);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers = 1;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;layer_rates[0] = 0;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;compression_rate_enc = 0;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    }</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160; </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="preprocessor">#if FF_API_PRIVATE_OPT</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<a class="code" href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1056b0254d029240958ac60e6110cc1">prediction_method</a>)</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pred = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#ac1056b0254d029240958ac60e6110cc1">prediction_method</a>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<a class="code" href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a> &amp;&amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pred != <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9">FF_DWT97_INT</a> || <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format != <a class="code" href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">CODEC_JP2</a>)) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Forcing lossless jp2 for pal8\n&quot;</span>);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pred = <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9">FF_DWT97_INT</a>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;format = <a class="code" href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">CODEC_JP2</a>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    }</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="comment">// defaults:</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="comment">// TODO: implement setting non-standard precinct size</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    memset(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a2915e75f50f0f4ce204fceffb20efadd">log2_prec_widths</a> , 15, <span class="keyword">sizeof</span>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a2915e75f50f0f4ce204fceffb20efadd">log2_prec_widths</a> ));</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    memset(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8bd39c73a50140b867d5c385316d757a">log2_prec_heights</a>, 15, <span class="keyword">sizeof</span>(codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8bd39c73a50140b867d5c385316d757a">log2_prec_heights</a>));</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a33496254624080ac51490a0b9e9b7409">nreslevels2decode</a>=</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">nreslevels</a>       = 7;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#aeaecb097f1f95150d0fe4ce1be65a23c">nlayers</a>          = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;nlayers;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a0be5aec9b3e298e82adcb981a389f86b">log2_cblk_width</a>  = 4;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a8778df763f0cca6db7747dcdeb856b8f">log2_cblk_height</a> = 4;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a>        = <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;pred ? <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1">FF_DWT53</a> : <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9">FF_DWT97_INT</a>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">nguardbits</a>       = 1;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width  &amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_width -1)) ||</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height &amp; (<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;tile_height-1))) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(avctx, <a class="code" href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a>, <span class="stringliteral">&quot;Tile dimension not a power of 2\n&quot;</span>);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    }</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordflow">if</span> (codsty-&gt;<a class="code" href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">transform</a> == <a class="code" href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1">FF_DWT53</a>)</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">quantsty</a> = <a class="code" href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a12ded6935214e983e74167ed2b7989b1">JPEG2000_QSTY_NONE</a>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        qntsty-&gt;<a class="code" href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">quantsty</a> = <a class="code" href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a55d536b270ca26b6bbf6c8482b949cec">JPEG2000_QSTY_SE</a>;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;width = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">width</a>;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;height = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">height</a>;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; 3; <a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>++) {</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#ace4d36d981b86af5f0dc2d6429701684">AV_PIX_FMT_GRAY16</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a8aa3ddf224cba014fb9eac404498046a">AV_PIX_FMT_RGB48</a>)</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 16;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;cbps[<a class="code" href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a>] = 8;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    }</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a8aa3ddf224cba014fb9eac404498046a">AV_PIX_FMT_RGB48</a>){</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents = 3;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a> || avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a> == <a class="code" href="pixfmt_8h.html#ace4d36d981b86af5f0dc2d6429701684">AV_PIX_FMT_GRAY16</a>){</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents = 1;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    } <span class="keywordflow">else</span>{ <span class="comment">// planar YUV</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;planar = 1;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;ncomponents = 3;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a> = <a class="code" href="pixdesc_8c.html#a76e011cf53b51ea14a002a206f6ca05d">av_pix_fmt_get_chroma_sub_sample</a>(avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">pix_fmt</a>,</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                                               <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift, <a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;chroma_shift + 1);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>)</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <a class="code" href="jpeg2000_8c.html#a7ab89f239c6115fbf3eec72b5dbcc827">ff_jpeg2000_init_tier1_luts</a>();</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="mqc_8c.html#a1eb65714543ab60140e7f7f2ec9a6dff">ff_mqc_init_context_tables</a>();</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    <a class="code" href="j2kenc_8c.html#a37a0ad032fa01378737e653b7a675b82">init_luts</a>();</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160; </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <a class="code" href="j2kenc_8c.html#a626436805a089f7aadc5ee16c0316a79">init_quantization</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>=<a class="code" href="j2kenc_8c.html#a00291041c627b324ec2a37c731fbea10">init_tiles</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>)) &lt; 0)</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a>;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <a class="code" href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>-&gt;avctx, <a class="code" href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a>, <span class="stringliteral">&quot;after init\n&quot;</span>);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160; </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;}</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a61337db79bd52554fa37cdab8da694f7"> 1802</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="j2kenc_8c.html#a61337db79bd52554fa37cdab8da694f7">j2kenc_destroy</a>(<a class="code" href="struct_a_v_codec_context.html">AVCodecContext</a> *avctx)</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;{</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a> *<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a> = avctx-&gt;<a class="code" href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">priv_data</a>;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <a class="code" href="j2kenc_8c.html#a77cf6e2dfcbb56bbbec8e229b182d4b9">cleanup</a>(<a class="code" href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a>);</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">// taken from the libopenjpeg wraper so it matches</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160; </div>
<div class="line"><a name="l01812"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261"> 1812</a></span>&#160;<span class="preprocessor">#define OFFSET(x) offsetof(Jpeg2000EncoderContext, x)</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6"> 1813</a></span>&#160;<span class="preprocessor">#define VE AV_OPT_FLAG_VIDEO_PARAM | AV_OPT_FLAG_ENCODING_PARAM</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6"> 1814</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_option.html">AVOption</a> <a class="code" href="j2kenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>[] = {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    { <span class="stringliteral">&quot;format&quot;</span>,        <span class="stringliteral">&quot;Codec Format&quot;</span>,      <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a>),        <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,   { .i64 = <a class="code" href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">CODEC_JP2</a>   }, <a class="code" href="j2kenc_8c.html#adfb454e248ed06987cf860235f131143">CODEC_J2K</a>, <a class="code" href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">CODEC_JP2</a>,   <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;format&quot;</span>      },</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    { <span class="stringliteral">&quot;j2k&quot;</span>,           <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                0,                     <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="j2kenc_8c.html#adfb454e248ed06987cf860235f131143">CODEC_J2K</a>   }, 0,         0,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;format&quot;</span>      },</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    { <span class="stringliteral">&quot;jp2&quot;</span>,           <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                0,                     <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = <a class="code" href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">CODEC_JP2</a>   }, 0,         0,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;format&quot;</span>      },</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    { <span class="stringliteral">&quot;tile_width&quot;</span>,    <span class="stringliteral">&quot;Tile Width&quot;</span>,        <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(tile_width),    <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,   { .i64 = 256         }, 1,     1&lt;&lt;30,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, },</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    { <span class="stringliteral">&quot;tile_height&quot;</span>,   <span class="stringliteral">&quot;Tile Height&quot;</span>,       <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(tile_height),   <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,   { .i64 = 256         }, 1,     1&lt;&lt;30,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, },</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    { <span class="stringliteral">&quot;pred&quot;</span>,          <span class="stringliteral">&quot;DWT Type&quot;</span>,          <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(<a class="code" href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a>),          <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,   { .i64 = 0           }, 0,         1,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span>        },</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    { <span class="stringliteral">&quot;dwt97int&quot;</span>,      <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                0,                     <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = 0           }, INT_MIN, INT_MAX,       <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span>        },</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    { <span class="stringliteral">&quot;dwt53&quot;</span>,         <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                0,                     <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>, { .i64 = 0           }, INT_MIN, INT_MAX,       <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;pred&quot;</span>        },</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    { <span class="stringliteral">&quot;sop&quot;</span>,           <span class="stringliteral">&quot;SOP marker&quot;</span>,        <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(sop),           <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,   { .i64 = 0           }, 0,         1,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, },</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    { <span class="stringliteral">&quot;eph&quot;</span>,           <span class="stringliteral">&quot;EPH marker&quot;</span>,        <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(eph),           <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,   { .i64 = 0           }, 0,         1,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, },</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    { <span class="stringliteral">&quot;prog&quot;</span>,          <span class="stringliteral">&quot;Progression Order&quot;</span>, <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(prog),          <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a>,   { .i64 = 0           }, <a class="code" href="jpeg2000_8h.html#aefcdbbefdfb861ffaf49320d2603ae6a">JPEG2000_PGOD_LRCP</a>,         <a class="code" href="jpeg2000_8h.html#a6b4db52eeb243d870055fb29444f38f4">JPEG2000_PGOD_CPRL</a>,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;prog&quot;</span> },</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    { <span class="stringliteral">&quot;lrcp&quot;</span>,          <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(prog),          <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>,   { .i64 = <a class="code" href="jpeg2000_8h.html#aefcdbbefdfb861ffaf49320d2603ae6a">JPEG2000_PGOD_LRCP</a>           }, 0,         0,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;prog&quot;</span> },</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    { <span class="stringliteral">&quot;rlcp&quot;</span>,          <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(prog),          <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>,   { .i64 = <a class="code" href="jpeg2000_8h.html#a8fe705002a2ac76b4951b4808a453f92">JPEG2000_PGOD_RLCP</a>            }, 0,         0,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;prog&quot;</span> },</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    { <span class="stringliteral">&quot;rpcl&quot;</span>,          <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(prog),          <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>,   { .i64 = <a class="code" href="jpeg2000_8h.html#a7cedf9791d22e37fe5afd76035e9ade8">JPEG2000_PGOD_RPCL</a>            }, 0,         0,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;prog&quot;</span> },</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    { <span class="stringliteral">&quot;pcrl&quot;</span>,          <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(prog),          <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>,   { .i64 = <a class="code" href="jpeg2000_8h.html#a1dce046afae281d40aac41b31b54d8e0">JPEG2000_PGOD_PCRL</a>            }, 0,         0,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;prog&quot;</span> },</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    { <span class="stringliteral">&quot;cprl&quot;</span>,          <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,                <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(prog),          <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a>,   { .i64 = <a class="code" href="jpeg2000_8h.html#a6b4db52eeb243d870055fb29444f38f4">JPEG2000_PGOD_CPRL</a>            }, 0,         0,           <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a>, <span class="stringliteral">&quot;prog&quot;</span> },</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    { <span class="stringliteral">&quot;layer_rates&quot;</span>,   <span class="stringliteral">&quot;Layer Rates&quot;</span>,       <a class="code" href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a>(lr_str),        <a class="code" href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a>, { .str = <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }, 0, 0, <a class="code" href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a> },</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    { <a class="code" href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;};</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#ad1170e8bb37d0a39bc77105343fc0c0d"> 1835</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_a_v_class.html">AVClass</a> <a class="code" href="j2kenc_8c.html#ad1170e8bb37d0a39bc77105343fc0c0d">j2k_class</a> = {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    .<a class="code" href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">class_name</a> = <span class="stringliteral">&quot;jpeg 2000 encoder&quot;</span>,</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    .item_name  = <a class="code" href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a>,</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    .option     = <a class="code" href="j2kenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a>,</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    .version    = <a class="code" href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a>,</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;};</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160; </div>
<div class="line"><a name="l01842"></a><span class="lineno"><a class="line" href="j2kenc_8c.html#a2627da4154a803a4a17f89fff7c865d6"> 1842</a></span>&#160;<a class="code" href="struct_a_v_codec.html">AVCodec</a> <a class="code" href="j2kenc_8c.html#a2627da4154a803a4a17f89fff7c865d6">ff_jpeg2000_encoder</a> = {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    .<a class="code" href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">name</a>           = <span class="stringliteral">&quot;jpeg2000&quot;</span>,</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    .long_name      = <a class="code" href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a>(<span class="stringliteral">&quot;JPEG 2000&quot;</span>),</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    .type           = <a class="code" href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a>,</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    .id             = <a class="code" href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0">AV_CODEC_ID_JPEG2000</a>,</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    .priv_data_size = <span class="keyword">sizeof</span>(<a class="code" href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a>),</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    .<a class="code" href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a>           = <a class="code" href="j2kenc_8c.html#a60d540d4f1a9ac74e0ea09425c2c2453">j2kenc_init</a>,</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    .encode2        = <a class="code" href="j2kenc_8c.html#a86b8148dfce82d7827a766da55cef8a6">encode_frame</a>,</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    .close          = <a class="code" href="j2kenc_8c.html#a61337db79bd52554fa37cdab8da694f7">j2kenc_destroy</a>,</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    .<a class="code" href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a>       = (<span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a>[]) {</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a">AV_PIX_FMT_YUV444P</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a>,</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a>,</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a60dd6b14fd159176a59e20be30e355c5">AV_PIX_FMT_YUV410P</a>, <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a69f441408075b0c5fea6e82439d74b06">AV_PIX_FMT_YUV411P</a>,</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a>,</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <a class="code" href="pixfmt_8h.html#a8aa3ddf224cba014fb9eac404498046a">AV_PIX_FMT_RGB48</a>, <a class="code" href="pixfmt_8h.html#ace4d36d981b86af5f0dc2d6429701684">AV_PIX_FMT_GRAY16</a>,</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        <a class="code" href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    },</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    .priv_class     = &amp;<a class="code" href="j2kenc_8c.html#ad1170e8bb37d0a39bc77105343fc0c0d">j2k_class</a>,</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    .caps_internal  = <a class="code" href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a>,</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alibavutil_2internal_8h_html_aa6ef004d10669ab4ee062367a014ea33"><div class="ttname"><a href="libavutil_2internal_8h.html#aa6ef004d10669ab4ee062367a014ea33">FF_ENABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_ENABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00085">internal.h:85</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html">Jpeg2000EncoderContext</a></div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00108">j2kenc.c:108</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html_a0375303dd9c230320a6fdb11e9a1f01c"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html#a0375303dd9c230320a6fdb11e9a1f01c">Jpeg2000TgtNode::temp_val</a></div><div class="ttdeci">uint8_t temp_val</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00130">jpeg2000.h:130</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html">Jpeg2000TgtNode</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00128">jpeg2000.h:128</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga85b57516ca703cc47d9bbe5f4658c716"><div class="ttname"><a href="group__lavu__log__constants.html#ga85b57516ca703cc47d9bbe5f4658c716">AV_LOG_WARNING</a></div><div class="ttdeci">#define AV_LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00200">log.h:200</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html"><div class="ttname"><a href="struct_a_v_codec_context.html">AVCodecContext</a></div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00526">avcodec.h:526</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_ae65ec0eca0bdf1827f8d4fd70660edb0"><div class="ttname"><a href="struct_jpeg2000_tile.html#ae65ec0eca0bdf1827f8d4fd70660edb0">Jpeg2000Tile::comp</a></div><div class="ttdeci">Jpeg2000Component * comp</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00104">j2kenc.c:104</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5">AVPixelFormat</a></div><div class="ttdeci">AVPixelFormat</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00064">pixfmt.h:64</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html_aaef77915076be0eab5fe6208de9e937b"><div class="ttname"><a href="struct_jpeg2000_tile.html#aaef77915076be0eab5fe6208de9e937b">Jpeg2000Tile::layer_rates</a></div><div class="ttdeci">double * layer_rates</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00105">j2kenc.c:105</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_ab80c08fa3602e9a314f20b3c4fe97510"><div class="ttname"><a href="j2kenc_8c.html#ab80c08fa3602e9a314f20b3c4fe97510">tag_tree_code</a></div><div class="ttdeci">static void tag_tree_code(Jpeg2000EncoderContext *s, Jpeg2000TgtNode *node, int threshold)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00249">j2kenc.c:249</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_a7c40bf7bb5da846e0897abb5f79807ec"><div class="ttname"><a href="struct_jpeg2000_res_level.html#a7c40bf7bb5da846e0897abb5f79807ec">Jpeg2000ResLevel::band</a></div><div class="ttdeci">Jpeg2000Band * band</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00215">jpeg2000.h:215</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a41c0c9c8aa8e1fd12d65b18dd6948b09"><div class="ttname"><a href="avrndec_8c.html#a41c0c9c8aa8e1fd12d65b18dd6948b09">init</a></div><div class="ttdeci">static av_cold int init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00035">avrndec.c:35</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_a44d0d9d5a83beae5fa01253a2fe063c7"><div class="ttname"><a href="struct_jpeg2000_res_level.html#a44d0d9d5a83beae5fa01253a2fe063c7">Jpeg2000ResLevel::nbands</a></div><div class="ttdeci">uint8_t nbands</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00211">jpeg2000.h:211</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a2c50610d3ecd157ee606c7074006777f"><div class="ttname"><a href="j2kenc_8c.html#a2c50610d3ecd157ee606c7074006777f">makelayer</a></div><div class="ttdeci">static void makelayer(Jpeg2000EncoderContext *s, int layno, double thresh, Jpeg2000Tile *tile, int final)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01182">j2kenc.c:1182</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_adf2fb515710d47541f7150ecd2950e76"><div class="ttname"><a href="filter__design_8txt.html#adf2fb515710d47541f7150ecd2950e76">AVERROR</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample they are references to shared objects When the negotiation mechanism computes the intersection of the formats supported at each end of a all references to both lists are replaced with a reference to the intersection And when a single format is eventually chosen for a link amongst the remaining all references to the list are updated That means that if a filter requires that its input and output have the same format amongst a supported all it has to do is use a reference to the same list of formats query_formats can leave some formats unset and return AVERROR(EAGAIN) to cause the negotiation mechanism toagain later. That can be used by filters with complex requirements to use the format negotiated on one link to set the formats supported on another. Frame references ownership and permissions</div></div>
<div class="ttc" id="aopt_8h_html"><div class="ttname"><a href="opt_8h.html">opt.h</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_aefd9656c5a626fbb4d00dd2a8240851d"><div class="ttname"><a href="struct_jpeg2000_band.html#aefd9656c5a626fbb4d00dd2a8240851d">Jpeg2000Band::i_stepsize</a></div><div class="ttdeci">int i_stepsize</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00205">jpeg2000.h:205</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_ad096c487f323908c613632696ce849a7"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#ad096c487f323908c613632696ce849a7">Jpeg2000EncoderContext::qntsty</a></div><div class="ttdeci">Jpeg2000QuantStyle qntsty</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00129">j2kenc.c:129</a></div></div>
<div class="ttc" id="astruct_jpeg2000_layer_html_a58e7d0b1fed2543ba3272b9e5e646bef"><div class="ttname"><a href="struct_jpeg2000_layer.html#a58e7d0b1fed2543ba3272b9e5e646bef">Jpeg2000Layer::disto</a></div><div class="ttdeci">double disto</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00169">jpeg2000.h:169</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html"><div class="ttname"><a href="struct_jpeg2000_coding_style.html">Jpeg2000CodingStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00135">jpeg2000.h:135</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0449afd803eb107bd4dbc8b5ea22e363"><div class="ttname"><a href="struct_a_v_codec_context.html#a0449afd803eb107bd4dbc8b5ea22e363">AVCodecContext::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="alibavcodec_2version_8h_html_a391ab92645796653bdc9eed09e1f8e0b"><div class="ttname"><a href="libavcodec_2version_8h.html#a391ab92645796653bdc9eed09e1f8e0b">LIBAVCODEC_IDENT</a></div><div class="ttdeci">#define LIBAVCODEC_IDENT</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2version_8h_source.html#l00042">version.h:42</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483aec9cc218f9afb932715ec438f6d3ae41"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483aec9cc218f9afb932715ec438f6d3ae41">JPEG2000_EOC</a></div><div class="ttdeci">@ JPEG2000_EOC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00058">jpeg2000.h:58</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a384ff94b5139f441c282c9b4c7b985e6"><div class="ttname"><a href="j2kenc_8c.html#a384ff94b5139f441c282c9b4c7b985e6">options</a></div><div class="ttdeci">static const AVOption options[]</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01814">j2kenc.c:1814</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_af3379123060ad8cc9c321c29af4f8360"><div class="ttname"><a href="struct_a_v_codec_context.html#af3379123060ad8cc9c321c29af4f8360">AVCodecContext::priv_data</a></div><div class="ttdeci">void * priv_data</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00553">avcodec.h:553</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_aae7ea999f34710cd5fb876ca27dc2775"><div class="ttname"><a href="struct_jpeg2000_band.html#aae7ea999f34710cd5fb876ca27dc2775">Jpeg2000Band::coord</a></div><div class="ttdeci">int coord[2][2]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00203">jpeg2000.h:203</a></div></div>
<div class="ttc" id="aeamad_8c_html_a1bd38494185c28133622c86bcc95d650"><div class="ttname"><a href="eamad_8c.html#a1bd38494185c28133622c86bcc95d650">comp</a></div><div class="ttdeci">static void comp(unsigned char *dst, ptrdiff_t dst_stride, unsigned char *src, ptrdiff_t src_stride, int add)</div><div class="ttdef"><b>Definition:</b> <a href="eamad_8c_source.html#l00083">eamad.c:83</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_a1b4cffe722d3a15e350c73a3263fff2f"><div class="ttname"><a href="jpeg2000_8c.html#a1b4cffe722d3a15e350c73a3263fff2f">ff_jpeg2000_init_component</a></div><div class="ttdeci">int ff_jpeg2000_init_component(Jpeg2000Component *comp, Jpeg2000CodingStyle *codsty, Jpeg2000QuantStyle *qntsty, int cbps, int dx, int dy, AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00459">jpeg2000.c:459</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a237a472c02d288c822fe78c79c2def43a12ded6935214e983e74167ed2b7989b1"><div class="ttname"><a href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a12ded6935214e983e74167ed2b7989b1">JPEG2000_QSTY_NONE</a></div><div class="ttdeci">@ JPEG2000_QSTY_NONE</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00065">jpeg2000.h:65</a></div></div>
<div class="ttc" id="amem_8c_html_a254f3455439c15a2c8a75b8f0235fdbd"><div class="ttname"><a href="mem_8c.html#a254f3455439c15a2c8a75b8f0235fdbd">av_malloc_array</a></div><div class="ttdeci">void * av_malloc_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00182">mem.c:182</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a60d540d4f1a9ac74e0ea09425c2c2453"><div class="ttname"><a href="j2kenc_8c.html#a60d540d4f1a9ac74e0ea09425c2c2453">j2kenc_init</a></div><div class="ttdeci">static av_cold int j2kenc_init(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01714">j2kenc.c:1714</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a57e51bf7717a35f5ce71a25e6e261afb"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a57e51bf7717a35f5ce71a25e6e261afb">JPEG2000_QCD</a></div><div class="ttdeci">@ JPEG2000_QCD</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00046">jpeg2000.h:46</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_aaf83e352f4362d7ef10a1e5c6625517f"><div class="ttname"><a href="struct_jpeg2000_res_level.html#aaf83e352f4362d7ef10a1e5c6625517f">Jpeg2000ResLevel::num_precincts_x</a></div><div class="ttdeci">int num_precincts_x</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00213">jpeg2000.h:213</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html_ae76bdcb47970e009707fdedd1a15c47d"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html#ae76bdcb47970e009707fdedd1a15c47d">Jpeg2000TgtNode::parent</a></div><div class="ttdeci">struct Jpeg2000TgtNode * parent</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00132">jpeg2000.h:132</a></div></div>
<div class="ttc" id="aavrndec_8c_html_a13191ba45577b1d4f9b37d64df91eb55"><div class="ttname"><a href="avrndec_8c.html#a13191ba45577b1d4f9b37d64df91eb55">end</a></div><div class="ttdeci">static av_cold int end(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="avrndec_8c_source.html#l00092">avrndec.c:92</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html"><div class="ttname"><a href="struct_jpeg2000_quant_style.html">Jpeg2000QuantStyle</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00151">jpeg2000.h:151</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a241fc8810b1d195716bc4718eed44f3f"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a241fc8810b1d195716bc4718eed44f3f">JPEG2000_SOP</a></div><div class="ttdeci">@ JPEG2000_SOP</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00055">jpeg2000.h:55</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_aafc5fd946cab2b9d67be29d48099f703"><div class="ttname"><a href="j2kenc_8c.html#aafc5fd946cab2b9d67be29d48099f703">put_bits</a></div><div class="ttdeci">static void put_bits(Jpeg2000EncoderContext *s, int val, int n)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00218">j2kenc.c:218</a></div></div>
<div class="ttc" id="ajpeg2000dec_8c_html_a700591974e01bad17cbc53e4627fb870"><div class="ttname"><a href="jpeg2000dec_8c.html#a700591974e01bad17cbc53e4627fb870">Jpeg2000Tile</a></div><div class="ttdeci">struct Jpeg2000Tile Jpeg2000Tile</div></div>
<div class="ttc" id="apixdesc_8h_html"><div class="ttname"><a href="pixdesc_8h.html">pixdesc.h</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a6baeb85a3bca82b4ac124c30578fda96"><div class="ttname"><a href="j2kenc_8c.html#a6baeb85a3bca82b4ac124c30578fda96">compute_rates</a></div><div class="ttdeci">static void compute_rates(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00423">j2kenc.c:423</a></div></div>
<div class="ttc" id="astruct_jpeg2000_component_html"><div class="ttname"><a href="struct_jpeg2000_component.html">Jpeg2000Component</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00218">jpeg2000.h:218</a></div></div>
<div class="ttc" id="astruct_jpeg2000_pass_html_ad3d31c398f7724a04d131b3b008c9566"><div class="ttname"><a href="struct_jpeg2000_pass.html#ad3d31c398f7724a04d131b3b008c9566">Jpeg2000Pass::disto</a></div><div class="ttdeci">int64_t disto</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00160">jpeg2000.h:160</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_ad1170e8bb37d0a39bc77105343fc0c0d"><div class="ttname"><a href="j2kenc_8c.html#ad1170e8bb37d0a39bc77105343fc0c0d">j2k_class</a></div><div class="ttdeci">static const AVClass j2k_class</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01835">j2kenc.c:1835</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a8cdcabc313b2f731c56d59773a83834e"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a8cdcabc313b2f731c56d59773a83834e">Jpeg2000CodingStyle::nreslevels</a></div><div class="ttdeci">int nreslevels</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00136">jpeg2000.h:136</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_adfb454e248ed06987cf860235f131143"><div class="ttname"><a href="j2kenc_8c.html#adfb454e248ed06987cf860235f131143">CODEC_J2K</a></div><div class="ttdeci">#define CODEC_J2K</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00084">j2kenc.c:84</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html_a86f751f9fdd7d4919783a27c7f017e29"><div class="ttname"><a href="struct_jpeg2000_quant_style.html#a86f751f9fdd7d4919783a27c7f017e29">Jpeg2000QuantStyle::expn</a></div><div class="ttdeci">uint8_t expn[JPEG2000_MAX_DECLEVELS *3]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00152">jpeg2000.h:152</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ab72f9ad08ebf35eca0c1d472e660cc3f"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ab72f9ad08ebf35eca0c1d472e660cc3f">JPEG2000_SOD</a></div><div class="ttdeci">@ JPEG2000_SOD</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00057">jpeg2000.h:57</a></div></div>
<div class="ttc" id="astruct_jpeg2000_layer_html_aa0e263945ad6c74de9344442972926a8"><div class="ttname"><a href="struct_jpeg2000_layer.html#aa0e263945ad6c74de9344442972926a8">Jpeg2000Layer::npasses</a></div><div class="ttdeci">int npasses</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00168">jpeg2000.h:168</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483af5335776e1fe0016aea0ce5de4b6c4ce"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483af5335776e1fe0016aea0ce5de4b6c4ce">JPEG2000_SOC</a></div><div class="ttdeci">@ JPEG2000_SOC</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00039">jpeg2000.h:39</a></div></div>
<div class="ttc" id="ajpeg2000dwt_8c_html_afb90823bba15efb5ca7f2bbefa19b32c"><div class="ttname"><a href="jpeg2000dwt_8c.html#afb90823bba15efb5ca7f2bbefa19b32c">ff_dwt_encode</a></div><div class="ttdeci">int ff_dwt_encode(DWTContext *s, void *t)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dwt_8c_source.html#l00581">jpeg2000dwt.c:581</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a53685831b20d0855b79fa868d179144d"><div class="ttname"><a href="jpeg2000_8h.html#a53685831b20d0855b79fa868d179144d">ff_jpeg2000_ceildiv</a></div><div class="ttdeci">static int ff_jpeg2000_ceildiv(int a, int64_t b)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00234">jpeg2000.h:234</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_abdb20b25b9459940d114ea01ede1c00e"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#abdb20b25b9459940d114ea01ede1c00e">Jpeg2000EncoderContext::lambda</a></div><div class="ttdeci">int64_t lambda</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00126">j2kenc.c:126</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a06837f5f99742f500c6a19bdbdf282c8"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a06837f5f99742f500c6a19bdbdf282c8">Jpeg2000EncoderContext::sop</a></div><div class="ttdeci">int sop</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00137">j2kenc.c:137</a></div></div>
<div class="ttc" id="afloat_8h_html"><div class="ttname"><a href="float_8h.html">float.h</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a174e0d76ffc93da48434afbb118e9dae"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a174e0d76ffc93da48434afbb118e9dae">JPEG2000_SOT</a></div><div class="ttdeci">@ JPEG2000_SOT</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00054">jpeg2000.h:54</a></div></div>
<div class="ttc" id="aregdef_8h_html_a65f7891fccbfcf7d08964555630773b3"><div class="ttname"><a href="regdef_8h.html#a65f7891fccbfcf7d08964555630773b3">t1</a></div><div class="ttdeci">#define t1</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00029">regdef.h:29</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a86b8148dfce82d7827a766da55cef8a6"><div class="ttname"><a href="j2kenc_8c.html#a86b8148dfce82d7827a766da55cef8a6">encode_frame</a></div><div class="ttdeci">static int encode_frame(AVCodecContext *avctx, AVPacket *pkt, const AVFrame *pict, int *got_packet)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01528">j2kenc.c:1528</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a49ec8d7e30f72d704c97d8a6d18e0fcd"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a49ec8d7e30f72d704c97d8a6d18e0fcd">Jpeg2000Cblk::nonzerobits</a></div><div class="ttdeci">uint8_t nonzerobits</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00176">jpeg2000.h:176</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="cuda__runtime_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00033">cuda_runtime.h:33</a></div></div>
<div class="ttc" id="astruct_jpeg2000_pass_html"><div class="ttname"><a href="struct_jpeg2000_pass.html">Jpeg2000Pass</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00158">jpeg2000.h:158</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a13b45abb2dad80fcaf0f9acd84055d49"><div class="ttname"><a href="jpeg2000_8h.html#a13b45abb2dad80fcaf0f9acd84055d49">JPEG2000_CSTY_SOP</a></div><div class="ttdeci">#define JPEG2000_CSTY_SOP</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00111">jpeg2000.h:111</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a854e40d6d254983119f2a0af7820219e"><div class="ttname"><a href="j2kenc_8c.html#a854e40d6d254983119f2a0af7820219e">LAMBDA_SCALE</a></div><div class="ttdeci">#define LAMBDA_SCALE</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00081">j2kenc.c:81</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_aac7718573ec1cc705b7d1ce03939cdf4"><div class="ttname"><a href="jpeg2000_8h.html#aac7718573ec1cc705b7d1ce03939cdf4">ff_jpeg2000_getrefctxno</a></div><div class="ttdeci">static int ff_jpeg2000_getrefctxno(int flag)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00262">jpeg2000.h:262</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a61337db79bd52554fa37cdab8da694f7"><div class="ttname"><a href="j2kenc_8c.html#a61337db79bd52554fa37cdab8da694f7">j2kenc_destroy</a></div><div class="ttdeci">static int j2kenc_destroy(AVCodecContext *avctx)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01802">j2kenc.c:1802</a></div></div>
<div class="ttc" id="agroup__lavc__packet_html_ga75603d7c2b8adf5829f4fd2fb860168f"><div class="ttname"><a href="group__lavc__packet.html#ga75603d7c2b8adf5829f4fd2fb860168f">AV_PKT_FLAG_KEY</a></div><div class="ttdeci">#define AV_PKT_FLAG_KEY</div><div class="ttdoc">The packet contains a keyframe.</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00401">packet.h:401</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_aaf4fe58dfcc7c232c1f2268b539d8367"><div class="ttname"><a href="struct_a_v_packet.html#aaf4fe58dfcc7c232c1f2268b539d8367">AVPacket::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00363">packet.h:363</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_ae97db1f58b6b1515ed57a83bea3dd572"><div class="ttname"><a href="tableprint__vlc_8h.html#ae97db1f58b6b1515ed57a83bea3dd572">av_malloc</a></div><div class="ttdeci">#define av_malloc(s)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00031">tableprint_vlc.h:31</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_a80a9a587422d19c4d7781fe07bfa089a"><div class="ttname"><a href="struct_jpeg2000_band.html#a80a9a587422d19c4d7781fe07bfa089a">Jpeg2000Band::log2_cblk_width</a></div><div class="ttdeci">uint16_t log2_cblk_width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00204">jpeg2000.h:204</a></div></div>
<div class="ttc" id="acbs__mpeg2_8c_html_a5420f92a5fa8c2d1740e1eaf8a18aa15"><div class="ttname"><a href="cbs__mpeg2_8c.html#a5420f92a5fa8c2d1740e1eaf8a18aa15">bit</a></div><div class="ttdeci">#define bit(string, value)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__mpeg2_8c_source.html#l00058">cbs_mpeg2.c:58</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a6d91381d9934d30590a5c500cdf13cf2"><div class="ttname"><a href="j2kenc_8c.html#a6d91381d9934d30590a5c500cdf13cf2">tag_tree_update</a></div><div class="ttdeci">static void tag_tree_update(Jpeg2000TgtNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00286">j2kenc.c:286</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a4c27853ca5b01a376d646c77ec11c950"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a4c27853ca5b01a376d646c77ec11c950">Jpeg2000EncoderContext::tile</a></div><div class="ttdeci">Jpeg2000Tile * tile</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00131">j2kenc.c:131</a></div></div>
<div class="ttc" id="astruct_jpeg2000_layer_html"><div class="ttname"><a href="struct_jpeg2000_layer.html">Jpeg2000Layer</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00165">jpeg2000.h:165</a></div></div>
<div class="ttc" id="aarm_2vp56__arith_8h_html_a2e9a0e2ee6ec47b10497aa3fa424707a"><div class="ttname"><a href="arm_2vp56__arith_8h.html#a2e9a0e2ee6ec47b10497aa3fa424707a">U</a></div><div class="ttdeci">#define U(x)</div><div class="ttdef"><b>Definition:</b> <a href="arm_2vp56__arith_8h_source.html#l00037">vp56_arith.h:37</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a6e0b4a1f088124b5e879f96abf730899"><div class="ttname"><a href="struct_jpeg2000_prec.html#a6e0b4a1f088124b5e879f96abf730899">Jpeg2000Prec::nb_codeblocks_height</a></div><div class="ttdeci">int nb_codeblocks_height</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00194">jpeg2000.h:194</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tile_html"><div class="ttname"><a href="struct_jpeg2000_tile.html">Jpeg2000Tile</a></div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00103">j2kenc.c:103</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a33496254624080ac51490a0b9e9b7409"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a33496254624080ac51490a0b9e9b7409">Jpeg2000CodingStyle::nreslevels2decode</a></div><div class="ttdeci">int nreslevels2decode</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00137">jpeg2000.h:137</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_af3ac0a4a0d0f55dd40c09dcb4d1396eb"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#af3ac0a4a0d0f55dd40c09dcb4d1396eb">Jpeg2000EncoderContext::buf</a></div><div class="ttdeci">uint8_t * buf</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00122">j2kenc.c:122</a></div></div>
<div class="ttc" id="aaeval_8c_html_a16aca557f352132b55bbc3c4769daa8b"><div class="ttname"><a href="aeval_8c.html#a16aca557f352132b55bbc3c4769daa8b">val</a></div><div class="ttdeci">static double val(void *priv, double ch)</div><div class="ttdef"><b>Definition:</b> <a href="aeval_8c_source.html#l00076">aeval.c:76</a></div></div>
<div class="ttc" id="apixdesc_8c_html_a76e011cf53b51ea14a002a206f6ca05d"><div class="ttname"><a href="pixdesc_8c.html#a76e011cf53b51ea14a002a206f6ca05d">av_pix_fmt_get_chroma_sub_sample</a></div><div class="ttdeci">int av_pix_fmt_get_chroma_sub_sample(enum AVPixelFormat pix_fmt, int *h_shift, int *v_shift)</div><div class="ttdef"><b>Definition:</b> <a href="pixdesc_8c_source.html#l02601">pixdesc.c:2601</a></div></div>
<div class="ttc" id="amqc_8h_html_a85f1950d4e56b8cdbd1a5cef4fad44a0"><div class="ttname"><a href="mqc_8h.html#a85f1950d4e56b8cdbd1a5cef4fad44a0">MQC_CX_UNI</a></div><div class="ttdeci">#define MQC_CX_UNI</div><div class="ttdef"><b>Definition:</b> <a href="mqc_8h_source.html#l00033">mqc.h:33</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ace4d36d981b86af5f0dc2d6429701684"><div class="ttname"><a href="pixfmt_8h.html#ace4d36d981b86af5f0dc2d6429701684">AV_PIX_FMT_GRAY16</a></div><div class="ttdeci">#define AV_PIX_FMT_GRAY16</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00383">pixfmt.h:383</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a84f0fa71ea0e3364f302d29d25db423d"><div class="ttname"><a href="j2kenc_8c.html#a84f0fa71ea0e3364f302d29d25db423d">j2k_flush</a></div><div class="ttdeci">static void j2k_flush(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00238">j2kenc.c:238</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a18dbad310cbaa8d1f619428edfde1295"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a18dbad310cbaa8d1f619428edfde1295">AV_RB24</a></div><div class="ttdeci">#define AV_RB24</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00064">intreadwrite.h:64</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a90be825f6403f94524d1f8de70ac5bb5"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a90be825f6403f94524d1f8de70ac5bb5">Jpeg2000EncoderContext::codsty</a></div><div class="ttdeci">Jpeg2000CodingStyle codsty</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00128">j2kenc.c:128</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a15664fbc767d9389307a202a8663568d"><div class="ttname"><a href="cbs__vp9_8c.html#a15664fbc767d9389307a202a8663568d">ss</a></div><div class="ttdeci">#define ss(width, name, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00261">cbs_vp9.c:261</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_af4d8a2177edac1c7fbcb94310cf73bd5"><div class="ttname"><a href="j2kenc_8c.html#af4d8a2177edac1c7fbcb94310cf73bd5">put_cod</a></div><div class="ttdeci">static int put_cod(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00327">j2kenc.c:327</a></div></div>
<div class="ttc" id="acuda__runtime_8h_html_a3d5b3d948300f6011eb52b4d1f4381b3"><div class="ttname"><a href="cuda__runtime_8h.html#a3d5b3d948300f6011eb52b4d1f4381b3">ceil</a></div><div class="ttdeci">static __device__ float ceil(float a)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00176">cuda_runtime.h:176</a></div></div>
<div class="ttc" id="aintreadwrite_8h_html_a36097280ddfe8ebfc825d0f98fd00621"><div class="ttname"><a href="intreadwrite_8h.html#a36097280ddfe8ebfc825d0f98fd00621">AV_WB32</a></div><div class="ttdeci">#define AV_WB32(p, val)</div><div class="ttdef"><b>Definition:</b> <a href="intreadwrite_8h_source.html#l00273">intreadwrite.h:273</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html_afef0f4b501e3c15861ea9281cad8ae84"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html#afef0f4b501e3c15861ea9281cad8ae84">Jpeg2000TgtNode::val</a></div><div class="ttdeci">uint8_t val</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00129">jpeg2000.h:129</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html_ae5bc82a6df641d47fcf3d8e84b219733"><div class="ttname"><a href="struct_jpeg2000_quant_style.html#ae5bc82a6df641d47fcf3d8e84b219733">Jpeg2000QuantStyle::quantsty</a></div><div class="ttdeci">uint8_t quantsty</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00154">jpeg2000.h:154</a></div></div>
<div class="ttc" id="aattributes_8h_html_abeeb324fff79a5335d36774704e2475c"><div class="ttname"><a href="attributes_8h.html#abeeb324fff79a5335d36774704e2475c">av_cold</a></div><div class="ttdeci">#define av_cold</div><div class="ttdef"><b>Definition:</b> <a href="attributes_8h_source.html#l00090">attributes.h:90</a></div></div>
<div class="ttc" id="alzw_8c_html_a450ea4ae52aeb4ca6e2fabf02c695153"><div class="ttname"><a href="lzw_8c.html#a450ea4ae52aeb4ca6e2fabf02c695153">mask</a></div><div class="ttdeci">static const uint16_t mask[17]</div><div class="ttdef"><b>Definition:</b> <a href="lzw_8c_source.html#l00038">lzw.c:38</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_af841cee82c841fa3fa927a225ff84310"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#af841cee82c841fa3fa927a225ff84310">Jpeg2000EncoderContext::pred</a></div><div class="ttdeci">int pred</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00136">j2kenc.c:136</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a37a0ad032fa01378737e653b7a675b82"><div class="ttname"><a href="j2kenc_8c.html#a37a0ad032fa01378737e653b7a675b82">init_luts</a></div><div class="ttdeci">static void init_luts(void)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00579">j2kenc.c:579</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a5666d89d1f6bca028de2a452e2d078d6"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a5666d89d1f6bca028de2a452e2d078d6">Jpeg2000Cblk::ninclpasses</a></div><div class="ttdeci">uint8_t ninclpasses</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00175">jpeg2000.h:175</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a667b04d7fb6ef46db4da4af554c5b6f7"><div class="ttname"><a href="tests_2snowenc_8c.html#a667b04d7fb6ef46db4da4af554c5b6f7">width</a></div><div class="ttdeci">#define width</div></div>
<div class="ttc" id="aintreadwrite_8h_html"><div class="ttname"><a href="intreadwrite_8h.html">intreadwrite.h</a></div></div>
<div class="ttc" id="acbs__vp9_8c_html_a5950eda76c8ffc67651de936cd8c79ec"><div class="ttname"><a href="cbs__vp9_8c.html#a5950eda76c8ffc67651de936cd8c79ec">s</a></div><div class="ttdeci">#define s(width, name)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__vp9_8c_source.html#l00257">cbs_vp9.c:257</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a6ba7420d1b11687958ed15d19db6780a"><div class="ttname"><a href="j2kenc_8c.html#a6ba7420d1b11687958ed15d19db6780a">lut_nmsedec_sig0</a></div><div class="ttdeci">static int lut_nmsedec_sig0[1&lt;&lt; NMSEDEC_BITS]</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00089">j2kenc.c:89</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_a7d537039ea0e18164d9edb0b5ca984dd"><div class="ttname"><a href="filter__design_8txt.html#a7d537039ea0e18164d9edb0b5ca984dd">format</a></div><div class="ttdeci">Filter the word frame indicates either a video frame or a group of audio as stored in an AVFrame structure Format for each input and each output the list of supported formats For video that means pixel format For audio that means channel sample format(the sample packing is implied by the sample format) and sample rate. The lists are not just lists</div></div>
<div class="ttc" id="aj2kenc_8c_html_ac8eaca441e297851998cf67a7b7cc3e3"><div class="ttname"><a href="j2kenc_8c.html#ac8eaca441e297851998cf67a7b7cc3e3">getcut</a></div><div class="ttdeci">static int getcut(Jpeg2000Cblk *cblk, int64_t lambda, int dwt_norm)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01350">j2kenc.c:1350</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a76bbf2f53a61d32b67e1e47b18fa046c"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a76bbf2f53a61d32b67e1e47b18fa046c">Jpeg2000Cblk::passes</a></div><div class="ttdeci">Jpeg2000Pass * passes</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00187">jpeg2000.h:187</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html"><div class="ttname"><a href="jpeg2000_8h.html">jpeg2000.h</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_ab2b02bc8ea75dec7a79ab333f1cc65f5"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#ab2b02bc8ea75dec7a79ab333f1cc65f5">Jpeg2000EncoderContext::planar</a></div><div class="ttdeci">uint8_t planar</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00116">j2kenc.c:116</a></div></div>
<div class="ttc" id="agroup__lavu__string_html_ga3d4270f4ed651c414e2850090b9b77c4"><div class="ttname"><a href="group__lavu__string.html#ga3d4270f4ed651c414e2850090b9b77c4">av_strtok</a></div><div class="ttdeci">char * av_strtok(char *s, const char *delim, char **saveptr)</div><div class="ttdef"><b>Definition:</b> <a href="avstring_8c_source.html#l00186">avstring.c:186</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_af98fead9fa6871d366f603b09601b998"><div class="ttname"><a href="struct_jpeg2000_cblk.html#af98fead9fa6871d366f603b09601b998">Jpeg2000Cblk::incl</a></div><div class="ttdeci">uint8_t incl</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00177">jpeg2000.h:177</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a7cedf9791d22e37fe5afd76035e9ade8"><div class="ttname"><a href="jpeg2000_8h.html#a7cedf9791d22e37fe5afd76035e9ade8">JPEG2000_PGOD_RPCL</a></div><div class="ttdeci">#define JPEG2000_PGOD_RPCL</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00117">jpeg2000.h:117</a></div></div>
<div class="ttc" id="aavassert_8h_html_aae204192396f78cc8c5cd7ad5c57c23f"><div class="ttname"><a href="avassert_8h.html#aae204192396f78cc8c5cd7ad5c57c23f">av_assert0</a></div><div class="ttdeci">#define av_assert0(cond)</div><div class="ttdef"><b>Definition:</b> <a href="avassert_8h_source.html#l00037">avassert.h:37</a></div></div>
<div class="ttc" id="alibkvazaar_8c_html_aa1219ee396a270ba57fd4f2306b64c6e"><div class="ttname"><a href="libkvazaar_8c.html#aa1219ee396a270ba57fd4f2306b64c6e">pix_fmts</a></div><div class="ttdeci">static enum AVPixelFormat pix_fmts[]</div><div class="ttdef"><b>Definition:</b> <a href="libkvazaar_8c_source.html#l00162">libkvazaar.c:300</a></div></div>
<div class="ttc" id="astruct_jpeg2000_pass_html_a288550f0cc085f5b4bdf554d02b9c3b1"><div class="ttname"><a href="struct_jpeg2000_pass.html#a288550f0cc085f5b4bdf554d02b9c3b1">Jpeg2000Pass::flushed</a></div><div class="ttdeci">uint8_t flushed[4]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00161">jpeg2000.h:161</a></div></div>
<div class="ttc" id="agroup__lavu__log__constants_html_ga5b7221c3afd06848486776bd834a58a5"><div class="ttname"><a href="group__lavu__log__constants.html#ga5b7221c3afd06848486776bd834a58a5">AV_LOG_DEBUG</a></div><div class="ttdeci">#define AV_LOG_DEBUG</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="astruct_a_v_option_html"><div class="ttname"><a href="struct_a_v_option.html">AVOption</a></div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00248">opt.h:248</a></div></div>
<div class="ttc" id="acbs__h2645_8c_html_ae94f88417d2394ccdfec01be4efae374"><div class="ttname"><a href="cbs__h2645_8c.html#ae94f88417d2394ccdfec01be4efae374">xi</a></div><div class="ttdeci">#define xi(width, name, var, range_min, range_max, subs,...)</div><div class="ttdef"><b>Definition:</b> <a href="cbs__h2645_8c_source.html#l00396">cbs_h2645.c:396</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a620818e3a88e9d2cfecbc2852bde6cb1"><div class="ttname"><a href="j2kenc_8c.html#a620818e3a88e9d2cfecbc2852bde6cb1">encode_sigpass</a></div><div class="ttdeci">static void encode_sigpass(Jpeg2000T1Context *t1, int width, int height, int bandno, int *nmsedec, int bpno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00611">j2kenc.c:611</a></div></div>
<div class="ttc" id="agroup__lavc__encoding_html_ga4fde50e2cad4cf3d66d882a7078aeab4"><div class="ttname"><a href="group__lavc__encoding.html#ga4fde50e2cad4cf3d66d882a7078aeab4">AV_INPUT_BUFFER_MIN_SIZE</a></div><div class="ttdeci">#define AV_INPUT_BUFFER_MIN_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00222">avcodec.h:222</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a477ede80e87671ac97118b96abadb458"><div class="ttname"><a href="j2kenc_8c.html#a477ede80e87671ac97118b96abadb458">encode_packet</a></div><div class="ttdeci">static int encode_packet(Jpeg2000EncoderContext *s, Jpeg2000ResLevel *rlevel, int layno, int precno, uint8_t *expn, int numgbits, int packetno, int nlayers)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00780">j2kenc.c:780</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a1aa7677092740d8def31655b5d7f0cc2">AV_PIX_FMT_YUV420P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV420P</div><div class="ttdoc">planar YUV 4:2:0, 12bpp, (1 Cr &amp; Cb sample per 2x2 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00066">pixfmt.h:66</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a6b4db52eeb243d870055fb29444f38f4"><div class="ttname"><a href="jpeg2000_8h.html#a6b4db52eeb243d870055fb29444f38f4">JPEG2000_PGOD_CPRL</a></div><div class="ttdeci">#define JPEG2000_PGOD_CPRL</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00119">jpeg2000.h:119</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483a21d3ea98095bfe788a20166ec6aeb49f"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483a21d3ea98095bfe788a20166ec6aeb49f">JPEG2000_COM</a></div><div class="ttdeci">@ JPEG2000_COM</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00053">jpeg2000.h:53</a></div></div>
<div class="ttc" id="afft__template_8c_html_a9f2587d1070b8924b276ba83988d3667"><div class="ttname"><a href="fft__template_8c.html#a9f2587d1070b8924b276ba83988d3667">pass</a></div><div class="ttdeci">#define pass</div><div class="ttdef"><b>Definition:</b> <a href="fft__template_8c_source.html#l00619">fft_template.c:619</a></div></div>
<div class="ttc" id="astruct_a_v_class_html_aa8883e113a3f2965abd008f7667db7eb"><div class="ttname"><a href="struct_a_v_class.html#aa8883e113a3f2965abd008f7667db7eb">AVClass::class_name</a></div><div class="ttdeci">const char * class_name</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00072">log.h:72</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_afd12020da5a235dfcf0c3c748fb5baed"><div class="ttname"><a href="audio__convert_8c.html#afd12020da5a235dfcf0c3c748fb5baed">int32_t</a></div><div class="ttdeci">int32_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a50c402f85ec4656ee141278cd74ba282"><div class="ttname"><a href="struct_jpeg2000_prec.html#a50c402f85ec4656ee141278cd74ba282">Jpeg2000Prec::cblkincl</a></div><div class="ttdeci">Jpeg2000TgtNode * cblkincl</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00196">jpeg2000.h:196</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_a371a6422c71b3471405c7509a1b46b0d"><div class="ttname"><a href="struct_jpeg2000_cblk.html#a371a6422c71b3471405c7509a1b46b0d">Jpeg2000Cblk::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00182">jpeg2000.h:182</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a8bd39c73a50140b867d5c385316d757a"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a8bd39c73a50140b867d5c385316d757a">Jpeg2000CodingStyle::log2_prec_heights</a></div><div class="ttdeci">uint8_t log2_prec_heights[JPEG2000_MAX_RESLEVELS]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00147">jpeg2000.h:147</a></div></div>
<div class="ttc" id="amqc_8c_html_a1eb65714543ab60140e7f7f2ec9a6dff"><div class="ttname"><a href="mqc_8c.html#a1eb65714543ab60140e7f7f2ec9a6dff">ff_mqc_init_context_tables</a></div><div class="ttdeci">void av_cold ff_mqc_init_context_tables(void)</div><div class="ttdef"><b>Definition:</b> <a href="mqc_8c_source.html#l00097">mqc.c:97</a></div></div>
<div class="ttc" id="agroup__lavu__ver_html_ga36e17e3fc9bcbe5c55820a8ac8b47e3c"><div class="ttname"><a href="group__lavu__ver.html#ga36e17e3fc9bcbe5c55820a8ac8b47e3c">LIBAVUTIL_VERSION_INT</a></div><div class="ttdeci">#define LIBAVUTIL_VERSION_INT</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2version_8h_source.html#l00085">version.h:85</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a23e3d18f60fb1a676c0a6f5dcf933ab0"><div class="ttname"><a href="j2kenc_8c.html#a23e3d18f60fb1a676c0a6f5dcf933ab0">makelayers</a></div><div class="ttdeci">static void makelayers(Jpeg2000EncoderContext *s, Jpeg2000Tile *tile)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01265">j2kenc.c:1265</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a437be96a9da675f12caa228a9c81bd82"><div class="ttname"><a href="struct_a_v_packet.html#a437be96a9da675f12caa228a9c81bd82">AVPacket::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00369">packet.h:369</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_a0e704bb0e018874227190418bb4002f5"><div class="ttname"><a href="struct_jpeg2000_band.html#a0e704bb0e018874227190418bb4002f5">Jpeg2000Band::log2_cblk_height</a></div><div class="ttdeci">uint16_t log2_cblk_height</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00204">jpeg2000.h:204</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a45b2138ca7fb038237736bb4ab1cdeb6"><div class="ttname"><a href="pixfmt_8h.html#a45b2138ca7fb038237736bb4ab1cdeb6">AV_PIX_FMT_BGR48</a></div><div class="ttdeci">#define AV_PIX_FMT_BGR48</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00390">pixfmt.h:390</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_aa3449ff969bfab601b6b949b0a32f40d"><div class="ttname"><a href="struct_jpeg2000_cblk.html#aa3449ff969bfab601b6b949b0a32f40d">Jpeg2000Cblk::npasses</a></div><div class="ttdeci">uint8_t npasses</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00174">jpeg2000.h:174</a></div></div>
<div class="ttc" id="acoverity_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="coverity_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="coverity_8c_source.html#l00032">coverity.c:32</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a7bbe0c3a3a912c1980b2fad4eb587116"><div class="ttname"><a href="j2kenc_8c.html#a7bbe0c3a3a912c1980b2fad4eb587116">put_num</a></div><div class="ttdeci">static void put_num(Jpeg2000EncoderContext *s, int num, int n)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00231">j2kenc.c:231</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_ga67a27567a9e5b7037fee072fbcc34dbf"><div class="ttname"><a href="group__lavu__error.html#ga67a27567a9e5b7037fee072fbcc34dbf">AVERROR_PATCHWELCOME</a></div><div class="ttdeci">#define AVERROR_PATCHWELCOME</div><div class="ttdoc">Not yet implemented in FFmpeg, patches welcome.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00062">error.h:62</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_ae9d3d4138df936dc78a54b8762708cf1"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#ae9d3d4138df936dc78a54b8762708cf1">Jpeg2000EncoderContext::compression_rate_enc</a></div><div class="ttdeci">uint8_t compression_rate_enc</div><div class="ttdoc">Is compression done using compression ratio?</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00133">j2kenc.c:133</a></div></div>
<div class="ttc" id="astruct_jpeg2000_t1_context_html"><div class="ttname"><a href="struct_jpeg2000_t1_context.html">Jpeg2000T1Context</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00121">jpeg2000.h:121</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_ae77e034b30678ec2f8473747a322de02"><div class="ttname"><a href="struct_jpeg2000_cblk.html#ae77e034b30678ec2f8473747a322de02">Jpeg2000Cblk::layers</a></div><div class="ttdeci">Jpeg2000Layer * layers</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00188">jpeg2000.h:188</a></div></div>
<div class="ttc" id="agroup__lavu__log_html_ga791fcd0dba1d19fe0c3677509344328e"><div class="ttname"><a href="group__lavu__log.html#ga791fcd0dba1d19fe0c3677509344328e">av_default_item_name</a></div><div class="ttdeci">const char * av_default_item_name(void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="log_8c_source.html#l00235">log.c:235</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a4f288f055689289b7efeff17cd0e687d"><div class="ttname"><a href="jpeg2000_8h.html#a4f288f055689289b7efeff17cd0e687d">JPEG2000_T1_VIS</a></div><div class="ttdeci">#define JPEG2000_T1_VIS</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00095">jpeg2000.h:95</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ac6de000bf742e6db9609fd5de1be3f39"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ac6de000bf742e6db9609fd5de1be3f39">JPEG2000_EPH</a></div><div class="ttdeci">@ JPEG2000_EPH</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00056">jpeg2000.h:56</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a4616a6eaaf5419e2aa7dcb03031d500e">AV_PIX_FMT_GRAY8</a></div><div class="ttdeci">@ AV_PIX_FMT_GRAY8</div><div class="ttdoc">Y , 8bpp.</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00074">pixfmt.h:74</a></div></div>
<div class="ttc" id="aavr32_2intreadwrite_8h_html_a41b740ee413e64d31482a50721eaef4f"><div class="ttname"><a href="avr32_2intreadwrite_8h.html#a41b740ee413e64d31482a50721eaef4f">AV_RL24</a></div><div class="ttdeci">#define AV_RL24</div><div class="ttdef"><b>Definition:</b> <a href="avr32_2intreadwrite_8h_source.html#l00078">intreadwrite.h:78</a></div></div>
<div class="ttc" id="apixfmt_8h_html_ab7b72d3cfc0a98ab6ac284c3f31710df"><div class="ttname"><a href="pixfmt_8h.html#ab7b72d3cfc0a98ab6ac284c3f31710df">AVPALETTE_COUNT</a></div><div class="ttdeci">#define AVPALETTE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00033">pixfmt.h:33</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_acfb37bb57e31ebd65790ba24b82172cf"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#acfb37bb57e31ebd65790ba24b82172cf">Jpeg2000EncoderContext::numYtiles</a></div><div class="ttdeci">int numYtiles</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00119">j2kenc.c:119</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a351e9ba8111beb3949e8ee4688668d6c"><div class="ttname"><a href="j2kenc_8c.html#a351e9ba8111beb3949e8ee4688668d6c">truncpasses</a></div><div class="ttdeci">static void truncpasses(Jpeg2000EncoderContext *s, Jpeg2000Tile *tile)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01368">j2kenc.c:1368</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_aaa9d6ff1e95e334dd3c6f7b63919ee43"><div class="ttname"><a href="j2kenc_8c.html#aaa9d6ff1e95e334dd3c6f7b63919ee43">getnmsedec_sig</a></div><div class="ttdeci">static int getnmsedec_sig(int x, int bpno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00597">j2kenc.c:597</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html"><div class="ttname"><a href="struct_jpeg2000_band.html">Jpeg2000Band</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00202">jpeg2000.h:202</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a03f04a85f532444aeb39319b18abf383"><div class="ttname"><a href="jpeg2000_8h.html#a03f04a85f532444aeb39319b18abf383">JPEG2000_T1_SIG_NB</a></div><div class="ttdeci">#define JPEG2000_T1_SIG_NB</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00085">jpeg2000.h:85</a></div></div>
<div class="ttc" id="ah264pred__template_8c_html_a93cca9adbbca82ea00bf3250781f6dce"><div class="ttname"><a href="h264pred__template_8c.html#a93cca9adbbca82ea00bf3250781f6dce">for</a></div><div class="ttdeci">for(j=16;j &gt;0;--j)</div><div class="ttdef"><b>Definition:</b> <a href="h264pred__template_8c_source.html#l00469">h264pred_template.c:469</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a82bb8e5872233f0fafa5ba99f646758f"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a82bb8e5872233f0fafa5ba99f646758f">Jpeg2000CodingStyle::transform</a></div><div class="ttdeci">uint8_t transform</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00140">jpeg2000.h:140</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab4d180df7784d8e75f0c4baea4233e20"><div class="ttname"><a href="jpeg2000_8h.html#ab4d180df7784d8e75f0c4baea4233e20">JPEG2000_T1_SGN</a></div><div class="ttdeci">#define JPEG2000_T1_SGN</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00099">jpeg2000.h:99</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_ae3b0dbac1ef3c2fa0c945b6e3fcdb2d1"><div class="ttname"><a href="jpeg2000_8c.html#ae3b0dbac1ef3c2fa0c945b6e3fcdb2d1">ff_jpeg2000_cleanup</a></div><div class="ttdeci">void ff_jpeg2000_cleanup(Jpeg2000Component *comp, Jpeg2000CodingStyle *codsty)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00590">jpeg2000.c:590</a></div></div>
<div class="ttc" id="astruct_jpeg2000_tgt_node_html_a3fc2e8b6ffb1139935829d365676c01f"><div class="ttname"><a href="struct_jpeg2000_tgt_node.html#a3fc2e8b6ffb1139935829d365676c01f">Jpeg2000TgtNode::vis</a></div><div class="ttdeci">uint8_t vis</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00131">jpeg2000.h:131</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_aac4af077bedf628942a22ba8822e3f6f"><div class="ttname"><a href="j2kenc_8c.html#aac4af077bedf628942a22ba8822e3f6f">getnmsedec_ref</a></div><div class="ttdeci">static int getnmsedec_ref(int x, int bpno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00604">j2kenc.c:604</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_ac1056b0254d029240958ac60e6110cc1"><div class="ttname"><a href="struct_a_v_codec_context.html#ac1056b0254d029240958ac60e6110cc1">AVCodecContext::prediction_method</a></div><div class="ttdeci">attribute_deprecated int prediction_method</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00885">avcodec.h:885</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a107eadfcfe8c9fc751289eeb7744a6d3">AV_PIX_FMT_RGB24</a></div><div class="ttdeci">@ AV_PIX_FMT_RGB24</div><div class="ttdoc">packed RGB 8:8:8, 24bpp, RGBRGB...</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00068">pixfmt.h:68</a></div></div>
<div class="ttc" id="astruct_jpeg2000_pass_html_aae9a3148dc9dd2449f0c5ec2ff21bc98"><div class="ttname"><a href="struct_jpeg2000_pass.html#aae9a3148dc9dd2449f0c5ec2ff21bc98">Jpeg2000Pass::rate</a></div><div class="ttdeci">uint16_t rate</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00159">jpeg2000.h:159</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_ad41aa4d344dc431e7bcdcee7c92d24ee"><div class="ttname"><a href="j2kenc_8c.html#ad41aa4d344dc431e7bcdcee7c92d24ee">encode_clnpass</a></div><div class="ttdeci">static void encode_clnpass(Jpeg2000T1Context *t1, int width, int height, int bandno, int *nmsedec, int bpno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00647">j2kenc.c:647</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_a2061b4866df173cbbfd71b330e266215"><div class="ttname"><a href="struct_jpeg2000_res_level.html#a2061b4866df173cbbfd71b330e266215">Jpeg2000ResLevel::log2_prec_width</a></div><div class="ttdeci">uint8_t log2_prec_width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00214">jpeg2000.h:214</a></div></div>
<div class="ttc" id="astruct_jpeg2000_layer_html_a9c0eb7a450e26fc822783a2100efdd5b"><div class="ttname"><a href="struct_jpeg2000_layer.html#a9c0eb7a450e26fc822783a2100efdd5b">Jpeg2000Layer::cum_passes</a></div><div class="ttdeci">int cum_passes</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00170">jpeg2000.h:170</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a3c0fa12fafe59c44d4b16e60d8385637"><div class="ttname"><a href="libavutil_2internal_8h.html#a3c0fa12fafe59c44d4b16e60d8385637">NULL_IF_CONFIG_SMALL</a></div><div class="ttdeci">#define NULL_IF_CONFIG_SMALL(x)</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00153">internal.h:153</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html_af33c0895628d0dfb3a914309567ddb2d"><div class="ttname"><a href="struct_jpeg2000_cblk.html#af33c0895628d0dfb3a914309567ddb2d">Jpeg2000Cblk::lblock</a></div><div class="ttdeci">uint8_t lblock</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00181">jpeg2000.h:181</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a39a357498c77c415a36eb3f0ed788344"><div class="ttname"><a href="j2kenc_8c.html#a39a357498c77c415a36eb3f0ed788344">encode_tile</a></div><div class="ttdeci">static int encode_tile(Jpeg2000EncoderContext *s, Jpeg2000Tile *tile, int tileno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01402">j2kenc.c:1402</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a9dffba251cc0cff7a773df84da64f934"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a9dffba251cc0cff7a773df84da64f934">Jpeg2000EncoderContext::prog</a></div><div class="ttdeci">int prog</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00139">j2kenc.c:139</a></div></div>
<div class="ttc" id="aregdef_8h_html_a8d40798874dab99986478ef00ff3e297"><div class="ttname"><a href="regdef_8h.html#a8d40798874dab99986478ef00ff3e297">sp</a></div><div class="ttdeci">#define sp</div><div class="ttdef"><b>Definition:</b> <a href="regdef_8h_source.html#l00063">regdef.h:63</a></div></div>
<div class="ttc" id="acommon_8h_html_a9960bd6780a9b16a216a57be1ee04359"><div class="ttname"><a href="common_8h.html#a9960bd6780a9b16a216a57be1ee04359">FFMAX</a></div><div class="ttdeci">#define FFMAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00094">common.h:94</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a8aa3ddf224cba014fb9eac404498046a"><div class="ttname"><a href="pixfmt_8h.html#a8aa3ddf224cba014fb9eac404498046a">AV_PIX_FMT_RGB48</a></div><div class="ttdeci">#define AV_PIX_FMT_RGB48</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00385">pixfmt.h:385</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_af45c04e719fbc183ddb3ee77c7016abe"><div class="ttname"><a href="j2kenc_8c.html#af45c04e719fbc183ddb3ee77c7016abe">COPY_FRAME</a></div><div class="ttdeci">#define COPY_FRAME(D, PIXEL)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00505">j2kenc.c:505</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a2f6ef8e6abf21b042c24b7e425fe4f93"><div class="ttname"><a href="j2kenc_8c.html#a2f6ef8e6abf21b042c24b7e425fe4f93">NMSEDEC_FRACBITS</a></div><div class="ttdeci">#define NMSEDEC_FRACBITS</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00079">j2kenc.c:79</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0d8f46461754e8abea0847dcbc41b956"><div class="ttname"><a href="struct_a_v_codec_context.html#a0d8f46461754e8abea0847dcbc41b956">AVCodecContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00699">avcodec.h:699</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html_a0e307e542e75f9f5ed4927de5d4469d4"><div class="ttname"><a href="struct_jpeg2000_quant_style.html#a0e307e542e75f9f5ed4927de5d4469d4">Jpeg2000QuantStyle::mant</a></div><div class="ttdeci">uint16_t mant[JPEG2000_MAX_DECLEVELS *3]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00153">jpeg2000.h:153</a></div></div>
<div class="ttc" id="astruct_a_v_class_html"><div class="ttname"><a href="struct_a_v_class.html">AVClass</a></div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00067">log.h:67</a></div></div>
<div class="ttc" id="atests_2snowenc_8c_html_a64f9f90ece96c7bab4aee3deacf170e0"><div class="ttname"><a href="tests_2snowenc_8c.html#a64f9f90ece96c7bab4aee3deacf170e0">height</a></div><div class="ttdeci">#define height</div></div>
<div class="ttc" id="aundefined_8txt_html_ad99f336d4c117c453fef82993434eb4d"><div class="ttname"><a href="undefined_8txt.html#ad99f336d4c117c453fef82993434eb4d">a</a></div><div class="ttdeci">The reader does not expect b to be semantically here and if the code is changed by maybe adding a a division or other the signedness will almost certainly be mistaken To avoid this confusion a new type was SUINT is the C unsigned type but it holds a signed int to use the same example SUINT a</div><div class="ttdef"><b>Definition:</b> <a href="undefined_8txt_source.html#l00041">undefined.txt:41</a></div></div>
<div class="ttc" id="acommon_8h_html_a0f84cbd7fd810cd678157c98cbfad4b0"><div class="ttname"><a href="common_8h.html#a0f84cbd7fd810cd678157c98cbfad4b0">FFMIN</a></div><div class="ttdeci">#define FFMIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00096">common.h:96</a></div></div>
<div class="ttc" id="astruct_jpeg2000_component_html_a290be88bb39f534469fcaef435f77db6"><div class="ttname"><a href="struct_jpeg2000_component.html#a290be88bb39f534469fcaef435f77db6">Jpeg2000Component::coord</a></div><div class="ttdeci">int coord[2][2]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00223">jpeg2000.h:223</a></div></div>
<div class="ttc" id="amem_8c_html_aedc3761897b7e9ea8ae1222b3d013c94"><div class="ttname"><a href="mem_8c.html#aedc3761897b7e9ea8ae1222b3d013c94">av_mallocz_array</a></div><div class="ttdeci">void * av_mallocz_array(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00190">mem.c:190</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483acea94019407aa3c5250d3c80c140b9f1"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483acea94019407aa3c5250d3c80c140b9f1">JPEG2000_COD</a></div><div class="ttdeci">@ JPEG2000_COD</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00041">jpeg2000.h:41</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a9d26daacfa6ecbcc305478a587b2ef23"><div class="ttname"><a href="jpeg2000_8h.html#a9d26daacfa6ecbcc305478a587b2ef23">ff_jpeg2000_getsgnctxno</a></div><div class="ttdeci">static int ff_jpeg2000_getsgnctxno(int flag, int *xorbit)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00271">jpeg2000.h:271</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a2bb1073b468e793f676fc2995feb192c"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a2bb1073b468e793f676fc2995feb192c">Jpeg2000EncoderContext::nlayers</a></div><div class="ttdeci">int nlayers</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00140">j2kenc.c:140</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_aeaecb097f1f95150d0fe4ce1be65a23c"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#aeaecb097f1f95150d0fe4ce1be65a23c">Jpeg2000CodingStyle::nlayers</a></div><div class="ttdeci">uint8_t nlayers</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00142">jpeg2000.h:142</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_aefcdbbefdfb861ffaf49320d2603ae6a"><div class="ttname"><a href="jpeg2000_8h.html#aefcdbbefdfb861ffaf49320d2603ae6a">JPEG2000_PGOD_LRCP</a></div><div class="ttdeci">#define JPEG2000_PGOD_LRCP</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00115">jpeg2000.h:115</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_ad12dce0a7bf9d908b172a28155b3d261"><div class="ttname"><a href="j2kenc_8c.html#ad12dce0a7bf9d908b172a28155b3d261">OFFSET</a></div><div class="ttdeci">#define OFFSET(x)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01812">j2kenc.c:1812</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a96fc8b5771cb5999aed38c519c8d620a"><div class="ttname"><a href="struct_jpeg2000_prec.html#a96fc8b5771cb5999aed38c519c8d620a">Jpeg2000Prec::nb_codeblocks_width</a></div><div class="ttdeci">int nb_codeblocks_width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00193">jpeg2000.h:193</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_aac7ae83dfd405a670338156992eb0412"><div class="ttname"><a href="struct_jpeg2000_res_level.html#aac7ae83dfd405a670338156992eb0412">Jpeg2000ResLevel::log2_prec_height</a></div><div class="ttdeci">uint8_t log2_prec_height</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00214">jpeg2000.h:214</a></div></div>
<div class="ttc" id="aintmath_8h_html_a2998e3360a5d1a5763e8c1008b7b2e1d"><div class="ttname"><a href="intmath_8h.html#a2998e3360a5d1a5763e8c1008b7b2e1d">av_log2</a></div><div class="ttdeci">#define av_log2</div><div class="ttdef"><b>Definition:</b> <a href="intmath_8h_source.html#l00083">intmath.h:83</a></div></div>
<div class="ttc" id="astruct_jpeg2000_quant_style_html_a884a8e7f5fae5b9b7d0e05fd6864438b"><div class="ttname"><a href="struct_jpeg2000_quant_style.html#a884a8e7f5fae5b9b7d0e05fd6864438b">Jpeg2000QuantStyle::nguardbits</a></div><div class="ttdeci">uint8_t nguardbits</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00155">jpeg2000.h:155</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html"><div class="ttname"><a href="struct_jpeg2000_prec.html">Jpeg2000Prec</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00192">jpeg2000.h:192</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a5df05a8ddf1e06023ff49ac651b79530"><div class="ttname"><a href="j2kenc_8c.html#a5df05a8ddf1e06023ff49ac651b79530">reinit</a></div><div class="ttdeci">static void reinit(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01513">j2kenc.c:1513</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_a87904bbc986d53aca1379b41becfca6e"><div class="ttname"><a href="jpeg2000_8c.html#a87904bbc986d53aca1379b41becfca6e">ff_jpeg2000_reinit</a></div><div class="ttdeci">void ff_jpeg2000_reinit(Jpeg2000Component *comp, Jpeg2000CodingStyle *codsty)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00569">jpeg2000.c:569</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a8f0ccfb6e8c4ad836de90ed50532006f"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a8f0ccfb6e8c4ad836de90ed50532006f">Jpeg2000EncoderContext::buf_end</a></div><div class="ttdeci">uint8_t * buf_end</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00123">j2kenc.c:123</a></div></div>
<div class="ttc" id="abytestream_8h_html_a26ceb6bc0d0bc60d0ad8e127a516bd7d"><div class="ttname"><a href="bytestream_8h.html#a26ceb6bc0d0bc60d0ad8e127a516bd7d">bytestream_put_buffer</a></div><div class="ttdeci">static av_always_inline void bytestream_put_buffer(uint8_t **b, const uint8_t *src, unsigned int size)</div><div class="ttdef"><b>Definition:</b> <a href="bytestream_8h_source.html#l00372">bytestream.h:372</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a0c44f16eac49028c02079b1ea65e1b21"><div class="ttname"><a href="j2kenc_8c.html#a0c44f16eac49028c02079b1ea65e1b21">put_sot</a></div><div class="ttdeci">static uint8_t * put_sot(Jpeg2000EncoderContext *s, int tileno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00404">j2kenc.c:404</a></div></div>
<div class="ttc" id="ainput_8c_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="input_8c.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="input_8c_source.html#l00407">input.c:407</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a8fe705002a2ac76b4951b4808a453f92"><div class="ttname"><a href="jpeg2000_8h.html#a8fe705002a2ac76b4951b4808a453f92">JPEG2000_PGOD_RLCP</a></div><div class="ttdeci">#define JPEG2000_PGOD_RLCP</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00116">jpeg2000.h:116</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a069a8e792802ec285e879b225886a5e2"><div class="ttname"><a href="j2kenc_8c.html#a069a8e792802ec285e879b225886a5e2">parse_layer_rates</a></div><div class="ttdeci">static int parse_layer_rates(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01667">j2kenc.c:1667</a></div></div>
<div class="ttc" id="alibavcodec_2internal_8h_html_ab4ca16b0fda02840383d0b6d08a44660"><div class="ttname"><a href="libavcodec_2internal_8h.html#ab4ca16b0fda02840383d0b6d08a44660">FF_CODEC_CAP_INIT_CLEANUP</a></div><div class="ttdeci">#define FF_CODEC_CAP_INIT_CLEANUP</div><div class="ttdef"><b>Definition:</b> <a href="libavcodec_2internal_8h_source.html#l00048">internal.h:48</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html"><div class="ttname"><a href="libavutil_2internal_8h.html">internal.h</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a2232a15101f27004fa44ae8d34ea0832"><div class="ttname"><a href="jpeg2000_8h.html#a2232a15101f27004fa44ae8d34ea0832">JPEG2000_T1_REF</a></div><div class="ttdeci">#define JPEG2000_T1_REF</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00097">jpeg2000.h:97</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a77cf6e2dfcbb56bbbec8e229b182d4b9"><div class="ttname"><a href="j2kenc_8c.html#a77cf6e2dfcbb56bbbec8e229b182d4b9">cleanup</a></div><div class="ttdeci">static void cleanup(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01493">j2kenc.c:1493</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a58dfef00adee7c104f9b17f1a6915aad"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a58dfef00adee7c104f9b17f1a6915aad">Jpeg2000EncoderContext::lr_str</a></div><div class="ttdeci">char * lr_str</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00141">j2kenc.c:141</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_acdacef662a99b6abcb625491edbce8ab"><div class="ttname"><a href="j2kenc_8c.html#acdacef662a99b6abcb625491edbce8ab">dwt_norms</a></div><div class="ttdeci">static const int dwt_norms[2][4][10]</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00091">j2kenc.c:91</a></div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a06067b4e4d1d36b0dae3efa01d7fb614"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a06067b4e4d1d36b0dae3efa01d7fb614">Jpeg2000EncoderContext::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00135">j2kenc.c:135</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a2915e75f50f0f4ce204fceffb20efadd"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a2915e75f50f0f4ce204fceffb20efadd">Jpeg2000CodingStyle::log2_prec_widths</a></div><div class="ttdeci">uint8_t log2_prec_widths[JPEG2000_MAX_RESLEVELS]</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00146">jpeg2000.h:146</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_aa1c058551c626f0f72e6a09939ef00cd"><div class="ttname"><a href="j2kenc_8c.html#aa1c058551c626f0f72e6a09939ef00cd">encode_cblk</a></div><div class="ttdeci">static void encode_cblk(Jpeg2000EncoderContext *s, Jpeg2000T1Context *t1, Jpeg2000Cblk *cblk, Jpeg2000Tile *tile, int width, int height, int bandpos, int lev)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00702">j2kenc.c:702</a></div></div>
<div class="ttc" id="astruct_jpeg2000_band_html_a19f99dc6a3364426164d4584e644d363"><div class="ttname"><a href="struct_jpeg2000_band.html#a19f99dc6a3364426164d4584e644d363">Jpeg2000Band::prec</a></div><div class="ttdeci">Jpeg2000Prec * prec</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00207">jpeg2000.h:207</a></div></div>
<div class="ttc" id="amqc_8h_html_adbc29cff58558fb14ad9a90858e26ce9"><div class="ttname"><a href="mqc_8h.html#adbc29cff58558fb14ad9a90858e26ce9">ff_mqc_initenc</a></div><div class="ttdeci">void ff_mqc_initenc(MqcState *mqc, uint8_t *bp)</div><div class="ttdef"><b>Definition:</b> <a href="mqcenc_8c_source.html#l00069">mqcenc.c:69</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ab0338d3b2ef786dffa069cc58eb34483ae0e9d52969be1a9148de11a2ee7845b0"><div class="ttname"><a href="jpeg2000_8h.html#ab0338d3b2ef786dffa069cc58eb34483ae0e9d52969be1a9148de11a2ee7845b0">JPEG2000_SIZ</a></div><div class="ttdeci">@ JPEG2000_SIZ</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00040">jpeg2000.h:40</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_ac83d97475997f7e7732b41584692f4cb"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#ac83d97475997f7e7732b41584692f4cb">Jpeg2000EncoderContext::bit_index</a></div><div class="ttdeci">int bit_index</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00124">j2kenc.c:124</a></div></div>
<div class="ttc" id="aaudio__convert_8c_html_ae1affc9ca37cfb624959c866a73f83c2"><div class="ttname"><a href="audio__convert_8c.html#ae1affc9ca37cfb624959c866a73f83c2">uint8_t</a></div><div class="ttdeci">uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="audio__convert_8c_source.html#l00194">audio_convert.c:194</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ac30b3b8230ca63d8efea4dee7a8b98f9"><div class="ttname"><a href="jpeg2000_8h.html#ac30b3b8230ca63d8efea4dee7a8b98f9">ff_jpeg2000_getsigctxno</a></div><div class="ttdeci">static int ff_jpeg2000_getsigctxno(int flag, int bandno)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00253">jpeg2000.h:253</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a5df951b446b6deaa68e306cf9e2fa3d8"><div class="ttname"><a href="j2kenc_8c.html#a5df951b446b6deaa68e306cf9e2fa3d8">encode_packets</a></div><div class="ttdeci">static int encode_packets(Jpeg2000EncoderContext *s, Jpeg2000Tile *tile, int tileno, int nlayers)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00936">j2kenc.c:936</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a0e429cda2a49d410f5fd7921dfe13dff"><div class="ttname"><a href="j2kenc_8c.html#a0e429cda2a49d410f5fd7921dfe13dff">WMSEDEC_SHIFT</a></div><div class="ttdeci">#define WMSEDEC_SHIFT</div><div class="ttdoc">must be &gt;= 13</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00080">j2kenc.c:80</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0"><div class="ttname"><a href="group__lavc__core.html#ggaadca229ad2c20e060a14fec08a5cc7cea4ff1478f2b0f3bc728f6cce39d44b9f0">AV_CODEC_ID_JPEG2000</a></div><div class="ttdeci">@ AV_CODEC_ID_JPEG2000</div><div class="ttdef"><b>Definition:</b> <a href="codec__id_8h_source.html#l00137">codec_id.h:137</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html_ad3daa3e729850b573c139a83be8938ca"><div class="ttname"><a href="struct_a_v_codec.html#ad3daa3e729850b573c139a83be8938ca">AVCodec::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00197">codec.h:197</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a850eb7d25e718a87f62825225003bfb5"><div class="ttname"><a href="jpeg2000_8h.html#a850eb7d25e718a87f62825225003bfb5">JPEG2000_MAX_PASSES</a></div><div class="ttdeci">#define JPEG2000_MAX_PASSES</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00073">jpeg2000.h:73</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_aa2dd4b9fdc6b8409c1b583e2858145c3"><div class="ttname"><a href="j2kenc_8c.html#aa2dd4b9fdc6b8409c1b583e2858145c3">lut_nmsedec_ref</a></div><div class="ttdeci">static int lut_nmsedec_ref[1&lt;&lt; NMSEDEC_BITS]</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00086">j2kenc.c:86</a></div></div>
<div class="ttc" id="aavcodec_8h_html"><div class="ttname"><a href="avcodec_8h.html">avcodec.h</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_ad637675a3d768c20723751076e19019e"><div class="ttname"><a href="jpeg2000_8h.html#ad637675a3d768c20723751076e19019e">JPEG2000_T1_SIG</a></div><div class="ttdeci">#define JPEG2000_T1_SIG</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00096">jpeg2000.h:96</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5acb2d8caa4e82b70f1bbe4d83f137f8c8">AV_PIX_FMT_PAL8</a></div><div class="ttdeci">@ AV_PIX_FMT_PAL8</div><div class="ttdoc">8 bits with AV_PIX_FMT_RGB32 palette</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00077">pixfmt.h:77</a></div></div>
<div class="ttc" id="afilter__design_8txt_html_af1ec77bdca1b30e8153fc5da88f603db"><div class="ttname"><a href="filter__design_8txt.html#af1ec77bdca1b30e8153fc5da88f603db">ret</a></div><div class="ttdeci">ret</div><div class="ttdef"><b>Definition:</b> <a href="filter__design_8txt_source.html#l00187">filter_design.txt:187</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_aa6c1b35f0e63929b79ed3a3b15717bff"><div class="ttname"><a href="j2kenc_8c.html#aa6c1b35f0e63929b79ed3a3b15717bff">put_qcd</a></div><div class="ttdeci">static int put_qcd(Jpeg2000EncoderContext *s, int compno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00359">j2kenc.c:359</a></div></div>
<div class="ttc" id="asiprdata_8h_html_a3cce87604695942e930d8853d9cad953"><div class="ttname"><a href="siprdata_8h.html#a3cce87604695942e930d8853d9cad953">pred</a></div><div class="ttdeci">static const float pred[4]</div><div class="ttdef"><b>Definition:</b> <a href="siprdata_8h_source.html#l00259">siprdata.h:259</a></div></div>
<div class="ttc" id="astruct_jpeg2000_layer_html_ae08267fc92dbf5f815260acf635ae443"><div class="ttname"><a href="struct_jpeg2000_layer.html#ae08267fc92dbf5f815260acf635ae443">Jpeg2000Layer::data_len</a></div><div class="ttdeci">int data_len</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00167">jpeg2000.h:167</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a237a472c02d288c822fe78c79c2def43a55d536b270ca26b6bbf6c8482b949cec"><div class="ttname"><a href="jpeg2000_8h.html#a237a472c02d288c822fe78c79c2def43a55d536b270ca26b6bbf6c8482b949cec">JPEG2000_QSTY_SE</a></div><div class="ttdeci">@ JPEG2000_QSTY_SE</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00068">jpeg2000.h:67</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a9da071d70645b3c9a887cc2fe0cea28f"><div class="ttname"><a href="j2kenc_8c.html#a9da071d70645b3c9a887cc2fe0cea28f">NMSEDEC_BITS</a></div><div class="ttdeci">#define NMSEDEC_BITS</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00078">j2kenc.c:78</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a0fba2d0e12181aa88cc334d13b4cb1a4"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a0fba2d0e12181aa88cc334d13b4cb1a4">Jpeg2000EncoderContext::avctx</a></div><div class="ttdeci">AVCodecContext * avctx</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00110">j2kenc.c:110</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a5a70a9188f2e43cf2c8db737253226f3"><div class="ttname"><a href="j2kenc_8c.html#a5a70a9188f2e43cf2c8db737253226f3">encode_refpass</a></div><div class="ttdeci">static void encode_refpass(Jpeg2000T1Context *t1, int width, int height, int *nmsedec, int bpno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00633">j2kenc.c:633</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html"><div class="ttname"><a href="struct_a_v_packet.html">AVPacket</a></div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00340">packet.h:340</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a6089bd13cffb43931bbf84ad2ba72f50"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a6089bd13cffb43931bbf84ad2ba72f50">Jpeg2000EncoderContext::tile_width</a></div><div class="ttdeci">int tile_width</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00118">j2kenc.c:118</a></div></div>
<div class="ttc" id="aspdifenc_8c_html_addcb93d939ffa259ff1d9247bdd590fd"><div class="ttname"><a href="spdifenc_8c.html#addcb93d939ffa259ff1d9247bdd590fd">pos</a></div><div class="ttdeci">unsigned int pos</div><div class="ttdef"><b>Definition:</b> <a href="spdifenc_8c_source.html#l00410">spdifenc.c:410</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_ga34e10fdac079a9ca4512b8ccd7f20b8a"><div class="ttname"><a href="group__lavu__mem__funcs.html#ga34e10fdac079a9ca4512b8ccd7f20b8a">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="twinvq__data_8h_source.html#l11134">twinvq_data.h:11134</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a90c277fa12896e710534afa2dea76d57"><div class="ttname"><a href="j2kenc_8c.html#a90c277fa12896e710534afa2dea76d57">lut_nmsedec_sig</a></div><div class="ttdeci">static int lut_nmsedec_sig[1&lt;&lt; NMSEDEC_BITS]</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00088">j2kenc.c:88</a></div></div>
<div class="ttc" id="amqc_8h_html_acdf6f409531af930e6fd1c7ccc4d20fb"><div class="ttname"><a href="mqc_8h.html#acdf6f409531af930e6fd1c7ccc4d20fb">MQC_CX_RL</a></div><div class="ttdeci">#define MQC_CX_RL</div><div class="ttdef"><b>Definition:</b> <a href="mqc_8h_source.html#l00034">mqc.h:34</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a8778df763f0cca6db7747dcdeb856b8f"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a8778df763f0cca6db7747dcdeb856b8f">Jpeg2000CodingStyle::log2_cblk_height</a></div><div class="ttdeci">uint8_t log2_cblk_height</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00139">jpeg2000.h:139</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html_a1d0f65014a8d1bf78cec8cbed2304992"><div class="ttname"><a href="struct_a_v_frame.html#a1d0f65014a8d1bf78cec8cbed2304992">AVFrame::data</a></div><div class="ttdeci">uint8_t * data[AV_NUM_DATA_POINTERS]</div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00322">frame.h:322</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a269a24b26bdd365b2345087892f3fe30"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a269a24b26bdd365b2345087892f3fe30">Jpeg2000EncoderContext::ncomponents</a></div><div class="ttdeci">int ncomponents</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00117">j2kenc.c:117</a></div></div>
<div class="ttc" id="ajpeg2000dwt_8h_html_aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1"><div class="ttname"><a href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afaac3e119d192d3f2f0a3a4182e46664b1">FF_DWT53</a></div><div class="ttdeci">@ FF_DWT53</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dwt_8h_source.html#l00038">jpeg2000dwt.h:38</a></div></div>
<div class="ttc" id="agroup__lavu__mem__funcs_html_gaaf38f6d994f5a85854ef47fd98fa6e9a"><div class="ttname"><a href="group__lavu__mem__funcs.html#gaaf38f6d994f5a85854ef47fd98fa6e9a">av_calloc</a></div><div class="ttdeci">void * av_calloc(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00245">mem.c:245</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a1741e6ad9c1bc9dd7af6644ae1712c16"><div class="ttname"><a href="jpeg2000_8h.html#a1741e6ad9c1bc9dd7af6644ae1712c16">ff_jpeg2000_ceildivpow2</a></div><div class="ttdeci">static int ff_jpeg2000_ceildivpow2(int a, int b)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00229">jpeg2000.h:229</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_ad8c39b07e82bb75241a824a2d6d2890a"><div class="ttname"><a href="j2kenc_8c.html#ad8c39b07e82bb75241a824a2d6d2890a">put_siz</a></div><div class="ttdeci">static int put_siz(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00298">j2kenc.c:298</a></div></div>
<div class="ttc" id="ademuxing__decoding_8c_html_a3d4c6562f0b27cf0cacbbea5c038c090"><div class="ttname"><a href="demuxing__decoding_8c.html#a3d4c6562f0b27cf0cacbbea5c038c090">pkt</a></div><div class="ttdeci">static AVPacket pkt</div><div class="ttdef"><b>Definition:</b> <a href="demuxing__decoding_8c_source.html#l00054">demuxing_decoding.c:54</a></div></div>
<div class="ttc" id="astruct_jpeg2000_layer_html_a65dc2bb26954808d0fa324db1a5f3ac7"><div class="ttname"><a href="struct_jpeg2000_layer.html#a65dc2bb26954808d0fa324db1a5f3ac7">Jpeg2000Layer::data_start</a></div><div class="ttdeci">uint8_t * data_start</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00166">jpeg2000.h:166</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a926e27a816e626e4ba7e68a3047a5281"><div class="ttname"><a href="j2kenc_8c.html#a926e27a816e626e4ba7e68a3047a5281">CODEC_JP2</a></div><div class="ttdeci">#define CODEC_JP2</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00083">j2kenc.c:83</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a0e08f8a5d0fa21c3e258816a9dcce7c3">AV_PIX_FMT_NONE</a></div><div class="ttdeci">@ AV_PIX_FMT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00065">pixfmt.h:65</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a2627da4154a803a4a17f89fff7c865d6"><div class="ttname"><a href="j2kenc_8c.html#a2627da4154a803a4a17f89fff7c865d6">ff_jpeg2000_encoder</a></div><div class="ttdeci">AVCodec ff_jpeg2000_encoder</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01842">j2kenc.c:1842</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444ac068b8f6afeeb293a13aeabb5d702411">AV_OPT_TYPE_INT</a></div><div class="ttdeci">@ AV_OPT_TYPE_INT</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00225">opt.h:225</a></div></div>
<div class="ttc" id="astruct_a_v_packet_html_a4d1ea19f63eb107111fd650ca514d1f4"><div class="ttname"><a href="struct_a_v_packet.html#a4d1ea19f63eb107111fd650ca514d1f4">AVPacket::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="packet_8h_source.html#l00364">packet.h:364</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_a7ab89f239c6115fbf3eec72b5dbcc827"><div class="ttname"><a href="jpeg2000_8c.html#a7ab89f239c6115fbf3eec72b5dbcc827">ff_jpeg2000_init_tier1_luts</a></div><div class="ttdeci">void av_cold ff_jpeg2000_init_tier1_luts(void)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00160">jpeg2000.c:160</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html_a187d352987998985ddba727025a0075f"><div class="ttname"><a href="struct_jpeg2000_res_level.html#a187d352987998985ddba727025a0075f">Jpeg2000ResLevel::num_precincts_y</a></div><div class="ttdeci">int num_precincts_y</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00213">jpeg2000.h:213</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a6745e75006f446818aa1e6fadd6d2327"><div class="ttname"><a href="jpeg2000_8h.html#a6745e75006f446818aa1e6fadd6d2327">JPEG2000_CSTY_EPH</a></div><div class="ttdeci">#define JPEG2000_CSTY_EPH</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00112">jpeg2000.h:112</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a5954a0f303daaf6635385a0bed41b9aa"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a5954a0f303daaf6635385a0bed41b9aa">Jpeg2000EncoderContext::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00113">j2kenc.c:113</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a82034006e681cddbb7b1d5cb7045626a">AV_PIX_FMT_YUV444P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV444P</div><div class="ttdoc">planar YUV 4:4:4, 24bpp, (1 Cr &amp; Cb sample per 1x1 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00071">pixfmt.h:71</a></div></div>
<div class="ttc" id="alibavutil_2internal_8h_html_a5837cafc419c2b5ecdb1dfa330675d13"><div class="ttname"><a href="libavutil_2internal_8h.html#a5837cafc419c2b5ecdb1dfa330675d13">FF_DISABLE_DEPRECATION_WARNINGS</a></div><div class="ttdeci">#define FF_DISABLE_DEPRECATION_WARNINGS</div><div class="ttdef"><b>Definition:</b> <a href="libavutil_2internal_8h_source.html#l00084">internal.h:84</a></div></div>
<div class="ttc" id="agroup__lavu__misc_html_gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5"><div class="ttname"><a href="group__lavu__misc.html#gga9a84bba4713dfced21a1a56163be1f48ac1a46f59be5c6c2d3412ab172d6b8cf5">AVMEDIA_TYPE_VIDEO</a></div><div class="ttdeci">@ AVMEDIA_TYPE_VIDEO</div><div class="ttdef"><b>Definition:</b> <a href="avutil_8h_source.html#l00201">avutil.h:201</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a332444d991855c9667b786f6f7bb6051">AV_PIX_FMT_YUV422P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV422P</div><div class="ttdoc">planar YUV 4:2:2, 16bpp, (1 Cr &amp; Cb sample per 2x1 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00070">pixfmt.h:70</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a3dcf4acb9f7d9c57f43802a9a1ac4ee6"><div class="ttname"><a href="j2kenc_8c.html#a3dcf4acb9f7d9c57f43802a9a1ac4ee6">VE</a></div><div class="ttdeci">#define VE</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01813">j2kenc.c:1813</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a05439e2042723bb6cfac43b31b190820"><div class="ttname"><a href="j2kenc_8c.html#a05439e2042723bb6cfac43b31b190820">put_com</a></div><div class="ttdeci">static int put_com(Jpeg2000EncoderContext *s, int compno)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00385">j2kenc.c:385</a></div></div>
<div class="ttc" id="ajpeg2000_8h_html_a1dce046afae281d40aac41b31b54d8e0"><div class="ttname"><a href="jpeg2000_8h.html#a1dce046afae281d40aac41b31b54d8e0">JPEG2000_PGOD_PCRL</a></div><div class="ttdeci">#define JPEG2000_PGOD_PCRL</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00118">jpeg2000.h:118</a></div></div>
<div class="ttc" id="agroup__lavc__core_html_ga17ae68044f725fd5ba26c54162b96490"><div class="ttname"><a href="group__lavc__core.html#ga17ae68044f725fd5ba26c54162b96490">AV_CODEC_FLAG_BITEXACT</a></div><div class="ttdeci">#define AV_CODEC_FLAG_BITEXACT</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00333">avcodec.h:333</a></div></div>
<div class="ttc" id="amqc_8h_html_ac79b08d8db44595aff85623f83d10513"><div class="ttname"><a href="mqc_8h.html#ac79b08d8db44595aff85623f83d10513">ff_mqc_flush_to</a></div><div class="ttdeci">int ff_mqc_flush_to(MqcState *mqc, uint8_t *dst, int *dst_len)</div><div class="ttdef"><b>Definition:</b> <a href="mqcenc_8c_source.html#l00122">mqcenc.c:122</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adb009f1d85ac852f5a0f6da3dd88ba56"><div class="ttname"><a href="tableprint__vlc_8h.html#adb009f1d85ac852f5a0f6da3dd88ba56">avpriv_request_sample</a></div><div class="ttdeci">#define avpriv_request_sample(...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00039">tableprint_vlc.h:39</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a3995fe7d4865798de40cacdc5879004b"><div class="ttname"><a href="j2kenc_8c.html#a3995fe7d4865798de40cacdc5879004b">putnumpasses</a></div><div class="ttdeci">static void putnumpasses(Jpeg2000EncoderContext *s, int n)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00765">j2kenc.c:765</a></div></div>
<div class="ttc" id="astruct_a_v_codec_context_html_a0425c77b3d06d71e5db88b1d7e1b37f2"><div class="ttname"><a href="struct_a_v_codec_context.html#a0425c77b3d06d71e5db88b1d7e1b37f2">AVCodecContext::pix_fmt</a></div><div class="ttdeci">enum AVPixelFormat pix_fmt</div><div class="ttdef"><b>Definition:</b> <a href="avcodec_8h_source.html#l00721">avcodec.h:736</a></div></div>
<div class="ttc" id="astruct_a_v_codec_html"><div class="ttname"><a href="struct_a_v_codec.html">AVCodec</a></div><div class="ttdef"><b>Definition:</b> <a href="codec_8h_source.html#l00190">codec.h:190</a></div></div>
<div class="ttc" id="astruct_jpeg2000_cblk_html"><div class="ttname"><a href="struct_jpeg2000_cblk.html">Jpeg2000Cblk</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00173">jpeg2000.h:173</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_adba82e1bcd02de510a858fcbedf79ef1"><div class="ttname"><a href="tableprint__vlc_8h.html#adba82e1bcd02de510a858fcbedf79ef1">av_freep</a></div><div class="ttdeci">#define av_freep(p)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00035">tableprint_vlc.h:35</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_af1eb1f26885175f16aec8a23f02f5a86"><div class="ttname"><a href="jpeg2000_8c.html#af1eb1f26885175f16aec8a23f02f5a86">ff_jpeg2000_set_significance</a></div><div class="ttdeci">void ff_jpeg2000_set_significance(Jpeg2000T1Context *t1, int x, int y, int negative)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00172">jpeg2000.c:172</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a69f441408075b0c5fea6e82439d74b06"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a69f441408075b0c5fea6e82439d74b06">AV_PIX_FMT_YUV411P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV411P</div><div class="ttdoc">planar YUV 4:1:1, 12bpp, (1 Cr &amp; Cb sample per 4x1 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00073">pixfmt.h:73</a></div></div>
<div class="ttc" id="abytestream_8h_html"><div class="ttname"><a href="bytestream_8h.html">bytestream.h</a></div></div>
<div class="ttc" id="apixfmt_8h_html_a9a8e335cf3be472042bc9f0cf80cd4c5a60dd6b14fd159176a59e20be30e355c5"><div class="ttname"><a href="pixfmt_8h.html#a9a8e335cf3be472042bc9f0cf80cd4c5a60dd6b14fd159176a59e20be30e355c5">AV_PIX_FMT_YUV410P</a></div><div class="ttdeci">@ AV_PIX_FMT_YUV410P</div><div class="ttdoc">planar YUV 4:1:0, 9bpp, (1 Cr &amp; Cb sample per 4x4 Y samples)</div><div class="ttdef"><b>Definition:</b> <a href="pixfmt_8h_source.html#l00072">pixfmt.h:72</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a22b640629656cc403c3b6b9fe9571de4"><div class="ttname"><a href="j2kenc_8c.html#a22b640629656cc403c3b6b9fe9571de4">update_size</a></div><div class="ttdeci">static void update_size(uint8_t *size, const uint8_t *end)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l01523">j2kenc.c:1523</a></div></div>
<div class="ttc" id="atableprint__vlc_8h_html_af38b91523053c244564a94f1ef862c2c"><div class="ttname"><a href="tableprint__vlc_8h.html#af38b91523053c244564a94f1ef862c2c">av_log</a></div><div class="ttdeci">#define av_log(a,...)</div><div class="ttdef"><b>Definition:</b> <a href="tableprint__vlc_8h_source.html#l00028">tableprint_vlc.h:28</a></div></div>
<div class="ttc" id="agroup__lavu__error_html_gaa6e5781e75b15ce44b0baea170c98a45"><div class="ttname"><a href="group__lavu__error.html#gaa6e5781e75b15ce44b0baea170c98a45">AVERROR_INVALIDDATA</a></div><div class="ttdeci">#define AVERROR_INVALIDDATA</div><div class="ttdoc">Invalid data found when processing input.</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00059">error.h:59</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a219f776f9c259250ddd06afcca583008"><div class="ttname"><a href="struct_jpeg2000_prec.html#a219f776f9c259250ddd06afcca583008">Jpeg2000Prec::cblk</a></div><div class="ttdeci">Jpeg2000Cblk * cblk</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00197">jpeg2000.h:197</a></div></div>
<div class="ttc" id="aavstring_8h_html"><div class="ttname"><a href="avstring_8h.html">avstring.h</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444afadddce95ad3b690dd38644b458b96c4">AV_OPT_TYPE_STRING</a></div><div class="ttdeci">@ AV_OPT_TYPE_STRING</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00229">opt.h:229</a></div></div>
<div class="ttc" id="astruct_jpeg2000_coding_style_html_a0be5aec9b3e298e82adcb981a389f86b"><div class="ttname"><a href="struct_jpeg2000_coding_style.html#a0be5aec9b3e298e82adcb981a389f86b">Jpeg2000CodingStyle::log2_cblk_width</a></div><div class="ttdeci">uint8_t log2_cblk_width</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00138">jpeg2000.h:138</a></div></div>
<div class="ttc" id="astruct_a_v_frame_html"><div class="ttname"><a href="struct_a_v_frame.html">AVFrame</a></div><div class="ttdef"><b>Definition:</b> <a href="frame_8h_source.html#l00308">frame.h:308</a></div></div>
<div class="ttc" id="astruct_jpeg2000_res_level_html"><div class="ttname"><a href="struct_jpeg2000_res_level.html">Jpeg2000ResLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00210">jpeg2000.h:210</a></div></div>
<div class="ttc" id="amqc_8h_html_a5d2bf59a345ddda4ae731b5a355dd585"><div class="ttname"><a href="mqc_8h.html#a5d2bf59a345ddda4ae731b5a355dd585">ff_mqc_encode</a></div><div class="ttdeci">void ff_mqc_encode(MqcState *mqc, uint8_t *cxstate, int d)</div><div class="ttdef"><b>Definition:</b> <a href="mqcenc_8c_source.html#l00079">mqcenc.c:79</a></div></div>
<div class="ttc" id="astruct_jpeg2000_prec_html_a3ca853a4a814e27b10e05761f8c65e23"><div class="ttname"><a href="struct_jpeg2000_prec.html#a3ca853a4a814e27b10e05761f8c65e23">Jpeg2000Prec::zerobits</a></div><div class="ttdeci">Jpeg2000TgtNode * zerobits</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00195">jpeg2000.h:195</a></div></div>
<div class="ttc" id="ajpeg2000_8c_html_a4e80090bda043f06a0ab498c88d4991f"><div class="ttname"><a href="jpeg2000_8c.html#a4e80090bda043f06a0ab498c88d4991f">ff_tag_tree_zero</a></div><div class="ttdeci">void ff_tag_tree_zero(Jpeg2000TgtNode *t, int w, int h, int val)</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8c_source.html#l00085">jpeg2000.c:85</a></div></div>
<div class="ttc" id="aencode_8c_html_a699df1216e8d9d57959f99508e9aadf6"><div class="ttname"><a href="encode_8c.html#a699df1216e8d9d57959f99508e9aadf6">ff_alloc_packet2</a></div><div class="ttdeci">int ff_alloc_packet2(AVCodecContext *avctx, AVPacket *avpkt, int64_t size, int64_t min_size)</div><div class="ttdef"><b>Definition:</b> <a href="encode_8c_source.html#l00033">encode.c:33</a></div></div>
<div class="ttc" id="agroup__avoptions_html_ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329"><div class="ttname"><a href="group__avoptions.html#ggabd75aa30eb8ad6387672df9a1fa79444a0fa9f07d428bdc32495fe55c365c5329">AV_OPT_TYPE_CONST</a></div><div class="ttdeci">@ AV_OPT_TYPE_CONST</div><div class="ttdef"><b>Definition:</b> <a href="opt_8h_source.html#l00234">opt.h:234</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a00291041c627b324ec2a37c731fbea10"><div class="ttname"><a href="j2kenc_8c.html#a00291041c627b324ec2a37c731fbea10">init_tiles</a></div><div class="ttdeci">static int init_tiles(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00453">j2kenc.c:453</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a626436805a089f7aadc5ee16c0316a79"><div class="ttname"><a href="j2kenc_8c.html#a626436805a089f7aadc5ee16c0316a79">init_quantization</a></div><div class="ttdeci">static void init_quantization(Jpeg2000EncoderContext *s)</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00549">j2kenc.c:549</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_af5c667280b54b586aec88263ed3f0a02"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#af5c667280b54b586aec88263ed3f0a02">Jpeg2000EncoderContext::eph</a></div><div class="ttdeci">int eph</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00138">j2kenc.c:138</a></div></div>
<div class="ttc" id="aj2kenc_8c_html_a9b7a36267c24538f046a54d7a92e179c"><div class="ttname"><a href="j2kenc_8c.html#a9b7a36267c24538f046a54d7a92e179c">lut_nmsedec_ref0</a></div><div class="ttdeci">static int lut_nmsedec_ref0[1&lt;&lt; NMSEDEC_BITS]</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00087">j2kenc.c:87</a></div></div>
<div class="ttc" id="ajpeg2000dwt_8h_html_aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9"><div class="ttname"><a href="jpeg2000dwt_8h.html#aa3f12355dd40791fccaf85923c6fa4afa0ddfb6bcd1b2bea12dad63f708f57ce9">FF_DWT97_INT</a></div><div class="ttdeci">@ FF_DWT97_INT</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000dwt_8h_source.html#l00039">jpeg2000dwt.h:39</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_a9ecb52c3642a56c268210830237df2a2"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#a9ecb52c3642a56c268210830237df2a2">Jpeg2000EncoderContext::buf_start</a></div><div class="ttdeci">uint8_t * buf_start</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00121">j2kenc.c:121</a></div></div>
<div class="ttc" id="astruct_jpeg2000_pass_html_a2dd9a833fdaadfa02de6cea0886f57ea"><div class="ttname"><a href="struct_jpeg2000_pass.html#a2dd9a833fdaadfa02de6cea0886f57ea">Jpeg2000Pass::flushed_len</a></div><div class="ttdeci">int flushed_len</div><div class="ttdef"><b>Definition:</b> <a href="jpeg2000_8h_source.html#l00162">jpeg2000.h:162</a></div></div>
<div class="ttc" id="astruct_jpeg2000_encoder_context_html_ad2bd409d353d14b46c76dcedbda9dab8"><div class="ttname"><a href="struct_jpeg2000_encoder_context.html#ad2bd409d353d14b46c76dcedbda9dab8">Jpeg2000EncoderContext::picture</a></div><div class="ttdeci">const AVFrame * picture</div><div class="ttdef"><b>Definition:</b> <a href="j2kenc_8c_source.html#l00111">j2kenc.c:111</a></div></div>
<div class="ttc" id="avorbis__enc__data_8h_html_ad2e88d75f808e6d4e78d48bceb10c336"><div class="ttname"><a href="vorbis__enc__data_8h.html#ad2e88d75f808e6d4e78d48bceb10c336">min</a></div><div class="ttdeci">float min</div><div class="ttdef"><b>Definition:</b> <a href="vorbis__enc__data_8h_source.html#l00456">vorbis_enc_data.h:456</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
